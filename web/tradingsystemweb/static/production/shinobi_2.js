shinobi.seoMarkUpBuilder = {
	'baseURL': '/page/blogpost/',
	'JSON': [{
		'baseurl': '/page/blogpost/',
		'pagename': 'Bài viết',
		'markuprender': 'shinobi.articleMarkUp.build'
	}],

	'getJSON': function () {
		var request = {};
		request.baseurl = baseURL;

		shinobi.api.request('/api/Api/getJSON', JSON.stringify(request),
			function (response) {
				var jsonArr = JSON.parse(response);
				shinobi.seoMarkUpBuilder.JSON = jsonArr;
			});
	},

	'render': function () {
		// shinobi.seoMarkUpBuilder.getJSON();

		var jsonArr = shinobi.seoMarkUpBuilder.JSON;

		var pathName = window.location.pathname;

		for (var i = 0; i < jsonArr.length; i++) {
			var item = jsonArr[i];

			if (pathName.includes(item.baseurl)) {
				if (!item.markuprender || item.markuprender == ''
					|| item.markuprender == null) {

					shinobi.seoMarkUpBuilder.defaultRender();
				} else {

					eval(item.markuprender)();
				}

			}
		}

	},

	'defaultRender': function () {

	},

	'build': function () {

		shinobi.seoMarkUpBuilder.render();
	}

};
shinobi.api = {
    request: function(url, param, callback, options) {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                var data = JSON.parse(xhttp.responseText);
                if (!options ||
                    (options && !options.hasOwnProperty("responseHandleFunction"))
                ) {
                    if (data.result === "success") {
                        callback(data.content);
                    } else if (data.result === "notify") {
                        shinobi.notification.notification.info(data.content);
                    } else {
                        var showCotent =
                            data.hasOwnProperty("content") && data["content"].trim() != "" ?
                            data["content"] :
                            data["errorcode"];

                        ["content", "errorcode"].forEach(function(attribute) {
                            if (
                                data[attribute].trim() != "" &&
                                !data[attribute].startsWith("ERROR_") &&
                                !data[attribute].startsWith("PAGECODE_")
                            ) {
                                showCotent = data[attribute];
                            }
                        });

                        shinobi.notification.notification.error(showCotent);
                    }
                } else {
                    if (typeof options.responseHandleFunction == "function") {
                        options.responseHandleFunction({
                            data: data,
                            url: url,
                            request: param,
                            callback: callback,
                            options: options,
                        });
                    }
                }
            } else {
                if (this.readyState == 4) {
                    if (options && options.errorCallback) {
                        options.errorCallback(this.status);
                    } else {
                        console.log('response api code', this.status, url);
                    }
                }

            }
        };
        xhttp.open("POST", url, true);
        xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xhttp.send(param);
    },
};shinobi.areasplinechart = (function() {
	/*
	 * categories : [ 'Apples', 'Oranges', 'Pears', 'Grapes', 'Bananas' ]
	 */
	/*
	 * [ { name : 'John', data : [ 5, 3, 4, 7, 2 ] }, { name : 'Jane', data : [
	 * 2, 2, 3, 2, 1 ] }, { name : 'Joe', data : [ 3, 4, 4, 2, 5 ] } ]
	 */
	// private static variable
	// constructor
	var constructor = function(chartId, options) {
		this.data = [];
		this.title = '';
		this.name = '';
		this.categories = [];
		this.options = (options) ? options : null;
		this.createAreaSplineChart = function(chartId, categories, data) {
			this.containerId = chartId;
			this.categories = categories;
			this.data = data;
			this.renderChart();
		}
		this.setData = function(data) {
			this.data = data;
		}
		this.setName = function(name) {
			this.name = name;
		}
		this.renderChart = function() {
			Highcharts.chart(this.containerId, {
				chart : {
					type : 'areaspline',
					height : (this.options == null) ? 400 : (this.options.height == null)
							? 400
							: this.options.height,
				},
				title : {
					text : ''
				},
				xAxis : {
					categories : this.categories
				},
				yAxis : {
					title : false
				},
				exporting : {
					enabled : false
				},
				credits : {
					enabled : false
				},
				series : this.data
			});
		}
		// public static method
		constructor.staticmethod = {
			'hello' : function() {
			}
		}
	}
	return constructor;
})();
shinobi.areastacksplinechart = (function() {

	/*
	 * categories : [ 'Apples', 'Oranges', 'Pears', 'Grapes', 'Bananas' ]
	 */

	/*
	 * [ { name : 'John', data : [ 5, 3, 4, 7, 2 ] }, { name : 'Jane', data : [
	 * 2, 2, 3, 2, 1 ] }, { name : 'Joe', data : [ 3, 4, 4, 2, 5 ] } ]
	 */

	// private static variable
	// constructor
	var constructor = function(chartId) {

		this.data = [];

		this.title = '';

		this.name = '';

		this.categories = [];

		this.createAreaStackSplineChart = function(chartId, categories, data) {

			this.containerId = chartId;

			this.categories = categories;

			this.data = data;

			this.renderChart();

		}

		this.setData = function(data) {

			this.data = data;
		}

		this.setName = function(name) {

			this.name = name;
		}
		this.renderChart = function() {

			Highcharts.chart(this.containerId, {
				chart : {
					type : 'areaspline'
				},
				title : {
					text : ''
				},
				xAxis : {
					categories : this.categories
				},
				yAxis : {
					title : false
				},
				exporting : {
					enabled : false
				},
				tooltip : {
					split : true,
				},
				credits : {
					enabled : false
				},
				plotOptions : {
					areaspline : {
						stacking : 'normal'
					}
				},
				series : this.data
			});

		}

		// public static method
		constructor.staticmethod = {
			'hello' : function() {

			}
		}
	}

	return constructor;
})();
shinobi.articleMarkUp = {
	'title' : 'Aladin | Nền tảng kết nối cộng đồng nhà đầu tư chứng khoán chuyên nghiệp',
	'gaid' : "UA-119675169-1",
	'headLine' : '',
	'postURL' : '',
	'image' : 'image.aladin.finance/aladin.finance.public.image/783d7f463d1a8269ab447d3593641cae/HVN.png',
	'datePublished' : new Date(),
	'dateModified' : new Date(),
	'authorName' : '',
	'authorImageURL' : '',
	'publisherName' : 'Aladin | aladin.finance',
	'publisherLogoURL' : 'https://image.aladin.finance/aladin.finance.public.image/c73f7e23e7ccb4d33744cd03cfc8a18f/Aladin-Logo-test.png',
	'description' : '',

	'buildArticleMarkupScript' : function() {
		var content = '';

		content += '<script type="application/ld+json">{';
		content += '"@context": "https://schema.org", "@type": "NewsArticle",';
		content += '"mainEntityOfPage": {"@type": "WebPage", "@id": "'
				+ shinobi.articleMarkUp.postURL + '"},';
		content += '"headline": "' + shinobi.articleMarkUp.title + '",';
		content += '"image": ["' + shinobi.articleMarkUp.image + '"],';
		content += '"datePublished": "' + shinobi.articleMarkUp.datePublished
				+ '",';
		content += '"dateModified": "' + shinobi.articleMarkUp.dateModified
				+ '",';
		content += '"author": {"@type": "Person", "name": "'
				+ shinobi.articleMarkUp.authorName + '",';
		content += '"image": {"@type": "ImageObject", "url": "'
				+ shinobi.articleMarkUp.authorImageURL + '"}},';
		content += '"publisher": {"@type": "Organization", "name": "'
				+ shinobi.articleMarkUp.publisherName + '",';
		content += '"logo": {"@type": "ImageObject", "url": "'
				+ shinobi.articleMarkUp.publisherLogoURL + '"}},';
		content += '"description": "' + shinobi.articleMarkUp.description
				+ '"}';
		content += '</script>';

		return content;
	},

	'addGA' : function() {
		ga("create", shinobi.articleMarkUp.gaid, "auto");
		ga("send", "pageview");
	},

	'buildArticleMarkUp' : function() {

		var pathName = window.location.pathname;

		var pathNameSplit = pathName.split('/');

		var postUrl = pathNameSplit[pathNameSplit.length - 1];

		var request = {};

		request.posturl = blogPostPageUrl + postUrl;

		// shinobi.api.request('/api/BlogOverviewApi/getTraderPostDetail', JSON

		shinobi.api.request('/api/BlogOverviewApi/getPreViewContent', JSON
				.stringify(request), function(response) {

			var jsonArr = JSON.parse(response);

			shinobi.articleMarkUp.getAuthorInfo(jsonArr.createduser,
					function() {
						shinobi.articleMarkUp.setNewParam(jsonArr);

						shinobi.articleMarkUp.applyToHead();

						shinobi.articleMarkUp.addGA();
					});
		});
	},

	'getAuthorInfo' : function(userName, callback) {
		var request = {};
		request.username = userName;
		shinobi.api.request('/api/UserApi/getAllUserInfo', JSON
				.stringify(request), function(response) {

			var jsonArr = JSON.parse(response);

			shinobi.articleMarkUp.authorImageURL = jsonArr.avatarlink;
			shinobi.articleMarkUp.authorName = jsonArr.firstname + " "
					+ jsonArr.lastname;

			callback();
		});
	},

	'setNewParam' : function(data) {

		if (data.posttitle.includes('"')) {
			shinobi.articleMarkUp.title = data.posttitle.replace(/"/g, '\\"');
		} else {
			shinobi.articleMarkUp.title = data.posttitle;
		}

		shinobi.articleMarkUp.dateModified = data.lastmodifieddate;
		shinobi.articleMarkUp.datePublished = data.createddate;
		shinobi.articleMarkUp.image = data.thumpnailurl;
		shinobi.articleMarkUp.postURL = 'https://www.aladin.finance'
				+ data.posturl;

	},

	'applyToHead' : function() {
		var headContent = document.head.innerHTML;

		headContent = headContent
				+ shinobi.articleMarkUp.buildArticleMarkupScript();
		document.head.innerHTML = headContent;

	},

	'build' : function() {

		shinobi.articleMarkUp.buildArticleMarkUp();
	}

}
shinobi.autocomplete = (function () {
  var constructor = function (selector, options) {
    this.autoCompleteObject = "";
    this.input = "";
    this.selector = selector;
    this.onUpdate = function (results, selectedIndex) {
      console.log(`${results.length} results`);
      if (selectedIndex > -1) {
        console.log(`Selected: ${results[selectedIndex]}`);
      }
    };
    this.getResultValue = function (result) {
      // return result.name
    };
    this.autoSelect = true;
    // this.containerSelector = selector.replace('#', "").replace('.', "") + "autoComplete";
    this.containerSelector =
      "shinobiAutoComplete" + shinobi.util.sha256(selector);
    this.options = options;
    this.onSearch = function (input, resolve) {
      return [];
    };
    this.renderResult = function (result, props) {
      return `<li ${props}> ${JSON.stringify(result)}</li>`;
    };
    this.onSubmit = function (result, object) {
      object.autoCompleteObject.input.value = JSON.stringify(result);
    };
    this.loadOptions = function () {
      var object = this;
      if (options.hasOwnProperty("onSearch")) {
        object.onSearch = options.onSearch;
      }
      if (options.hasOwnProperty("renderResult")) {
        object.renderResult = options.renderResult;
      }
      if (options.hasOwnProperty("onSubmit")) {
        object.onSubmit = options.onSubmit;
      }
      if (options.hasOwnProperty("onUpdate")) {
        object.onUpdate = options.onUpdate;
      }
      if (options.hasOwnProperty("autoSelect")) {
        object.autoSelect = options.autoSelect;
      }
    };

    this.createObject = function () {
      var object = this;
      object.autoCompleteObject = new Autocomplete(
        "#" + object.containerSelector,
        {
          search: (input) => {
            if (input.trim() != "" || (options.hasOwnProperty('emptySearch') && options['emptySearch'])) {
              return new Promise((resolve) => {
                object.onSearch(input.trim(), resolve);
                // var request = {};
                // request.searchkey = input.trim();
                // shinobi.api.request(shinobi.coreapi.loggedUserApi + 'searchUser', JSON.stringify(request), function (re) {
                //     var arrJson = JSON.parse(re);
                //     var data = arrJson;
                //     resolve(data);
                // });
              });
            } else {
              return [];
            }
          },
          renderResult: function (result, props) {
            return object.renderResult(result, props);
          },
          onSubmit: function (result) {
            object.onSubmit(result, object);
          },
          autoSelect: object.autoSelect,
          onUpdate: function (results, selectedIndex) {
            object.onUpdate(results, selectedIndex, object);
          },
        }
      );
    };

    this.createStructure = function (callback) {
      var object = this;
      object.input = document.querySelector(this.selector);
      if (!object.input.parentElement.classList.contains("autocomplete")) {
        var container = document.createElement("div");
        container.setAttribute("class", "autocomplete");
        container.setAttribute("id", this.containerSelector);
        container.innerHTML = `<ul class="autocomplete-result-list"></ul>`;
        object.input.classList.add("autocomplete-input");
        object.input.setAttribute("autocomplete", "nope");
        object.input.setAttribute("autocorrect", "off");
        // object.input.setAttribute("name", object.containerSelector);
        object.input.value = "";
        object.input.parentElement.replaceChild(container, object.input);
        container.insertBefore(object.input, container.firstElementChild);
        container.appendChild(object.input);

        var formContainer = document.createElement("form");
        formContainer.setAttribute("autocomplete", "off");
        formContainer.setAttribute("onSubmit", "return false;");
        container.parentElement.replaceChild(formContainer, container);
        formContainer.appendChild(container);
      }
      callback();
    };
    this.loadAll = function () {
      var object = this;
      this.loadOptions();
      this.createStructure(function () {
        object.createObject();
      });
    };

    this.loadAll();
  };

  // public static method
  constructor.staticmethod = {
    hello: function () { },
  };

  return constructor;
})();
shinobi.cacheapi = {
	cache : {},
	request : function(url, param, callback, option) {
		var cacheKey = url + '_' + JSON.stringify(param);
		if (shinobi.cacheapi.cache.hasOwnProperty(cacheKey)) {
			var currentCacheData = shinobi.cacheapi.cache[cacheKey];
			(currentCacheData == false) ? setTimeout(function() {
				shinobi.cacheapi.request(url, param, callback)
			}, 10) : callback(shinobi.cacheapi.cache[cacheKey]);

		} else {
			shinobi.cacheapi.cache[cacheKey] = false;
			shinobi.api.request(url, param, function(response) {
				shinobi.cacheapi.cache[cacheKey] = response;

				if (option && option.hasOwnProperty('cacheExpired')) {
					setTimeout(function() {
						delete shinobi.cacheapi.cache[cacheKey];
					}, option['cacheExpired'])
				}
				callback(response);
			});
		}
	},
	clearKey : function(url, param, option) {
		var tempSymbol = '_';
		var cacheKey = url + tempSymbol;
		if (param) {
			cacheKey += JSON.stringify(param);
			if (shinobi.cacheapi.cache.hasOwnProperty(cacheKey)) {
				delete shinobi.cacheapi.cache[cacheKey];
			}
		} else {
			var listKeyRef = Object.keys(shinobi.cacheapi.cache).filter(
					function(item) {
						return item.includes(url + tempSymbol);
					});

			listKeyRef.forEach(function(key) {
				delete shinobi.cacheapi.cache[key];

			})
		}

	},
	clear : function() {
		shinobi.cacheapi.cache = {};
	},

};shinobi.chartadapter = {

	'convertDataPieChart': function (data) {

		var returnData = [];

		var dataObject = data[0];

		var xNameArr = dataObject.xname;
		var value = dataObject.value;

		var dataLength = value.length;

		for (var i = 0; i < dataLength; i++) {

			var chartObject = {};

			chartObject.name = xNameArr[i];
			chartObject.y = parseInt(value[i]);

			returnData.push(chartObject);
		}

		return returnData;

	},

	'convertDataStockChart': function (data) {

		// series: [ {
		// name : 'Temperature',
		// data : [ [ 1317888000000, 372.5101 ], [ 1317888060000, 372.4 ],
		// [ 1317888120000, 372.16 ], [ 1317888180000, 371.62 ],
		// [ 1317888240000, 371.75 ], [ 1317888300000, 372 ] ],
		//
		// tooltip : {
		// valueDecimals : 1,
		// valueSuffix : '°C'
		// }
		// } ]

		var returnData = [];

		var dataObject = data.chartdata[0];

		var xname = dataObject.xname;
		var value = dataObject.value;

		var length = xname.length;

		for (var i = 0; i < length; i++) {

			var tempArray = [];

			tempArray.push(Number(xname[i]));
			tempArray.push(Number(value[i]));

			returnData.push(tempArray);

		}

		return returnData;

	},

	'convertDataSimpleChart': function (data) {

		var dataObject = data.chartdata[0];

		var dataChart = [];

		var valueList = dataObject.value;
		var xNameList = dataObject.xname;

		// var minValue = Math.min(...valueList);
		// var rootValue = Math.trunc(minValue*0.99);

		var tradeDemoCapitalValue = valueList[0];
		// var rootValue = Math.trunc(tradeDemoCapitalValue * 0.99);
		var rootValue = tradeDemoCapitalValue;

		var length = valueList.length;

		for (var i = 0; i < length; i++) {

			// var tempObject = [];

			var currentValue = Number(valueList[i]) - rootValue;

			// tempObject.push(Number(xNameList[i]));

			// tempObject.push(currentValue);

			// dataChart.push(tempObject);
			dataChart.push(currentValue);
		}

		return dataChart;

	},

	'convertDataColumnChart': function (data) {

		var returnObject = {};

		var dataObject = data.chartdata;

		returnObject.categories = [];

		returnObject.data = [];

		var dataLength = dataObject.length;

		if (dataLength == 0) {

			return returnObject;
		}

		var feeNameList = dataObject[0].yname;

		var feeNameListLength = feeNameList.length;

		for (var i = 0; i < feeNameListLength; i++) {

			var tempObject = {};

			tempObject.name = feeNameList[i];

			tempObject.data = [];

			for (var j = 0; j < dataLength; j++) {

				returnObject.categories.push(dataObject[j].xname[0]);

				tempObject.data.push(Number(dataObject[j].value[i]));

			}

			// reverse data in object
			tempObject.data = tempObject.data.reverse();

			returnObject.data.push(tempObject);
		}

		// reverse category in object
		returnObject.categories = returnObject.categories.reverse();

		return returnObject;

	},

	'convertOneObjectDataColumnChart': function (data) {

		var returnObject = {};
		returnObject.data = [];

		var chartDataArray = data.chartdata;

		for (var h = 0; h < chartDataArray.length; h++) {

			var dataObject = data.chartdata[h];

			var dateMilisecond = dataObject.xname;
			var dateArray = [];

			for (var j = 0; j < dateMilisecond.length; j++) {

				var currentDateValue = new Date(Number(dateMilisecond[j]));

				var formatDate = shinobi.util.getFormatDate(
					currentDateValue, {
					format: 'dd-MM-yyyy hh:mm'
				});

				dateArray.push(formatDate);
			}

			returnObject.categories = dateArray;

			var valueList = dataObject.value;

			var valueListLength = valueList.length;

			var tempObject = {};

			tempObject.name = dataObject.yname[0];

			tempObject.data = [];

			for (var i = 0; i < valueListLength; i++) {

				tempObject.data.push(Number(valueList[i]));

			}

			returnObject.data.push(tempObject);
		}

		return returnObject;

	},

};if (typeof CKEDITOR == "object") {

	CKEDITOR.editorConfig = function(config) {
		config.language = 'vi';
		config.height = 300;
		config.toolbarCanCollapse = true;
		config.allowedContent = true;
		config.bodyClass = 'content column';
		config.contentsCss = 'https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css';
	};
};if (typeof CKEDITOR == "object") {
	CKEDITOR.editorConfig = function(config) {
		config.language = 'vi';
		config.height = 300;
		config.toolbarCanCollapse = true;
		config.allowedContent = true;
		config.bodyClass = 'document-editor content has-padding-1-rem';
		config.contentsCss = '/static/production/shinobi_2.css';
	}
};shinobi.coreapi = {
    logo: '<span class="title is-2">CFV</span>',
    lotteryResultApi: "/api/LotteryResultApi/",
    lotteryStatisticApi: "/api/LotteryStatisticApi/",
    userApi: "/api/UserApi/",
    menuNotiApi: "/authenapi/MenuNotiApi/",
    productApi: "/api/ProductApi/",
    getSessionIdApi: "/authenapi/userapi/",

    getLoggedUser: function () {
        shinobi.coreapi.checkAuthen();
    },
    checkAuthen: function (callback) {
        var request = {};
        shinobi.cacheapi.request(shinobi.coreapi.userApi + "checkAuthen", JSON.stringify(request), function (response) {
            var data = JSON.parse(response);

            if (typeof callback == "function") {
                data ? callback(data["username"]) : callback(false);
            }
        });
    },
    checkNotCacheAuthen: function (callback) {
        var request = {};
        shinobi.api.request(shinobi.coreapi.userApi + "checkAuthen", JSON.stringify(request), function (response) {
            var data = JSON.parse(response);

            if (typeof callback == "function") {
                data ? callback(data["username"]) : callback(false);
            }
        });
    },

    requestAuthen: function (callback) {
        shinobi.coreapi.checkAuthen(function (username) {
            if (typeof callback == "function") {
                username ? callback(username) : shinobi.notification.notification.error("Vui lòng đăng nhập để thao tác");
            }
        });
    },
    reCheckAuthen: function (callback) {
        var key = shinobi.coreapi.userApi + "checkAuthen";
        if (typeof shinobi.cacheapi.cache == "object") {
            shinobi.cacheapi.clearKey(key);
        }
        shinobi.coreapi.checkAuthen(callback);
    },
    getSessionId: function (callback) {
        var request = {};
        shinobi.api.request(shinobi.coreapi.systemUserApi + "getSessionId", JSON.stringify(request), function (response) {
            if (typeof callback == "function") {
                var data = JSON.parse(response);
                if (data.hasOwnProperty("sessionid")) {
                    data["sessionid"] != -1 ? callback(data["sessionid"]) : callback(false);
                } else {
                    callback(false);
                }
            }
        });
    },
    getUserInfo: function (callback) {
        shinobi.coreapi.checkAuthen(function (username) {
            var userInfoRequest = {
                username: username,
            };
            shinobi.cacheapi.request(
                shinobi.coreapi.userApi + "getAllUserInfo",
                JSON.stringify(userInfoRequest),
                function (response) {
                    if (typeof callback == "function") {
                        callback(response);
                    }
                }
            );
        });
    },
    getLoggedUserInfo: function (callback) {
        shinobi.coreapi.checkAuthen(function (username) {
            var userInfoRequest = {
                username: username,
            };
            shinobi.cacheapi.request(
                shinobi.coreapi.loggedUserApi + "getAllUserInfo",
                JSON.stringify(userInfoRequest),
                function (response) {
                    if (typeof callback == "function") {
                        callback(response);
                    }
                }
            );
        });
    },
};shinobi.datalist = (function() {

    // private static variable
    var paginationClass = ".table-pagination";

    var prevPaginationClass = ".shinobi-pagination-prev";
    var curPagePaginationClass = ".shinobi-pagination-curpage";
    var nextPaginationClass = ".shinobi-pagination-next";
    var pageTotalClass = ".shinobi-page-total";
    var recordPerPageClass = ".shinobi-recordperpage";
    var detailIdKey = "snb-detailid";
    var colnameAttribute = "snb-colname";
    var colcontrolAttribute = "snb-header-control";
    var sortAttribute = "snb-sort";

    var sortDescIcon = "<i class='fas fa-sort-down'></i>";
    var sortAscIcon = "<i class='fas fa-sort-up'></i>";
    var sortIcon = "<i class='fas fa-sort'></i>";

    // constructor
    var constructor = function(tableid) {

        this.loadingContainer = '';

        this.url = "";

        this.colNames = [];

        this.filters = [];

        this.staticfilters = [];

        this.sorts = [];

        this.paramsList = '';

        this.staticsorts = [];

        this.renders = [];

        this.tableRows = [];

        this.pageNum = 1;

        this.recordPerPage = 10;

        this.pageTotal = 10;

        this.rowTotal = 10;

        this.tableNode = document.getElementById(tableid);

        this.tableContainerNode = this.tableNode.parentNode;

        this.sampleNode = this.tableNode.querySelector("[snb-datalist-parent=" + this.tableNode
            .getAttribute("snb-datalist-node") +
            "]");

        this.pageNumNode = this.tableContainerNode
            .querySelector(curPagePaginationClass);

        this.recordPerPageNode = this.tableContainerNode
            .querySelector(recordPerPageClass);

        this.getColnames = function() {
            var table = document.getElementById(tableid);

            var colNames = table.querySelectorAll("[" + colnameAttribute + "]");

            var headerColnames = [];
            for (var i = 0; i < colNames.length; i++) {
                var colElem = colNames[i];
                headerColnames[i] = colElem.getAttribute(colnameAttribute);
            }

            return headerColnames;
        };

        this.registerSorts = function() {
            var sortElems = this.tableNode.querySelectorAll("[" + sortAttribute +
                "]");

            for (var i = 0; i < sortElems.length; i++) {
                var sortElem = sortElems[i];

                this.registerSort(sortElem);
            }
        };

        this.registerPagination = function() {

            var parentNode = this.tableNode.parentNode;

            this.paginationContainer = parentNode
                .querySelector(paginationClass);
        };

        this.updatePagination = function(data) {

            shinobi.mapping.renderElement(this.paginationContainer, JSON
                .parse(data));

            if (JSON.parse(data).pageNum) {

                var currentPage = this.paginationContainer
                    .querySelectorAll(curPagePaginationClass)[0];
                if (JSON.parse(data).pageTotal == 0) {

                    currentPage.value = 0;

                } else {

                    currentPage.value = JSON.parse(data).pageNum;

                }
            }

        };

        this.registerSort = function(sortElem) {

            var table = this;

            sortElem.addEventListener("click", function() {
                var currentSortValue = this.getAttribute(sortAttribute);

                var colName = this.parentNode.getAttribute(colnameAttribute);

                if ("" === currentSortValue) {
                    this.setAttribute(sortAttribute, "asc");
                    this.innerHTML = sortAscIcon;
                    this.classList.add("is-visible");
                } else if ("asc" === currentSortValue) {
                    this.setAttribute(sortAttribute, "desc");
                    this.innerHTML = sortDescIcon;
                    this.classList.add("is-visible");
                } else {
                    this.setAttribute(sortAttribute, "");
                    this.innerHTML = sortIcon;
                    this.classList.remove("is-visible");
                }

                table.reloadApi(table.pageNum);

            });

        };

        this.getSorts = function() {
            this.sorts = [];

            this.sorts = this.sorts.concat(this.staticsorts);

            var sortElems = this.tableNode.querySelectorAll("[" + sortAttribute +
                "]");

            for (var i = 0; i < sortElems.length; i++) {
                var sortElem = sortElems[i];

                var colName = sortElem.parentNode
                    .getAttribute(colnameAttribute);
                var currentSortValue = sortElem.getAttribute(sortAttribute);

                if ("" !== currentSortValue) {
                    var sort = {};
                    sort.colname = colName;
                    sort.value = currentSortValue;

                    this.sorts.push(sort);
                }

            }

        };

        this.registerHeaders = function() {
            var tableElem = document.getElementById(tableid);
            var headers = tableElem.querySelectorAll("[" + colcontrolAttribute +
                "]");

            for (var i = 0; i < headers.length; i++) {
                var header = headers[i];

                this.registerHeader(header);
            }
        };

        this.registerHeader = function(header) {
            var title = header.innerHTML;

            var table = this;

            header.addEventListener("dblclick", function() {

                var childNode = this.childNodes[0];

                if (childNode.nodeType == 3) {

                    if (this.querySelector("input") !== null) {
                        // this.innerHTML = title;
                        table.removeFilterControls(this);

                        table.resetPageNum();

                        table.reloadApi(table.pageNum);

                        return;
                    }

                    var select = document.createElement("select");
                    table.addFilterToElement(select, this);

                    var input = document.createElement("input");
                    input.setAttribute("type", "text");
                    input.setAttribute("value", "");
                    input.style.width = this.offsetWidth + "px";

                    // this.removeChild(this.childNodes[0]);
                    this.appendChild(document.createElement("br"));
                    this.appendChild(select);
                    this.appendChild(input);
                }
            });

            header.addEventListener("keyup", function(event) {
                if (event.keyCode === 13) {
                    var currentvalue = this.querySelector("input").value;

                    if (currentvalue == "") {
                        // this.innerHTML = title;
                        table.removeFilterControls(this);
                    }

                    table.resetPageNum();

                    table.reloadApi(table.pageNum);

                }
            });

        };

        this.removeFilterControls = function(elem) {
            var br = elem.querySelector("br");
            var select = elem.querySelector("select");
            var input = elem.querySelector("input");

            elem.removeChild(br);
            elem.removeChild(select);
            elem.removeChild(input);
        };

        this.resetPageNum = function() {
            this.pageNum = 1;
            this.pageNumNode.value = 1;
        };

        this.addFilterToElement = function(select, node) {

            var datatype = node.getAttribute("snb-datatype");

            var textArr = [];
            var valueArr = [];

            if (datatype === "number") {
                textArr = ["=", ">", ">=", "<", "<="];
                valueArr = ["equal", ">", ">=", "<", "<="];
            } else {
                textArr = ["=", "like"];
                valueArr = ["equal", "like"];
            }

            for (var i = 0; i < textArr.length; i++) {
                var option = document.createElement("option");
                option.text = textArr[i];
                option.value = valueArr[i];
                select.appendChild(option);
            }

        };

        this.registerRecordPerPage = function() {
            var table = this;

            this.recordPerPageNode.addEventListener("change", function() {
                table.resetPageNum();
                table.reloadApi(table.pageNum);
            });
        };

        this.registerPrevPagination = function() {

            var parentNode = this.tableNode.parentNode;

            var prevPagination = parentNode.querySelector(prevPaginationClass);

            var table = this;

            prevPagination.addEventListener("click", function() {
                var currentPageNode = parentNode
                    .querySelector(curPagePaginationClass);
                var currentPage = currentPageNode.value;

                if (currentPage > 1) {
                    var pageNum = currentPage - 1;

                    currentPageNode.value = pageNum;

                    table.reloadApi(pageNum);
                }

            });

        };

        this.registerNextPagination = function() {
            var parentNode = this.tableNode.parentNode;

            var nextPagination = parentNode.querySelector(nextPaginationClass);

            var table = this;

            nextPagination.addEventListener("click", function() {
                var currentPageNode = parentNode
                    .querySelector(curPagePaginationClass);
                var currentPage = Number(currentPageNode.value);

                if (currentPage < table.pageTotal) {
                    var pageNum = currentPage + 1;
                    currentPageNode.value = pageNum;

                    table.reloadApi(pageNum);
                }
            });
        };

        this.registerCurrentPageEvent = function() {
            var parentNode = this.tableNode.parentNode;

            var currentPageNode = parentNode
                .querySelector(curPagePaginationClass);

            var table = this;
            currentPageNode.addEventListener("keyup", function(event) {
                if (event.keyCode === 13) {
                    var curPageNum = Number(currentPageNode.value);

                    if (curPageNum > 0 && curPageNum <= table.pageTotal) {
                        table.reloadApi(curPageNum);
                    }
                }
            });

        };

        this.registerPagination();

        this.registerPrevPagination();
        this.registerNextPagination();
        this.registerCurrentPageEvent();
        this.registerRecordPerPage();

        this.viewDetailPanelId = "";

        // public instance method
        this.renderTable = function(list, callback, options) {


            var table = this;
            var containerNodeValue = this.tableNode
                .getAttribute("snb-datalist-node");


            // if (childNode) {
            // 	table.sampleNode = childNode;
            // }

            table.clear();

            var childNode = this.tableNode
                .querySelector("[snb-datalist-parent=" + containerNodeValue +
                    "]");

            if (childNode) {
                table.tableNode.removeChild(childNode);
            }
            childNode = table.sampleNode;
            var currentlength = 0;
            if (options && options.hasOwnProperty('lazyload') && options.lazyload == true) {
                var lazyloadSplitDataLength = (options.hasOwnProperty('lazyloadSplitDataLength')) ? options.lazyloadSplitDataLength : 20;
                var lazySplitDataInterval = (options.hasOwnProperty('lazySplitDataInterval')) ? options.lazySplitDataInterval : 20;

                table.insertListInterval = setInterval(function() {
                    var listData;
                    if (list.length < lazyloadSplitDataLength) {
                        listData = list;
                        list = [];
                    } else {
                        listData = list.splice(0, lazyloadSplitDataLength);
                    }
                    currentlength += listData.length;
                    table.renderTableListData(listData, childNode, options);

                    if (list.length == 0) {
                        clearInterval(table.insertListInterval);
                    }

                }, lazySplitDataInterval);

            } else {

                table.renderTableListData(list, childNode);
            }

            if (list.length == 0) {
                table.tableNode.innerHTML = '<i>Chưa có dữ liệu</i>';
            }

            // this.updatePageTotal();

            if (typeof callback === 'function') {
                callback();
            }

        };

        this.renderTableListData = function(list, childNode, options) {
            for (var i = 0; i < list.length; i++) {
                var clonedNode = childNode.cloneNode(true);
                var json = list[i];
                clonedNode.setAttribute("rowid", i);
                shinobi.mapping.renderElement(clonedNode, json);
                if (options && options.hasOwnProperty('insertType')) {
                    if (options['insertType'] == 'start') {
                        this.tableNode.insertBefore(clonedNode, this.tableNode.firstElementChild);
                    } else {
                        this.tableNode.appendChild(clonedNode);
                    }
                } else {
                    this.tableNode.appendChild(clonedNode);
                }
            }
        };

        this.initLoadApi = function(url, request, callback) {
            if (this.tableNode.tagName == 'TBODY') {
                this.loadingContainer = this.tableContainerNode;
            } else {
                this.loadingContainer = this.tableNode;
            }
            this.loadingContainer.classList.add('snb-datalist-item-container');
            var table = this;
            request.pageNum = 1;

            this.filters = this.filters.concat(this.staticfilters);
            this.sorts = this.sorts.concat(this.staticsorts);

            request.filters = this.filters;
            request.sorts = this.sorts;

            if (this.paramsList != '') {

                request.paramsList = this.paramsList;
            }

            table.loading();

            shinobi.api.request(url, JSON.stringify(request), function(data) {
                var content = JSON.parse(data);

                var tableContent = content.data;

                table.url = url;
                table.rowTotal = content.rowTotal;
                table.pageNum = content.pageNum;
                table.recordPerPage = content.recordPerPage;
                table.pageTotal = content.pageTotal;
                table.tableRows = tableContent;

                table.loaded();

                table.renderTable(tableContent, callback);

                table.updatePagination(data);
            });
        };

        this.reloadApi = function(pageNum, callback) {

            var table = this;

            this.getTableFilters();
            this.getSorts();
            this.recordPerPage = this.recordPerPageNode.value;

            var request = {};
            request.recordPerPage = this.recordPerPage;
            request.pageNum = (pageNum) ? pageNum : this.pageNum;
            request.filters = this.filters;
            request.sorts = this.sorts;

            if (this.paramsList != '') {

                request.paramsList = this.paramsList;
            }
            // add loading animation when call api
            // table.clear();
            table.loading();
            shinobi.api.request(this.url, JSON.stringify(request), function(
                data) {
                var content = JSON.parse(data);
                var tableContent = content.data;
                table.rowTotal = content.rowTotal;
                table.pageNum = content.pageNum;
                table.recordPerPage = content.recordPerPage;
                table.pageTotal = content.pageTotal;
                table.tableRows = tableContent;

                if (table.pageNum <= table.pageTotal ||
                    (table.pageTotal == 0 && table.pageNum == 1)) {
                    table.loaded();
                    table.renderTable(tableContent, callback);

                    table.updatePagination(data);

                } else {
                    table.reloadApi(table.pageTotal);
                }

            });
        };

        this.loading = function() {
            if (this.sampleNode != '') {
                this.sampleNode.classList.add('is-hidden');
            }

            this.changeState('loading');
        };
        this.loaded = function() {
            if (this.sampleNode != '') {
                this.sampleNode.classList.remove('is-hidden');
            }
            this.changeState('loaded');
        };

        this.changeState = function(action) {
            var buttonPrimary = document.querySelector('.button.is-primary');
            var primaryColor = (buttonPrimary) ? shinobi.util.getComputedProperty(buttonPrimary, 'background-color') : '#555';
            var style = document.createElement('style');
            style.setAttribute('class', 'table-node-loading-inline-style');
            style.innerHTML = `.is-borderless{
				border: none;
			}
			@-webkit-keyframes spin {
				0% {
					-webkit-transform: rotate(0deg);
				}
		
				100% {
					-webkit-transform: rotate(360deg);
				}
			}
		
			@keyframes spin {
				0% {
					transform: rotate(0deg);
				}
		
				100% {
					transform: rotate(360deg);
				}
			}
		
			.snb-datalist-item-container.is-loading {
				position: relative;
				min-height: 5rem;
			}
		
			.snb-datalist-item-container.is-loading::before {
				position: absolute;
				content: '';
				width: 100%;
				height: 100%;
				background: #ddd;
				z-index: 1;
				opacity: 0.3;
			}
		
			.snb-datalist-item-container.is-loading::after {
				position: absolute;
				content: '';
				border: 7px solid white;
				border-radius: 50%;
				border-top: 7px solid ${primaryColor};
				width: 4rem;
				height: 4rem;
				-webkit-animation: spin 2s linear infinite;
				animation: spin 1s linear infinite;
				left: calc(48% - 8px);
				top: calc(48% - 8px);
				z-index: 2;
			}
			`;

            var table = this;
            // var listClass = ['button', 'is-loading', 'is-primary',
            // 	'is-borderless', 'is-outlined'];
            table.tableNode.appendChild(style);
            if (action == 'loading') {
                table.loadingContainer.classList
                    .add('is-loading');
            } else {
                table.loadingContainer.classList
                    .remove('is-loading');
            }
            // listClass.forEach(function (classItem) {

            // 	(action == 'loading') ? table.tableNode.classList
            // 		.add(classItem) : table.tableNode.classList
            // 			.remove(classItem);
            // });

        };

        // public instance method
        this.clear = function() {

            clearInterval(this.insertListInterval);

            var node = this.tableNode;
            while (node.firstChild) {
                node.removeChild(node.firstChild);
            }

            node.appendChild(this.sampleNode);

        };

        this.updatePageTotal = function() {

            var parentNode = this.tableNode.parentNode;
            var pageTotalNode = parentNode.querySelector(pageTotalClass);

            pageTotalNode.innerHTML = this.pageTotal;

            if (this.pageNum > this.pageTotal) {
                this.pageNum = this.pageTotal;

                var pageNumNode = parentNode
                    .querySelector(curPagePaginationClass);
                pageNumNode.value = this.pageNum;
            }
        }

        // public instance method
        this.getRowObject = function(rowid) {
            return this.tableRows[rowid];
        };

        this.getTableFilters = function() {
            var table = document.getElementById(tableid);
            var headerFilters = table
                .querySelectorAll("[snb-header-control] > input");

            this.filters = [];

            this.filters = this.filters.concat(this.staticfilters);

            this.pageNum = 1;

            for (var i = 0; i < headerFilters.length; i++) {
                var inputElem = headerFilters[i];
                var currentvalue = inputElem.value;
                var parentNode = inputElem.parentNode;

                var select = parentNode.querySelector("select");
                var operator = select.options[select.selectedIndex].value;

                var filter = {};
                filter.colname = parentNode.getAttribute(colnameAttribute);
                filter.operator = operator;
                filter.value = currentvalue;

                if (currentvalue !== "") {
                    this.filters.push(filter);
                }

            }

        };

        // public instance method
        this.viewDetailRender = function(cell, rowindex, colindex, tableRows) {
            var button = document.createElement("a");
            button.setAttribute("class", "button is-small");
            button.innerHTML = "<span class='icon'> <i class='fa fa-search'></i></span>";
            cell.appendChild(button);

            var rowid = cell.getAttribute("rowid");

            var rowNode = cell.parentNode;

            var viewDetailPanelId = rowNode.getAttribute(detailIdKey);

            var rowObject = tableRows[rowid];

            button.addEventListener("click", function() {

                shinobi.mapping.render("#" + viewDetailPanelId, JSON
                    .stringify(rowObject));

            });
        }; // end viewDetailRender

    }; // end constructor

    // public static method
    constructor.staticmethod = {
        'hello': function() {

        }
    }

    return constructor;
})();shinobi.dynamicchart = (function () {

	// systax map data #{{key-json}}

	var constructor = function (chartId, options) {

		this.options = options;
		this.configChartId = '';
		this.chartId = chartId;
		this.isLoadChartData = false;
		this.chartData = {};
		this.isLoadConfigData = false;
		this.structureContent = {};
		this.chartStructure = "";
		this.chartStructureContent = {};
		this.configData = {};
		this.callback = '';
		this.chartRenderObject = {
			credits: {
				enabled: false
			},
		};

		this.loadOptions = function () {

			if (this.options.configChartId) {
				this.configChartId = this.options.configChartId;
			}

			if (this.options.callback) {
				this.callback = this.options.callback;
			}

			this.loadDataChart();

		};

		this.loadDataChart = function () {

			var chart = this;

			if (this.options.getData) {
				this.isLoadChartData = false;
				var url = this.options.getData.url;
				var request = JSON.stringify(this.options.getData.request);
				var callback = this.options.getData.callback;
				shinobi.api.request(url, request, function (response) {

					callback(response, function (chartData) {

						chart.isLoadChartData = true;
						chart.chartData = chartData;
					});

				});

			}

			this.loadConfigChart();

		};

		this.loadConfigChart = function () {

			var chart = this;
			var options = this.options;

			if (options.getConfig) {

				var loadConfigChartInterval = setInterval(
					function () {

						if (chart.isLoadChartData == true) {

							clearInterval(loadConfigChartInterval);

							chart.isLoadConfigData = false;
							var url = options.getConfig.url;
							var request = JSON
								.stringify(options.getConfig.request);
							var callback = options.getConfig.callback;
							shinobi.cacheapi
								.request(
									url,
									request,
									function (response) {

										// callback(response,
										// function(configData) {
										//
										// chart.isLoadConfigData =
										// true;
										// chart.configData =
										// configData;
										// });

										callback(
											response,
											function (
												structureContent) {

												chart.isLoadConfigData = true;
												chart.structureContent = structureContent;
											});

									});
						}

					}, 100);

			}

			this.renderChart();

		};

		this.renderChart = function () {

			var chart = this;

			var renderChartInterval = setInterval(function () {

				if (chart.isLoadChartData == true
					&& chart.isLoadConfigData == true) {

					clearInterval(renderChartInterval);

					chart.buildRenderChartObject();

					chart.reRender();

					if (typeof chart.createChartCallback == 'function') {

						chart.createChartCallback();
					}

				}
			}, 100);

		};

		this.reRender = function () {

			var chart = this;

			Highcharts.chart(chart.chartId, chart.chartRenderObject);

		};

		this.buildRenderChartObject = function () {

			var chart = this;

			this.chartStructure = this.structureContent['charttemplatecontent'];
			this.chartStructureContent = JSON
				.parse(this.structureContent['chartdetailcontent']);

			this.configData = this.chartStructure;

			this.fillStructureContent();

			chart.fillConfigAttributeValue();

			chart.fillRenderObjectConfigAttribute();

		};

		this.convertStringFunctionToFuntion = function (data) {

			var chart = this;

			var entries = Object.entries(data);

			for (var i = 0; i < entries.length; i++) {

				var key = entries[i][0];
				var value = entries[i][1];

				if (typeof value == 'object') {
					data[key] = chart.convertStringFunctionToFuntion(value);
				} else {

					if (typeof value == 'string'
						&& value.indexOf("function()") > -1)
						data[key] = eval("(" + value + ")");
				}

			}

			return data;

		};

		this.fillStructureContent = function () {

			var chart = this;

			// this.fillAttributeValue(chart.configData);

			var matchRegex = /\@{{.*?\}}/g;
			var replaceRegex = /[@{{}}]/g;

			var listMatch = chart.configData.match(matchRegex);
			if (listMatch) {

				for (var j = 0; j < listMatch.length; j++) {

					var mappingValueKey = listMatch[j]
						.replace(replaceRegex, "");

					var mappingValue = chart.chartStructureContent[mappingValueKey];

					mappingValue = chart.getMappingValue(mappingValue);

					chart.configData = chart.configData.replace(new RegExp(
						listMatch[j], 'g'), mappingValue);

				}
			}

		};

		this.fillConfigAttributeValue = function () {

			var chart = this;

			// this.fillAttributeValue(chart.configData);

			var matchRegex = /\#{{.*?\}}/g;
			var replaceRegex = /[#{{}}]/g;

			var listMatch = chart.configData.match(matchRegex);
			if (listMatch) {

				for (var j = 0; j < listMatch.length; j++) {

					var mappingValueKey = listMatch[j]
						.replace(replaceRegex, "");

					var mappingValue = chart.chartData[mappingValueKey];

					mappingValue = chart.getMappingValue(mappingValue);

					chart.configData = chart.configData.replace(new RegExp(
						listMatch[j], 'g'), mappingValue);

				}
			}

		};

		this.getMappingValue = function (input) {

			var mappingValueType = typeof input;
			var result;

			switch (mappingValueType) {

				case 'string':
					result = '\"' + input + '\"';
					break;
				case 'object':
					result = JSON.stringify(input);
					break;
				default:
					break;
			}

			return result;
		};

		this.fillAttributeValue = function (object) {

			var chart = this;

			if (typeof object == 'object') {

				var entries = Object.entries(object);

				for (var i = 0; i < entries.length; i++) {

					var key = entries[i][0];
					var value = entries[i][1];
					var typeValue = typeof value;

					switch (typeValue) {

						case 'object':
							chart.fillAttributeValue(object[key]);
							break;

						case 'string':

							var matchRegex = /\#{{.*?\}}/g;
							var replaceRegex = /[#{{}}]/g;

							var listMatch = value.match(matchRegex);

							if (listMatch && listMatch.length == 1
								&& value == listMatch[0]) {

								var mappingValueKey = listMatch[0].replace(
									replaceRegex, "");

								object[key] = chart.chartData[mappingValueKey];
							} else if (listMatch) {

								for (var j = 0; j < listMatch.length; j++) {

									mappingValueKey = listMatch[j].replace(
										replaceRegex, "");

									var mappingValue = chart.chartData[mappingValueKey];

									value = value.replace(new RegExp(listMatch[j],
										'g'), mappingValue);

									object[key] = value;
								}
							}

							break;

						default:
							break;
					}
				}

			}

		};

		this.fillRenderObjectConfigAttribute = function () {

			var data = JSON.parse(this.configData);

			var fullChartConfig = this.convertStringFunctionToFuntion(data)

			var entries = Object.entries(fullChartConfig);

			for (var i = 0; i < entries.length; i++) {

				this.chartRenderObject[entries[i][0]] = entries[i][1];

			}

			// this
			// .convertStringFunctionToFuntion(
			// data,
			// function(fullChartConfig) {
			//
			// var entries = Object.entries(fullChartConfig);
			//
			// // var entries =
			// // Object.entries(this.configData);
			//
			// for (var i = 0; i < entries.length; i++) {
			//
			// this.chartRenderObject[entries[i][0]] = entries[i][1];
			//
			// }
			// });

		};

		this.createChart = function (callback) {
			this.loadOptions();

			this.createChartCallback = callback;

		};

	};

	return constructor;
})();var publicAccountLink = '/page/account/';
var ratingDetailLink = '/page/ratingdetail/';
var blogPostPageUrl = '/page/blogpost/';
var adminPostCheckPageUrl = '/system/adminpostcheckdetail/';
var beginDateDatalist = '2019-01-01';
var endDateDatalist = '2100-01-01';
var blogIconImageLink = '/static/image/blogicon.svg';
var copyTradeIconImageLink = '/static/image/copytradeicon.svg';
var aladinLogo = '/static/image/aladin.svg';
var groupAvatar = 'https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/groupchatavatar.png';
var format = function (value) {
	return Number(value).format(0, 3, ',', '.');
};
var formatInputTagDatalist = function (elem, value) {
	elem.value = format(value);
};
var formatNumberTable = function (cell, row, col, allData) {
	var value = cell.innerHTML;
	cell.innerHTML = '';
	formatInputTagDatalist(cell, value);
};
var cancelModal = function (id) {
	var modal = document.getElementById(id);
	modal.classList.remove('is-active');
};
var renderPriceOrderTable = function (cell, row, col) {
};
var renderRoomAvatarDataList = function (elem, value) {
	if (value.trim() == '') {
		elem.setAttribute('src', groupAvatar);
	} else {
		elem.setAttribute('src', value);
	}
};
var getCheckBoxList = function (elem) {
	var key = elem.getAttribute('snb-key');
	var attr = elem.getAttribute('snb-value-attr');
	var listCheckBox = document.querySelectorAll('[snb-key=' + key + ']');
	var result = [];
	for (var i = 0; i < listCheckBox.length; i++) {
		if (listCheckBox[i].checked
			&& listCheckBox[i].getAttribute('type') == 'checkbox') {
			result.push(listCheckBox[i].getAttribute(attr));
		}
	}
	return result.toString();
};
var getNation = function (elem) {
	var select = elem.getElementsByTagName('select')[0];
	return select.value;
};
var renderProvinceList = function (id, callback) {
	var container = document.getElementById(id);
	shinobi.aladinUtil.removeAllChild(container);
	var request = {};
	shinobi.api.request("/api/VietNamLocationNameApi/getAllVietNamProvince",
		JSON.stringify(request), function (response) {
			var jsonArr = JSON.parse(response);
			for (var i = 0; i < jsonArr.length; i++) {
				var option = document.createElement("option");
				option.setAttribute('value', jsonArr[i].provinceid);
				option.innerHTML = jsonArr[i].provincename;
				container.appendChild(option);
			}
			container.value = '79';
			if (typeof callback == 'function') {
				callback();
			}
		});
	return container;
};
var getCheckRadio = function (elem) {
	var attr = elem.getAttribute('snb-value-attr');
	if (elem.checked) {
		return elem.getAttribute(attr);
	}
};
var removeAllChild = function (elem, callback) {
	while (elem.firstChild) {
		elem.removeChild(elem.firstChild);
	}
	if (callback) {
		callback();
	}
};
var getAllUserInfo = function (request, callback) {
	var key = request.username.toString();
	if (!shinobi.global) {
		shinobi.global = {};
	}
	if (!shinobi.global.getAllUserInfo) {
		shinobi.global.getAllUserInfo = {};
	}
	if (!shinobi.global.getAllUserInfo[key]) {
		if (shinobi.global.getAllUserInfo[key] == false) {
			setTimeout(function () {
				getAllUserInfo(request, callback);
			}, 10);
		} else {
			shinobi.global.getAllUserInfo[key] = false;
			shinobi.api.request('/api/UserApi/getAllUserInfo', JSON
				.stringify(request), function (response) {
					shinobi.global.getAllUserInfo[key] = response;
					callback(response);
				})
		}
	} else {
		callback(shinobi.global.getAllUserInfo[key]);
	}
};
var displayResultSelect = function (selectId) {
	var x = document.getElementById(selectId);
	var txt = [];
	var i;
	for (i = 0; i < x.length; i++) {
		txt.push(x.options[i].value);
	}
	return txt;
}
var customRecordPerPagePagination = function (container, recordNum) {
	var selectRecordNum = container
		.getElementsByClassName('shinobi-recordperpage')[0];
	var listOptionSelect = selectRecordNum.getElementsByTagName('option');
	for (var i = 0; i < listOptionSelect.length; i++) {
		var j = parseInt(i) + 1;
		var currentPageNum = j * recordNum;
		listOptionSelect[i].innerHTML = currentPageNum;
		listOptionSelect[i].value = currentPageNum;
	}
};
var renderStockCompanyDeleteStaffButton = function (elem, value) {
	var id = value;
	var userName = elem.querySelectorAll('[snb-key=username]')[0].innerHTML;
	var loggedUserName = window.localStorage.getItem('loggedUserName');
	if (userName == loggedUserName) {
		elem.innerHTML = '';
	} else {
		elem.onclick = function () {
			er
				.confirm(function () {
					var request = {};
					request.id = id;
					shinobi.api
						.request(
							'/authenapi/StockComStaffManagementApi/deleteStaffFromGroup',
							JSON.stringify(request),
							function (response) {
								if (response == 'update success') {
									shinobi.notification.notification
										.info('Cập nhật thành công');
									elem.parentNode.remove();
								}
							});
				});
		}
	}
};
var gotoPublicPage = function (elem, data) {
	if (data.homepageurl) {
		var accountLink = publicAccountLink + data.homepageurl;
		elem.classList.add('has-redirect');
		elem.onclick = function () {
			window.location.href = accountLink;
		}
	}
};
var renderHasFee = function (cell, rowIndex, colIndex, allData) {
	var rowData = allData[rowIndex];
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var cellContent = '';
	// check data has post amount attribute
	if (value == 'false') {
		cellContent = shinobi.language.free;
	} else {
		if (rowData.hasOwnProperty('feeamount') == true) {
			cellContent = shinobi.aladinUtil
				.formatNumberValue(rowData.feeamount)
				+ ' đ';
		} else {
			cellContent = 'Có phí';
		}
	}
	cell.innerHTML = cellContent;
};
var renderPostType = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var cellContent = '';
	cellContent = shinobi.aladinUtil.convertPostTypeToVn(value);
	cell.innerHTML = cellContent;
};
var renderFullName = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var cellContent = '';
	cellContent = value;
	cell.innerHTML = cellContent;
};
var renderFirstNameLastName = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	removeAllChild(cell, function () {
		buildFirstNameLastNameDatalist(cell, value);
	});
};
var renderStockCompanyTreeTable = function (elem, value) {
	var level = value;
	var classLevel = 'level-' + level;
	elem.classList.add(classLevel);
	if (level == 1) {
		elem.parentNode.parentNode.parentNode.classList.remove('is-hidden');
	}
	var openButton = elem.parentNode.getElementsByClassName('open-button')[0];
	var closeButton = elem.parentNode.getElementsByClassName('close-button')[0];
	if (level == 2) {
		openButton.classList.add('is-hidden');
		closeButton.classList.add('is-hidden');
	}
	var tBody = document.getElementById('dataTable');
	openButton.onclick = function () {
		var childrenId = this.getAttribute('childrenid');
		this.classList.add('is-hidden');
		closeButton.classList.remove('is-hidden');
		var listChildren = tBody.querySelectorAll('[snb-key=parentid]');
		for (var i = 0; i < listChildren.length; i++) {
			if (listChildren[i].innerHTML == childrenId) {
				listChildren[i].parentNode.classList.remove('is-hidden');
			}
		}
	}
	closeButton.onclick = function () {
		var childrenId = this.getAttribute('childrenid');
		this.classList.add('is-hidden');
		openButton.classList.remove('is-hidden');
		var listChildren = tBody.querySelectorAll('[snb-key=parentid]');
		for (var i = 0; i < listChildren.length; i++) {
			if (listChildren[i].innerHTML == childrenId) {
				listChildren[i].parentNode.classList.add('is-hidden');
				var childrenCloseButton = listChildren[i].parentNode
					.getElementsByClassName('close-button')[0];
				childrenCloseButton.click();
				var childrenOpenButton = listChildren[i].parentNode
					.getElementsByClassName('open-button')[0];
				childrenOpenButton.classList.add('is-hidden');
			}
		}
	}
};
var renderStockCompanyTraderRegistrationInfo = function (elem, value) {
	var data = JSON.parse(value);
	var key = elem.getAttribute('snb-key-subkey');
	if (data[key]) {
		elem.innerHTML = data[key];
	}
};
var renderPostTitle = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var rowData = allData[rowIndex];
	var a = document.createElement('a');
	a.setAttribute('class', 'has-link');
	a.innerHTML = value;
	cell.appendChild(a);
	if (rowData.hasOwnProperty('posturl')) {
		a.setAttribute('href', rowData.posturl);
	}
};
var renderCheckRadio = function (elem, value) {
	var attr = elem.getAttribute('snb-value-attr');
	var checkedElem = document.querySelectorAll('[' + attr + '=' + value + ']')[0];
	checkedElem.checked = true;
};
var seenDetailOpenAccountForm = function (elem, value) {
	elem.onclick = function () {
		shinobi.stockcomrealaccountregistrationrender
			.getDetailData(
				value,
				function (data) {
					var openAccountDetailModal = document
						.getElementById('openAccountDetailModal');
					openAccountDetailModal.classList.add('is-active');
					shinobi.mapping.render('#openAccountDetailModal',
						JSON.stringify(data));
					document
						.getElementById('acceptPoliciesOpenTradingAccount').checked = true;
				});
	}
};
var renderCheckBoxList = function (elem, value) {
	var attr = elem.getAttribute('snb-value-attr');
	var listChecked = value.split(',');
	for (var i = 0; i < listChecked.length; i++) {
		var checkedElem = document.querySelectorAll('[' + attr + '='
			+ listChecked[i] + ']')[0];
		checkedElem.checked = true;
	}
};
var renderNation = function (elem, value) {
	var select = elem.getElementsByTagName('select')[0];
	select.value = value;
};
var removeOpenAccountFormButton = function (elem, value) {
	elem.onclick = function () {
		shinobi.stockcomrealaccountregistrationrender
			.showConfirmRemoveModal(function (statuscomment) {
				shinobi.stockcomrealaccountregistrationrender
					.sendRequestUpdate(elem, value, 'FAIL',
						statuscomment);
			});
	}
};
var acceptOpenAccountFormButton = function (elem, value) {
	elem.onclick = function () {
		er.confirm(function () {
			shinobi.stockcomrealaccountregistrationrender.sendRequestUpdate(
				elem, value, 'FINISHED', '');
		});
	}
};
var renderDate = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var contentCell = shinobi.aladinUtil.getFormatDate(value, 'dd-mm-yyyy');
	cell.setAttribute('class', 'date-time');
	cell.innerHTML = contentCell;
};
var renderFormatDate = function (elem, value) {
	var format = elem.getAttribute('snb-format');
	var contentCell = shinobi.aladinUtil.getFormatDate(value, format);
	elem.classList.add('date-time');
	elem.innerHTML = contentCell;
};
var renderDateTime = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var contentCell = shinobi.aladinUtil.getFormatDate(value,
		'dd-mm-yyyy hh:mm');
	cell.setAttribute('class', 'date-time');
	cell.innerHTML = contentCell;
};
var getExpiredDate = function (elem, value) {
	var returnContent = shinobi.aladinUtil.remainDateWithCurrentDate(value);
	return returnContent;
};
var renderJoinDateDatalist = function (elem, value) {
	elem.innerHTML = getExpiredDate(elem, value);
};
var renderExpireddateDatalist = function (elem, value) {
	if (value) {
		elem.innerHTML = '<p>Còn ' + getExpiredDate(elem, value)
			+ ' ngày nữa</p>';
	} else {
		elem.innerHTML = 'Dịch vụ miễn phí ';
	}
};
var convertRatingPointToStar = function (elem, value) {
	elem.innerHTML = value / 2;
};
var buildRating = function (elem, value) {
	elem.classList.add('is-flex');
	value = value / 2;
	var starIconHtmlString = '<span class="icon is-small has-text-warning"><i class="fas fa-star"></i></span>';
	var noneStarIconHtmlString = '<span class="icon is-small has-text-light"><i class="fas fa-star"></i></span>';
	var numberRating = value;
	if (value > 5) {
		numberRating = 5;
	}
	if (value < 0 || value == 0) {
		numberRating = 0;
	}
	var contentRating = '';
	for (var i = 0; i < numberRating; i++) {
		contentRating += starIconHtmlString;
	}
	for (var j = 0; j < (5 - numberRating); j++) {
		contentRating += noneStarIconHtmlString;
	}
	elem.innerHTML = contentRating;
};
var convertFequency = function (value) {
	var elemContent;
	switch (value) {
		case 'MONTHLY':
			elemContent = '1 Tháng';
			break;
		case 'QUATERLY':
			elemContent = '3 Tháng';
			break;
		case 'HALF_YEAR':
			elemContent = '6 Tháng';
			break;
		case 'ANNUALLY':
			elemContent = '12 Tháng';
			break;
		default:
			break;
	}
	return elemContent;
};
var renderFequencyDatalist = function (elem, value) {
	var elemContent = convertFequency(value);
	elem.innerHTML = elemContent;
};
var renderInfoButton = function (elem, value) {
	var a = document.createElement('a');
	a.setAttribute('class', 'button is-info is-small ');
	a.innerHTML = value;
	elem.appendChild(a);
};
var addUserOriginLogo = function (elem, data) {
	if (data.userorigin
		&& !elem.parentNode.parentNode.querySelector('.table-logo')
		&& data.userorigin != 'ALADIN_MEMBER'
		&& data.isshoworiginavatar == true) {
		var url = aladinLogo;
		var p = document.createElement('p');
		p.setAttribute('class', 'stock-company-image ');
		elem.parentNode.appendChild(p);
		elem.parentNode.classList.add('stock-company-chat-avatar-container');
		var img = document.createElement('img');
		p.appendChild(img);
		img.setAttribute('class', 'table-logo');
		switch (data.userorigin) {
			case 'DAS_STOCK_COMPANY':
				url = '/static/image/daslogo.png';
				break;
			default:
				break;
		}
		img.setAttribute('src', url);
	}
};
var buildAvatarDatalist = function (elem, value) {
	var p = document.createElement('p');
	if (elem.parentElement) {
		elem.parentElement.insertBefore(p, elem);
		p.appendChild(elem);
	}
	if (value == 'system') {
		elem.setAttribute('src', '/static/image/aladin.svg');
	} else {
		var userName = value;
		var request = {};
		request.username = userName;
		var data;
		// shinobi.api
		// .request(
		// '/api/UserApi/getAllUserInfo',
		// JSON.stringify(request),
		// function(response) {
		getAllUserInfo(
			request,
			function (response) {
				data = JSON.parse(response);
				if (data.avatarlink) {
					value = data.avatarlink;
				} else {
					value = 'https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/useravatar.jpg';
				}
				elem.parentNode.classList.add('has-text-centered');
				elem.setAttribute('src', value);
				elem.setAttribute('title', data.firstname + ' '
					+ data.lastname);
				addUserOriginLogo(elem, data);
				gotoPublicPage(elem, data);
			});
	}
};
var getHeaderRenderKey = function (cell, row, col) {
	var table = cell.parentElement.parentElement.parentElement;
	var header = table.getElementsByTagName('thead')[0];
	if (header) {
		var headerCell = header.rows[0].cells[col];
		if (headerCell.hasAttribute('snb-colname')) {
			return headerCell.getAttribute('snb-colname');
		} else {
			return null;
		}
	} else {
		return null;
	}
};
var buildNickIdTable = function (cell, row, col, all) {
	var key = getHeaderRenderKey(cell, row, col);
	cell.innerHTML = '<div snb-key="' + key
		+ '" snb-render="buildNickIdDatalist"></div>';
	shinobi.mapping.renderElement(cell, all[row]);
};
var buildConnectButton = function (cell, rowIndex, colIndex, allData) {
	var currentData = allData[rowIndex];
	var a = document.createElement('a');
	a.setAttribute('class', 'button is-link is-small');
	a.innerHTML = 'Tiếp cận';
	shinobi.aladinUtil.removeAllChild(cell);
	cell.appendChild(a);
	shinobi.investorlistingrender.addEventFollowButton(a, currentData.username)
};
var renderCellTable = function (cell, rowIndex, colIndex, allData) {
	shinobi.fragmenttraderfollowerrender
		.renderCellFollowerTable(cell, colIndex);
};
var renderLimitButton = function (cell, rowIndex, colIndex) {
	var customerUsername = cell.innerHTML;
	cell.innerHTML = "";
	shinobi.fragmenttraderfollowerrender.renderLimitButtonFunction(cell,
		rowIndex, colIndex, customerUsername);
};
var formatNumber = function (cell, rowIndex, colIndex) {
	shinobi.aladinUtil.formatNumberRender(cell, rowIndex, colIndex);
};
var buildNickIdDatalist = function (elem, value) {
	if (value != 'system') {
		var userName = value;
		var request = {};
		request.username = userName;
		var data;
		// shinobi.api.request('/api/UserApi/getAllUserInfo',
		// JSON.stringify(request), function(
		// response) {
		getAllUserInfo(
			request,
			function (response) {
				data = JSON.parse(response);
				var chatSpan = document.createElement('span');
				chatSpan
					.setAttribute('class',
						'icon has-text-orange create-public-chat-icon tooltip is-hidden');
				chatSpan.setAttribute('data-tooltip', 'Trò chuyện');
				chatSpan.innerHTML = '<i class="far fa-comment-dots fa-lg"></i>';
				er.buildPublicChat(chatSpan, data.id);
				elem.appendChild(chatSpan);
				var span = document.createElement('span');
				span.classList.add('id-nick-container');
				span.innerHTML = '#' + data.id;
				elem.appendChild(span);
				// gotoPublicPage(elem, data);
			});
	}
};
var buildAvatarDatalistNoHref = function (elem, value) {
	var p = document.createElement('p');
	p.classList.add('margin-right-1rem');
	if (elem.parentElement) {
		elem.parentElement.insertBefore(p, elem);
		p.appendChild(elem);
	}
	if (value == 'system') {
		elem.setAttribute('src', '/static/image/aladin.svg');
	} else {
		var userName = value;
		var request = {};
		request.username = userName;
		var data;
		// shinobi.api
		// .request(
		// '/api/UserApi/getAllUserInfo',
		// JSON.stringify(request),
		// function(response) {
		getAllUserInfo(
			request,
			function (response) {
				data = JSON.parse(response);
				data = JSON.parse(response);
				if (data.avatarlink) {
					value = data.avatarlink;
				} else {
					value = 'https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/useravatar.jpg';
				}
				elem.setAttribute('src', value);
				elem.setAttribute('title', data.firstname + ' '
					+ data.lastname);
				addUserOriginLogo(elem, data);
			});
	}
};
var buildHomePageUrlDatalist = function (elem, value) {
	var userName = value;
	var request = {};
	request.username = userName;
	var data;
	// shinobi.api.request('/api/UserApi/getAllUserInfo',
	// JSON.stringify(request), function(response) {
	getAllUserInfo(request, function (response) {
		data = JSON.parse(response);
		if (data.homepageurl) {
			var accountLink = publicAccountLink + data.homepageurl;
			elem.innerHTML = window.location.host + accountLink;
			elem.onclick = function () {
				window.location.href = accountLink;
			}
		}
	});
};
var buildFirstNameLastNameDatalist = function (elem, value) {
	if (value != 'system') {
		var userName = value;
		var request = {};
		request.username = userName;
		var data;
		// shinobi.api.request('/api/UserApi/getAllUserInfo',
		// JSON.stringify(request), function(
		// response) {
		getAllUserInfo(request, function (response) {
			data = JSON.parse(response);
			data = JSON.parse(response);
			var fullName = data.firstname + ' ' + data.lastname;
			elem.innerHTML = fullName;
			gotoPublicPage(elem, data);
		});
	}
};
var renderStockCompanyUpgradeRequestCommandButton = function (elem, value) {
	elem.onclick = function () {
		er.confirm(function () {
			var functionApi = elem.getAttribute('snb-function');
			var requestid = value;
			var api = "/authenapi/RequestUpgradeTraderOfStockCompanyApi/"
				+ functionApi;
			var request = {};
			request.requestid = requestid;
			shinobi.api.request(api, JSON.stringify(request),
				function (response) {
					if (response == 'update success') {
						shinobi.notification.notification
							.info('Cập nhật thành công');
						shinobi.stockcomtradersregistrationrender.datalist1
							.reloadApi(1);
					}
				});
		});
	}
};
var renderStockCompanyCustomerManagementButton = function (elem, value) {
	var link = '/private/stockcomtradersmanagementcustomer/' + value;
	elem.setAttribute('href', link);
};
var renderGoToPublicPageDatalist = function (elem, value) {
	var userName = value;
	var request = {};
	request.username = userName;
	var data;
	// shinobi.api.request('/api/UserApi/getAllUserInfo',
	// JSON.stringify(request), function(response) {
	getAllUserInfo(request, function (response) {
		data = JSON.parse(response);
		gotoPublicPage(elem, data);
	});
};
var buildFirstNameLastNameDatalistNoHref = function (elem, value) {
	var userName = value;
	var request = {};
	request.username = userName;
	var data;
	// shinobi.api.request('/api/UserApi/getAllUserInfo',
	// JSON.stringify(request), function(response) {
	getAllUserInfo(request, function (response) {
		data = JSON.parse(response);
		var fullName = data.firstname + ' ' + data.lastname;
		elem.innerHTML = fullName;
	});
};
var renderAvatar = function (cell, rowIndex, colIndex) {
	var value = cell.innerHTML;
	removeAllChild(cell, function () {
		var imge = document.createElement('img');
		imge.setAttribute('class', 'table-avatar');
		cell.appendChild(imge);
		buildAvatarDatalist(imge, value);
	});
};
var renderInvestingStrategy = function (elem, value) {
	if (value.trim() == '') {
		elem.innerHTML = 'Hiện chưa có!';
	} else {
		if (value.length > 400) {
			elem.innerHTML = value.slice(0, 400) + '...';
			var a = document.createElement('a');
			a.setAttribute('class', 'local-color');
			a.innerHTML = '[Xem thêm]';
			elem.appendChild(a);
		} else {
			elem.innerHTML = value;
		}
	}
};
var renderInvestingPeriodDataList = function (elem, value) {
	switch (value.trim()) {
		case 'MONTH_1':
			elem.innerHTML = '1 Tháng';
			break;
		case 'MONTH_1_3':
			elem.innerHTML = '1-3 Tháng';
			break;
		case 'MONTH_3_6':
			elem.innerHTML = '3-6 Tháng';
			break;
		case 'MONTH_6_12':
			elem.innerHTML = '6-12 Tháng';
			break;
		case 'YEAR_1_3':
			elem.innerHTML = '1-3 Năm';
			break;
		case 'YEAR_OVER_3':
			elem.innerHTML = 'Hơn 3 Năm';
			break;
		default:
			break;
	}
};
var renderInvestingPeriod = function (cell, rowIndex, colIndex) {
	var value = cell.innerHTML;
	removeAllChild(cell);
	renderInvestingPeriodDataList(cell, value);
};
var renderFormatNumber = function (cell, rowIndex, colIndex) {
	cell.innerHTML = Number(cell.innerHTML).format(0, 3, ',', '.');
};
var renderInvestingRisk = function (cell, rowIndex, colIndex) {
	var beginCell = '<div class="level width-50" ><input class="slider slider-width level-item" step="1" min="1" max="10" value="';
	var betweenCell = '" type="range" disabled="disabled"><span class="slider-value-padding level-item"> ';
	var endCell = '/10</span></div>';
	var valueCell = cell.innerHTML;
	cell.innerHTML = beginCell + valueCell + betweenCell + valueCell + endCell;
};
var renderHomePageUrl = function (elem, value) {
	var accountUrl = publicAccountLink + value;
	elem.setAttribute('href', accountUrl);
	elem.innerHTML = window.location.host + accountUrl;
};
var autoRedirectMobile = function () {
	var userAgent = navigator.userAgent || navigator.vendor || window.opera;
	// Windows Phone must come first because its UA also contains
	// "Android"
	if (/android/i.test(userAgent)) {
		window.location.href = "https://play.google.com/store/apps/details?id=com.aladinmobile.aladin";
	}
	// iOS detection from: http://stackoverflow.com/a/9039885/177710
	if (/iPhone|iPod/.test(userAgent) && !window.MSStream) {
		window.location.href = "https://apps.apple.com/app/id1474783146";
	}
};
var setHrefElem = function (elem, link) {
	elem.style.cursor = "pointer";
	var title = elem.innerHTML;
	if (title) {
		elem.setAttribute('title', title.replace(/\s+/g, " "));
	}
	elem.onclick = function () {
		window.location.href = link;
	}
};
var renderHref = function (elem, value, attr) {
	var link = value;
	setHrefElem(elem, link);
};
var renderHrefWithUserType = function (elem, value, attr) {
	var userType = window.localStorage.getItem('loggedUserType');
	var link;
	if (userType == 'stock_com_admin') {
		link = '/private/stockcom' + value;
	} else {
		link = '/private/' + userType + value;
	}
	if (elem.hasAttribute('rs-hidden-with')) {
		var userTypeHidden = elem.getAttribute('rs-hidden-with');
		if (userType == userTypeHidden) {
			elem.classList.add('is-hidden');
		}
	}
	if (elem.hasAttribute('rs-parent-show-with')) {
		var userTypeShow = elem.getAttribute('rs-parent-show-with');
		if (userType == userTypeShow) {
			elem.parentNode.classList.remove('is-hidden');
		}
	}
	setHrefElem(elem, link);
};
var renderDashboardLastOrderAvatar = function (elem, value, attr) {
	var userName;
	if (value == 1 || value == 2) {
		userName = window.localStorage.getItem('loggedUserName');
	} else {
		userName = value;
	}
	buildAvatarDatalist(elem, userName);
};
var renderDashboardLastOrderFullName = function (elem, value) {
	var userName;
	if (value == 1 || value == 2) {
		userName = window.localStorage.getItem('loggedUserName');
	} else {
		userName = value;
	}
	buildFirstNameLastNameDatalist(elem, userName);
};
var renderOrderSideDataList = function (elem, value) {
	var elemContent = '';
	if (value == 'S') {
		elemContent = 'Bán';
	} else {
		elemContent = 'Mua';
	}
	elem.innerHTML = elemContent;
};
var getNumberOfSessionBack = function (rankingtype) {
	var returnValue = 1;
	switch (rankingtype) {
		case 'ONE_DAY':
			returnValue = 1;
			break;
		case 'ONE_WEEK':
			returnValue = 5;
			break;
		case 'ONE_MONTH':
			returnValue = 20;
			break;
		case 'THREE_MONTH':
			returnValue = 60;
			break;
		case 'SIX_MONTH':
			returnValue = 120;
			break;
		case 'ALL_TIME':
			returnValue = 100000;
			break;
		default:
			break;
	}
	return returnValue;
};
var renderChartAnalysisSimpleDatalist = function (elem, value) {
	var userName = value;
	var chartParams = {};
	chartParams.account__0__String = userName;
	chartParams.numberofsessionback__1__int = Number(
		Number(getNumberOfSessionBack(shinobi.investortraderlistingcontentheaderrender.currentTab)) + 1)
		.toString();
	var request = {};
	request.chartParams = chartParams;
	shinobi.api
		.request('/api/AladinChartApi/getChartData/ACCOUNT_ASSET_CHART',
			JSON.stringify(request), function (response) {
				var jsonArr = JSON.parse(response);
				var data = jsonArr;
				var dataChart = shinobi.chartadapter
					.convertDataSimpleChart(data);
				var chart = new shinobi.overviewareachart(elem);
				chart.createOverviewAreaChart(elem, '8rem', '12rem',
					dataChart);
			});
};
var customStylePagination = function (paginationContainer) {
	var pagiContainerParent = paginationContainer.parentNode;
	var style = pagiContainerParent.getAttribute('pagi-style');
	var setRecordContainer = paginationContainer
		.getElementsByClassName('set-pagination-record-number-container')[0];
	switch (style) {
		// case 'mini':
		// setRecordContainer.classList.add('is-hidden');
		// break;
		default:
			break;
	}
};
var renderChexbox = function (cell, row, col, all) {
	var value = cell.innerHTML;
	cell.innerHTML = "";
	var elem = document.createElement('p');
	elem.setAttribute('class', 'has-text-centered');
	if (["PENDING", "PARTIAL_MATCHED"].includes(value)) {
		var checkbox = document.createElement('input');
		checkbox.setAttribute('type', 'checkbox');
		checkbox.setAttribute('snb-key-checkbox', all[row].systemorderid);
		elem.appendChild(checkbox);
		cell.appendChild(elem);
	}
};
var getUserInfo = function (callback) {
	var url = "/authenapi/SystemUserApi/getInfoLogin";
	var request = {};
	shinobi.cacheapi.request(url, JSON.stringify(request), function (res) {
		console.log(res);
		res = JSON.parse(res);
		if (callback) {
			callback(res);
		}
	});
};
var getUserInfoNotCache = function (callback) {
	var url = "/authenapi/SystemUserApi/getInfoLogin";
	var request = {};
	shinobi.capi.request(url, JSON.stringify(request), function (res) {
		console.log(res);
		res = JSON.parse(res);
		if (callback) {
			callback(res);
		}
	});
};
var getRecordNumber = function (paginationContainerId) {
	var containerId;
	var paginationContainer;
	if (paginationContainerId) {
		var container = document.getElementById(paginationContainerId);
		paginationContainer = container.nextElementSibling
			.getElementsByClassName('table-pagination')[0];
	} else {
		containerId = 'table-pagination';
		paginationContainer = document.getElementById(containerId);
	}
	var parentNodePaginationContainer = paginationContainer.parentNode;
	var recordNum;
	var recodeNumAttr = 'record-num';
	if (parentNodePaginationContainer.hasAttribute(recodeNumAttr)) {
		recordNum = parentNodePaginationContainer.getAttribute(recodeNumAttr);
	} else {
		var recordNumSelect = paginationContainer
			.getElementsByClassName('shinobi-recordperpage')[0];
		recordNum = recordNumSelect.value;
	}
	customRecordPerPagePagination(paginationContainer, recordNum);
	customStylePagination(paginationContainer);
	return recordNum;
};
var setHrefHomePageUrl = function (elem, homePageUrl) {
	var ratingDetailPageLink = ratingDetailLink + homePageUrl;
	renderHref(elem, ratingDetailPageLink);
};
var renderDetailRatingPage = function (elem, value) {
	elem.innerHTML = 'Chi tiết đánh giá';
	elem.classList.add('has-link');
	setHrefHomePageUrl(elem, value);
};
var renderDashboardRatingDetailLink = function (elem, value, attr) {
	var homePageUrl = window.localStorage.getItem('loggedUserHomePage');
	setHrefHomePageUrl(elem, homePageUrl);
};
var addColorElem = function (elem, value, attr) {
	var valueElem = elem.innerHTML;
	if (value > 0) {
		elem.innerHTML = `<span class="up-value">${valueElem}</span>`
	}
	if (value == 0) {
		elem.innerHTML = `<span class="unchange-value">${valueElem}</span>`
	}
	if (value < 0) {
		elem.innerHTML = `<span class="down-value">${valueElem}</span>`
	}
};
var renderPercent = function (elem, value, attr) {
	elem.innerHTML = value + '%';
	addColorElem(elem, value, attr);
};
var renderPercentNoColor = function (elem, value, attr) {
	elem.innerHTML = value + '%';
};
var renderProfitPercent = function (elem, value, attr) {
	renderPercent(elem, value, attr);
};
renderProfitpercent100NoColorTable = function (cell, row, col, all) {
	var value = cell.innerHTML;
	cell.innerHTML = '';
	cell.classList.add('has-text-right');
	renderProfitpercent100NoColor(cell, value, all[row])
};
var renderProfitpercent100Table = function (cell, row, col, all) {
	var value = cell.innerHTML;
	cell.innerHTML = '';
	cell.classList.add('has-text-right');
	renderProfitpercent100(cell, value, all[row])
};
var renderProfitpercent100 = function (elem, value, attr) {
	var profit = Math.round(Number(value) * 10000) / 100;
	renderPercent(elem, profit, attr);
};
var renderProfitpercent100NoColor = function (elem, value, attr) {
	var profit = Math.round(Number(value) * 10000) / 100;
	renderPercentNoColor(elem, profit, attr);
};
var renderformatNumberDatalist = function (elem, value, attr) {
	elem.classList.add('has-text-right');
	elem.innerHTML = format(value);
};
var renderProfit = function (elem, value, attr) {
	elem.innerHTML = format(value);
	addColorElem(elem, value, attr);
};
var renderProfitPercentTable = function (cell, rowIndex, colIndex) {
	cell.classList.add('has-text-right');
	var value = cell.innerHTML;
	removeAllChild(cell);
	renderProfitPercent(cell, value);
};
var renderOrderType = function (cell, row, col, all) {
	var value = cell.innerHTML;
	var listOrderType = {
		LO: 'Lệnh thường',
		CONDITION: 'Lệnh điều kiện',
		CANCEL: 'Hủy lệnh',
		EDIT: 'Sửa lệnh '
	}
	cell.classList.add('has-text-left');
	if (listOrderType[value]) {
		cell.innerHTML = listOrderType[value];
	} else {
		cell.innerHTML = value;
	}
};
var renderOrderTypeDatalist = function (elem, value, all) {
	var listOrderType = {
		LO: 'Lệnh thường',
		CONDITION: 'Lệnh điều kiện',
		CANCEL: 'Hủy lệnh',
		EDIT: 'Sửa lệnh '
	}
	elem.classList.add('has-text-left');
	if (listOrderType[value]) {
		elem.innerHTML = listOrderType[value];
	} else {
		elem.innerHTML = value;
	}
};
var renderNumberPriceTable = function (cell, row, col, all) {
	var value = cell.innerHTML;
	renderNumberPrice(cell, value, all[row]);
};
var renderNumberPrice = function (elem, value, all) {
	elem.parentNode.classList.add('has-text-right');
	elem.innerHTML = value;
};
var renderOrderBuy = function (cell, row, col, all) {
	cell.classList.add('has-text-centered')
	var value = cell.innerHTML;
	var listOrderType = {
		'BUY': 'Mua',
		'SELL': 'Bán',

	};

	if (listOrderType[value]) {
		cell.innerHTML = listOrderType[value];
	} else {

		cell.innerHTML = value;
	}
};
var getListStockSymbol = function (selector) {
	var selectorSearchStock = '#searchstocsympol';
	if (selector) {
		selectorSearchStock = selector;
	}
	console.log('selector', selector);
	var input = document.querySelector(selectorSearchStock);
	input.addEventListener('input', function () {
		input.value = input.value.toUpperCase();
	});

	new shinobi.autocomplete(selectorSearchStock, {
		onSearch: (input, resolve) => {
			if (input.length < 1) { return [] }
			var url = "/api/PriceBoardApi/findDataList";
			var request = {
				"recordPerPage": "20",
				"pageNum": 1,
				"filters": [{ 'colname': 'stocksymbol', 'operator': 'like', 'value': input }]
			}

			shinobi.cacheapi.request(url, JSON.stringify(request), function (res) {
				var array = JSON.parse(res).data;
				resolve(array);
			});
		},
		autoSelect: true,
		onSubmit: result => {
			document.querySelector(selectorSearchStock).value = result.stocksymbol.toUpperCase();
		},
		getResultValue: result => {
			return result.stocksymbol.toUpperCase();
		},

		renderResult: (result, props) => {
			return `
          <li ${props}>
              <div class="title has-text-primary is-size-5">
             ${result.stocksymbol}
              </div>
              <div class="subtitle">${result.securityname}</div>
          </li>`
		},
	});
};
var renderOrderTypeStatus = function (cell, row, col, all) {
	cell.classList.add('has-text-left');
	var value = cell.innerHTML;
	var listOrderType = {
		'NEW': 'Mới',
		'INPROCESS': 'Đang xử lý',
		'SUCCESS': 'Thành công',
		'PENDING': 'Chờ khớp',
		'MATCHED': 'Đã khớp',
		'EDITED': 'Đã sửa',
		'CANCELED': 'Đã hủy',
		'ERROR': 'Lỗi'

	};

	if (listOrderType[value]) {
		cell.innerHTML = listOrderType[value];
	} else {

		cell.innerHTML = value;
	}
};
var renderStockPriceDatalist = function (elem, value) {
	elem.innerHTML = value / 1000;
};
var renderStockPriceTable = function (cell, row, col, all) {
	renderStockPriceDatalist(cell, cell.innerHTML);
};
var renderProfitTable = function (cell, rowIndex, colIndex) {
	var value = cell.innerHTML;
	removeAllChild(cell);
	renderProfit(cell, value);
};
var getUserNameInUrl = function (callback) {
	var pathnameListItem = window.location.pathname.split('/');
	var nick = pathnameListItem[pathnameListItem.length - 1];
	var getUserNameRequest = {};
	getUserNameRequest.pageurl = nick;
	var returnValue;
	shinobi.api.request('/api/UserApi/getUsernameFromHomePage', JSON
		.stringify(getUserNameRequest), function (response) {
			var jsonArr = JSON.parse(response);
			if (jsonArr.username) {
				window.localStorage.setItem('currentUserDetail', jsonArr.username);
				callback(jsonArr.username);
			} else {
				shinobi.notification.notification
					.error('Không tìm thấy người dùng!');
				return false;
			}
			return returnValue;
		});
};
var getPathnameSplitIndex = function (index) {
	var pathName = window.location.pathname;
	var pathNameSplit = pathName.split('/');
	var content;
	if (index < 0) {
		content = pathNameSplit[pathNameSplit.length + index];
	}
	if (index == "length") {
		content = pathNameSplit.length;
	}
	if (index > 0) {
		content = pathNameSplit[index];
	}
	return content;
};
var renderPublicUserAssetInfo = function (querySelectorPatern, traderName) {
	var request = {};
	request.username = traderName;
	shinobi.api.request('/api/ViewUserPublicAssetApi/getUserPublicAssetInfo',
		JSON.stringify(request), function (response) {
			var jsonArr = JSON.parse(response);
			var data = JSON.stringify(jsonArr);
			shinobi.mapping.render(querySelectorPatern, data);
		});
};
var renderPublicUserInfo = function (querySelectorPatern, traderName) {
	var request = {};
	request.username = traderName;
	// shinobi.api.request('/api/UserApi/getAllUserInfo',
	// JSON.stringify(request), function(response) {
	getAllUserInfo(request, function (response) {
		var jsonArr = JSON.parse(response);
		var data = JSON.stringify(jsonArr);
		shinobi.mapping.render(querySelectorPatern, data);
	});
};
var getPublicUserInfo = function (traderName, callback) {
	var request = {};
	request.username = traderName;
	// shinobi.api.request('/api/UserApi/getAllUserInfo',
	// JSON.stringify(request), function(response) {
	getAllUserInfo(request, function (response) {
		var jsonArr = JSON.parse(response);
		if (typeof callback == 'function') {
			callback(jsonArr);
		}
	})
};
var changeFeeType = function (value) {
	var content;
	switch (value) {
		case 'isfollowcopytrade':
		case 'COPY_TRADE':
			content = 'Copy trade';
			break;
		case 'TRAINING':
			content = 'Đào tạo';
			break;
		case 'isfollowblog':
		case 'INVESTING_BLOG':
			content = 'Blog đầu tư';
			break;
		case 'EVENT':
			content = 'Sự kiện';
			break;
		case 'ORTHER':
			content = 'Phí khác';
			break;
		case 'TRADER_POST_FEE':
			content = 'Phí bài viết';
			break;
		case 'COPY_TRADE_FREQUENT_FEE':
			content = 'Phí CopyTrade';
			break;
		default:
			content = 'Phí dịch vụ không xác định';
			break;
	}
	return content;
};
var changeOrderStatus = function (value) {
	var content;
	switch (value) {
		case 'INPROCESS':
			content = 'Copy trade';
			break;
		case 'TRAINING':
			content = 'Đào tạo';
			break;
		case 'isfollowblog':
		case 'INVESTING_BLOG':
			content = 'Blog đầu tư';
			break;
		case 'EVENT':
			content = 'Sự kiện';
			break;
		case 'ORTHER':
			content = 'Phí khác';
			break;
		case 'TRADER_POST_FEE':
			content = 'Phí bài viết';
			break;
		case 'COPY_TRADE_FREQUENT_FEE':
			content = 'Phí CopyTrade';
			break;
		default:
			content = 'Phí dịch vụ không xác định';
			break;
	}
	return content;
};
var renderFeeTypeDatalist = function (elem, value, attr) {
	var content = changeFeeType(value);
	elem.innerHTML = content;
};
var renderFeeTypeTable = function (cell, row, col, allData) {
	var value = cell.innerHTML;
	cell.innerHTML = '';
	renderFeeTypeDatalist(cell, value);
};
var buildTransStatus = function (cell, rowindex, colindex, allData) {
	cell.innerHTML = shinobi.aladinUtil.changeTransStatus(cell.innerHTML);
	var rowData = allData[rowindex];
	if (rowData.orthercomment.trim() != '') {
		var span = document.createElement('span');
		span.setAttribute('class',
			'tooltip is-tooltip-multiline icon has-text-warning');
		span.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
		span.setAttribute('data-tooltip', rowData.orthercomment.trim());
		cell.appendChild(span);
	}
};
var renderSettlementCode = function (elem, value) {
	elem.innerHTML = value;
	var orderId = elem.parentNode.querySelectorAll('[snb-key=orderid]')[0].innerHTML;
	var aTag = elem.parentNode;
	var userType = window.localStorage.getItem("loggedUserType");
	var pageurl = "accountrequestserviceformmanage";
	aTag.setAttribute("href", "/private/" + userType + pageurl + "/" + orderId);
};
var gotoOrderDetail = function (elem, value) {
};
var renderAmountDatalist = function (elem, value, attr) {
	if (value == 0) {
		elem.innerHTML = shinobi.language.free;
	} else {
		elem.innerHTML = format(value);
	}
};
var removeAllClassListInList = function (listElem, classList) {
	for (var i = 0; i < listElem.length; i++) {
		for (var j = 0; j < classList.length; j++) {
			listElem[i].classList.remove(classList[j]);
		}
	}
};
var addAllClassListInList = function (listElem, classList) {
	for (var i = 0; i < listElem.length; i++) {
		for (var j = 0; j < classList.length; j++) {
			listElem[i].classList.add(classList[j]);
		}
	}
};
var renderCopyTradeActionDatalist = function (elem, value, attr) {
	var content;
	switch (value) {
		case 'AUTOMATICAL':
			content = 'Tự đặt lệnh';
			break;
		case 'MANUAL':
			content = 'Thông báo đặt lệnh';
			break;
		default:
			break;
	}
	elem.innerHTML = content;
};
var goToPageFollowUserType = function (investorPageLink, traderPageLink) {
	var userType = window.localStorage.getItem('loggedUserType');
	if (userType == 'investor') {
		window.location.href = investorPageLink;
	} else {
		window.location.href = traderPageLink;
	}
};
var goToPageWithUserType = function (elem, pageGeneralName, beforeGeneralName,
	afterGeneralName) {
	var userType = window.localStorage.getItem('loggedUserType');
	var url = pageGeneralName;
	if (!beforeGeneralName && !afterGeneralName) {
		url = '/private/' + userType + pageGeneralName;
	}
	if (beforeGeneralName) {
		url = beforeGeneralName + url;
	}
	if (afterGeneralName) {
		url = url + afterGeneralName;
	}
	elem.onclick = function () {
		window.location.href = url;
	}
};
var er = {
	'addEventDropdown': function (id) {
		var container = document.getElementById(id);
		var button = container.querySelector('[aria-controls=dropdown-menu]');
		button.onclick = function () {
			container.classList.toggle('is-active');
		}
	},
	'buildPublicChat': function (elem, invitedUser) {
		er
			.checkAuthen(function (response) {
				if (JSON.parse(response) == null) {
					elem.classList.remove('is-hidden');
					elem.onclick = function () {
						shinobi.notification.notification
							.error(er.suggestLogin);
					}
				} else {
					if (invitedUser != 'system') {
						var loggedUserName = (JSON.parse(response))['username'];
						if (loggedUserName != invitedUser) {
							er
								.getPublicChatInfo(
									invitedUser,
									function (publicRoomChatInfo) {
										var data = JSON
											.parse(publicRoomChatInfo);
										if (data.chatroom) {
											elem.classList
												.remove('is-hidden');
											var roomId = data.chatroom['roomid'];
											elem.setAttribute(
												'roomid',
												roomId);
										} else {
											if (data.contactstatus != 'BLOCKED_STRANGER'
												&& data.contactstatus != 'NOT_TRADER_AND_INVESTOR') {
												elem
													.setAttribute(
														'inviteduser',
														invitedUser);
												elem.classList
													.remove('is-hidden');
											} else {
												elem.classList
													.add('tooltip');
												elem
													.setAttribute(
														'data-tooltip',
														'Không thể chat với người dùng chặn bạn hoặc bị chặn');
												elem.classList
													.replace(
														'has-text-orange',
														'has-text-grey');
												elem.innerHTML = '<i class="fa fa-comment-slash"></i>';
											}
										}
										elem.onclick = function () {
											if (this
												.hasAttribute('roomid')) {
												er
													.activeChatRoom(this
														.getAttribute('roomid'));
											} else if (this
												.hasAttribute('inviteduser')) {
												er
													.createStrangerContactRoomChat(
														this,
														invitedUser);
											}
										}
									});
						}
					}
				}
			});
	},
	'getPublicChatInfo': function (value, callback) {
		var request = {};
		request.inviteduser = value;
		shinobi.api.request(
			'/authenapi/ChatRoomManagementApi/getContactStatusInfo', JSON
				.stringify(request), function (response) {
					if (typeof callback == 'function') {
						callback(response);
					}
				});
	},
	'createStrangerContactRoomChat': function (elem, inviteduser) {
		var request = {};
		request.inviteduser = inviteduser;
		shinobi.api
			.request(
				'/authenapi/ChatRoomManagementApi/createStrangerContactRoomChat',
				JSON.stringify(request), function (response) {
					var data = JSON.parse(response);
					if (data.roomid) {
						var roomId = data.roomid;
						elem.setAttribute('roomid', roomId);
						elem.onclick();
					}
				});
	},
	'getValueBulmaCalendar': function (elem, param) {
		if (elem.value.trim() == '') {
			return false;
		} else {
			var returnObject = {};
			if (param.hasOwnProperty('isRange') == true) {
				if (elem.value.split('-')[0] && elem.value.split('-')[1]) {
					var startDate = elem.value.split('-')[0].trim().replace(
						/\//g, '-');
					var endDate = elem.value.split('-')[1].trim().replace(
						/\//g, '-');
					returnObject.startdate = startDate;
					returnObject.enddate = endDate;
					return returnObject;
				}
			}
		}
	},
	'renderValueBulmaCalendar': function (elem, value) {
		var info = elem.getAttribute('id') + '-info-render';
		var infoElem = document.getElementsByClassName(info)[0];
		if (infoElem.hasAttribute('is-range')) {
			if (infoElem.getAttribute('is-range') == 'true') {
				var startDate = infoElem.getAttribute('startdate');
				var endDate = infoElem.getAttribute('enddate');
				var startDateInput = elem.parentElement
					.querySelectorAll('.datetimepicker-dummy-input')[0];
				var endDateInput = elem.parentElement
					.querySelectorAll('.datetimepicker-dummy-input')[1];
				var startDateFormat = shinobi.aladinUtil.getFormatDate(
					startDate, 'dd/mm/yyyy');
				var endDateFormat = shinobi.aladinUtil.getFormatDate(endDate,
					'dd/mm/yyyy');
				startDateInput.value = startDateFormat;
				endDateInput.value = endDateFormat;
				elem.value = startDateFormat + ' - ' + endDateFormat;
			}
		}
	},
	'activeChatRoom': function (roomid) {
		var chatBoxColumn = document.getElementById('chatBoxColumn');
		chatBoxColumn.classList.remove('is-hidden');
		var chatMenuButton = document.getElementById('chatMenuButton');
		chatMenuButton.click();
		var listRoomChat = document.getElementById('listRoomChat');
		var listLi = listRoomChat.getElementsByClassName('room-chat');
		setTimeout(function () {
			for (var i = 0; i < listLi.length; i++) {
				if (listLi[i].getAttribute('id') == roomid) {
					listLi[i].click();
				}
			}
		}, 1000);
	},
	'investorRegistration': {
		'investorRegistration': '/page/investorregistration'
	},
	'login': {
		'login': '/page/login',
	},
	'traderlistingpage': {
		'traderlistingpage': '/page/traderlisting',
	},
	'investorlisting': {
		'investorlisting': '/page/investorlisting',
	},
	'suggestLogin': 'Bạn cần đăng nhập để thực hiện thao tác này!',
	'convertUsingServiceToVn': function (value) {
		var content;
		switch (value) {
			case 'NEED_TO_EXTEND':
				content = 'Gia hạn dịch vụ';
				break;
			case 'NEED_TO_SETTLE':
				content = 'Thanh toán dịch vụ';
				break;
			default:
				content = '';
				break;
		}
		return content;
	},
	'convertStringToDate': function (time) {
		return new Date(Date.parse(time.replace('-', '/').replace('-', '/')));
	},
	'buildChatTime': function (time) {
		var inputDate = er.convertStringToDate(time);
		var currentDate = new Date();
		var formatInput = shinobi.aladinUtil.getFormatDate(inputDate,
			'mm-dd-yyyy');
		var formatCurrent = shinobi.aladinUtil.getFormatDate(currentDate,
			'mm-dd-yyyy');
		if (formatInput == formatCurrent) {
			var inputHour = shinobi.aladinUtil
				.getFormatDate(inputDate, 'hh:mm');
			return inputHour;
		} else {
			var inputDateHour = shinobi.aladinUtil.getFormatDate(inputDate,
				'dd-mm-yyyy hh:mm');
			return inputDateHour;
		}
	},
	'renderServiceUsingStatus': function (elem, value) {
		if (value) {
			var content = er.convertUsingServiceToVn(value);
			elem.innerHTML = content;
		}
	},
	'reFormatDate': function (input, inputFormat, outputFormat) {
		var date = input.substring(inputFormat.indexOf('d'), inputFormat
			.lastIndexOf('d') + 1);
		var month = input.substring(inputFormat.indexOf('m'), inputFormat
			.lastIndexOf('m') + 1);
		var year = input.substring(inputFormat.indexOf('y'), inputFormat
			.lastIndexOf('y') + 1);
		var outPut = outputFormat.replace('dd', date).replace('mm', month)
			.replace('yyyy', year);
		return outPut;
	},
	'renderCopyTradeStatus': function (elem, value) {
		var request = {};
		request.feeid = value;
		request.publisher = elem.parentNode
			.querySelectorAll('[snb-key=publisher]')[0].innerHTML;
		shinobi.api
			.request(
				'/authenapi/ServiceUsingManagementApi/getCopyTradeServiceUsingDetailStatus',
				JSON.stringify(request),
				function (response) {
					var jsonArr = JSON.parse(response);
					if (jsonArr.serviceusingstatus == 'FREE_SERVICE') {
						elem.innerHTML = 'Dịch vụ miễn phí';
					} else if (jsonArr.serviceusingstatus == 'EXECUTING_PORTFOLIO') {
						elem.innerHTML = 'Đang xử lí';
					}
					if (jsonArr.serviceusingstatus == 'NEED_TO_SETTLE') {
						elem.innerHTML = '<p><a class="button open-order-button is-small is-link">Cần thanh toán</a></p>';
						elem
							.getElementsByClassName('open-order-button')[0].onclick = function () {
								shinobi.fragmentselectfollowrelationtypemodalrender
									.redirectPaymentPage(value);
							}
						var removeButton = document.createElement('a');
						removeButton.setAttribute('class',
							'button is-text is-small');
						removeButton.innerHTML = 'Xóa đơn hàng';
						elem.appendChild(removeButton);
						removeButton.onclick = function () {
							var data = jsonArr.followdetail;
							var requestDelete = {};
							requestDelete.feetype = data.feetype;
							requestDelete.subscriber = data.subscriber;
							requestDelete.publisher = data.publisher;
							shinobi.api
								.request(
									'/authenapi/AladinProductOrderApi/deleteServiceOrder',
									JSON
										.stringify(requestDelete),
									function (response) {
										if (response == 'update success') {
											shinobi.notification.notification
												.info('Xóa đơn hàng thành công');
											removeButton.parentNode.parentNode.classList
												.add('is-hidden');
										}
									});
						}
					} else if (jsonArr.serviceusingstatus == 'NEED_TO_EXTEND') {
						var exetendbutton = document.createElement('a');
						exetendbutton.setAttribute('class',
							'button  is-danger is-small');
						exetendbutton.innerHTML = 'Gia hạn';
						elem.appendChild(exetendbutton);
						var note = document.createElement('p');
						note.setAttribute('class', ' has-text-danger ');
						note.innerHTML = 'Còn ' + jsonArr.remainday
							+ ' ngày nữa';
						elem.appendChild(note);
						exetendbutton.onclick = function () {
							shinobi.fragmentextendrelationmodalrender
								.build(elem, jsonArr.followdetail);
						}
					} else {
						var data = jsonArr.followdetail;
						shinobi.fragmentaccountfollowingtraderender
							.buildServiceTimeContainer(elem, data);
					}
				});
	},
	'renderUnFollowButton': function (elem, value) {
		var request = {};
		request.feeid = value;
		request.publisher = elem.parentNode
			.querySelectorAll('[snb-key=publisher]')[0].innerHTML;
		shinobi.api
			.request(
				'/authenapi/ServiceUsingManagementApi/getCopyTradeServiceUsingDetailStatus',
				JSON.stringify(request),
				function (response) {
					if (JSON.parse(response).followdetail.isactive == true) {
						shinobi.fragmentaccountfollowingtraderender
							.buildUnFollowService(elem, JSON
								.parse(response).followdetail);
					}
				});
	},
	'renderDetailRating': function (elem, value, attr) {
		var spanStarContainer = document.createElement('span');
		spanStarContainer.setAttribute('class', 'star-container');
		elem.appendChild(spanStarContainer);
		var spanNumberRating = document.createElement('span');
		spanNumberRating.setAttribute('class', 'count-rating-container');
		elem.appendChild(spanNumberRating);
		var userName = value;
		var request = {};
		request.username = userName;
		shinobi.api.request('/api/ViewTraderRatingApi/getUserOverViewRating',
			JSON.stringify(request), function (response) {
				var jsonArr = JSON.parse(response);
				var averageratingpoint = jsonArr.averageratingpoint;
				er.buildRating(spanStarContainer, averageratingpoint);
				spanNumberRating.innerHTML = '('
					+ jsonArr.totalratingmember + ')';
				spanNumberRating.onclick = function () {
					window.location.href = '/page/ratingdetail/'
						+ jsonArr.homepageurl;
				}
			});
	},
	'getCurrentDayOfWeek': function () {
		var toDay = new Date();
		var currentDayOfWeek = toDay.getDay();
		// Sunday - Saturday : 0 - 6
		return currentDayOfWeek;
		// expected output: 2
	},
	'getParentNodeWithKey': function (elem, key, callback) {
		if (elem.hasAttribute(key)) {
			if (typeof callback == 'function') {
				callback(elem);
			}
		} else {
			if (elem.parentElement) {
				er.getParentNodeWithKey(elem.parentElement, key, callback);
			}
		}
	},
	'buildRating': function (elem, value) {
		value = value / 2;
		var starIconHtmlString = '<span class="icon is-small has-text-warning"><i class="fas fa-star"></i></span>';
		var noneStarIconHtmlString = '<span class="icon is-small has-text-light"><i class="fas fa-star"></i></span>';
		var numberRating = value;
		if (value > 5) {
			numberRating = 5;
		}
		if (value < 0 || value == 0) {
			numberRating = 0;
		}
		var contentRating = '';
		for (var i = 0; i < numberRating; i++) {
			contentRating += starIconHtmlString;
		}
		for (var j = 0; j < (5 - numberRating); j++) {
			contentRating += noneStarIconHtmlString;
		}
		elem.innerHTML = contentRating;
	},
	'renderUserType': function (elem, value, attr) {
		var userType = window.localStorage.getItem('loggedUserType');
		er.convertUserTypeDatalist(elem, userType);
	},
	'convertUserTypeDatalist': function (elem, value) {
		var content;
		switch (value.toLowerCase()) {
			case 'trader':
				content = 'Nhà tư vấn';
				break;
			case 'investor':
				content = 'Nhà đầu tư';
				break;
			case 'stock_com_admin':
				content = 'Tổ chức hợp tác';
				break;
			default:
				break;
		}
		elem.innerHTML = content;
	},
	'addEventFollowTable': function (cell, rowIndex, colIndex) {
		var value = cell.innerHTML;
		removeAllChild(cell);
		var a = document.createElement('a');
		a.setAttribute('class', 'button is-link  is-small');
		a.innerHTML = 'Theo';
		cell.appendChild(a);
		shinobi.fragmentselectfollowrelationtypemodalrender.addEventFollow(a,
			value);
	},
	'renderFreeOrUnFreeAmount': function (elem, value, attr) {
		var container = elem.parentNode.parentNode.parentNode.parentNode;
		var publisher = container.querySelectorAll('[snb-key=publisher]')[0].innerHTML;
		var feetype = container.querySelectorAll('[snb-key=feetype]')[0].innerHTML;
		var request = {};
		request.traderusername = publisher;
		request.feetype = feetype;
		shinobi.api
			.request(
				'/authenapi/TraderBuildFeeScheduleApi/checkTraderContainsUnFreeFeeSchedule',
				JSON.stringify(request), function (response) {
					var content;
					if (response == "true") {
						content = "Có phí";
					} else {
						content = shinobi.language.free;
					}
					elem.innerHTML = content;
				});
	},
	'getValueNumberCleaveFormat': function (elem) {
		return elem.value.trim().replace(/,/g, '');
	},
	'formatNameChatContainerHeader': function (elem, value) {
		var content = value;
		/*
		 * if (value.length > 15) {
		 * 
		 * content = value.slice(0, 12) + '...'; }
		 */
		elem.innerHTML = content;
	},
	'renderFeeValue': function (elem, value, attr) {
		var feeAmount = elem.parentNode.querySelectorAll('[snb-key=amount]')[0].innerHTML;
		var feeFequency = value;
		var content = 'Dịch vụ miễn phí';
		if (feeAmount > 0) {
			content = format(feeAmount) + '/' + convertFequency(feeFequency);
		}
		elem.innerHTML = content;
	},
	'checkAuthen': function (callback) {
		if (!shinobi.global.checkAuthen) {
			if (!shinobi.global.isCheckAuthen) {
				if (shinobi.global.isCheckAuthen == false) {
					setTimeout(function () {
						er.checkAuthen(callback);
					}, 10);
				} else {
					var request = {};
					shinobi.global.isCheckAuthen = false;
					shinobi.api.request('/api/UserApi/checkAuthen', JSON
						.stringify(request), function (response) {
							shinobi.global.checkAuthen = response;
							shinobi.global.isCheckAuthen = true;
							callback(response);
						});
				}
			} else {
				callback(shinobi.global.checkAuthen);
			}
		} else {
			callback(shinobi.global.checkAuthen);
		}
	},
	'renderPostStatusDatalist': function (elem, value, attr) {
		var content;
		var classList;
		switch (value) {
			case 'WAITING_FOR_AUDIT':
				content = 'Chờ duyệt';
				classList = 'is-light';
				break;
			case 'AVAILABLE':
				content = 'Đã duyệt';
				classList = 'is-success';
				break;
			case 'REJECTED':
				content = 'Từ chối';
				classList = 'is-danger';
				break;
			default:
				break;
		}
		elem.innerHTML = content;
		elem.classList.add(classList);
	},
	'activePathTabs': function () {
		var listTabs = document.querySelectorAll('.tabs.active-pathname-tabs');
		for (var i = 0; i < listTabs.length; i++) {
			var currentTab = listTabs[i].querySelector('[href='
				+ window.location.pathname.replace(/\//g, '\\/') + ']');
			if (currentTab) {
				currentTab.parentElement.classList.add('is-active');
			}
		}
	},
	'getFormatDatePickerInput': function (datepickerId, format) {
		var input = document.getElementById(datepickerId + '-inputDivID');
		var dateValue = input.value;
		var date = dateValue.split('-')[0];
		var month = dateValue.split('-')[1];
		var year = dateValue.split('-')[2];
		var dateString = month + '-' + date + '-' + year;
		return shinobi.aladinUtil.getFormatDate(dateString, format);
	},
	'getDatePickerValue': function (item) {
		var format = 'yyyy-mm-dd';
		var input = document.getElementById(item.id + '-inputDivID');
		var dateValue = input.value;
		var date = dateValue.split('-')[0];
		var month = dateValue.split('-')[1];
		var year = dateValue.split('-')[2];
		var dateString = year + '-' + month + '-' + date;
		return dateString;
		// return shinobi.aladinUtil.getFormatDate(dateString, format);
		// return er.getFormatDatePickerInput(item.id, format);
	},
	'renderFeeIconFromListFeeType': function (elem, value) {
		var jsonArr = JSON.parse(value);
		for (var i = 0; i < jsonArr.length; i++) {
			var currentData = jsonArr[i][0];
			var iconLink;
			if (currentData.feetype) {
				var iconSpanContainer = document.createElement('span');
				iconSpanContainer.setAttribute('class', 'service-icon tooltip');
				iconSpanContainer.setAttribute('data-tooltip',
					changeFeeType(currentData.feetype));
				var imageContainer = document.createElement('img');
				iconSpanContainer.appendChild(imageContainer);
				switch (currentData.feetype) {
					case 'INVESTING_BLOG':
						iconLink = blogIconImageLink;
						break;
					case 'COPY_TRADE':
						iconLink = copyTradeIconImageLink;
						break;
					default:
						break;
				}
				imageContainer.setAttribute('src', iconLink);
				elem.appendChild(iconSpanContainer);
			}
		}
	},
	'getListFeeIcon': function (elem, value) {
		er
			.checkAuthen(function (response) {
				if (response != 'null') {
					var request = {};
					request.traderusername = value;
					shinobi.api
						.request(
							'/authenapi/TraderCustomerApi/getAllServiceCustomerIsFollowing',
							JSON.stringify(request), function (
								response) {
							er.renderFeeIconFromListFeeType(
								elem, response);
						});
				}
			});
	},
	'listingTimeFrame': function (value) {
		var content;
		switch (value) {
			case 'ONE_DAY':
				content = 'phiên gần nhất';
				break;
			case 'ONE_WEEK':
				content = 'tuần';
				break;
			case 'ONE_MONTH':
				content = 'tháng';
				break;
			case 'THREE_MONTH':
				content = 'ba tháng';
				break;
			case 'SIX_MONTH':
				content = 'sáu tháng';
				break;
			case 'ONE_YEAR':
				content = 'một năm';
				break;
			default:
				break;
		}
		return 'Xếp hạng ' + content;
	},
	'postFiterConvert': function (value) {
		var content;
		switch (value) {
			case 'allpost':
				content = 'Tất cả bài viết';
				break;
			case 'hasfeepost':
				content = 'Bài viết có phí';
				break;
			case 'freepost':
				content = 'Bài viết miễn phí';
				break;
			case 'purchased':
				content = 'Bài viết đã mua';
				break;
			default:
				break;
		}
		return content;
	},
	'renderAdminPostCheckUrl': function (elem, value, attr) {
		if (value.trim == '') {
			return;
		} else {
			var url = value;
			var pageCheckUrl = url.replace(blogPostPageUrl,
				adminPostCheckPageUrl);
			var container = elem.parentNode;
			var adminPostCheckButtonElemList = container
				.querySelectorAll('[snb-target="goToPostCheckPage"');
			for (var i = 0; i < adminPostCheckButtonElemList.length; i++) {
				adminPostCheckButtonElemList[i].onclick = function () {
					window.location.href = pageCheckUrl;
				}
			}
		}
	},
	'createSimpleBar': function (patern) {
		var listElem = document.querySelectorAll(patern);
		for (var i = 0; i < listElem.length; i++) {
			var item = new SimpleBar(listElem[i]);
		}
	},
	'confirm': function (callback, options) {
		var confirmPanel = document.getElementById('confirmPanel');
		shinobi.aladinUtil.modalEventListener(confirmPanel);
		if (options) {
			if (options.title) {
				confirmPanel.getElementsByClassName('modal-card-title')[0].innerHTML = options.title;
			}
			if (options.content) {
				confirmPanel.getElementsByClassName('modal-card-body')[0].innerHTML = options.content;
			}
			if (options.yescontent) {
				confirmPanel.getElementsByClassName('yes')[0].innerHTML = options.yescontent;
			}
			if (options.nocontent) {
				confirmPanel.getElementsByClassName('cancel')[0].innerHTML = options.nocontent;
			}
			if (options.modalsize) {
				confirmPanel.classList.add(options.modalsize);
			}
			if (options.initfunction) {
				options.initfunction(confirmPanel);
			}
		} else {
			confirmPanel.getElementsByClassName('modal-card-title')[0].innerHTML = 'Cảnh báo';
			confirmPanel.getElementsByClassName('modal-card-body')[0].innerHTML = 'Bạn chắc chắn?';
			confirmPanel.getElementsByClassName('yes')[0].innerHTML = 'Xác nhận';
			confirmPanel.getElementsByClassName('cancel')[0].innerHTML = 'Hủy';
		}
		confirmPanel.classList.add('is-active');
		var yes = confirmPanel.getElementsByClassName('yes')[0];
		yes.focus();
		yes.onclick = function () {
			if (typeof callback == 'function') {
				confirmPanel.classList.remove('is-active');
				callback();
			}
		}
	},
	'runSnbReload': function (elem) {
		if (elem.hasAttribute('snb-reload')) {
			var reloadFunction = elem.getAttribute('snb-reload');
			if (elem.hasAttribute('snb-reload-key')) {
				var reloadKey = elem.getAttribute('snb-reload-key');
				if (reloadKey == 'this') {
					var reloadKeyValue = elem;
					eval(reloadFunction)(reloadKeyValue);
				}
			} else {
				eval(reloadFunction)();
			}
		}
	},
	'renderListFeeIsActive': function (elem, value) {
		var content = '';
		var listFee = elem.parentNode
			.querySelectorAll('[snb-render-key=feeType]');
		for (var i = 0; i < listFee.length; i++) {
			if (listFee[i].innerHTML == "true") {
				var feeType = listFee[i].getAttribute('snb-key');
				content = content + '/' + changeFeeType(feeType);
			}
		}
		content = content.slice(1, content.length);
		elem.innerHTML = content;
	},
	'addEventTabs': function (patern, renderType) {
		var elemList = document.querySelectorAll(patern);
		switch (renderType) {
			case 'hrefUserType':
				er.addEventHrefUserType(patern, elemList);
				break;
			default:
				break;
		}
	},
	'addEventHrefUserType': function (patern, elemList) {
		var item = elemList[0];
		var listTab = item.querySelectorAll('[snb-tab]');
		var json = {};
		var userType = window.localStorage.getItem('loggedUserType');
		for (var i = 0; i < listTab.length; i++) {
			var tab = listTab[i];
			if (tab.hasAttribute('snb-tab')) {
				var value = tab.getAttribute('snb-tab');
				json[value] = value;
				json[value + 'href'] = '/private/' + userType + value;
			}
		}
		shinobi.mapping.render(patern, JSON.stringify(json))
	},
	'renderCurrentCashPlaceHolder': function (elem, value) {
		elem.setAttribute('placeholder', 'Vốn khả dụng: ' + format(value));
	},
	'renderCopyTradeMessage': function (elem, value) {
		var copytradeSettingMessageContainer = document
			.getElementById('copytradeSettingMessageContainer');
		var copytradecapital = document.getElementById('copytradecapital');
		if (value.trim() == '') {
			copytradeSettingMessageContainer.classList.add('is-hidden');
		} else {
			copytradeSettingMessageContainer.classList.remove('is-hidden');
		}
		var currentCash = elem.parentNode
			.querySelectorAll('[snb-key=currentcash')[0].innerHTML;
		if (Number(currentCash) < 100000) {
			copytradecapital.classList.add('is-danger');
			copytradecapital.disabled = true;
		} else {
			copytradecapital.classList.remove('is-danger');
			copytradecapital.disabled = false;
		}
		elem.innerHTML = value;
	},
	'renderMaxQuantity': function (elem, value) {
		if (isNaN(Number(value))) {
			elem.parentNode.classList.add('is-hidden');
		} else {
			elem.parentNode.classList.remove('is-hidden');
			elem.innerHTML = format(value);
		}
	},
	'renderPriceDatalist': function (elem, value) {
		if (value == 0) {
			elem.innerHTML = shinobi.language.free;
		} else {
			elem.innerHTML = format(value) + 'VNĐ';
		}
	},
	'showDownloadFileModal': function () {
		var confirmDownloadFileModal = document
			.getElementById('confirmDownloadFileModal');
		confirmDownloadFileModal.classList.add('is-active');
		var button = confirmDownloadFileModal.querySelector('.button.is-white');
		// button.classList.remove('is-hidden');
		button.classList.add('is-loading');
		var shinobinotification = document
			.getElementById('shinobinotification');
		setTimeout(function () {
			if (shinobinotification.getAttribute('class').includes(
				'errormessage')) {
				confirmDownloadFileModal.classList.remove('is-active');
			}
		}, 2000);
	},
	'renderDownloadFileModal': function (response) {
		var confirmDownloadFileModal = document
			.getElementById('confirmDownloadFileModal');
		confirmDownloadFileModal.classList.add('is-active');
		var button = confirmDownloadFileModal
			.getElementsByClassName('is-loading')[0];
		if (response == 'update success') {
			// button.classList.add('is-hidden');
			button.classList.remove('is-loading');
			button.innerHTML = response;
		} else {
			confirmDownloadFileModal.classList.remove('is-active');
		}
	},
	'renderRemovePinLevel': function (elem, value) {
		var pinLevel = value;
		/* if (pinLevel != 1) { */
		elem.classList.remove('is-hidden');
		elem.onclick = function () {
			if (confirm('Xác nhận xóa đánh dấu')) {
				var postId = elem.parentNode
					.querySelectorAll('[snb-key=postid]')[0].innerHTML;
				var request = {};
				request.postid = postId;
				shinobi.api
					.request(
						'/authenapi/SystemAuditTraderPostApi/deletePinedTraderPost',
						JSON.stringify(request), function (response) {
							if (response == 'update success') {
								shinobi.notification.notification
									.info('Cập nhật thành công!');
								location.reload()
							}
						});
			}
		}
		/* } */
	},
	'renderDatePicker': function (elem, value) {
		var input = elem.getElementsByClassName('inputDivClass')[0];
		input.value = shinobi.aladinUtil.getFormatDate(value, 'dd-mm-yyyy');
	},
	'changeAllKeyChildren': function (array, keysMap, callback) {
		for (var i = 0; i < array.length; i++) {
			// var item = jsonArr[i];
			er.renameKeys(keysMap, array[i]);
			if (array[i].children && array[i].children.length != 0) {
				er.changeAllKeyChildren(array[i].children, keysMap);
			}
		}
		if (typeof callback == 'function') {
			callback(array);
		}
	},
	'renameKeys': function (keysMap, obj) {
		var listOldKey = Object.keys(keysMap);
		var listNewKey = Object.values(keysMap);
		for (var i = 0; i < listOldKey.length; i++) {
			var oldkey = listOldKey[i];
			var newKey = listNewKey[i];
			var oldkeyValue = obj[oldkey];
			obj[newKey] = oldkeyValue;
		}
	},
	'getAllObjectMenu': function (resultArray, sourceArray) {
		for (var i = 0; i < sourceArray.length; i++) {
			resultArray.push(sourceArray[i]);
			if (sourceArray[i].children && sourceArray[i].children.length != 0) {
				er.getAllObjectMenu(resultArray, sourceArray[i].children);
			}
		}
	},
	'getTokenValue': function (input) {
		var numberInput = Number(input.slice(1, input.length - 1));
		var LastNumberInput = Number(numberInput).toString().split('').pop();
		var returnValue = numberInput >>> LastNumberInput;
		return returnValue;
	},
	'encodeURIComponent': function (uri) {
		var uri_enc = encodeURIComponent(uri);
		return uri_enc;
	},
	'decodeURIComponent': function (uri_enc) {
		var uri = encodeURIComponent(uri_enc);
		return uri;
	},
	'addEventSearchUser': function (elemId) {
		var elem = document.getElementById(elemId);
		if (elem.getAttribute('type') == 'tags') {
			var interval = setInterval(function () {
				var inputBox = elem.nextElementSibling;
				if (inputBox) {
					var input = inputBox.getElementsByTagName('input')[0];
					er.addEventSearchUserElem(input, elem);
					clearInterval(interval);
				}
			}, 100);
		} else {
			er.addEventSearchUserElem(elem, elem);
		}
	},
	'addResultList': function (elem, data, elemInputFirstDeclare) {
		function insertAfter(el, referenceNode) {
			referenceNode.parentNode
				.insertBefore(el, referenceNode.nextSibling);
		}
		var container;
		if (elem.parentNode.getElementsByClassName('result-absolute-container').length > 0) {
			container = elem.parentNode
				.getElementsByClassName('result-absolute-container')[0];
		} else {
			container = document.createElement('div');
			container.setAttribute('class', 'result-absolute-container');
			insertAfter(container, elem);
		}
		container.parentNode.classList.add('is-relative');
		if (data.length == 0) {
			container.remove();
			elem.setAttribute('refid', '');
		} else {
			container.innerHTML = '';
			for (var i = 0; i < data.length; i++) {
				if (i < 3) {
					elem.setAttribute('refid', data[i].id);
					var record = document.createElement('div');
					record.setAttribute('class', 'level is-marginless');
					record.innerHTML = '<div class="level-left chat-avatar"><img src="'
						+ data[i].avatarlink
						+ '" class="chat-room-avatar margin-right-05rem"></div><div class="level-item ">'
						+ data[i].firstname
						+ ' '
						+ data[i].lastname
						+ '</div>';
					container.appendChild(record);
				}
			}
			elem.onblur = function () {
				container.classList.add('is-hidden');
			}
			elem.onclick = function () {
				container.classList.remove('is-hidden');
			}
		}
	},
	'addEventSearchUserElem': function (elem, elemInputFirstDeclare) {
		var api = '/api/UserApi/searchUserById';
		elem.onkeyup = function () {
			var value = elem.value.trim();
			if (value != '') {
				var request = {};
				request.searchkey = value;
				shinobi.api.request(api, JSON.stringify(request), function (
					response) {
					var jsonArr = JSON.parse(response);
					er.addResultList(elem, jsonArr, elemInputFirstDeclare);
				});
			} else {
				er.addResultList(elem, [], elemInputFirstDeclare);
			}
		}
	},
};
var erLib = {

	'data' : [],

	'reportLink' : '/static/report/',

	'renderCheckbox' : function(elem, row, col) {

		elem.innerHTML = '<label class="checkbox"><input type="checkbox"></label>';

	},

	'renderAllowDenyTable' : function(cell, row, col) {

		if (cell.innerHTML == 'allow') {

			cell.innerHTML = 'Cho phép';
		}
		if (cell.innerHTML == 'deny') {

			cell.innerHTML = 'Chặn';
		}
	},

	'showConfirmModal' : function(callback) {

		var confirmPanel = document.getElementById('confirmPanel');

		confirmPanel.classList.add('is-active');

		var yesButton = confirmPanel.getElementsByClassName('yes')[0];

		yesButton.onclick = function() {

			confirmPanel.classList.remove('is-active');

			callback();
		}

	},

	'createDataTreeRelation' : function(data, dataParent, callback) {

		if (!dataParent) {

			data.name = data.id;

		} else {

			var currentId = data.id;

			data.name = currentId;
			data.id = dataParent.id + '/' + currentId;

		}

		for (var i = 0; i < data.children.length; i++) {

			erLib.createDataTreeRelation(data.children[i], data);
		}

		if (typeof callback == 'function') {

			callback(data);
		}
	},

	'getFullPathSelectedNodeTree' : function(tree, callback) {

		var data = tree.treeNodes;

		var result = [];

		erLib.getFullPathSelected(result, data, '');

		callback(result);

	},

	'getFullPathSelected' : function(result, data, callback) {

		for (var i = 0; i < data.length; i++) {

			if (data[i].status == 2) {

				result.push(data[i].id);

			}

			if (data[i].status == 1) {

				erLib.getFullPathSelected(result, data[i].children, callback);
			}

		}

		if (typeof callback == 'function') {

			callback(result);
		}

	},

	'getFullAreaTreeData' : function(callback) {

		var request = {};

		shinobi.api.request(
				'/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree',
				JSON.stringify(request), function(response) {

					var jsonArr = JSON.parse(response);

					if (typeof callback == 'function') {

						callback(jsonArr);
					}
				});
	},

	'getAgencyAreaTreeData' : function(requestInput, callback) {

		var request = requestInput;

		shinobi.api.request(
				'/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree',
				JSON.stringify(request), function(response) {

					var jsonArr = JSON.parse(response);

					if (typeof callback == 'function') {

						callback(jsonArr);
					}
				});
	},

	'createFullAreaTree' : function(patern, callback) {

		erLib.getListProvinceDataTree(function(provinceData) {

			for (var i = 0; i < provinceData.length; i++) {

				erLib.getListDicTristDataTree(provinceData, i, function(
						dictristData) {

					for (var j = 0; j < dictristData.length; j++) {

						erLib.getListPrecinctDataTree(dictristData, j,
								function() {

									shinobi.createstafftreerender.tree = erLib
											.createTree(patern, provinceData);

									var container = document
											.querySelectorAll(patern)[0];

									shinobi.createstafftreerender
											.closeAllNode(container);

									if (typeof callback == 'function') {

										callback(tree);
									}

								});

					}

				});
			}

		});

	},

	'createTree' : function(patern, data) {

		var tree = new Tree(patern, {

			// root data
			data : data,
			loaded : function() {

				// pre-selected nodes
				// this.values = [ 'HCM_TPH', 'HCM_006_0009' ];

				// disabled nodes
				// this.disables = [ '1-1-1', '1-1-1', '1-1-2' ]

			}

		});

		return tree;
	},

	'getListPrecinctDataTree' : function(currentData, i, callback) {

		var item = currentData[i];

		var districtValue = item.id;

		var request = {};
		request.columnname = 'district';
		request.columnvalue = districtValue;

		shinobi.api.request(
				'/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree',
				JSON.stringify(request), function(response) {

					var precinctData = JSON.parse(response);

					currentData[i].children = precinctData;

					if (typeof callback == 'function') {

						callback(precinctData);
					}

					return currentData;
				});
	},

	'getListDicTristDataTree' : function(currentData, i, callback) {

		var item = currentData[i];

		var provinceValue = item.id;

		var request = {};
		request.columnname = 'province';
		request.columnvalue = provinceValue;

		shinobi.api.request(
				'/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree',
				JSON.stringify(request), function(response) {

					var dictristData = JSON.parse(response);

					currentData[i].children = dictristData;

					if (typeof callback == 'function') {

						callback(dictristData);
					}

					return currentData;
				});
	},

	'getListProvinceDataTree' : function(callback) {

		var request = {};

		request.columnname = 'province';

		shinobi.api.request(
				'/authenapi/AgencyWorkingAreaApi/getDefaultValueListAsTree',
				JSON.stringify(request), function(response) {

					var provinceData = JSON.parse(response);

					if (typeof callback == 'function') {

						callback(provinceData);
					}

					return provinceData;

				});
	},

	'getFileName' : function(elem, value) {

		var linkFile = value;
		var linkFileSplit = linkFile.split('/');

		elem.innerHTML = linkFileSplit[linkFileSplit.length - 1];
	},

	'renderDownloadFile' : function(elem, value) {

		var linkFile = value;
		var linkFileSplit = linkFile.split('/');

		elem.setAttribute('href', erLib.reportLink
				+ linkFileSplit[linkFileSplit.length - 1]);

		setTimeout(function() {

			elem.focus();

		}, 200);

		elem.onclick = function() {

			var modalId = elem.getAttribute('modal-parent');

			var modal = document.getElementById(modalId);
			modal.classList.remove('is-active');

		}

	},

	'addEventSelectAll' : function(selectAllCheckboxId, tableId) {

		var selectAllCheckBoxHeader = document
				.getElementById(selectAllCheckboxId);
		selectAllCheckBoxHeader.onchange = function() {

			var table = document.getElementById(tableId);

			var body = table.getElementsByTagName('tbody')[0];

			var listRow = body.getElementsByTagName('tr');

			for (var i = 0; i < listRow.length; i++) {

				var item = listRow[i];

				var listTd = item.getElementsByTagName('td');

				var checkbox = item.querySelectorAll('[type=checkbox]')[0];

				if (this.checked) {
					checkbox.checked = true;
				} else {

					checkbox.checked = false;
				}
			}

		}
	},

	'hiddenCommandButton' : function(className) {

		var commandGroup = document.getElementById('buttonGroup');

		var button = commandGroup.getElementsByClassName(className)[0];

		button.classList.add('is-hidden');

	},

	'addEventRemoveRowTable' : function(elem, row, col, controlApi) {

		var value = elem.innerHTML;

		removeAllChild(elem);

		erLib.addEventRemoveRowDatalist(elem, value, controlApi);
	},

	'addEventRemoveRowDatalist' : function(elem, value, controlApi) {

		var button = document.createElement('a');
		button.setAttribute('class', 'button is-danger is-small');
		button.innerHTML = '<span class="icon"><i class="fa fa-times"></i></span><span>Xóa</span>';
		elem.appendChild(button);

		button.onclick = function() {

			var id = value;

			var request = {};

			request.id = id;

			shinobi.api.request(controlApi, JSON.stringify(request), function(
					response) {

				erLib.removeMessage(response);
				location.reload();

			});
		}

	},

	'createMessage' : function(response) {

		if (response == 'update success') {

			shinobi.notification.notification.info('Tạo mới thành công');

		}
	},

	'renderCellChangeStaffValue' : function(elem, row, col, allData) {

		erLib.renderNodeChangeValueListener(elem, function() {

			var input = elem.getElementsByTagName('input')[0];

			var inputId = row + 'StaffId';

			input.setAttribute('list', 'fragmentStaffIdDatalist');

			var agency = allData[row].agency;

			erLib.renderDataListStaff('fragmentStaffIdDatalist', agency);
		});
	},

	'updateMessage' : function(response, callback) {

		if (response == 'update success') {

			shinobi.notification.notification.info('Cập nhật thành công');

			if (typeof callback == 'function') {

				callback();
			}

		}
	},

	'removeMessage' : function(response) {

		if (response == 'update success') {

			shinobi.notification.notification.info('Xóa thành công');

		}
	},

	'renderUserTypeTable' : function(elem, row, col) {

		var value = elem.innerHTML;

		erLib.renderUserTypeDatalist(elem, value);
	},

	'renderUserTypeDatalist' : function(elem, value) {

		var content;
		switch (value.toLowerCase()) {

		case 'shop':
			content = 'Đại lý';
			break;

		case 'agency':
			content = 'Pháp nhân';
			break;

		case 'staff':
			content = 'Nhân viên';
			break;

		case 'mobi_hcm_2':
			content = 'Mobifone';
			break;
		case 'system':
			content = 'Quản trị hệ thống';
			break;

		default:
			break;
		}

		elem.innerHTML = content;
		// elem.innerHTML = value;
	},

	'renderOrderResultTable' : function(elem, row, col) {

		var value = elem.innerHTML;

		erLib.renderOrderResultDatalist(elem, value);
	},

	'renderOrderResultDatalist' : function(elem, value) {

		var content;
		switch (value.toLowerCase()) {

		case 'inprocess':
			content = 'Đang xử lí';
			break;

		case 'fail':
			content = 'Thất bại';
			break;

		case 'success':
			content = 'Thành công';
			break;

		default:
			content = value;
			break;
		}

		elem.innerHTML = content;
		// elem.innerHTML = value;
	},

	'notiFillInput' : function() {

		shinobi.notification.notification.error('Điền đầy đủ thông tin');
	},

	'addStartDateEndDateRequest' : function(request, callback) {

		var fromDate = document.getElementById('fromDate-inputDivID');
		var toDate = document.getElementById('toDate-inputDivID');

		if (fromDate.value.trim() == '' || toDate.value.trim() == '') {

			erLib.notiFillDateInput();

		} else {

			request.startdate = er.getFormatDatePickerInput('fromDate',
					'yyyy-mm-dd');
			request.enddate = er.getFormatDatePickerInput('toDate',
					'yyyy-mm-dd');

			if (typeof callback == 'function') {

				callback(request);
			}

		}
	},

	'notiFillDateInput' : function() {

		shinobi.notification.notification.error('Chưa điền từ ngày đến ngày');
	},

	'createTableListener' : function(tableIdOrBodyId) {

		var container = document.getElementById(tableIdOrBodyId);

		var listNode = container.getElementsByTagName('td');

		for (var i = 0; i < listNode.length; i++) {

			erLib.renderNodeChangeValueListener(listNode[i]);
		}

	},

	'renderCellChangeValue' : function(elem, rowIndex, colIndex, callback) {

		if (typeof callback == 'function') {

			erLib.renderNodeChangeValueListener(elem, callback);
		} else {

			erLib.renderNodeChangeValueListener(elem);
		}

	},

	'renderHasSendProfileContentTable' : function(cell, row, col, allData) {

		var content = 'Đã nộp';

		if (!allData[row].staffsendprofiledate) {

			content = 'Chưa nộp';
		}

		cell.innerHTML = content;

	},

	'addHasSendProfileSelect' : function(cell, callback) {

		cell.innerHTML = '';

		var selectContainer = document.createElement('div');
		selectContainer.setAttribute('class', 'select is-fullwidth');
		selectContainer.setAttribute('snb-key', 'isprofilesent');
		selectContainer.innerHTML = '  <select class="profile-send-select"> <option value="true">Đã nộp</option> <option value="false">Chưa nộp</option>  </select>';

		cell.appendChild(selectContainer);

		return selectContainer.getElementsByTagName('select')[0];

	},

	'renderHasSendProfileTable' : function(cell, row, col, allData) {

		// if (allData[row].orderresult && allData[row].orderresult ==
		// "SUCCESS") {

		erLib.addHasSendProfileSelect(cell);

		var select = cell.getElementsByTagName('select')[0];

		if (allData[row].orderresult == 'SUCCESS') {

			if (allData[row].staffsendprofiledate) {

				select.value = 'true';

			} else {

				select.value = 'false';

			}

		} else {

			select.value = 'false';

			select.disabled = true;
		}

		select.onchange = function() {

			var row = cell.parentNode;

			var checkBox = row.querySelectorAll('[type=checkbox]')[0];

			if (checkBox) {

				checkBox.checked = true;
			}

		}
		// }

		// else {
		//
		// erLib.renderHasSendProfileContentTable(cell, row, col, allData);
		// }

	},

	'renderNodeChangeValueListener' : function(elem, callback, ortherFunction) {

		elem.ondblclick = function() {

			var currentValue = elem.innerText;

			elem.classList.add('table-change-value-cell');

			var inputChange = elem
					.getElementsByClassName('table-change-value-input')[0];

			var input;

			if (!inputChange) {

				input = document.createElement('input');
				input.setAttribute('class',
						'input is-small table-change-value-input');

			} else {

				input = inputChange;
			}

			// input.value = currentValue;

			elem.appendChild(input);

			input.focus();

			if (typeof callback == 'function') {

				callback(input);
			}

			input.onchange = function() {

				if (typeof ortherFunction == 'function') {

					ortherFunction();
				}

				elem.classList.remove('table-change-value-cell');

				var newValue = input.value;

				input.remove();

				if (newValue.trim() == '') {

					elem.innerHTML = currentValue;

				} else {

					elem.innerHTML = newValue;

				}

			}

			input.addEventListener('keypress', function(e) {
				var key = e.which || e.keyCode;
				if (key === 13) {

					if (typeof ortherFunction == 'function') {
						ortherFunction();
					}

					elem.classList.remove('table-change-value-cell');

					var newValue = input.value;

					input.remove();

					if (newValue.trim() == '') {

						elem.innerHTML = currentValue;

					} else {

						elem.innerHTML = newValue;

					}
				}
			});

		}
	},

	'createButtonEvent' : function(callback) {

		var commandGroup = document.getElementById('buttonGroup');

		var createButton = commandGroup.getElementsByClassName('createButton')[0];

		createButton.onclick = function() {

			callback();
		}
	},

	'updateButtonEvent' : function(callback) {

		var commandGroup = document.getElementById('buttonGroup');

		var createButton = commandGroup.getElementsByClassName('updateButton')[0];

		createButton.onclick = function() {

			callback();
		}
	},

	'getSelectFormShopcodeValue' : function(elemId, requestName, listRequest) {

		var elem = document.getElementById(elemId);

		var value = elem.value;

		if (value != 'ALL') {

			var tempObject = {};

			tempObject.columnname = requestName;

			tempObject.columnvalue = value.split('-')[0];

			if (elem.hasAttribute('user-level')) {

				tempObject.userlevel = elem.getAttribute('user-level');
			}

			listRequest.push(tempObject);

		}
	},

	'renderShopCodeCheckGroup' : function(elemId, columnName) {

		var datalistName = elemId;

		var request = {};

		request.columnname = columnName;

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist
				.initLoadApi(
						"/authenapi/AgencyWorkingAreaApi/getDefaultValueListAfterCheckGroup",
						request);
	},

	'renderShopCode' : function(elemId) {

		var datalistName = elemId;

		var request = {};

		request.columnname = 'shopcode';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getDefaultValueList", request);
	},
	'renderStatusCodeDetail' : function(elemId) {

		var datalistName = elemId;

		var request = {};

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/OrderStatusCodeApi/getListStatusCodeWithCodeValue",
				request);
	},

	'renderObjectReport' : function(elemId) {

		var datalistName = elemId;

		var request = {};

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist
				.initLoadApi(
						"/authenapi/ExportTotalCommissionToExcelFileApi/getListShopAndAgency",
						request);
	},

	'renderShopCodeOfAgency' : function(elemId, agency, callback) {

		var datalistName = elemId;

		var request = {};

		request.columnvalue = agency;

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getListShopOfAgencyWorking",
				request);

		if (typeof callback == 'function') {

			callback();
		}
		return datalist;
	},

	'renderShopCodeOfAgencyHasAllValue' : function(elemId, agency) {

		var datalistName = elemId;

		var request = {};

		request.columnvalue = agency;
		request.getallvalue = 'ALL';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getListShopOfAgencyWorking",
				request);

		return datalist;
	},

	'renderEmtyCell' : function(cell, row, col) {

		cell.innerHTML = '';
	},

	'renderRemoveCell' : function(cell, row, col) {

		cell.classList.add('is-hidden');
	},

	'renderAgency' : function(elemId, callback) {

		var datalistName = elemId;

		var request = {};

		request.columnname = 'agency';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getDefaultValueList", request,
				callback);
	},

	'renderAgencyOfShopcode' : function(elemId, shopcode, callback) {

		var datalistName = elemId;

		var request = {};

		request.columnname = 'agency';
		request.columnvalue = shopcode;

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getListAgencyOfShopWorking",
				request, callback);
	},
	'renderAgencyOfShopcodeHasAllValue' : function(elemId, shopcode, callback) {

		var datalistName = elemId;

		var request = {};

		request.columnname = 'agency';
		request.columnvalue = shopcode;
		request.getallvalue = 'ALL';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getListAgencyOfShopWorking",
				request, callback);
	},

	'getListAgency' : function(callback) {

		var request = {};

		request.columnname = 'agency';

		shinobi.api.request(
				"/authenapi/AgencyWorkingAreaApi/getDefaultValueList", JSON
						.stringify(request), function(response) {

					var jsonArr = JSON.parse(response);
					callback(jsonArr.data);

				});
	},

	'convertListToTreeNode' : function(list, textMap, idMap, hasChildren) {

		var result = [];

		for (var i = 0; i < list.length; i++) {

			var item = list[i];

			var tempObject = {};

			tempObject.text = item[textMap];
			tempObject.id = item[idMap];

			if (hasChildren) {

				tempObject.children = [];
			}

			result.push(tempObject);
		}

		return result;
	},

	'renderProvince' : function(elemId, callback) {

		var datalistName = elemId;

		var request = {};

		request.columnname = 'province';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getDefaultValueList", request,
				callback);
	},

	'renderDistrictListener' : function(districtId, provinceSelectId, callback) {

		var districtSelectDatalist = erLib.renderDistrict(districtId, document
				.getElementById(provinceSelectId).value, function() {

			callback();

			var provinceSelect = document.getElementById(provinceSelectId);

			provinceSelect.onchange = function() {

				var datalistElem = document.getElementById(districtId);

				removeAllChild(datalistElem);

				datalistElem.appendChild(districtSelectDatalist.sampleNode);

				erLib.renderDistrict(districtId, this.value);

			}
		});
	},

	'renderDistrict' : function(elemId, provinceValue, callback) {

		var elem = document.getElementById(elemId);

		elem.disabled = false;
		var datalistName = elemId;

		var request = {};

		request.columnname = 'province';
		request.columnvalue = provinceValue;

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getAreaDistribution", request,
				callback);

		return datalist;

	},

	'renderShopcodeHasAllValue' : function(elemId, callback) {

		var elem = document.getElementById(elemId);

		elem.disabled = false;
		var datalistName = elemId;

		var request = {};

		request.columnname = 'shopcode';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist
				.initLoadApi(
						"/authenapi/AgencyWorkingAreaApi/getDefaultValueListWithAllValue",
						request, callback);

		return datalist;

	},

	'renderStaffInputListenner' : function(staffInputId, agencySelectId) {

		var controlElem = document.getElementById(agencySelectId);

		setTimeout(function() {

			var controlValue = controlElem.value;

			erLib.createStaffInputDatalist(staffInputId, controlValue);
		}, 2000)

		controlElem.onchange = function() {

			var currentValue = this.value;

			erLib.createStaffInputDatalist(staffInputId, currentValue);
		}
	},

	'createStaffInputDatalist' : function(inputId, controlValue) {

		var datalistId = inputId + 'Datalist';

		var datalistIdContainer = datalistId + 'Container';

		var currentDatalist = document.getElementById(datalistIdContainer);
		if (currentDatalist) {

			currentDatalist.remove();
		}

		var tempDatalist = document.getElementById('tempDataList');

		var cloneDatalist = tempDatalist.cloneNode(true);

		cloneDatalist.getElementsByTagName('datalist')[0].innerHTML = '<option  snb-datalist-parent="staffInputDatalist" snb-key="columnvalue"></option>';

		cloneDatalist.setAttribute('id', datalistIdContainer);

		document.getElementsByTagName('main')[0].appendChild(cloneDatalist);

		var input = document.getElementById(inputId);

		input.setAttribute('list', datalistId);

		input.value = '';

		var datalist = cloneDatalist.getElementsByTagName('datalist')[0];
		datalist.setAttribute('id', datalistId);
		datalist.setAttribute('snb-datalist-node', datalistId);

		var option = cloneDatalist.getElementsByTagName('option')[0];
		option.setAttribute('snb-datalist-parent', datalistId);
		option.setAttribute('snb-key', 'columnvalue');

		var datalist = erLib.renderDataListStaff(datalistId, controlValue);

		return datalist;

	},

	'getStaffList' : function(agencyObject, callback) {

		var request = {};

		request.agency = agencyObject.id;

		shinobi.api.request("/authenapi/StaffAreaDistributionApi/getStaffList",
				JSON.stringify(request), function(response) {

					var jsonArr = JSON.parse(response);
					var listStaff = jsonArr.data;

					var listStaffData = erLib.convertListToTreeNode(listStaff,
							'columnname', 'columnvalue', false);

					agencyObject.children = listStaffData;

					callback(agencyObject);

				});
	},

	'renderDataListStaff' : function(datalistId, controlValue) {

		var option = document.createElement('option');
		option.setAttribute('snb-datalist-parent', datalistId);
		option.setAttribute('snb-key', 'columnvalue');

		var datalist = document.getElementById(datalistId);

		removeAllChild(datalist);
		datalist.appendChild(option);

		var request = {};

		request.agency = controlValue;

		request.recordPerPage = getRecordNumber(datalistId);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistId);

		datalist.initLoadApi(
				"/authenapi/StaffAreaDistributionApi/getStaffList", request);

		return datalist;

	},

	'renderDataListOrderStatus' : function(datalistId, controlValue) {

		var option = document.createElement('option');
		option.setAttribute('snb-datalist-parent', datalistId);
		option.setAttribute('snb-key', 'orderstatus');
		option.setAttribute('snb-key-innerhtml', 'orderstatus');
		option.setAttribute('snb-key-result', 'orderresult');

		var datalist = document.getElementById(datalistId);

		removeAllChild(datalist);
		datalist.appendChild(option);

		var request = {};

		request.agency = controlValue;

		request.recordPerPage = getRecordNumber(datalistId);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistId);

		datalist.initLoadApi("/authenapi/OrderStatusCodeApi/getListStatusCode",
				request);

	},

	'renderWardListener' : function(wardId, districtSelectId) {

		var wardSelectDatalist = erLib.renderWard(wardId, document
				.getElementById(districtSelectId).value, function() {

			var districtSelect = document.getElementById(districtSelectId);

			districtSelect.onchange = function() {

				var datalistElem = document.getElementById(wardId);

				removeAllChild(datalistElem);

				datalistElem.appendChild(wardSelectDatalist.sampleNode);

				erLib.renderWard(wardId, this.value);

			}
		});
	},

	'renderWard' : function(elemId, districtValue, callback) {

		var elem = document.getElementById(elemId);

		elem.disabled = false;
		var datalistName = elemId;

		var request = {};

		request.columnname = 'district';
		request.columnvalue = districtValue;

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getAreaDistribution", request,
				callback);

		return datalist;
	},
};shinobi.exportfile = {
	exportFile: function (url, request, option) {
		shinobi.notification.notification.loading();
		shinobi.api.request(url, JSON.stringify(request), function (response) {
			shinobi.notification.notification.loaded();
			console.log(response);
			var data = JSON.parse(response);
			console.log(data);
			if (data.hasOwnProperty('linkfile')) {
				var modal = document.getElementById('confirmDownloadExcelFileModal');
				shinobi.mapping.renderElement(modal, data);
				modal.classList.add('is-active');
			} else {
				shinobi.notification.notification.error('Không tìm thấy file');
			}
			console.log(data);
		})
	},

	request: function (url, param, fileType, callback) {

		var request = new XMLHttpRequest();
		// var url =
		// "http://localhost:7979/exportfile/excel/VseBankTransLogApi";
		request.open('POST', url, true);
		request.setRequestHeader('Content-Type',
			'application/x-www-form-urlencoded; charset=UTF-8');
		request.responseType = 'blob';

		request.onload = function (e) {
			// var fileName = "export.xlsx";
			var fileName = "export." + fileType;

			if (this.status === 200) {
				var blob = this.response;
				if (window.navigator.msSaveOrOpenBlob) {
					window.navigator.msSaveBlob(blob, fileName);
				} else {

					if (typeof callback == 'function') {

						callback();
					}

					var downloadLink = window.document.createElement('a');
					var contentTypeHeader = request
						.getResponseHeader("Content-Type");
					downloadLink.href = window.URL.createObjectURL(new Blob(
						[blob], {
						type: contentTypeHeader
					}));
					downloadLink.download = fileName;
					document.body.appendChild(downloadLink);
					downloadLink.click();
					document.body.removeChild(downloadLink);

				}
			}
		};
		request.send(param);

	},
};shinobi.fileupload = {
	'filelist': [],
	'register': function (uploadElemId, elemevent, uploadpoint, beforeupload,
		callback) {

		var uploadElem = document.getElementById(uploadElemId);
		shinobi.fileupload.registerElement(uploadElem, elemevent, uploadpoint,
			beforeupload, callback);

	},
	'registerElement': function (uploadElem, elemevent, uploadpoint,
		beforeupload, callback, option) {
		if (option && option.hasOwnProperty('type')) {
			if (option.type == 'public') {
				var sessionid = '###'
				if (elemevent == "change") {
					uploadElem
						.addEventListener(
							elemevent,
							function () {

								shinobi.notification.notification
									.loading();
								var type = shinobi.fileupload
									.isImage(uploadElem.files[0].type);

								var fileListIndex = beforeupload(type);

								var formData = new FormData();

								formData
									.append(
										"file",
										uploadElem.files[0]);
								formData.append("session",
									sessionid);
								formData.append(
									"fileindex",
									fileListIndex);

								shinobi.fileupload
									.uploadFile(
										formData,
										uploadpoint,
										callback);
							});
				} else if (elemevent == "paste") {
					uploadElem
						.addEventListener(
							elemevent,
							function (e) {
								shinobi.notification.notification
									.loading();
								var formData = new FormData();

								var file = e.clipboardData.files[0];

								if (Object.prototype.toString
									.call(file) === '[object File]') {
									var type = shinobi.fileupload
										.isImage(file.type);

									var fileListIndex = beforeupload(type);

									formData
										.append(
											"file",
											e.clipboardData.files[0]);
									formData.append(
										"session",
										sessionid);
									formData.append(
										"fileindex",
										fileListIndex);

									shinobi.fileupload
										.uploadFile(
											formData,
											uploadpoint,
											callback);
								}

							});
				} else if (elemevent == "drop") {
					uploadElem.addEventListener(elemevent,
						function (e) {
							shinobi.notification.notification
								.loading();
							beforeupload();

							var formData = new FormData();

							formData.append("file",
								e.dataTransfer.files[0]);
							formData.append("session",
								sessionid);

							shinobi.fileupload.uploadFile(
								formData, uploadpoint,
								callback);
						});
				}
			}

		}
		else {
			var userApi = (shinobi.hasOwnProperty('coreapi') && shinobi.coreapi.hasOwnProperty('userApi')) ? shinobi.coreapi.userApi : "/authenapi/userapi/";
			if (shinobi.hasOwnProperty('coreapi') && shinobi.coreapi.hasOwnProperty('getSessionIdApi')) {
				userApi = shinobi.coreapi.getSessionIdApi;
			}
			var request = {};
			shinobi.api
				.request(userApi + 'getSessionId'
					,
					JSON.stringify(request),
					function (response) {
						var json = JSON.parse(response);
						var sessionid = json.sessionid;

						if (elemevent == "change") {
							uploadElem
								.addEventListener(
									elemevent,
									function () {

										shinobi.notification.notification
											.loading();
										var type = shinobi.fileupload
											.isImage(uploadElem.files[0].type);

										var fileListIndex = beforeupload(type);

										var formData = new FormData();

										formData
											.append(
												"file",
												uploadElem.files[0]);
										formData.append("session",
											sessionid);
										formData.append(
											"fileindex",
											fileListIndex);

										shinobi.fileupload
											.uploadFile(
												formData,
												uploadpoint,
												callback);
									});
						} else if (elemevent == "paste") {
							uploadElem
								.addEventListener(
									elemevent,
									function (e) {
										shinobi.notification.notification
											.loading();
										var formData = new FormData();

										var file = e.clipboardData.files[0];

										if (Object.prototype.toString
											.call(file) === '[object File]') {
											var type = shinobi.fileupload
												.isImage(file.type);

											var fileListIndex = beforeupload(type);

											formData
												.append(
													"file",
													e.clipboardData.files[0]);
											formData.append(
												"session",
												sessionid);
											formData.append(
												"fileindex",
												fileListIndex);

											shinobi.fileupload
												.uploadFile(
													formData,
													uploadpoint,
													callback);
										}

									});
						} else if (elemevent == "drop") {
							uploadElem.addEventListener(elemevent,
								function (e) {
									shinobi.notification.notification
										.loading();
									beforeupload();

									var formData = new FormData();

									formData.append("file",
										e.dataTransfer.files[0]);
									formData.append("session",
										sessionid);

									shinobi.fileupload.uploadFile(
										formData, uploadpoint,
										callback);
								});
						}

					});
		}

	},
	'uploadFile': function (formData, uploadpoint, callback) {
		var xhr = new XMLHttpRequest();
		xhr.onreadystatechange = function () {
			if (this.readyState == 4 && this.status == 200) {
				shinobi.notification.notification.loaded();
				try {
					var json = JSON.parse(xhr.responseText);
					callback(json);

				} catch (e) {
					shinobi.notification.notification
						.error('Có lỗi vui lòng thử lại');
				}

				// var avatar = document.getElementById("avatar");
				// avatar.setAttribute("src", json.content);
			}
		};

		var hostname = window.location.hostname;
		var protocol = window.location.protocol;

		if (shinobi.hasOwnProperty('fileuploadconfig') && shinobi.fileuploadconfig.hasOwnProperty('uploadDomain')) {
			var uploadDomain = shinobi.fileuploadconfig.uploadDomain;
			xhr.open("POST", uploadDomain + uploadpoint, true);
		} else if (shinobi.hasOwnProperty('fileuploadconfig') && shinobi.fileuploadconfig.hasOwnProperty('uploadDomainProcess')
		) {
			uploadDomain = shinobi.fileuploadconfig.uploadDomainProcess();
			xhr.open("POST", uploadDomain + uploadpoint, true);
		} else {
			if (hostname == "localhost") {
				xhr.open("POST", "http://localhost:9999/" + uploadpoint, true);
			} else if (hostname === "www.aladin.finance") {
				xhr.open("POST", protocol + "//uploadfile.aladin.finance" + "/"
					+ uploadpoint, true);
			} else if (hostname === "chonso.cbv.com.vn") {
				xhr.open("POST", protocol + "//uploadfile.cbv.com.vn" + "/"
					+ uploadpoint, true);
			} else {
				xhr.open("POST", protocol + "//uploadfile." + hostname + "/"
					+ uploadpoint, true);
			}
		}

		xhr.withCredentials = true;
		xhr.send(formData);

	},
	'isImage': function (type) {
		if ('image/png' == type || 'image/jpeg' == type || 'image/gif' == type) {
			return true;
		} else {
			return false;
		}
	}

};shinobi.fragmentchangepassword = {
	classButtonControlSelector : 'fragment-change-password-button-control',
	listButtonControl : [],
	modal : '',
	modalId : 'fragmentChangePassword',
	init : function() {
		shinobi.fragmentchangepassword.modal = document
				.getElementById(shinobi.fragmentchangepassword.modalId);
		shinobi.fragmentchangepassword.addEventListButtonControl();
		shinobi.fragmentchangepassword.addEventButtonModal();
		// shinobi.fragmentchangepassword.addEventLogout();
		// shinobi.fragmentchangepassword.changeLoggedState();

	},

	addEventButtonModal : function() {

		shinobi.fragmentchangepassword.addEventChangePasswordButton();
	},
	addEventChangePasswordButton : function() {
		var button = shinobi.fragmentchangepassword.modal
				.getElementsByClassName('submit-button')[0];

		shinobi.fragmentchangepassword.addEventButtonWhenClick(button);
		shinobi.fragmentchangepassword.addEventButtonWhenEnter(button);

	},

	addEventButtonWhenClick : function(elem) {
		elem.onclick = function() {
			shinobi.fragmentchangepassword.changePasswordProcess();
		}
	},
	addEventButtonWhenEnter : function(elem) {
		elem.addEventListener('keypress', function(e) {
			var key = e.which || e.keyCode;
			if (key === 13) {
				shinobi.fragmentchangepassword.changePasswordProcess();
			}
		});
	},
	changePasswordProcess : function() {
		var oldPasswordInput = shinobi.fragmentchangepassword.modal
				.getElementsByClassName('old-password-input')[0];
		var newPasswordInput = shinobi.fragmentchangepassword.modal
				.getElementsByClassName('new-password-input')[0];
		var confirmPasswordInput = shinobi.fragmentchangepassword.modal
				.getElementsByClassName('confirm-password-input')[0];
		if (confirmPasswordInput.value.trim() == ""
				|| newPasswordInput.value.trim() == ""
				|| oldPasswordInput.value.trim() == "") {
			shinobi.notification.notification.error("Nhập đầy đủ thông tin!");
			return;
		} else if (confirmPasswordInput.value.trim() != newPasswordInput.value
				.trim()) {
			shinobi.notification.notification
					.error("Mật khẩu mới và xác nhận mật khẩu không giống nhau!");
			return;

		} else {
			shinobi.notification.confirm(function() {
				var request = {};
				request.oldpassword = shinobi.util
						.sha256(oldPasswordInput.value.trim());
				request.newpassword = shinobi.util
						.sha256(newPasswordInput.value.trim());
				shinobi.fragmentchangepassword.sendRequest(request);
			}, {
				title : 'Xác nhận',
				content : 'Bạn chắc chắn',

			});

		}
	},
	sendRequest : function(request) {
		shinobi.notification.notification.loading();
		shinobi.api.request(shinobi.coreapi.userApi + 'changeUserPassword',
				JSON.stringify(request), function(response) {
					shinobi.notification.notification.loaded();

					if (response == "update success") {
						shinobi.notification.notification
								.info('Đổi mật khẩu thành công');
						shinobi.fragmentchangepassword.close();
					}
				});

	},

	addEventListButtonControl : function() {
		shinobi.fragmentchangepassword.listButtonControl = document
				.getElementsByClassName(shinobi.fragmentchangepassword.classButtonControlSelector);

		for (var i = 0; i < shinobi.fragmentchangepassword.listButtonControl.length; i++) {
			var button = shinobi.fragmentchangepassword.listButtonControl[i];
			button.onclick = function() {
				shinobi.fragmentchangepassword.open();
			}
		}

	},

	open : function() {
		if (shinobi.fragmentchangepassword.modal != '') {
			shinobi.fragmentchangepassword.modal.classList.add('is-active');

		}
	},

	close : function() {
		if (shinobi.fragmentchangepassword.modal != '') {
			shinobi.fragmentchangepassword.modal.classList.remove('is-active');
		}
	},
};shinobi.fragmentforgotpassword = {
	classButtonControlSelector : 'fragment-forgot-password-button-control',
	listButtonControl : [],
	classLogoutButtonSelector : 'logout-button',
	classLoggedUserNameButtonSelector : 'logged-username-button',
	modal : '',
	modalId : 'fragmentForgotPassword',
	init : function() {

		shinobi.fragmentforgotpassword.modal = document
				.getElementById(shinobi.fragmentforgotpassword.modalId);
		shinobi.fragmentforgotpassword.modal
				.getElementsByClassName('note-field')[0].classList
				.add('is-hidden');
		shinobi.fragmentforgotpassword.addEventListButtonControl();
		shinobi.fragmentforgotpassword.addEventButtonModal();

	},

	addEventButtonModal : function() {

		shinobi.fragmentforgotpassword.addEventSubmitButton();

	},

	addEventSubmitButton : function() {
		var button = shinobi.fragmentforgotpassword.modal
				.getElementsByClassName('submit-button')[0];
		shinobi.fragmentforgotpassword.addEventWhenClick(button);
		shinobi.fragmentforgotpassword.addEventWhenEnter(button);

	},

	addEventWhenClick : function(elem) {
		elem.onclick = function() {
			shinobi.fragmentforgotpassword.request();
		}
	},
	addEventWhenEnter : function(elem) {
		elem.addEventListener('keypress', function(e) {
			var key = e.which || e.keyCode;
			if (key === 13) {
				shinobi.fragmentforgotpassword.request();
			}
		});
	},
	request : function() {
		var emailInput = shinobi.fragmentforgotpassword.modal
				.querySelector('input[snb-key="email"]');
		if (emailInput.value.trim() == "") {
			shinobi.notification.notification.error("Nhập đầy đủ thông tin!");
			return;
		} else {
			var request = {};
			request.email = emailInput.value.trim();
			shinobi.notification.notification.loading();
			shinobi.api.request(shinobi.coreapi.userApi
					+ 'sendForGetPasswordEmail', JSON.stringify(request),
					function(data) {
						if (data == "update success") {
							shinobi.notification.notification.loaded();
							shinobi.mapping.renderElement(
									shinobi.fragmentforgotpassword.modal,
									request);
						}
					});
		}
	},

	disableInputAndButton : function(elem, value, all) {
		elem.setAttribute('disabled', true);
	},

	showNoteField : function(elem, value, all) {
		elem.classList.remove('is-hidden');
	},
	addEventListButtonControl : function() {
		shinobi.fragmentforgotpassword.listButtonControl = document
				.getElementsByClassName(shinobi.fragmentforgotpassword.classButtonControlSelector);

		for (var i = 0; i < shinobi.fragmentforgotpassword.listButtonControl.length; i++) {
			var button = shinobi.fragmentforgotpassword.listButtonControl[i];
			button.onclick = function() {
				// hidden sign up modal
				shinobi.fragmentsignup.close();
				// show login modal
				shinobi.fragmentforgotpassword.open();
			}
		}

	},

	open : function() {
		if (shinobi.fragmentforgotpassword.modal != '') {
			shinobi.fragmentforgotpassword.modal.classList.add('is-active');

		}
	},

	close : function() {
		if (shinobi.fragmentforgotpassword.modal != '') {
			shinobi.fragmentforgotpassword.modal.classList.remove('is-active');
		}
	},
};shinobi.fragmentlogin = {
	href: window.location.href,
	classButtonControlSelector: 'fragment-login-button-control',
	listButtonControl: [],
	classLogoutButtonSelector: 'logout-button',
	classLoggedUserNameButtonSelector: 'logged-username-button',
	modal: '',
	modalId: 'fragmentLogin',
	init: function () {
		//add event redirect to origin page when login done
		shinobi.fragmentlogin.addEventClickLoginButton();
		shinobi.fragmentlogin.checkHasLogged(function () {
			shinobi.fragmentlogin.modal = document
				.getElementById(shinobi.fragmentlogin.modalId);
			shinobi.fragmentlogin.addEventButtonModal();
			shinobi.fragmentlogin.addEventLogout();
			shinobi.fragmentlogin.changeLoggedState();
			shinobi.fragmentlogin.showLoginSignUpButton();
		});

	},

	addEventClickLoginButton: function () {
		var loginButtons = document.querySelectorAll('.is-login-button');
		if (window.location.pathname != '/page/login') {
			loginButtons.forEach(function (button) {
				button.setAttribute('href', '/page/login?originpage=' + window.location.pathname);

			})
		}
	},

	showLoginSignUpButton: function () {
		if (JSON.stringify(document.body.classList).includes('not-logged')) {

			var signupButton = document.querySelector('.is-signup-button');
			signupButton.classList.remove('is-hidden');

			var loginButton = document.querySelector('.is-login-button');
			loginButton.classList.remove('is-hidden');
		}
	},

	loadGoogleAndFacebookLib: function () {
		window.fbAsyncInit = function () {
			FB.init({
				appId: '515882212152388',
				autoLogAppEvents: true,
				xfbml: true,
				version: 'v3.2'
			});
		};

		(function (d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) {
				return;
			}
			js = d.createElement(s);
			js.id = id;
			js.src = "https://connect.facebook.net/en_US/sdk.js";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
	},

	changeLoggedState: function () {
		shinobi.coreapi.reCheckAuthen(function (username) {

			if (username) {
				document.body.classList.add('has-logged');
				document.body.classList.remove('not-logged');

			} else {
				document.body.classList.remove('has-logged');
				document.body.classList.add('not-logged');
			}

		});
	},

	addEventLogout: function () {
		var listLogoutButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector);
		for (var k = 0; k < listLogoutButton.length; k++) {
			listLogoutButton[k].onclick = function () {
				shinobi.fragmentloginextension.logoutProcess(function () {
					shinobi.fragmentlogin.logoutProcess();
				});

			}

		}
	},

	logoutProcess: function () {
		shinobi.xhradapter.getResource('/logout', function (response) {

		});

		var listSignUpButton = document
			.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector);
		for (var i = 0; i < listSignUpButton.length; i++) {
			listSignUpButton[i].classList.remove('is-hidden');
		}

		var listLogInButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classButtonControlSelector);
		for (var j = 0; j < listLogInButton.length; j++) {
			listLogInButton[j].classList.remove('is-hidden');
		}

		var listLogoutButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector);
		for (var k = 0; k < listLogoutButton.length; k++) {
			listLogoutButton[k].classList.remove('is-logged');
		}

		var listLoggedUserNameButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classLoggedUserNameButtonSelector);
		for (var l = 0; l < listLoggedUserNameButton.length; l++) {
			listLoggedUserNameButton[l].classList.remove('is-logged');
			listLoggedUserNameButton[l].classList.remove('is-logged');
			listLoggedUserNameButton[l].innerHTML = '';

		}

		shinobi.cacheapi.clear();
		// when clear cache => check authen has reload `
		shinobi.fragmentlogin.changeLoggedState();
		window.location.href = '/';

	},

	checkHasLogged: function (callback) {
		shinobi.coreapi.checkAuthen(function (sessionId) {
			if (sessionId) {
				shinobi.fragmentlogin.hasLoginProcess();
				shinobi.fragmentloginextension.loginProcess();
			}

			if (typeof callback == 'function') {
				callback();
			}
		});
	},

	addEventButtonModal: function () {

		shinobi.fragmentlogin.addEventLoginButton();

	},

	addEventLoginButton: function () {
		var listSelector = ['.username-input', '.password-input',
			'.login-button'];
		listSelector.forEach(function (selector) {
			var elem = shinobi.fragmentlogin.modal.querySelector(selector);
			var tagName = elem.tagName;
			switch (tagName) {
				case 'INPUT':
					shinobi.fragmentlogin.addEventLoginWhenEnter(elem);
					break;
				case 'A':
				case 'BUTTON':
					shinobi.fragmentlogin.addEventLoginWhenEnter(elem);
					shinobi.fragmentlogin.addEventLoginWhenClick(elem);
					break;
				default:
					shinobi.fragmentlogin.addEventLoginWhenClick(elem);
					break;
			}

		});

	},

	addEventLoginWhenClick: function (elem) {
		elem.onclick = function () {
			shinobi.fragmentlogin.login();
		}
	},
	addEventLoginWhenEnter: function (elem) {
		elem.addEventListener('keypress', function (e) {
			var key = e.which || e.keyCode;
			if (key === 13) {
				shinobi.fragmentlogin.login();
			}
		});
	},
	login: function () {
		var username = document.getElementsByClassName('username-input')[0];
		var password = document.getElementsByClassName('password-input')[0];
		if (username.value.trim() == "" || password.value.trim() == "") {
			shinobi.notification.notification.error("Nhập đầy đủ thông tin!");
			return;
		} else {
			var request = {};
			request.username = username.value.trim();
			request.password = shinobi.util.sha256(password.value.trim());
			request.secureinfo = "";
			shinobi.fragmentlogin.requestLogin(request, "/login");

		}
	},
	requestLogin: function (request, loginurl) {
		shinobi.notification.notification.loading();
		shinobi.api.request(loginurl, JSON.stringify(request), function (data) {
			shinobi.notification.notification.loaded();
			if (data == "authen success") {
//				shinobi.fragmentlogin.close();
				shinobi.fragmentlogin.hasLoginProcess();
				shinobi.fragmentloginextension.loginProcess();

			} else {
				shinobi.notification.notification
					.error("Tài khoản hoặc mật khẩu sai!!!");
				return;
			}
		});

	},

	hasLoginProcess: function () {
		// hidden all sign in and sign up button
		var listSignUpButton = document
			.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector);
		for (var i = 0; i < listSignUpButton.length; i++) {
			listSignUpButton[i].classList.add('is-hidden');
		}

		var listLogInButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classButtonControlSelector);
		for (var j = 0; j < listLogInButton.length; j++) {
			listLogInButton[j].classList.add('is-hidden');
		}

		var listLogoutButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector);
		for (var k = 0; k < listLogoutButton.length; k++) {
			listLogoutButton[k].classList.add('is-logged');
		}

		var listLoggedUserNameButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classLoggedUserNameButtonSelector);
		for (var l = 0; l < listLoggedUserNameButton.length; l++) {
			listLoggedUserNameButton[l].classList.add('is-logged');
			listLoggedUserNameButton[l].classList.add('is-loading');

		}

		shinobi.fragmentlogin.changeLoggedState();

	},
};shinobi.fragmentloginextension = {
	loginProcess: function () {
		// shinobi.loggedusertemplaterender.renderHeaderMenu();
		if (shinobi.socketmanager.privateWebSocket == '') {
			shinobi.socketmanager.init();
		}

	},
	logoutProcess: function (callback) {
		if (typeof callback == 'function') {
			callback();
		}
	},
};shinobi.fragmentsignup = {
	classButtonControlSelector : 'fragment-sign-up-button-control',
	listButtonControl : [],
	modal : '',
	modalId : 'fragmentSignUp',
	intlTelInput : '',
	hasCheckTrashMail : true,
	init : function() {

		shinobi.fragmentsignup.modal = document
				.getElementById(shinobi.fragmentsignup.modalId);
		shinobi.fragmentsignup.addEventListButtonControl();
		shinobi.fragmentsignup.renderSelectPhoneTelephoneInput();
		shinobi.fragmentsignup.addEventButtonModal();

	},

	renderSelectPhoneTelephoneInput : function() {

		var input = shinobi.fragmentsignup.modal
				.getElementsByClassName('phone-number-input')[0];
		shinobi.fragmentsignup.intlTelInput = window.intlTelInput(input, {
			// allowDropdown: false,
			// autoHideDialCode: false,
			autoPlaceholder : "off",
			dropdownContainer : document.body,
			// excludeCountries: ["us"],
			// formatOnDisplay: false,
			// geoIpLookup: function(callback) {
			// $.get("http://ipinfo.io", function() {},
			// "jsonp").always(function(resp) {
			// var countryCode = (resp && resp.country) ? resp.country : "";
			// callback(countryCode);
			// });
			// },
			// hiddenInput: "full_number",
			initialCountry : "vn",
			// localizedCountries: { 'de': 'Deutschland' },
			// nationalMode: false,
			// onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
			// placeholderNumberType: "MOBILE",
			// preferredCountries: ['cn', 'jp'],
			// separateDialCode: true,
			utilsScript : "/static/js/library/intlTelInputUtil.js",
		});
	},

	addEventButtonModal : function() {
		shinobi.fragmentsignup.addEventSignUpButton();
		shinobi.fragmentsignup.signUpWithFacebook();
		shinobi.fragmentsignup.signUpWithGoogle();

	},

	signUpWithGoogle : function() {
		var button = shinobi.fragmentsignup.modal
				.querySelector('.google-button');
		gapi
				.load(
						'auth2',
						function() {
							// Retrieve the singleton for the GoogleAuth library
							// and set up the client.
							var auth2 = gapi.auth2
									.init({
										client_id : '92469729159-a402g2mqs9o0bje69k6gr2lheun6beer.apps.googleusercontent.com',
										cookiepolicy : 'single_host_origin',

									});

							auth2
									.attachClickHandler(
											button,
											{},
											function(googleUser) {

												var profile = googleUser
														.getBasicProfile();

												var accessToken;
												if (googleUser.Zi) {
													accessToken = googleUser.Zi.access_token;
												}
												if (googleUser.tc) {
													accessToken = googleUser.tc.access_token;
												}
												if (accessToken) {
													var password = shinobi.util
															.sha256(accessToken);
													var phonenumber = Math
															.floor(Math
																	.random()
																	* (999999999 - 100000000)
																	+ 100000000);

													var lastName = (googleUser.w3) ? googleUser.w3.ofa
															: googleUser.Pt.CU;
													var firstName = (googleUser.w3) ? googleUser.w3.wea
															: googleUser.Pt.BW;
													var username = (googleUser.El) ? googleUser.El
															: googleUser.Ca;
													var mappingJson = {
														lastname : lastName,
														firstname : firstName,
														email : profile
																.getEmail(),
														phonenumber : phonenumber,
														password : password,
														confirmPassword : password,
														username : "gg_"
																+ username,
														acceptRule : true,
													};

													var formContainer = shinobi.fragmentsignup.modal
															.getElementsByClassName('form-container')[0];

													shinobi.mapping
															.renderElement(
																	formContainer,
																	mappingJson);
													var signUpOption = {
														method : 'google',
														data : mappingJson,
													};
													shinobi.fragmentsignup
															.signup(signUpOption);

												} else {
													shinobi.notification.notification
															.error('Không thể kết nối với Google');
												}

											}, function(error) {
												alert(JSON.stringify(error,
														undefined, 2));
											});
						});
	},

	signUpWithFacebook : function() {
		var button = shinobi.fragmentsignup.modal
				.querySelector('.facebook-button');
		button.onclick = function() {
			FB
					.login(
							function(responseLogin) {
								if (responseLogin.authResponse) {
									var authResponse = responseLogin.authResponse;
									var accessToken = authResponse.accessToken;
									var userID = authResponse.userID;

									FB
											.api(
													'/' + userID,
													'GET',
													{
														"fields" : "id,first_name, last_name,birthday,email,hometown,location"
													},
													function(response) {

														var password = shinobi.util
																.sha256(accessToken);
														var phonenumber = Math
																.floor(Math
																		.random()
																		* (999999999 - 100000000)
																		+ 100000000);

														var mappingJson = {
															lastname : response.last_name,
															firstname : response.first_name,
															email : response.email,
															phonenumber : phonenumber,
															password : password,
															confirmPassword : password,
															username : "fb_"
																	+ userID,
															acceptRule : true,
														};

														var formContainer = shinobi.fragmentsignup.modal
																.getElementsByClassName('form-container')[0];
														shinobi.mapping
																.renderElement(
																		formContainer,
																		mappingJson);
														var signUpOption = {
															method : 'facebook',
															data : mappingJson,
														};
														shinobi.fragmentsignup
																.signup(signUpOption);

													});
								} else {
									shinobi.notification.notification
											.error('Không thể kết nối với Facebook');
								}

							},
							{
								scope : 'user_birthday, email, user_hometown, user_gender, user_location'
							});
		}
	},

	addEventSignUpButton : function() {

		var signUpButton = shinobi.fragmentsignup.modal
				.querySelector('.signup-button');
		shinobi.fragmentsignup.addEventWhenClick(signUpButton);
		shinobi.fragmentsignup.addEventWhenEnter(signUpButton);
	},

	addEventWhenClick : function(elem) {
		elem.onclick = function() {
			shinobi.fragmentsignup.signup();
		}
	},
	addEventWhenEnter : function(elem) {
		elem.addEventListener('keypress', function(e) {
			var key = e.which || e.keyCode;
			if (key === 13) {
				shinobi.fragmentsignup.signup();
			}
		});
	},
	signup : function(signUpOption) {

		var request = shinobi.fragmentsignup.getInput();

		shinobi.fragmentsignup.checkInput(request, function(signUpRequest) {

			shinobi.fragmentsignup.sendRequest(signUpRequest);
		}, signUpOption);
	},

	sendRequest : function(signUpRequest) {
		shinobi.notification.notification.loading();
		shinobi.api.request(shinobi.coreapi.userApi + "createNewUser", JSON
				.stringify(signUpRequest), function(signUpResponse) {
			if (signUpResponse == 'update success') {
				shinobi.notification.notification.loaded();
				shinobi.fragmentsignup.checkMailProcess(signUpRequest);
				shinobi.fragmentsignup.showCheckMailModal(signUpRequest);
				shinobi.fragmentsignup.close()

			}
		});
	},

	showCheckMailModal : function(request) {
		var content = '<p>Xin chào <b>'
				+ request['lastname']
				+ ' '
				+ request['firstname']
				+ '</b>,<br>'
				+ 'Chúng tôi đã gửi mã xác nhận đến email: <b>'
				+ request['email']
				+ '</b><br>Vui lòng xác nhận địa chỉ email để hoàn tất đăng ký tài khoản.<br>Trân trọng. </p>';
		shinobi.notification.confirm(function() {

		}, {
			title : 'Xác nhận email',
			content : content,
			ishiddenfooter : true,
			modalsize : 'is-medium',
		});
	},
	checkMailProcess : function(signUpRequest) {
		if (shinobi.fragmentsignup.hasCheckTrashMail) {
			shinobi.api.request(shinobi.coreapi.mailApi + "sendMail", JSON
					.stringify(signUpRequest), function(sendMailResponse) {

			});
		}
	},

	getInput : function() {
		var formContainer = shinobi.fragmentsignup.modal
				.getElementsByClassName('form-container')[0];

		var listSnbKey = formContainer.querySelectorAll('[snb-key]');
		var request = {};
		for (var i = 0; i < listSnbKey.length; i++) {

			var key = listSnbKey[i].getAttribute('snb-key');
			var value = shinobi.util.getValueInput(listSnbKey[i]);
			request[key] = value;

		}
		return request;
	},

	checkInput : function(request, callback, signUpOption) {

		var formContainer = shinobi.fragmentsignup.modal
				.getElementsByClassName('form-container')[0];
		var hasFillAllInput = true;
		var entries = Object.entries(request);
		entries
				.forEach(function(item) {
					var key = item[0];
					var value = item[1];
					var elem = formContainer.querySelector('[snb-key="' + key
							+ '"]');
					if (typeof value == 'string' && value == ''
							|| typeof value == 'boolean' && value == false) {
						shinobi.notification.notification
								.error('Nhập đầy đủ thông tin và đồng ý các điều khoản');
						elem.classList.add('is-danger');
						hasFillAllInput = false;
					} else {
						elem.classList.remove('is-danger');
					}

				});

		if (hasFillAllInput) {
			if (request['password'] == request['confirmPassword']) {
				request['password'] = shinobi.util.sha256(request['password']);
				request['confirmPassword'] = shinobi.util
						.sha256(request['confirmPassword']);
				request['phonereligion'] = shinobi.fragmentsignup
						.getInternationalTelephoneCode();
				request['country'] = shinobi.fragmentsignup
						.getInternationalTelephoneCountry();
				if (signUpOption) {
					var method = signUpOption['method'];
					switch (method) {
					case 'google':
					case 'facebook':
						request['username'] = signUpOption['data']['username'];
						break;
					default:
						request['username'] = request['email'];
						break;
					}
				} else {
					request['username'] = request['email'];
				}

				if (typeof callback == 'function') {
					callback(request);
				}
			} else {
				shinobi.notification.notification
						.error('Xác nhận mật khẩu không trùng khớp');
			}
		}
	},

	getInternationalTelephoneCode : function() {
		return shinobi.util
				.getInternationalTelephoneCode(shinobi.fragmentsignup.intlTelInput);
	},
	getInternationalTelephoneCountry : function() {
		return shinobi.util
				.getInternationalTelephoneCountry(shinobi.fragmentsignup.intlTelInput);
	},

	addEventListButtonControl : function() {
		shinobi.fragmentsignup.listButtonControl = document
				.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector);

		for (var i = 0; i < shinobi.fragmentsignup.listButtonControl.length; i++) {
			var button = shinobi.fragmentsignup.listButtonControl[i];
			button.onclick = function() {
				// hidden login modal
				shinobi.fragmentlogin.close();
				// show sign up modal
				shinobi.fragmentsignup.open();
			}
		}

	},
	open : function() {
		if (shinobi.fragmentsignup.modal != '') {
			shinobi.fragmentsignup.modal.classList.add('is-active');
		}

	},

	close : function() {
		if (shinobi.fragmentsignup.modal != '') {
			shinobi.fragmentsignup.modal.classList.remove('is-active');
		}
	},
};shinobi.gui = (function () {
  var constructor = function (url, option) {
    this.editors = [];
    this.tableId = "dataTable";
    this.detailPanelId = "detailpanel";
    this.buttonGroupId = "buttonGroup";
    this.apiurl = url;
    this.option = option;
    this.detailPanelElem = document.getElementById(this.detailPanelId);
    shinobi.tableHelper.getColname(this.tableId);
    this.tableObject = new shinobi.table(this.tableId);

    this.loadTable = function () {
      // this.tableObject = new shinobi.table(this.tableId);
      this.tableObject.viewDetailPanelId = this.detailPanelId;

      var colNames = this.tableObject.getColnames(this.tableId);
      var tableId = this.tableId;
      var renders = shinobi.tableHelper.getRender(tableId);
      if (!renders[0]) {
        renders[0] = this.tableObject.viewDetailRender;
      }

      var request = {};
      var recordNumber = shinobi.util.getRecordNumber(this.tableId);
      request.recordPerPage = isNaN(recordNumber) ? 10 : recordNumber;

      if (
        option != null &&
        option.hasOwnProperty["tableObjectOption"] &&
        option.tableObjectOption != null &&
        typeof option.tableObjectOption.staticfilters !== "undefined" &&
        option.tableObjectOption.staticfilters != null
      ) {
        this.tableObject.staticfilters = option.tableObjectOption.staticfilters;
      }

      var sort = {};
      sort.colname = "id";
      sort.value = "desc";

      this.tableObject.staticsorts[0] = sort;

      if (
        option != null &&
        option.hasOwnProperty["tableObjectOption"] &&
        option.tableObjectOption != null &&
        typeof option.tableObjectOption.hasCheckDuplicateFilterColumn !== "undefined" &&
        option.tableObjectOption.hasCheckDuplicateFilterColumn != null &&
        typeof option.tableObjectOption.checkDuplicateFilterColumnList !== "undefined" &&
        option.tableObjectOption.checkDuplicateFilterColumnList != null
      ) {
        this.tableObject.hasCheckDuplicateFilterColumn = option.tableObjectOption.hasCheckDuplicateFilterColumn;
        this.tableObject.checkDuplicateFilterColumnList = option.tableObjectOption.checkDuplicateFilterColumnList;
      }

      this.tableObject.initLoadApi(this.apiurl + "/findDataListExport", request, colNames, renders);

      return this;
    };

    this.createElem = function (nodetype, classlist) {
      var elem = document.createElement(nodetype);
      elem.classList.add(classlist);
      return elem;
    };

    this.buildViewPanelObject = function () {
      var object = this;
      var formElem = document.getElementById(this.detailPanelId);

      var snbElems = formElem.querySelectorAll("[snb-key]");

      var result = {};
      snbElems.forEach(function (elem) {
        var colname = elem.getAttribute("snb-key");

        if (elem.hasAttribute("snb-preprocess")) {
          shinobi.mapping.getValueElement(object.detailPanelElem, function (jsonMapping) {
            result[colname] = eval(elem.getAttribute("snb-preprocess"))(elem.value, {
              elem: elem,
              gui: object,
              all: jsonMapping,
            });
          });
        } else if (elem.hasAttribute("snb-editor-index")) {
          result[colname] = shinobiEditors[elem.getAttribute("snb-editor-index")].getData();
        } else if (elem.hasAttribute("snb-datatype")) {
          var datatype = elem.getAttribute("snb-datatype");

          if (datatype == "number") {
            result[colname] = Number(elem.value);
          }
        } else {
          result[colname] = elem.value;
        }
      });

      return result;
    };

    this.registerCreateButton = function () {
      var list = document.getElementById(this.buttonGroupId).getElementsByClassName("createButton");
      var gui = this;
      var createButton = list[0];
      var hasButton = true;
      if (option && option.hasOwnProperty("isHiddenCreateButton") && option["isHiddenCreateButton"] == true) {
        hasButton = false;
        createButton.classList.add("is-hidden");
      }

      if (hasButton) {
        createButton.onclick = function () {
          shinobi.mapping.getValue("#" + gui.detailPanelId, function (jsonMapping) {
            shinobi.notification.confirm(function () {
              gui.createProcess(jsonMapping);
            });
          });
        };
      }
    };

    this.createProcess = function (jsonMapping) {
      var gui = this;
      if (option && option.hasOwnProperty("createFunction")) {
        option["createFunction"](gui, jsonMapping);
        return;
      }
      if (option && option.hasOwnProperty("checkEmpty") && option["checkEmpty"]) {
        shinobi.mapping.getValueElement(
          gui.detailPanelElem,
          function (reJsonMapping) {
            delete reJsonMapping["id"];
            Object.values(reJsonMapping).includes("")
              ? shinobi.util.fillInputMessage()
              : gui.sendCreateRequest(jsonMapping);
          },
          {
            checkEmpty: true,
          }
        );
        return;
      }

      gui.sendCreateRequest(jsonMapping);
    };

    this.sendCreateRequest = function (jsonMapping) {
      var gui = this;
      delete jsonMapping.id;
      shinobi.notification.notification.loading();
      shinobi.api.request(gui.apiurl + "/create", JSON.stringify(jsonMapping), function (content) {
        shinobi.notification.notification.info(content);

        gui.loadTable();
      });
    };
    this.registerDeleteButton = function () {
      var list = document.getElementById(this.buttonGroupId).getElementsByClassName("deleteButton");
      var deleteButton = list[0];
      var gui = this;
      var hasButton = true;
      if (option && option.hasOwnProperty("isHiddenDeleteButton") && option["isHiddenDeleteButton"] == true) {
        hasButton = false;
        deleteButton.classList.add("is-hidden");
      }

      if (hasButton) {
        deleteButton.onclick = function () {
          gui.checkDetailPanelJsonHasId(gui, function (jsonMapping) {
            if (option && option.hasOwnProperty("deleteFunction")) {
              option["deleteFunction"](gui, jsonMapping);
            } else {
              shinobi.notification.notification.loading();
              shinobi.api.request(gui.apiurl + "/remove", JSON.stringify(jsonMapping), function (content) {
                shinobi.notification.notification.info(content);
                gui.loadTable();
              });
            }
          });
        };
      }
    };

    this.registerUpdateButton = function () {
      var updateButton = document.getElementById(this.buttonGroupId).getElementsByClassName("updateButton")[0];

      var gui = this;
      var hasButton = true;
      if (option && option.hasOwnProperty("isHiddenUpdateButton") && option["isHiddenUpdateButton"] == true) {
        hasButton = false;
        updateButton.classList.add("is-hidden");
      }
      if (hasButton) {
        updateButton.onclick = function () {
          gui.checkDetailPanelJsonHasId(gui, function (jsonMapping) {
            if (option && option.hasOwnProperty("updateFunction")) {
              option["updateFunction"](gui, jsonMapping);
            } else {
              gui.updateProcess(jsonMapping);
            }
          });
        };
      }
    };

    this.updateProcess = function (jsonMapping) {
      var gui = this;
      if (option && option.hasOwnProperty("updateFunction")) {
        option["updateFunction"](gui, jsonMapping);
        return;
      }
      if (option && option.hasOwnProperty("checkEmpty") && option["checkEmpty"]) {
        shinobi.mapping.getValueElement(
          gui.detailPanelElem,
          function (reJsonMapping) {
            Object.values(reJsonMapping).includes("")
              ? shinobi.util.fillInputMessage()
              : gui.sendUpdateRequest(jsonMapping);
          },
          {
            checkEmpty: true,
          }
        );
        return;
      }

      gui.sendUpdateRequest(jsonMapping);
    };

    this.sendUpdateRequest = function (jsonMapping) {
      var gui = this;
      shinobi.notification.notification.loading();

      shinobi.api.request(gui.apiurl + "/merge", JSON.stringify(jsonMapping), function (content) {
        shinobi.notification.notification.info(content);
        gui.loadTable();
      });
    };
    this.checkDetailPanelJsonHasId = function (gui, callback) {
      shinobi.mapping.getValue("#" + gui.detailPanelId, function (jsonMapping) {
        if (jsonMapping.hasOwnProperty("id") && jsonMapping["id"].trim() != "") {
          shinobi.notification.confirm(function () {
            if (typeof callback == "function") {
              callback(jsonMapping);
            }
          });
        } else {
          shinobi.notification.notification.error("Chưa chọn record nào trong danh sách để thao tác");
        }
      });
    };

    this.registerRefreshButton = function () {
      var list = document.getElementById(this.buttonGroupId).getElementsByClassName("refreshButton");

      var refreshButton = list[0];

      var table = this.tableObject;
      refreshButton.addEventListener("click", function () {
        location.reload();
      });
    };

    this.loadAll = function () {
      this.loadTable();
      this.registerCreateButton();
      this.registerRefreshButton();
      this.registerDeleteButton();
      this.registerUpdateButton();
    };
  };

  return constructor;
})();
shinobi.initbulma = {

	quickviews: [],
	calendars: '',
	tagsInput: '',
	iconpicker: '',
	bulmaSlider: '',

	build: function () {
		shinobi.initbulma.addEventNavbarBurger();
		shinobi.initbulma.addEventModal();
		shinobi.initbulma.addEventTabs();
		shinobi.initbulma.addEventDropdown();
		shinobi.initbulma.activeNavbarHeader();


		if (typeof bulmaSlider == 'function') {

			shinobi.initbulma.bulmaSlider = bulmaSlider.attach();
		}

		if (typeof bulmaTagsinput == 'function') {

			shinobi.initbulma.tagsInput = bulmaTagsinput.attach();
		}

		if (typeof bulmaIconpicker == 'function') {

			shinobi.initbulma.iconpicker = bulmaIconpicker.attach();
		}

		if (typeof bulmaCalendar == 'function') {

			shinobi.initbulma.calendars = bulmaCalendar.attach('[type="date"]:not(.is-init-bulma-false)',
				{
					'dateFormat': 'DD/MM/YYYY',
					'displayMode': 'dialog',
					closeOnOverlayClick: false,
				});

		}

	},

	addEventDropdown: function () {

		var dropdownList = document
			.querySelectorAll('.dropdown:not(.is-hoverable)');

		for (var i = 0; i < dropdownList.length; i++) {

			var dropdown = dropdownList[i];
			shinobi.initbulma.addEventDropdownElem(dropdown);
		}
	},

	addEventDropdownElem: function (dropdown) {
		var button = dropdown.getElementsByClassName('dropdown-trigger')[0]
			.getElementsByClassName('button')[0];
		if (button) {
			button.onclick = function () {
				dropdown.classList.toggle('is-active');
			}
		}
	},

	activeNavbarHeader: function () {

		var list = document.querySelectorAll('.navbar.is-init');
		for (var i = 0; i < list.length; i++) {
			var navbar = list[i];
			shinobi.initbulma.activeNavbar(navbar);
		}
	},

	activeNavbar: function (navbar) {
		var listItem = navbar
			.querySelectorAll('.navbar-item[href],.navbar-link[href]');
		var pathNameAppendSearch = shinobi.initbulma.getPathNameAppendSearch();
		for (var i = 0; i < listItem.length; i++) {
			var item = listItem[i];
			var href = item.getAttribute('href');

			if (pathNameAppendSearch.includes(href)) {
				item.classList.add('is-active');
				shinobi.initbulma.activeParentNavbarItem(item.parentNode);
			}
		}

		var refListItem = navbar
			.querySelectorAll('.navbar-item[ref-list],.navbar-link[ref-list]');

		for (var j = 0; j < refListItem.length; j++) {
			var item1 = refListItem[j];
			var refList = item1.getAttribute('ref-list').split(',');
			refList.forEach(function (refItem) {
				if (refItem == pathNameAppendSearch) {
					item1.classList.add('is-active');
					shinobi.initbulma.activeParentNavbarItem(item1.parentNode);
				}
			});
		}
	},

	getPathNameAppendSearch: function () {
		return window.location.pathname + window.location.search;
	},

	activeParentNavbarItem: function (parent) {

		if (parent.hasAttribute('class')) {
			var classList = parent.getAttribute('class');
			var listStopLoop = ['navbar-start', 'nabvar-end', 'navbar-menu',
				'navbar-brand', 'navbar'];
			listStopLoop.forEach(function (classItem) {
				if (classList.includes(classItem)) {
					return;
				}
			});

			if (classList.includes('navbar-item')
				&& classList.includes('has-dropdown')) {
				var navbarLink = parent.getElementsByClassName('navbar-link')[0];
				if (navbarLink) {
					navbarLink.classList.add('is-active');
				}
			} else {
				shinobi.initbulma.activeParentNavbarItem(parent.parentNode);
			}

		}
	},

	activeTab: function (listLi, li) {

		for (var l = 0; l < listLi.length; l++) {
			(listLi[l] == li) ? listLi[l].classList.add('is-active')
				: listLi[l].classList.remove('is-active');

			if (listLi[l].hasAttribute('tab-container-id')) {
				var container = document.getElementById(listLi[l].getAttribute('tab-container-id'));
				if (container) {
					(listLi[l] == li) ? container.classList.remove('is-hidden')
						: container.classList.add('is-hidden');
				}
			}
		}

	},

	addEventTabs: function () {
		var tabsList = document.querySelectorAll('.tabs.is-init');

		for (var i = 0; i < tabsList.length; i++) {
			shinobi.initbulma.addEvenOneTab(tabsList, i);
		}

	},

	addEvenOneTab: function (tabsList, i) {
		var tabs = tabsList[i];
		var listLi = tabs.getElementsByTagName('li');
		var classList = tabs.getAttribute('class');
		for (var l = 0; l < listLi.length; l++) {
			if (!classList.includes('is-not-active-click')) {
				listLi[l].onclick = function () {
					var li = this;
					shinobi.initbulma.activeTab(listLi, li);

				}
			}
			if (classList.includes('is-active-pathname')) {
				var pathname = shinobi.initbulma.getPathNameAppendSearch();
				var a = listLi[l].querySelector('a[href]');
				if (a) {
					var href = a.getAttribute('href');
					if (pathname.includes(href)) {
						listLi[l].classList.add('is-active');
					}
				}
			}
		}
	},

	addEventModal: function () {

		var listModal = document.querySelectorAll('.modal');

		listModal.forEach(function (item, index) {

			shinobi.initbulma.modalEventListener(item);
		});
	},

	modalOpen: function (modal) {
		modal.classList.add("is-active");
		document.documentElement.classList.add('is-clipped');
	},

	modalClose: function (modal) {
		modal.classList.remove("is-active");
		document.documentElement.classList.remove('is-clipped');
	},


	modalEventListener: function (modal) {

		var closeButtonList = modal
			.querySelectorAll('.delete,[aria-label="close"]');
		if (closeButtonList.length > 0) {
			var closeButton = closeButtonList[0];
			if (closeButton) {
				closeButton.onclick = function () {
					shinobi.initbulma.modalClose(modal);
				}
			}
		}

		var cancelModalButtonList = modal
			.getElementsByClassName("cancel-modal-button");

		for (var i = 0; i < cancelModalButtonList.length; i++) {

			cancelModalButtonList[i].onclick = function () {
				shinobi.initbulma.modalClose(modal);
			}
		}

		var modalBackground = modal.getElementsByClassName("modal-background");

		for (var j = 0; j < modalBackground.length; j++) {

			modalBackground[j].onclick = function () {
				shinobi.initbulma.modalClose(modal);
			}
		}

		window.addEventListener("keydown", function (event) {
			if (event.key == 'Escape') {
				shinobi.initbulma.modalClose(modal);
			}
		}, true);

		var footer = modal.getElementsByTagName("footer")[0];

		if (footer) {

			var buttonFooterList = footer.getElementsByTagName("button");

			for (var l in buttonFooterList) {

				buttonFooterList[l].onclick = function () {
					shinobi.initbulma.modalClose(modal);
				}
			}
		}

		if (modal.hasAttribute('control-button-list')) {

			var controlButtonList = modal.getAttribute('control-button-list')
				.split('|');

			for (var k = 0; k < controlButtonList.length; k++) {

				var item = document.getElementById(controlButtonList[k]);

				item.onclick = function () {
					shinobi.initbulma.modalOpen(modal);

					if (item.hasAttribute('snb-render')) {
						var value = item.getAttribute('snb-key');
						var render = item.getAttribute('snb-render');
						eval(render)(item, value);
					}
				}
			}
		}
	},

	addEventNavbarBurger: function () {

		var navbarBurgers = Array.prototype.slice.call(document
			.querySelectorAll('.navbar-burger'), 0);

		if (navbarBurgers.length > 0) {

			navbarBurgers.forEach(function (el) {
				el.addEventListener('click', function () {
					// Get the target from the "data-target" attribute
					var targetId = el.dataset.target;
					var target = document.getElementById(targetId);
					// Toggle the "is-active" class on both the "navbar-burger"
					// and the "navbar-menu"
					el.classList.toggle('is-active');
					target.classList.toggle('is-active');

				});
			});
		}
	},
};shinobi.language = {

	'currentPagelang': '',
	'existLangAttribte': 'snb-exist-lang',
	option: {},
	jsonArray: [],
	dataRender: {},
	hasChangeLanguage: true,
	warningList: [],

	'build': function (option) {

		this.option = option;
		this.setupOption();

		shinobi.language.renderLangCodeSelect(function () {
			shinobi.language.renderPageLanguage();

		});

	},

	setupOption: function () {
		var option = this.option;
		if (option) {
			if (option.hasOwnProperty('autoReload') && option['autoReload']) {
				setInterval(function () {
					shinobi.language.renderPageLanguage();
				}, 2000);
			}
		}
	},

	'renderPageLanguage': function () {

		if (shinobi.language.hasChangeLanguage) {
			shinobi.language.getLangCodeList(function () {
				shinobi.language.hasChangeLanguage = false;

				shinobi.language.buildDataRender(function () {
					shinobi.language.render();
				});
			})
		} else {
			shinobi.language.render();
		}

	},

	buildDataRender: function (callback) {
		shinobi.language.dataRender = {};
		shinobi.language.jsonArray
			.forEach(function (item) {

				shinobi.language.dataRender[item['resourcename']] = item['resourcevalue'];

			});

		if (typeof callback == 'function') {
			callback();
		}
	},
	'render': function () {

		var listSnbLang = document.querySelectorAll('[snb-lang]');
		for (var i = 0; i < listSnbLang.length; i++) {

			shinobi.language.renderElement(listSnbLang[i]);
		}
	},

	renderContainer: function (container) {

		var listSnbLang = container.querySelectorAll('[snb-lang]');
		for (var i = 0; i < listSnbLang.length; i++) {

			shinobi.language.renderElement(listSnbLang[i]);
		}
	},
	renderElement: function (elem) {

		var currentLangCode = window.localStorage.getItem('currentLangCode');
		if (!elem.hasAttribute('language')
			|| elem.getAttribute('language') != currentLangCode) {

			var dataRender = shinobi.language.dataRender;

			var listAttribute = Object.values(elem.attributes);

			var listSnbLangAttribute = listAttribute.filter(function (item) {

				return item.name.includes('snb-lang');
			});

			if (listSnbLangAttribute.length > 0) {
				var attrValue;
				if (listSnbLangAttribute.length == 1) {

					if (dataRender
						.hasOwnProperty(listSnbLangAttribute[0].value)) {
						elem.innerHTML = dataRender[listSnbLangAttribute[0].value];
					} else {

						attrValue = listSnbLangAttribute[0].value;

						shinobi.language.warningElem(elem, attrValue);

					}
				} else {
					listSnbLangAttribute.forEach(function (attributeItem) {
						var attrName = attributeItem.name;
						attrValue = attributeItem.value;
						if (attrName.includes('snb-lang-')) {
							var attributeKey = attrName
								.replace('snb-lang-', '');
							if (dataRender.hasOwnProperty(attrValue)) {
								var attributeData = dataRender[attrValue];

								if (attributeKey == 'innerhtml') {
									elem.innerHTML = attributeData
								} else if (attributeKey == 'value') {
									elem.value = attributeData;
								} else {
									elem.setAttribute(attributeKey,
										attributeData);

								}
							} else {

								shinobi.language.warningElem(elem, attrValue);

							}

						}
					});

				}
				elem.setAttribute('language', currentLangCode)

			}
		}

	},

	warningElem: function (elem, attrValue) {
		if (!shinobi.language.warningList.includes(attrValue)) {
			console.log('---');
			console.log(elem);
			console.log('resourcename: ' + attrValue + '    =    ????');
			shinobi.language.warningList.push(attrValue);
		}
	},

	'renderLangCodeSelect': function (callback) {

		var currentLangCode = window.localStorage.getItem('currentLangCode');
		var selectLangcode = document.getElementById('selectLangcode');
		if (selectLangcode) {
			if (!currentLangCode) {

				window.localStorage.setItem('currentLangCode',
					selectLangcode.value);

			} else {

				selectLangcode.value = currentLangCode;

			}

			selectLangcode.onchange = function () {

				window.localStorage.setItem('currentLangCode', this.value);
				if (shinobi.hasOwnProperty('userstorage')) {
					shinobi.userstorage.updateStorage();
				}
				shinobi.language.hasChangeLanguage = true;

				shinobi.language.renderPageLanguage();

				if (shinobi.language.option.hasOwnProperty('onchangeLangCodeSelectCallback')) {
					shinobi.language.option.onchangeLangCodeSelectCallback();
				}

			}
		} else {
			console.log(' not declare language select');
			window.localStorage.setItem('currentLangCode', 'VN');

		}

		if (typeof callback == 'function') {
			callback();
		}

	},

	'getLangCodeList': function (callback) {

		var currentLangCode = window.localStorage.getItem('currentLangCode');

		var request = {};

		request.langcode = currentLangCode;

		var url = (typeof shinobi.coreapi == 'object' && shinobi.coreapi.languageApi) ? shinobi.coreapi.languageApi
			: '/api/StaticPagePublicApi/';

		shinobi.cacheapi.request(url + 'getListPageCode', JSON
			.stringify(request), function (response) {
				shinobi.language.jsonArray = JSON.parse(response);
				callback(response);
			});

	},

	'free': '<span snb-lang="PAGECODE_FREE"></span>',
	'subscribed': '<span snb-lang="PAGECODE_SUBCRIBED"></span>',
	'onlyFollower': '<span snb-lang="PAGECODE_ONLYFORFOLLOWERS"></span>',
};/* usage: 
 * shinobi.mapping.render("body",json) 
 * shinobi.mapping.render("#elemid",json)
 * shinobi.mapping.render(".classname",json)
 * 
 * HTML:
 * <div snb-key="keyvalue"></div>
 * 
 *  */

shinobi.mapping = {
    'render': function (pattern, json) {
        var jsonArr = JSON.parse(json);

        var searchList = document.querySelectorAll(pattern);

        for (var index = 0; index < searchList.length; index++) {
            var search = searchList[index];

            shinobi.mapping.renderElement(search, jsonArr);
        }
    },
    'renderElement': function (search, jsonArr) {
        for (var elem in jsonArr) {
            var selectors = search.querySelectorAll("[snb-key=" + elem + "]");

            // check current node has snb-key=elem
            if (selectors.length == 0) {

                if (search.hasAttribute('snb-key')) {

                    if (search.getAttribute('snb-key') == elem) {

                        shinobi.mapping.renderSelector(search, jsonArr, elem);
                    }
                }
            }
            //

            for (var i = 0; i < selectors.length; i++) {
                shinobi.mapping.renderSelector(selectors[i], jsonArr, elem);
            }
        }
    },
    'renderSelector': function (selector, jsonArr, elem) {

        var nodeType = selector.nodeType;
        var value = jsonArr[elem];
        if (selector.hasAttribute("snb-render")) {
            var render = selector.getAttribute("snb-render");
            var option = {
                type: 'mapping',
            };
            eval(render)(selector, value, jsonArr);

            return;
        }

        // check formatter
        if (selector.hasAttribute("snb-format")) {
            var formatter = selector.getAttribute("snb-format");

            if ("number" === formatter) {
                var numberValue = Number(value);
                value = numberValue.format(0, 3, ',', '.');
            }

        }

        if (nodeType === 3) {
            selector.innerHTML = value;
        } else if (nodeType === 1) {

            // refactor 12/04/2020
            // check has render attribute

            if (selector.hasAttribute("snb-editor-index")) {
                if (typeof shinobiEditors == 'object') {
                    shinobiEditors[selector.getAttribute("snb-editor-index")]
                        .setData(value);
                } else {
                    if (typeof CKEDITOR == 'object' &&
                        selector.hasAttribute('id')) {
                        (CKEDITOR.instances.hasOwnProperty(selector.id)) ? CKEDITOR.instances[selector.id]
                            .setData(value) : console.log('elem has id' + selector.id +
                                ' has not been replace by CKEDITOR ');

                    } else {
                        console.log('CKEDITOR could not be declare');
                    }
                }

            } else {
                var attributes = selector.attributes;

                var isFound = false;
                for (var i = attributes.length - 1; i >= 0; i--) {
                    var attributeName = attributes[i].name;
                    var attributeValue = attributes[i].value;

                    var index = attributeName.search("snb-key-");
                    if (index >= 0) {
                        isFound = true;
                        var ref = attributeName.substring(8);

                        switch (ref) {
                            case 'value':
                                selector.value = jsonArr[attributeValue];
                                selector.setAttribute(ref, jsonArr[attributeValue]);
                                break;
                            case 'innerhtml':
                                selector.innerHTML = jsonArr[attributeValue];
                                break;
                            default:
                                selector.setAttribute(ref, jsonArr[attributeValue]);
                                break;
                        }
                    }
                }
                if (isFound === false) {

                    if (!['INPUT', 'SELECT', 'TEXTAREA']
                        .includes(selector.tagName)) {
                        selector.innerHTML = value;
                    } else {
                        value = shinobi.util.decodeValue(value);
                        switch (selector.tagName) {

                            case 'OPTION':
                                if (selector.hasAttribute("snb-key-innerhtml")) {
                                    selector.innerHTML = value;
                                }
                                break;
                            case 'INPUT':
                                switch (selector.type) {
                                    case 'checkbox':
                                        selector.checked = JSON.parse(value);
                                        break;
                                    case 'radio':
                                        if (value) {
                                            // var name = selector.getAttribute('name');
                                            // var checkedInput = document
                                            // 	.querySelector('input[type="radio"][name="'
                                            // 		+ name
                                            // 		+ '"][radio-value="'
                                            // 		+ value + '"]');
                                            // 		console.log(checkedInput);
                                            // if (checkedInput) {
                                            // 	checkedInput.checked = true;
                                            // }
                                            if (selector.hasAttribute('radio-value')) {
                                                (selector.getAttribute('radio-value') == value) ? selector.checked = true : selector.checked = false;
                                            }
                                        }
                                        break;
                                    default:
                                        selector.value = value;
                                        break;
                                }
                                break;
                            case 'SELECT':
                                selector.value = value;
                                break;

                            default:
                                selector.value = value;
                                break;
                        }
                    }
                }
            }

        }
    },
    'applySnbFormat': function (selector, value) {

    },
    getValue: function (selector, callback, option) {
        var elem = document.querySelector(selector);
        shinobi.mapping.getValueElement(elem, callback, option);
    },
    getValueElement: function (elem, callback, option) {
        var listSnb = elem.querySelectorAll('[snb-key]');
        var listRadioNameHasGetValue = [];
        var jsonMapping = {};
        listSnb
            .forEach(function (item) {

                var key = item.getAttribute('snb-key');

                if (item.hasAttribute('snb-editor-index')) {
                    jsonMapping[key] = shinobi.mapping
                        .getValueShinobiEditor(item, {
                            container: elem
                        });

                } else {
                    var getValueMappingNormalTagOption = {
                        container: elem,
                        listRadioNameHasGetValue: listRadioNameHasGetValue,
                    };
                    if (option && option.hasOwnProperty('getHtml') && option.getHtml) {
                        getValueMappingNormalTagOption.getHtml = true;
                    }
                    if (option && option.hasOwnProperty('getText') && option.getText) {
                        getValueMappingNormalTagOption.getText = true;
                    }
                    jsonMapping[key] = shinobi.mapping
                        .getValueMappingNormalTag(
                            item, getValueMappingNormalTagOption
                        )
                }

                shinobi.mapping.handleOptionMapping(item, jsonMapping,
                    option);
            });

        if (typeof callback == 'function') {
            callback(jsonMapping);
        }
    },

    handleOptionMapping: function (item, jsonMapping, option) {
        if (option) {
            var tagName = item.tagName;
            var key = item.getAttribute('snb-key');

            if (option.hasOwnProperty('checkEmpty')) {
                var isEmpty = (jsonMapping[key] == '') ? true : false;
                if (!item.classList.contains('disable-checkempty')) {


                    switch (tagName) {
                        case 'INPUT':
                        case 'TEXTAREA':
                            (isEmpty) ? item.classList.add('is-danger') : item.classList.remove('is-danger');
                            break;
                        case 'SELECT':
                            (isEmpty) ? item.parentElement.classList.add('is-danger') : item.parentElement.classList.remove('is-danger');
                            break;
                        default:
                            break;
                    }
                }

                if (item.hasAttribute('snb-editor-index')) {
                    var editorItem = CKEDITOR.instances[item.getAttribute('id')].container.$;
                    if (isEmpty) {
                        editorItem.classList.add('input');
                        editorItem.classList.add('is-danger');
                    } else {
                        editorItem.classList.remove('input');
                        editorItem.classList.remove('is-danger');
                    }

                }

                if (tagName == 'INPUT' && item.getAttribute('type') == 'file') {
                    var fileParentInput = shinobi.util.getParentElementHasAttribute(item, {
                        type: 'class',
                        value: 'file',
                    });



                    (isEmpty) ? fileParentInput.classList.add('is-danger') : fileParentInput.classList.remove('is-danger');
                }

                if (tagName == 'INPUT' && item.hasAttribute('snb-date-filter')) {
                    (isEmpty) ? item.parentElement.classList.add('has-border-danger') : item.parentElement.classList.remove('has-border-danger');
                }

            }
        }
    },

    getValueMappingNormalTag: function (item, option) {
        var returnValue;
        var listRadioNameHasGetValue = option['listRadioNameHasGetValue'];
        var tagName = item.tagName;
        switch (tagName) {
            case 'INPUT':
                var type = (item.hasAttribute('type')) ? item.getAttribute('type') :
                    'text';

                switch (type) {

                    case 'radio':
                        var name = item.getAttribute('name');
                        if (name) {
                            listRadioNameHasGetValue.push(name);
                            var checkedValue = document
                                .querySelector('input[type="radio"][name="' + name +
                                    '"]:checked');
                            returnValue = (checkedValue) ? checkedValue
                                .getAttribute('radio-value') : false;

                        } else {
                            returnValue = item.checked;
                        }
                        break;
                    case 'file':
                        returnValue = (item.hasAttribute('image-url')) ? item
                            .getAttribute('image-url') : item.value;
                        break;
                    case 'tags':
                        var tagInput = shinobi.util.getTagInputMappingElem(item);
                        if (tagInput) {
                            returnValue = tagInput.tags.toString();
                        }
                        break;
                    case 'checkbox':
                        returnValue = item.checked;
                        break;
                    case 'text':
                    default:
                        returnValue = item.value.trim();
                        break;
                }
                break;
            case 'SELECT':
            case 'TEXTAREA':
                returnValue = item.value.trim();
                break;
            default:

                if (option && option.hasOwnProperty('getHtml') && option.getHtml) {
                    returnValue = item.innerHTML.trim();
                }
                if (option && option.hasOwnProperty('getText') && option.getText) {
                    returnValue = item.innerText.trim();
                }
                break;
        }

        returnValue = shinobi.mapping.checkPreProcess(item, {
            container: option['container'],
            returnValue: returnValue,
        });

        return returnValue;
    },

    replaceFormWithLabel: function (selector) {
        shinobi.mapping.replaceFormWithLabelElement(document.querySelector(selector));
    },

    replaceFormWithLabelElement: function (elem) {
        var listSnb = elem.querySelectorAll('[snb-key]');
        for (var i = 0; i < listSnb.length; i++) {
            shinobi.mapping.replaceFormWithLabelSnbKey(listSnb[i]);
        }
    },

    replaceFormWithLabelSnbKey: function (item) {
        var tagName = item.tagName;
        var label = document.createElement('p');
        var value = item.value;
        label.setAttribute('class', 'is-italic');
        console.log(item);
        if (['INPUT', 'SELECT', 'TEXTAREA'].includes(tagName)) {

            switch (tagName) {
                case 'SELECT':
                    var content = (item.selectedIndex > 0) ? item.options[item.selectedIndex].text : '';
                    label.innerHTML = content;
                    item.parentElement.parentElement.replaceChild(label, item.parentElement);
                    break;
                case 'TEXTAREA':
                case 'INPUT':
                default:
                    label.innerHTML = value;
                    item.parentElement.replaceChild(label, item);
                    break;

            }

        }
    },

    checkPreProcess: function (item, option) {
        var inputValue = option['returnValue'];
        var container = option['container'];
        var outputValue = inputValue;

        if (item.hasAttribute('snb-preprocess')) {
            outputValue = eval(item.getAttribute("snb-preprocess"))(inputValue, {
                elem: item,
                container: container,
            })
        }

        if (item.getAttribute("snb-datatype")) {
            var newValueWithDatatype = JSON.parse(outputValue);
            outputValue = (newValueWithDatatype) ? newValueWithDatatype :
                outputValue;
        }

        return outputValue;
    },

    getValueShinobiEditor: function (item, option) {
        var returnValue;
        if (typeof shinobiEditors == 'object') {
            returnValue = shinobiEditors[item.getAttribute("snb-editor-index")]
                .getData();
        } else {
            if (typeof CKEDITOR == 'object' && item.hasAttribute('id')) {
                returnValue = (CKEDITOR.instances.hasOwnProperty(item.id)) ? CKEDITOR.instances[item.id]
                    .getData() :
                    '';

            } else {
                returnValue = '';
            }
        }

        returnValue = shinobi.mapping.checkPreProcess(item, {
            container: option['container'],
            returnValue: returnValue,
        });

        return returnValue;
    },
    clear: function (selector, callback, option) {
        var elem = document.querySelector(selector);
        shinobi.mapping.clearElement(elem, callback, option);
    },

    clearElement: function (elem, callback, option) {
        var listSnb = elem.querySelectorAll('[snb-key]');
        listSnb.forEach(function (item) {
            var tagName = item.tagName;
            switch (tagName) {
                case 'INPUT':
                    var type = item.type;
                    switch (type) {
                        case 'checkbox':
                        case 'radio':
                            item.checked = false;
                            break;
                        case 'file':
                            (item.hasAttribute('image-url')) ? item
                                .removeAttribute('image-url') : item.value = '';
                            var name = item.parentElement.querySelector('.file-name');
                            if (name) {
                                name.innerHTML = '';
                            }
                            var parent = shinobi.util.getParentElementHasAttribute(item, {
                                type: 'class',
                                value: 'field'
                            })

                            if (parent) {
                                var info = parent.querySelector('.image-info');
                                if (info) {
                                    info.remove();
                                }
                            }
                            break;
                        case 'text':
                        default:
                            item.value = '';
                            break;
                    }
                    break;
                case 'SELECT':
                case 'TEXTAREA':
                    item.value = '';
                    break;
                default:
                    break;
            }

            var attributes = item.attributes;

            for (var i = attributes.length - 1; i >= 0; i--) {
                var attributeName = attributes[i].name;

                var index = attributeName.search("snb-key-");
                if (index >= 0) {
                    var ref = attributeName.substring(8);

                    switch (ref) {
                        case 'value':
                            item.value = '';
                            item.removeAttribute(ref);
                            break;
                        case 'innerhtml':
                            item.innerHTML = '';
                            break;
                        default:
                            item.removeAttribute(ref);
                            break;
                    }
                }
            }
        });

        if (typeof callback == 'function') {
            callback();
        }
    },
};shinobi.menu = {

	'moduleTable': '',

	'tableId': 'dataTable',

	'previewPatern': '#previewContainer',

	'build': function () {

		shinobi.menu.renderListModule();

		shinobi.menu.addEventAddSubMenu();

		shinobi.menu.addEventIconPicker();
	},

	'addEventIconPicker': function () {

		if (!shinobi.initbulma) {
			bulmaIconpicker.attach();
		}

		setTimeout(function () {

			var iconpickerModal = document
				.getElementsByClassName('iconpicker-modal')[0];

			iconpickerModal.classList.add('is-medium');

		}, 2000);

	},

	'addEventAddSubMenu': function () {

		var createSubmenuButton = document
			.getElementById('createSubmenuButton');
		createSubmenuButton.onclick = function () {

			var previewContainer = document.getElementById('previewContainer');

			var parentMenuData = {};
			// parentMenuData.menuparent = null;
			parentMenuData.modulename = previewContainer.getAttribute('value');

			shinobi.menu
				.activeMenuItemInfomationModal(
					parentMenuData,
					function (menuData) {
						shinobi.menu
							.createAndInsertMenuItemChildNode(menuData);
					});
		}

	},
	'renderListModule': function () {

		shinobi.menu.moduleTable = new shinobi.table(shinobi.menu.tableId);
		// table1.viewDetailPanelId = "detailpanel";

		var colNames = shinobi.menu.moduleTable
			.getColnames(shinobi.menu.tableId);

		var renders = [];
		renders[0] = shinobi.menu.viewMenuStructure;
		// renders[1] = table1.numberFormatRender;
		// renders[2] = erLib.renderUserTypeTable;
		// renders[3] = table1.inputableRender;

		var request = {};
		request.recordPerPage = shinobi.util
			.getRecordNumber(shinobi.menu.tableId);

		var filter = {};
		filter.colname = "id";
		filter.operator = ">";
		filter.value = 0;

		shinobi.menu.moduleTable.staticfilters[0] = filter;

		var sort = {};
		sort.colname = "id";
		sort.value = "desc";

		shinobi.menu.moduleTable.sorts[0] = sort;

		shinobi.menu.moduleTable
			.initLoadApi("/authenapi/ModuleApi/findDataList", request,
				colNames, renders);

	},

	'viewMenuStructure': function (elem, row, col) {

		var moduleName = elem.innerHTML;

		elem.innerHTML = '<a class="button is-small is-icon is-info"><span class="icon"><i class="fal fa-search"></i></span></a>';

		elem.onclick = function () {

			shinobi.util.removeClass('menuButtonGroup', 'is-hidden');

			shinobi.menu.createStructure(moduleName);

		}
	},

	'createStructure': function (moduleName) {

		shinobi.menu.getModuleMenuData(moduleName, function (menuData) {

			var previewContainer = document.getElementById('previewContainer');
			previewContainer.innerHTML = '';

			previewContainer.setAttribute('value', moduleName);

			shinobi.menurender.build(shinobi.menu.previewPatern, menuData);

			shinobi.menurender.showAllMenu(shinobi.menu.previewPatern);

			setTimeout(function () {

				shinobi.menurender.showAllMenu(shinobi.menu.previewPatern);
			}, 1000);

			shinobi.menu.addEventInsertChildNode(shinobi.menu.previewPatern);

			shinobi.menu.addEventDeleteMenuItem(shinobi.menu.previewPatern);

			shinobi.menu.addEventUpdateMenuItem(shinobi.menu.previewPatern);

			shinobi.menu.addEventMoveUpMenuItem(shinobi.menu.previewPatern);

			shinobi.menu.addEventMoveDownMenuItem(shinobi.menu.previewPatern);

		});

	},

	'addEventMoveDownMenuItem': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var listMenuItem = container.getElementsByClassName('shinobimenu-item');

		for (var i = 0; i < listMenuItem.length; i++) {

			shinobi.menu.addMoveDownItemButton(listMenuItem, i);

		}
	},

	'addMoveDownItemButton': function (listMenuItem, i) {

		var span = document.createElement('span');
		span.setAttribute('class', 'icon tooltip');
		span.setAttribute('data-tooltip', 'Chuyển xuống');
		span.innerHTML = '<i class="fal fa-arrow-down"></i>';

		var item = listMenuItem[i];

		if (item.parentNode.nextElementSibling) {

			// item.insertBefore(span, item.firstChild);
			item.appendChild(span);

			span.onclick = function () {

				var parentMenuData = shinobi.menu.getParentMenuData(this);

				parentMenuData.menucode = parentMenuData.menuparent;

				shinobi.menu.callApiUpdateMenu(
					'/authenapi/MenuApi/moveMenuDown', parentMenuData);

			}
		}

	},

	'addEventMoveUpMenuItem': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var listMenuItem = container.getElementsByClassName('shinobimenu-item');

		for (var i = 0; i < listMenuItem.length; i++) {

			shinobi.menu.addMoveUpItemButton(listMenuItem, i);

		}
	},

	'addMoveUpItemButton': function (listMenuItem, i) {

		var span = document.createElement('span');
		span.setAttribute('class', 'icon tooltip');
		span.setAttribute('data-tooltip', 'Chuyển lên');
		span.innerHTML = '<i class="fal fa-arrow-up"></i>';

		var item = listMenuItem[i];

		if (item.parentNode.previousElementSibling) {

			// item.insertBefore(span, item.firstChild);
			item.appendChild(span);

			span.onclick = function () {

				var parentMenuData = shinobi.menu.getParentMenuData(this);

				parentMenuData.menucode = parentMenuData.menuparent;

				shinobi.menu.callApiUpdateMenu('/authenapi/MenuApi/moveMenuUp',
					parentMenuData);

			}
		}
	},

	'callApiUpdateMenu': function (api, parentMenuData) {
		shinobi.notification.notification.loading();
		shinobi.api.request(api, JSON.stringify(parentMenuData), function (
			response) {

			if (response == 'update success') {

				shinobi.notification.notification.info('Cập nhật thành công');
				setTimeout(function () {
					shinobi.menu.createStructure(parentMenuData.modulename);
				}, 1000)
			}
		})
	},

	'addEventUpdateMenuItem': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var listMenuItem = container.getElementsByClassName('shinobimenu-item');

		for (var i = 0; i < listMenuItem.length; i++) {

			shinobi.menu.addUpdateItemButton(listMenuItem, i);

		}
	},

	'addUpdateItemButton': function (listMenuItem, i) {

		var span = document.createElement('span');
		span.setAttribute('class', 'icon has-text-info tooltip');
		span.setAttribute('data-tooltip', 'Chỉnh sửa');
		span.innerHTML = '<i class="fal fa-pen"></i>';

		var item = listMenuItem[i];

		// item.insertBefore(span, item.firstChild);
		item.appendChild(span);

		span.onclick = function () {

			var parentMenuData = shinobi.menu.getParentMenuData(this);
			var aTag = item.getElementsByTagName('a')[0];
			parentMenuData.menudes = aTag.getAttribute('title');
			parentMenuData.menucode = aTag.getAttribute('id');
			parentMenuData.menuicon = aTag.getAttribute('icon-class');
			parentMenuData.menuname = aTag.innerHTML;
			parentMenuData.menuurl = aTag.getAttribute('href');
			shinobi.menu
				.activeMenuItemInfomationModal(
					parentMenuData,
					function (menuData) {

						menuData.menucode = parentMenuData.menucode;

						shinobi.api
							.request(
								'/authenapi/MenuApi/updateMenu',
								JSON.stringify(menuData),
								function (response) {

									if (response == 'update success') {

										shinobi.notification.notification
											.info('Cập nhật thành công');
										setTimeout(
											function () {
												shinobi.menu
													.createStructure(parentMenuData.modulename);
											}, 1000)
									}
								});
					});

		}

	},

	'addEventDeleteMenuItem': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var listMenuItem = container.getElementsByClassName('shinobimenu-item');

		for (var i = 0; i < listMenuItem.length; i++) {

			shinobi.menu.addDeleteItemButton(listMenuItem, i);

		}
	},

	'addDeleteItemButton': function (listMenuItem, i) {

		var span = document.createElement('span');
		span.setAttribute('class', 'icon has-text-danger tooltip');
		span.setAttribute('data-tooltip', 'Xóa');
		span.innerHTML = '<i class="fal fa-times"></i>';

		var item = listMenuItem[i];

		// item.insertBefore(span, item.firstChild);
		item.appendChild(span);

		span.onclick = function () {

			var parentMenuData = shinobi.menu.getParentMenuData(this);

			var confirmRemoveMenuItemModal = document
				.getElementById('confirmRemoveMenuItemModal');
			confirmRemoveMenuItemModal.classList.add('is-active');

			var acceptRemoveMenuItemModal = document
				.getElementById('acceptRemoveMenuItemModal');

			acceptRemoveMenuItemModal.onclick = function () {

				parentMenuData.menucode = parentMenuData.menuparent;

				delete parentMenuData.menuparent;

				shinobi.api
					.request(
						'/authenapi/MenuApi/deleteMenu',
						JSON.stringify(parentMenuData),
						function (response) {

							if (response == 'update success') {

								shinobi.notification.notification
									.info('Xóa thành công');
								setTimeout(
									function () {
										shinobi.menu
											.createStructure(parentMenuData.modulename);
									}, 1000)
							}
						})

				confirmRemoveMenuItemModal.classList.remove('is-active');

			}

		}

	},

	'activeMenuItemInfomationModal': function (parentMenuData, callback) {

		if (!parentMenuData.menudes) {

			parentMenuData.menudes = '';
		}
		if (!parentMenuData.menuicon) {

			parentMenuData.menuicon = shinobi.menurender.defaultIcon;
		}
		if (!parentMenuData.menuname) {

			parentMenuData.menuname = '';
		}
		if (!parentMenuData.menuurl) {

			parentMenuData.menuurl = '';
		}

		var menuItemInfomationModal = document
			.getElementById('menuItemInfomationModal');

		if (!parentMenuData.menuparent) {

			menuItemInfomationModal.querySelectorAll('[snb-key=menuparent]')[0]
				.removeAttribute('value');
		}
		var previewIcon = menuItemInfomationModal
			.getElementsByClassName('iconpicker-preview')[0];

		previewIcon.innerHTML = '<i snb-key="menuicon" snb-key-class="menuicon" class="iconpicker-icon-preview icon-menu"></i>';

		menuItemInfomationModal.classList.add('is-active');

		shinobi.mapping.render('#menuItemInfomationModal', JSON
			.stringify(parentMenuData));

		var acceptModalButton = document.getElementById('acceptModalButton');

		acceptModalButton.onclick = function () {

			var menuData = shinobi.menu.getModalInput();

			callback(menuData);

			menuItemInfomationModal.classList.remove('is-active');

		}
	},

	'addEventInsertChildNode': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var listMenuItem = container.getElementsByClassName('shinobimenu-item');

		for (var i = 0; i < listMenuItem.length; i++) {

			shinobi.menu.addInsertItemButton(listMenuItem, i);

		}

	},
	'addInsertItemButton': function (listMenuItem, i) {

		var span = document.createElement('span');
		span.setAttribute('class', 'icon has-text-success tooltip');
		span.setAttribute('data-tooltip', 'Thêm menu con');
		span.innerHTML = '<i class="fal fa-plus"></i>';

		var item = listMenuItem[i];

		// item.insertBefore(span, item.firstChild);
		item.appendChild(span);

		span.onclick = function () {

			var parentMenuData = shinobi.menu.getParentMenuData(this);

			shinobi.menu
				.activeMenuItemInfomationModal(
					parentMenuData,
					function (menuData) {
						shinobi.menu
							.createAndInsertMenuItemChildNode(menuData);
					});

		}

		// remove event toggle
		item.onclick = function () {

		}
	},

	'createAndInsertMenuItemChildNode': function (menuData) {

		shinobi.notification.notification.loading();

		shinobi.api.request('/authenapi/MenuApi/createMenu', JSON
			.stringify(menuData), function (response) {

				if (response == 'update success') {

					shinobi.notification.notification.info('Tạo mới thành công');

					setTimeout(function () {
						shinobi.menu.createStructure(menuData.modulename);
					}, 1000)

				}
			})

	},
	'getParentMenuData': function (iconElem) {

		var menuItem = iconElem.parentNode;

		var aTag = menuItem.getElementsByTagName('a')[0];

		var previewContainer = document.getElementById('previewContainer');

		var object = {};

		object.menuparent = aTag.getAttribute('id');
		object.modulename = previewContainer.getAttribute('value');

		return object;

	},

	'getModalInput': function () {

		var menuItemInfomationModal = document
			.getElementById('menuItemInfomationModal');

		var listSnbKey = menuItemInfomationModal.querySelectorAll('[snb-key]');

		var object = {};

		for (var i = 0; i < listSnbKey.length; i++) {

			var snbKey = listSnbKey[i].getAttribute('snb-key');

			var value = listSnbKey[i].value;

			if (value != '') {

				object[snbKey] = value;
			}

		}

		var iconpickerPreview = document
			.getElementsByClassName('iconpicker-preview')[0];
		var iconClass = iconpickerPreview.getElementsByTagName('i')[0]
			.getAttribute('class');
		object.menuicon = iconClass;
		return object;
	},
	'getModuleMenuData': function (moduleName, callback) {

		var request = {};
		request.modulename = moduleName;
		console.log(window.localStorage.getItem("currentModule"));
		console.log(moduleName);
		shinobi.notification.notification.loading();

		shinobi.api.request('/authenapi/MenuApi/getListMenu', JSON
			.stringify(request), function (response) {

				var jsonArr = JSON.parse(response);
				shinobi.notification.notification.loaded();

				callback(jsonArr);
			});
	},

};shinobi.menumodule = {

	'currentModule': '',

	'patern': '',

	'container': '',

	'build': function (patern, option) {

		shinobi.menumodule.patern = patern;

		var container = document.querySelectorAll(patern)[0];

		shinobi.menumodule.container = container;

		shinobi.menumodule.render(option);

	},

	'activeCurrentTab': function (container, option) {
		var shinobimenu = container;
		var hrefList = shinobimenu.querySelectorAll('[href]');

		for (var j = 0; j < hrefList.length; j++) {
			var pathname = window.location.pathname;
			var href = hrefList[j].getAttribute('href');
			if (option && option.hasOwnProperty('includesSearch')) {
				if (option.includesSearch) {
					pathname = pathname + window.location.search;
				}
			}

			if (option && option.hasOwnProperty('notCareSearch')) {
				if (option.notCareSearch) {
					pathname = window.location.pathname;
					href = (href.indexOf('?')) ? href.slice(0, href.indexOf('?')) : href;
				}
			}
			if (href == pathname) {

				hrefList[j].parentNode.classList.add('is-active');

				shinobi.menumodule
					.openParentNode(hrefList[j].parentNode.parentNode);

			}
		}
	},

	'renderMenuModuleSelectHeader': function (query) {

		var currentModule = window.localStorage.getItem('currentModule');
		if (!currentModule || currentModule == '') {
			shinobi.menumodule.setDefaultModule(function () {
				shinobi.menumodule.buildHeaderSelectMenuModule(query);
			});
		} else {
			shinobi.menumodule.buildHeaderSelectMenuModule(query);
		}

	},

	buildHeaderSelectMenuModule: function (query) {
		var container = document.querySelector(query);

		container
			.setAttribute('class', 'navbar-item has-dropdown is-hoverable');

		var a = document.createElement('a');
		a.setAttribute('class', 'navbar-link');
		a.innerHTML = '<span class="icon"><i class="fal fa-cog"></i></span> <span>' + window.localStorage.getItem('currentModule') + '</span>';

		container.appendChild(a);

		shinobi.menumodule.getListModule(function (listMenu) {

			var listMenuData = JSON.parse(listMenu);

			var menuContainer = document.createElement('div');

			menuContainer.setAttribute('class', 'navbar-dropdown is-right');

			container.appendChild(menuContainer);

			for (var i = 0; i < listMenuData.length; i++) {

				shinobi.menumodule.buildHeaderMenuModuleItem(menuContainer,
					listMenuData, i);
			}

		})
	},

	'buildHeaderMenuModuleItem': function (menuContainer, listMenuData, i) {

		var item = document.createElement('a');
		item.setAttribute('class', 'navbar-item');
		item.innerHTML = listMenuData[i];
		menuContainer.appendChild(item);

		item.onclick = function () {
			var value = this.innerHTML;
			window.localStorage.setItem('currentModule', value);
			shinobi.menumodule.getListMenuModule(value, function (data) {
				if (data.length > 0) {
					window.location.href = data[0].menuurl;
				} else {
					location.reload();
				}
			});
		}

	},

	'setDefaultModule': function (callback) {

		shinobi.menumodule.getListModule(function (listMenuData) {

			var data = JSON.parse(listMenuData);

			if (data[0]) {

				// if (!window.localStorage.getItem('currentModule')) {

				window.localStorage.setItem('currentModule', data[0]);

				// }

				if (typeof callback == 'function') {

					callback()
				}

			}

		});
	},

	'getListModule': function (callback) {

		var request = {};
		shinobi.cacheapi.request('/authenapi/ModuleApi/getUserModules', JSON
			.stringify(request), function (response) {
				callback(response);
			})

	},

	'openParentNode': function (currentItem, container) {

		setTimeout(function () {

			// menuParent.scrollIntoView();

			var menu = container;
			var item = currentItem.getElementsByTagName('a')[0].parentNode;
			var a = Number(item + (5 * 17));
			if (container) {
				if (container.hasOwnProperty('scrollTop')) {
					container.scrollTop = item.offsetTop;
				}
			}

		}, 1000)

		var menuParent = currentItem.parentNode;

		if (menuParent.getAttribute('class')
			&& menuParent.getAttribute('class').includes('ul-submenu')) {

			menuParent.previousElementSibling.click();

			shinobi.menumodule.openParentNode(menuParent.parentNode, container);

		}
	},

	'render': function (option) {
		if (window.localStorage.getItem('currentModule')) {
			var modulename = window.localStorage.getItem('currentModule');

			shinobi.menumodule.getListMenuModule(modulename, function (jsonArr) {
				var data = jsonArr;
				shinobi.menurender.build(shinobi.menumodule.patern, data);

				shinobi.menumodule.activeCurrentTab(shinobi.menumodule.container);

				if (option && option.hasOwnProperty('callback')) {
					option.callback();
				}
			})
		} else {
			setTimeout(function () {
				shinobi.menumodule.render(option);
			}, 200)
		}
	},

	getListMenuModule: function (modulename, callback) {
		var request = {};
		request.modulename = modulename;
		shinobi.cacheapi.request('/authenapi/MenuApi/getListMenu', JSON
			.stringify(request), function (response) {
				var jsonArr = JSON.parse(response);

				callback(jsonArr);
			});
	}
};shinobi.menurender = {

	'patern': '',
	'data': '',
	'container': '',
	'dangerStyle': 'color: rgb(241, 70, 104) !important;',

	'defaultIcon': 'iconpicker-icon-preview icon-menu',

	'build': function (patern, data, callback) {

		shinobi.menurender.patern = patern;

		shinobi.menurender.data = data;

		var container = document.querySelectorAll(patern)[0];

		shinobi.menurender.container = container;

		shinobi.menurender.render(container, data);

		if (typeof callback == 'function') {

			callback();
		}

	},

	'showAllMenu': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var arrowDown = container.getElementsByClassName('shinobi-arrow');

		for (var j = 0; j < arrowDown.length; j++) {

			arrowDown[j].classList.add('arrow-down');

			var hiddenElem = container.getElementsByClassName('is-hidden');

			for (var i = 0; i < hiddenElem.length; i++) {

				hiddenElem[i].classList.remove('is-hidden');
			}
		}

	},

	'render': function (container, data) {

		if (container) {

			container.classList.add('shinobimenu');

			var ul = document.createElement('ul');
			container.appendChild(ul);

			shinobi.menurender.addEventToggleSubMenu(ul);

			data.sort(function (a, b) {
				if (a.menucode.includes('_') && b.menucode.includes('_')) {
					return Number(a.menucode.split('_')[1]) - (b.menucode.split('_')[1]);
				} else {
					return 1;
				}
			});

			for (var i = 0; i < data.length; i++) {

				shinobi.menurender.buildBlockMenu(ul, data, i);

			}
		}

	},

	'addEventToggleSubMenu': function (ul) {

		if (ul.previousElementSibling) {

			var preElem = ul.previousElementSibling;

			var classList = preElem.getAttribute('class');

			if (classList.includes('has-submenu')) {

				ul.classList.add('is-hidden');
				ul.classList.toggle('ul-submenu');
				preElem.onclick = function () {

					ul.classList.toggle('is-hidden');

					var arrow = preElem.getElementsByClassName('shinobi-arrow')[0];
					arrow.classList.toggle('arrow-down');
				}

			}
		}
	},

	'buildBlockMenu': function (ul, data, index) {

		var currentData = data[index];

		var li = document.createElement('li');
		ul.appendChild(li);

		var div = document.createElement('div');
		div.setAttribute('class', 'shinobimenu-item');
		li.appendChild(div);

		var spanIcon = document.createElement('span');
		// spanIcon.setAttribute('class', 'icon');
		div.appendChild(spanIcon);

		var icon = document.createElement('i');
		icon.setAttribute('class', shinobi.menurender.defaultIcon);
		spanIcon.appendChild(icon);

		if (currentData.menuicon) {

			icon.setAttribute('class', currentData.menuicon);
		}

		var a = document.createElement('a');
		a.innerHTML = currentData.menuname;
		div.appendChild(a);

		if (currentData.menucode) {

			a.id = currentData.menucode;
		}

		if (currentData.menuurl) {

			a.href = shinobi.util.decodeValue(currentData.menuurl);
		}

		if (currentData.menudes) {

			a.title = currentData.menudes;
		}

		if (currentData.menuicon) {

			a.setAttribute('icon-class', currentData.menuicon);
		} else {

			a.setAttribute('icon-class', shinobi.menurender.defaultIcon);
		}

		if (currentData.menuchildren) {

			if (currentData.menuchildren.length != 0) {

				div.classList.add('has-submenu');

				shinobi.menurender.createArrowSpan(div);

				shinobi.menurender.render(li, currentData.menuchildren);
			}

		}

		if (currentData.hasOwnProperty('menudes')) {
			if (currentData.menudes.toLowerCase().includes('(nguy hiểm)') || currentData.menudes.toLowerCase().includes('(danger)')) {
				icon.setAttribute('style', shinobi.menurender.dangerStyle);
				a.setAttribute('style', shinobi.menurender.dangerStyle);
			}
		}
	},

	'createArrowSpan': function (div) {
		var arrowIconSpan = document.createElement('span');
		arrowIconSpan.setAttribute('class', 'is-right-align shinobi-arrow');
		div.appendChild(arrowIconSpan);

	}
};shinobi.multivalueinput = (function() {
    var constructor = function(selector, options) {
        this.multivalueinput = "";
        this.input = "";
        this.inputSearch = "";
        this.selector = selector;
        this.idSearchInputTag = 'selectorInputSearch';
        this.result = [];
        this.updateInputValue = function() {
            var objectTaginput = this;
            objectTaginput.input.value = objectTaginput.result;
        };


        this.renderItem = function(result) {
            try {
                result = JSON.parse(result);
                return result;
            } catch (e) {
                return result;
            }

        };
        this.getListResult = '';

        this.setListResult = '';


        this.getResultValue = '';


        this.options = options;


        this.buildSearch = function(object) {
            shinobi.util.addEventEnter(object.inputSearch, function() {

                var returnInput = object.onSubmit(object.inputSearch.value.trim());

                object.appendChildItem(returnInput, object);
                object.inputSearch.value = '';
            });
        };

        this.onSubmit = function(result, object) {
            return result;
        };

        this.appendChildItem = function(result, objectTaginput) {

            if (result) {
                result = JSON.stringify(result);
                var indexResult = objectTaginput.result.indexOf(result);
                if (indexResult == -1) {

                    objectTaginput.result.push(result);
                    objectTaginput.updateInputValue();
                    objectTaginput.insertBeforeSearch(result, objectTaginput);

                }
            }
        };
        this.insertBeforeSearch = function(result, objectTaginput) {
            var children = document.createElement('div');
            children.classList.add('tag', 'is-3', 'is-medium');

            children.innerHTML = objectTaginput.renderItem(result);

            var buttonClose = document.createElement('button');
            buttonClose.classList.add('is-small', 'is-danger', 'delete', "has-background-danger", "has-text-white");
            buttonClose.addEventListener('click', function() {
                children.remove();
                var index = objectTaginput.result.indexOf(result);
                if (index > -1) {
                    objectTaginput.result.splice(index, 1);
                }
                objectTaginput.updateInputValue();
            });
            children.appendChild(buttonClose);

            var container = document.querySelector('#tagstaginput');
            var tagsearch = document.getElementById('tagsearch');

            container.insertBefore(children, tagsearch);
        };
        this.loadOptions = function() {
            var object = this;
            if (options.hasOwnProperty("buildSearch")) {
                object.buildSearch = options.buildSearch;
            }

            if (options.hasOwnProperty("onSubmit")) {
                object.onSubmit = options.onSubmit;
            }
            if (options.hasOwnProperty("renderItem")) {
                object.renderItem = options.renderItem;
            }
            if (options.hasOwnProperty("getListResult")) {
                object.getListResult = options.getListResult;
            }
            if (options.hasOwnProperty("setListResult")) {
                object.setListResult = options.setListResult;
            }
        };

        this.createStructure = function(callback) {
            var object = this;
            var oldtag = document.getElementById('tagstaginput');
            if (oldtag) {
                while (oldtag.firstChild.classList.contains('tag')) {
                    oldtag.firstChild.remove();
                }
            }

            // 
            object.input = document.querySelector(this.selector);
            object.input.classList.add('is-hidden');

            var elem = document.createElement('div');
            elem.style.padding = '1rem';
            elem.style.border = '1px solid #ddd';
            elem.style.borderRadius = '10px';
            elem.classList.add('box');
            //
            var tags = document.createElement('div');
            tags.setAttribute('class', 'tags is-multiline');
            tags.setAttribute('id', 'tagstaginput');
            //
            var node = document.createElement('div');
            node.setAttribute('class', 'is-5');
            node.setAttribute('id', 'tagsearch');
            //
            var children = document.createElement('input');
            children.setAttribute('class', 'input is-bordered');
            children.setAttribute('id', this.idSearchInputTag);
            //
            node.appendChild(children);
            tags.appendChild(node);
            elem.appendChild(tags);

            object.inputSearch = children;


            object.input.parentElement.replaceChild(elem, object.input);

            elem.insertBefore(object.input, elem.firstElementChild);
            elem.appendChild(object.input);
            //
            callback();
        };
        this.createObject = function() {
            var object = this;

            object.buildSearch(object);

            if (typeof object.setListResult === 'function') {

                var listItem = object.setListResult(object.input);

                listItem.forEach(result => {
                    object.appendChildItem(result, object);
                });

            }
            if (typeof object.getListResult === 'function') {

                getListResult(object.result);

            }
        };


        this.loadAll = function() {
            var object = this;
            this.loadOptions();
            this.createStructure(function() {
                object.createObject();
            });
        };

        this.loadAll();
    };

    // public static method
    constructor.staticmethod = {
        hello: function() {},
    };

    return constructor;
})();shinobi.notification = {
  config: {
    modalSize: "is-small",
  },
  modal: {
    modalId: "confirmPanel",
    isInitLoad: false,
    isAccept: false,
    confirm: function (callback) {
      var modal = document.getElementById(this.modalId);

      modal.classList.add("is-active");

      if (!this.isInitLoad) {
        this.registerButton();
      }

      this.isInitLoad = true;
      this.isAccept = false;

      this.doAccept = callback;
    },
    registerButton: function () {
      var modal = document.getElementById(this.modalId);

      var closeButton = modal.getElementsByClassName("delete")[0];

      closeButton.addEventListener("click", function () {
        modal.classList.remove("is-active");
      });

      var cancelButton = modal.getElementsByClassName("cancel")[0];

      cancelButton.addEventListener("click", function () {
        modal.classList.remove("is-active");
      });

      var yesButton = modal.getElementsByClassName("yes")[0];

      var modalObject = this;

      yesButton.addEventListener("click", function () {
        modal.classList.remove("is-active");

        modalObject.isAccept = true;

        modalObject.doAccept();
      });
    },
    doAccep: function () {},
  },
  notification: {
    notificationId: "shinobinotification",
    isInitLoad: false,
    isLoading: true,
    show: function (type, content) {
      var notification = document.getElementById(this.notificationId);
      var notificationcontent = notification.getElementsByClassName("notificationcontent")[0];
      notificationcontent.innerHTML = content;
      if (shinobi.hasOwnProperty("language")) {
        shinobi.language.renderContainer(notificationcontent);
      }
      if ("info" === type) {
        notification.classList.add("info-message");
        notification.classList.remove("error-message");
        notification.classList.remove("loading-message");

        setTimeout(function () {
          notification.classList.remove("info-message");
        }, 3000);
      } else {
        notification.classList.remove("info-message");
        notification.classList.add("error-message");
        notification.classList.remove("loading-message");
      }

      this.registerButton();
      this.isInitLoad = true;
    },
    info: function (content) {
      this.show("info", content);
    },
    error: function (content) {
      this.show("error", content);
    },
    loading: function () {
      var notification = document.getElementById(this.notificationId);

      this.isInitLoad = true;

      notification.getElementsByClassName("delete")[0].classList.add("is-hidden");

      notification.classList.add("info-message");
      notification.classList.add("loading-message");
      notification.classList.remove("error-message");

      var notificationcontent = notification.getElementsByClassName("notificationcontent")[0];
      notificationcontent.innerHTML =
        '<div class="columns is-vcentered"> <a class="button is-text  is-loading column is-1"></a> <div class="column" snb-lang="PAGECODE_LOADING">Đang xử lý</div> </div>';
      if (shinobi.hasOwnProperty("language")) {
        shinobi.language.renderContainer(notificationcontent);
      }
    },
    loaded: function () {
      this.isInitLoad = false;

      var notification = document.getElementById(this.notificationId);

      notification.classList.remove("info-message");
      notification.classList.remove("loading-message");
    },
    registerButton: function () {
      var notification = document.getElementById(this.notificationId);

      var closeButton = notification.getElementsByClassName("delete")[0];
      closeButton.classList.remove("is-hidden");
      closeButton.addEventListener("click", function () {
        notification.classList.remove("info-message");
        notification.classList.remove("error-message");
        closeButton.classList.add("is-hidden");
      });
    },
  },
  confirm: function (callback, options) {
    if (shinobi.hasOwnProperty("notificationconfig")) {
      shinobi.notificationconfig.init();
    }
    var confirmPanel = document.getElementById("confirmPanel");
    shinobi.util.modalEventListener(confirmPanel);
    if (options) {
      if (options.title) {
        confirmPanel.getElementsByClassName("modal-card-title")[0].innerHTML = options.title;
      }
      if (options.content) {
        confirmPanel.getElementsByClassName("modal-card-body")[0].innerHTML = options.content;
      }
      if (options.yescontent) {
        confirmPanel.getElementsByClassName("yes")[0].innerHTML = options.yescontent;
      }
      if (options.nocontent) {
        confirmPanel.getElementsByClassName("cancel")[0].innerHTML = options.nocontent;
      }
      confirmPanel.classList.remove("is-small");
      confirmPanel.classList.remove("is-medium");
      confirmPanel.classList.remove("is-large");
      if (options.modalsize) {
        confirmPanel.classList.add(options.modalsize);
      } else {
        confirmPanel.classList.add(shinobi.notification.config.modalSize);
      }
      if (shinobi.notification.config.hasOwnProperty("modalFontSize")) {
        confirmPanel.classList.add(shinobi.notification.config.modalFontSize);
      }
      if (options.initfunction) {
        options.initfunction(confirmPanel);
      }
      if (options.ishiddenfooter) {
        confirmPanel.getElementsByClassName("modal-card-foot")[0].classList.add("is-hidden");
      } else {
        confirmPanel.getElementsByClassName("modal-card-foot")[0].classList.remove("is-hidden");
      }
    } else {
      confirmPanel.getElementsByClassName("modal-card-title")[0].innerHTML = "Cảnh báo";
      confirmPanel.getElementsByClassName("modal-card-body")[0].innerHTML = "Bạn chắc chắn?";

      confirmPanel.setAttribute("snb-lang", "PAGECODE_ARE_YOU_SURE");
      confirmPanel.getElementsByClassName("yes")[0].innerHTML = "Xác nhận";
      confirmPanel.getElementsByClassName("cancel")[0].innerHTML = "Hủy";
      confirmPanel.classList.remove("is-medium");
      confirmPanel.classList.remove("is-large");
      confirmPanel.classList.add("is-small");
      confirmPanel.classList.add(shinobi.notification.config.modalSize);
      if (shinobi.notification.config.hasOwnProperty("modalFontSize")) {
        confirmPanel.classList.add(shinobi.notification.config.modalFontSize);
      }
      confirmPanel.getElementsByClassName("modal-card-foot")[0].classList.remove("is-hidden");
    }
    confirmPanel.classList.add("is-active");
    var yes = confirmPanel.getElementsByClassName("yes")[0];
    yes.focus();
    yes.onclick = function () {
      if (typeof callback == "function") {
        if (options) {
          if (!(options.hasOwnProperty("notclosewhenacceft") && options["notclosewhenacceft"])) {
            confirmPanel.classList.remove("is-active");
          }
        } else {
          confirmPanel.classList.remove("is-active");
        }

        callback();
      }
    };
  },
  image: function (url, options) {
    var modal = document.getElementById("imageModal");
    if (modal) {
      var modalContent = modal.querySelector(".modal-content");
      modalContent.innerHTML = `
			<p class="image">
				<img sizes="(min-width: 576px) 540px, 100vw" src="${url}"> 
			</p>
			`;
      shinobi.initbulma.modalOpen(modal);
    } else {
      var modalNode = shinobi.util.convertTextToElement(shinobi.notification.iamgeModalContent);
      document.body.appendChild(modalNode);
      shinobi.initbulma.modalEventListener(modalNode);
      shinobi.notification.image(url, options);
    }
  },
  iamgeModalContent: `<div id="imageModal" class="modal">
					<div class="modal-background"></div>
					<div class="modal-content">
					
					</div>
					<button class="modal-close is-large" aria-label="close"></button>
				</div>`,
};
shinobi.render = {
  renderDownloadButtonTable: function (cell, row, col, all) {
    cell.innerHTML = `<a class="button is-small is-link" href="${all[row]["fileurl"]}" download><span class="icon"><i class="fa fa-file"></i></span><span>Tải file</span></a>`;
  },
  renderFormatNumber: function (elem, value, all) {
    var renderValue = shinobi.util.formatNumber(value);
    if (["INPUT", "SELECT", "TEXTAREA"].includes(elem.tagName)) {
      elem.value = renderValue;
    } else {
      elem.innerHTML = renderValue;
      if (["TD", "TH"].includes(elem.tagName)) {
        elem.classList.add("has-text-right");
      }
    }
  },
  showParentNode: function (elem, value, all) {
    elem.innerHTML = value;
    elem.parentNode.classList.remove("is-hidden");
  },
  hiddenParentNode: function (elem, value, all) {
    elem.innerHTML = value;
    elem.parentNode.classList.add("is-hidden");
  },

  renderChangeAvatarImageContainer: function (elem, value, all) {
    all.hasOwnProperty("avatarlink") ? elem.classList.remove("is-hidden") : elem.classList.add("is-hidden");
  },
  renderImageFileInput: function (element, value, all) {
    if (value.trim() != "" && value.trim() != "null") {
      var url = value;

      element.setAttribute("image-url", url);

      var filename = url.split("/")[url.split("/").length - 1];

      var fileContainer = shinobi.util.getParentElementHasAttribute(element, {
        type: "class",
        value: "file",
      });

      var field = shinobi.util.getParentElementHasAttribute(element, {
        type: "class",
        value: "field",
      });

      var fileNameContainer = fileContainer.getElementsByClassName("file-name")[0];
      fileNameContainer.innerHTML = filename;

      field.classList.add("is-grouped");

      var control = field.querySelector(".control.image-info");
      if (control) {
        control.remove();
      }
      control = document.createElement("div");
      control.setAttribute("class", "control image-info");
      var button = document.createElement("a");
      button.setAttribute("class", "button is-primary is-icon");
      button.innerHTML = '<span class="icon"><i class="fal fa-image"></i></span>';
      control.appendChild(button);
      field.appendChild(control);

      button.onclick = function () {
        shinobi.notification.image(element.getAttribute("image-url"));
      };
    }
  },
  renderRatioTable: function (cell, row, col, all) {
    shinobi.render.renderRatio(cell, cell.innerHTML, all[row]);
  },
  renderRatio: function (elem, value, all) {
    elem.innerHTML = value + "%";
  },
  renderPercent: function (elem, value, all) {
    elem.value = (Number(value) * 100) + "%";
  },
  getRatio: function (value, option) {
    return value.replace("%", "");
  },
  renderFullNameTable: function (cell, row, col, all) {
    shinobi.render.renderFullName(cell, cell.innerHTML, all[row]);
  },

  renderFullName: function (elem, value, all) {
    elem.innerHTML = all["lastname"] + " " + all["firstname"];
  },
  enumMapping: {
    SETTLE: "Hoàn tất",
    INPROCESS: "Đang xử lý",
    WAITING_FOR_CHEQUE: "Đợi thanh toán",
    EXPIRED: "Đã hết hạn",
    DELETED: "Đã xóa",
    ACCEPTED: "Chấp nhận",
    REJECTED: "Từ chối",
    WAITING_FOR_TRANFER: "Đang xử lý",
    CANCEL: "Đã hủy",
    WAITING_FOR_AUDIT: "Chờ xử lý",
    DEPOSIT: "Nạp tiền",
    DEPOSIT_DEAL: "Đơn nạp tiền",
    WITHDRAWAL: "Rút tiền",
    TRADING_DEAL: "Mua hàng",
    WINNING_LOTTERY: "Thắng cược",
    WITHDRAW: "Rút tiền",
    CANCEL_REQUEST: "Hủy yêu cầu",
    SEND_REQUEST: "Gửi yêu cầu",
    ACCEPTED_BY_ADMIN: "Admin đồng ý",
    MARK_AS_INPROCESS_BY_ADMIN: "Admin chuyển sang đang xử lý",
    REJECTED_BY_ADMIN: "Admin từ chối",
    MARK_AS_TRANFER_BY_ADMIN: "Admin chuyển sang chờ chuyển",
    WAITING_FOR_EMAIL_VERIFY: "Đợi xác nhận email",
  },

  enumMappingResultStatus: {
    NOT_YET: "Chưa đến lượt",
    ON_WAITING: "Chờ xổ",
    COMPLETE: "Đã xổ xong",
    IN_PROCESS: "Đang xổ",
  },

  enumMappingWithdrawalRequestActionType: {
    ADD_BY_ADMIN: "Admin nạp tiền",
    ACCEPTED_BY_ADMIN: "Đang xử lý",
    REJECTED_BY_ADMIN: "Từ chối",
    SEND_REQUEST: "Gửi yêu cầu",
    MARK_AS_TRANFER_BY_ADMIN: "Admin xác nhận hoàn tất",
    MARK_AS_INPROCESS_BY_ADMIN: "Admin chuyển qua đang xử lý",
    CANCEL_REQUEST: "Hủy yêu cầu",
  },

  enumMappingDepositRequestActionType: {
    ADD_BY_ADMIN: "Admin nạp tiền",
    ACCEPTED_BY_ADMIN: "Admin hoàn tất",
    REJECTED_BY_ADMIN: "Admin từ chối",
    SEND_REQUEST: "Gửi yêu cầu",
    MARK_AS_TRANFER_BY_ADMIN: "Admin xác nhận đã chuyển",
    MARK_AS_INPROCESS_BY_ADMIN: "Admin chuyển qua đang xử lý",
    CANCEL_REQUEST: "Hủy yêu cầu",
  },

  renderEnumActionWithdrawalDepositTable: function (cell, row, col, all) {
    shinobi.render.renderEnumActionWithdrawalDeposit(cell, cell.innerHTML, all[row]);
  },

  renderEnumActionWithdrawalDeposit: function (elem, value, all) {
    var enumList =
      all.actiontype == "DEPOSIT" || all.requesttype == "DEPOSIT"
        ? shinobi.render.enumMappingDepositRequestActionType
        : shinobi.render.enumMappingWithdrawalRequestActionType;
    var returnValue = enumList.hasOwnProperty(value) ? enumList[value] : value;
    elem.innerHTML = returnValue;
  },

  renderRandomColor: function (elem, value, all) {
    var list = ["white", "black", "light", "dark", "primary", "link", "info", "success", "warning", "danger"];
    var randomValue = list[Math.floor(Math.random() * list.length)];
    var attribute = elem.hasAttribute("snb-color-attribute")
      ? elem.getAttribute("snb-color-attribute")
      : "has-background-";
    elem.classList.add(attribute + randomValue);
  },

  renderLotteryResultStatus: function (elem, value, all) {
    var returnValue = shinobi.render.enumMappingResultStatus.hasOwnProperty(value)
      ? shinobi.render.enumMappingResultStatus[value]
      : value;
    elem.innerHTML = returnValue;
    if (value == "ON_WAITING") {
      elem.classList.add("has-text-primary");
    }
  },

  renderEnum: function (elem, value, all) {
    var returnValue = shinobi.render.enumMapping.hasOwnProperty(value) ? shinobi.render.enumMapping[value] : value;
    elem.innerHTML = returnValue;
  },

  renderEnumTable: function (cell, row, col, all) {
    shinobi.render.renderEnum(cell, cell.innerHTML);
  },

  removeFormatNumber: function (value, option) {
    var formatCharacter = shinobi.util.getFormatCharacters();
    var numberFormatCharacter = formatCharacter.numberFormatCharacter;
    return value.replace(new RegExp("\\" + numberFormatCharacter, "g"), "");
  },

  getBulmaCalendarValue: function (value, option) {
    var returnValue = {};
    if (value == "") {
      return value;
    } else {
      option["elem"].parentNode.classList.remove("has-border-danger");
      if (option["elem"].hasAttribute("data-is-range") && option["elem"].getAttribute("data-is-range") == "true") {
        var valueSplit = value.split("-");
        var optionDate = {
          format: "yyyy-MM-dd",
        };
        returnValue["beginDate"] = valueSplit[0] ? valueSplit[0].trim() : "";
        returnValue["endDate"] = valueSplit[1] ? valueSplit[1].trim() : "";

        return returnValue;
      }
      return value;
    }
  },

  getBulmaCalendarValueFormat: function (value, option) {
    var returnValue = value;
    if (value != "") {
      returnValue = shinobi.util.reverseFormatDate(value, {
        reverseFormat: "dd/MM/yyyy",
        format: "yyyy-MM-dd",
      });
    }
    return returnValue;
  },

  getFilterSelect: function (th, options) {
    var select = th.querySelector('select');
    console.log(select.value);
    return {
      colname: th.getAttribute('snb-colname'),
      operator: (select.value == '') ? 'like' : '=',
      value: select.value
    };
  },

  buildFilterSelect: function (th, options) {
    var listOption = JSON.parse(th.getAttribute('snb-filter-list-option'));
    if (th.querySelector('.table-filter')) {
      var preFilter = th.querySelector('.table-filter');
      preFilter.remove();
      options['tableObject'].reloadApi(1);
    } else {
      var container = document.createElement('div');
      container.setAttribute('class', 'field table-filter has-addons');
      container.innerHTML = `
        <div class="select is-small">
            <select></select>
        </div>
        `;
      var select = container.querySelector('select');
      select.onchange = function () {
        options['tableObject'].reloadApi(1);
      }

      listOption.forEach(function (item) {
        var option = document.createElement('option');
        option.setAttribute('value', item["value"]);
        option.innerHTML = item["name"];
        select.appendChild(option);
      });

      th.appendChild(container);
      select.value = '';
    }
  },

  renderFormatNumberTable: function (cell, row, col, all) {
    shinobi.render.renderFormatNumber(cell, cell.innerHTML, all);
  },

  renderUserBalance: function (elem, value, all) {
    shinobi.render.addLoading(elem);
    shinobi.cacheapi.request(shinobi.coreapi.bankAccountApi + "getAccountBalance", "{}", function (response) {
      var jsonArr = JSON.parse(response);
      elem.innerHTML = jsonArr.hasOwnProperty("currentcash")
        ? shinobi.util.formatNumber(jsonArr["currentcash"])
        : "Đang xử lý";
    });
  },

  getFileName: function (elem, value, all) {
    var linkFile = value;
    var linkFileSplit = linkFile.split("/");

    elem.innerHTML = linkFileSplit[linkFileSplit.length - 1];
  },

  renderDownloadFile: function (elem, value, all) {
    var linkFile = value;

    elem.setAttribute("href", value);

    setTimeout(function () {
      elem.focus();
    }, 200);

    elem.onclick = function () {
      var modalId = elem.getAttribute("modal-parent");

      var modal = document.getElementById(modalId);
      modal.classList.remove("is-active");
    };
  },

  addLoading: function (elem, value, all) {
    elem.innerHTML = '<a class="button is-small is-borderless is-paddingless is-icon is-transparent  is-loading"></a>';
  },

  renderTagInputValue: function (elem, value, all) {
    if (typeof shinobi.initbulma.tagsInput == "object") {
      shinobi.initbulma.tagsInput.forEach(function (item) {
        if (item["element"] == elem) {
          item.reset();
          item.input.setAttribute("style", "");
          item.element.value = "";
          var listOption = item.container.querySelectorAll("[data-tag]");

          for (var i = 0; i < listOption.length; i++) {
            listOption[i].remove();
          }
          var listTagValue = value.split(",");
          listTagValue.forEach(function (valueItem) {
            if (valueItem.trim() != "") {
              item.addTag(valueItem.trim());
            }
          });

          item.element.value = value;
        }
      });
    }
  },

  renderFormatDate: function (elem, value, all) {
    var format = elem.hasAttribute("snb-date-format") ? elem.getAttribute("snb-date-format") : "dd-MM-yyyy";
    elem.innerHTML = shinobi.util.getFormatDate(value, {
      format: format,
    });
  },

  renderFormatNumberFloat: function (elem, value, all) {
    var floatValue = Number.parseFloat(value);
    shinobi.render.renderFormatNumber(elem, floatValue, all);
  },

  renderFormatNumberInt: function (elem, value, all) {
    var intValue = Number.parseInt(value);
    shinobi.render.renderFormatNumber(elem, intValue, all);
  },

  renderTotalPrice: function (elem, value, all) {
    var total = all["quantity"] * all["price"];
    elem.innerHTML = shinobi.util.formatNumber(total);
  },
  renderChangeColor: function (elem, value, all) {
    if (Number(value) > 0 || value.trim().toString().startsWith('+')) {
      elem.style.color = 'rgb(0, 255, 0)';
    }

    if (Number(value) < 0 || value.trim().toString().startsWith('-')) {
      elem.style.color = 'rgb(255, 0, 0)';
    }
  },
  renderChangePercentColor: function (elem, value, all) {
    var number = Number(value.replace('%', ''));
    if (number > 0 || value.trim().toString().startsWith('+')) {
      elem.style.color = 'rgb(0, 255, 0)';
    }

    if (number < 0 || value.trim().toString().startsWith('-')) {
      elem.style.color = 'rgb(255, 0, 0)';
    }
  },
  renderChangeAvatarButton: function (elem, value, all) {
    shinobi.fileupload.registerElement(
      elem,
      "change",
      "uploadavatar",
      function () {
        return 0;
      },
      function (upfileResponse) {
        var jsonArr = upfileResponse;

        if (jsonArr.result == "success") {
          var url = jsonArr.content.url;

          var updateAvatarRequest = {};

          var avatarLink = url + "?" + new Date().getTime();

          updateAvatarRequest.avatarlink = avatarLink;

          shinobi.api.request(
            shinobi.coreapi.loggedUserApi + "updateAvatarLink",
            JSON.stringify(updateAvatarRequest),
            function (response) {
              if (response == "update success") {
                shinobi.notification.notification.info("Cập nhật thành công!");

                setTimeout(function () {
                  location.reload();
                }, 1000);
              }
            }
          );
        } else {
          shinobi.notification.notification.error("Xảy ra lỗi vui lòng thử lại!");

          return;
        }
      }
    );
  },
  renderGenderTable: function (cell, row, col, all) {
    shinobi.render.renderGender(cell, cell.innerHTML, all[row]);
  },
  renderGender: function (elem, value, all) {
    var returnValue;
    switch (value) {
      case "MR":
        returnValue = "Nam";
        break;
      case "MS":
        returnValue = "Nữ";
        break;
      default:
        returnValue = value;
        break;
    }
    elem.innerHTML = returnValue;
  },

  filterGender: function (value, option) {
    var returnValue;
    switch (value) {
      case "Nam":
        returnValue = "MR";
        break;
      case "Nữ":
        returnValue = "MS";
        break;
      default:
        returnValue = value;
        break;
    }
    return returnValue;
  },

  renderPhoneNumberWithPhoneReligion: function (elem, value, all) {
    elem.value = value;
    if (elem.hasAttribute("render-target") && all.hasOwnProperty("country")) {
      var target = elem.getAttribute("render-target");
      eval(target).setCountry(all["country"]);
    }
  },

  getNumberCleaveInput: function (value, option) {
    return shinobi.util.getValueNumberCleaveFormat(option.elem);
  },

  renderTextCenterTable: function (cell, row, col, all) {
    shinobi.render.renderTextCenterDatalist(cell, cell.innerHTML, all[row]);
  },

  renderTextCenterDatalist: function (elem, value, all) {
    elem.classList.add('has-text-centered');
  },
  renderTextLeftTable: function (cell, row, col, all) {
    shinobi.render.renderTextLeftDatalist(cell, cell.innerHTML, all[row]);
  },

  renderTextLeftDatalist: function (elem, value, all) {
    elem.classList.add('has-text-left');
  },
  renderTextRightTable: function (cell, row, col, all) {
    shinobi.render.renderTextRightDatalist(cell, cell.innerHTML, all[row]);
  },

  renderTextRightDatalist: function (elem, value, all) {
    elem.classList.add('has-text-right');
  },
};
shinobi.scroll = {
    defaultOption: {
        scrolldelay: 50,
        delayReScroll: 4000,
        delayStartScrollWhenReScroll: 2000,
        pauseOnHover: true
    },
    init: function (selector, option) {
        var elemList = document.querySelectorAll(selector);
        for (var i = 0; i < elemList.length; i++) {
            var elem = elemList[i];
            shinobi.scroll.initElement(elemList, i, option);
        }
    },
    initElement: function (elemList, i, option) {
        var elem = elemList[i];
        var newOption;
        if (!option) {
            newOption = JSON.parse(JSON.stringify(shinobi.scroll.defaultOption));
        } else {
            newOption = option;
        }

        shinobi.scroll.scrollProcess(elem, newOption);
    },

    scrollProcess: function (elem, option) {
        // shinobi.scroll.state = 'scroll';
        var currentScrollHeight = elem.scrollTop + elem.clientHeight;
        var scrollHeight = elem.scrollHeight;
        shinobi.scroll.clear(elem, option, function (afterOption) {
            shinobi.scroll.addEventHover(elem, afterOption);
            if (currentScrollHeight < scrollHeight) {
                afterOption.scrollInterval = setTimeout(function () {
                    elem.scrollBy(0, 1);
                    shinobi.scroll.scrollProcess(elem, afterOption);
                }, afterOption['scrolldelay']);

            } else {
                afterOption.reScrollInterval = setTimeout(function () {
                    elem.scrollTo(0, 0);
                    setTimeout(function () {
                        shinobi.scroll.scrollProcess(elem, afterOption);
                    }, afterOption['delayStartScrollWhenReScroll'])
                }, afterOption['delayReScroll']);

            }
        });

    },

    addEventHover: function (elem, option) {
        if (option.hasOwnProperty('pauseOnHover')) {
            if (option['pauseOnHover']) {
                elem.onmouseover = function () {
                    shinobi.scroll.clear(elem, option);
                }
                elem.onmouseout = function () {
                    shinobi.scroll.scrollProcess(elem, option);
                }
            }
        }
    },
    clear: function (elem, option, callback) {
        if (option.hasOwnProperty('scrollInterval')) {
            clearTimeout(option['scrollInterval']);
        }
        if (option.hasOwnProperty('reScrollInterval')) {
            clearTimeout(option['reScrollInterval']);
        }
        if (typeof callback == 'function') {
            callback(option);
        }
    },

};shinobi.seorender = {

	'gaid' : 'UA-138668527-1',

	'json' : [
			{
				'pageurl' : '/page/index',
				'pagename' : 'Aladin | Nền tảng kết nối cộng đồng nhà đầu tư chứng khoán chuyên nghiệp',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/traderlisting',
				'pagename' : 'Nhà tư vấn',
				'pagerender' : 'shinobi.seorender.listingPageRender'
			}, {
				'pageurl' : '/page/investorlisting',
				'pagename' : 'Nhà đầu tư',
				'pagerender' : 'shinobi.seorender.listingPageRender'
			}, {
				'pageurl' : '/page/blogoverview',
				'pagename' : 'Blog đầu tư',
				'pagerender' : 'shinobi.seorender.blogOverviewRender'
			}, {
				'pageurl' : '/page/blogpost/',
				'pagename' : 'Bài viết',
				'pagerender' : 'shinobi.seorender.blogPostRender'
			}, {
				'pageurl' : '/page/tradinginstruction',
				'pagename' : 'Hướng dẫn nhà đầu tư',

			}, {
				'pageurl' : '/page/account',
				'pagename' : 'Trang cá nhân',
				'pagerender' : 'shinobi.seorender.renderPublicUserProfilePage'
			}, {
				'pageurl' : '/page/traderaccount',
				'pagename' : 'Nhà tư vấn',
				'pagerender' : 'shinobi.seorender.renderPublicUserProfilePage'
			}, {
				'pageurl' : '/page/investoraccount',
				'pagename' : 'Nhà đầu tư',
				'pagerender' : 'shinobi.seorender.renderPublicUserProfilePage'
			}, {
				'pageurl' : '/page/traderguide',
				'pagename' : 'Hướng dẫn Nhà tư vấn',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/question',
				'pagename' : 'Các câu hỏi thường gặp',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/aboutus',
				'pagename' : 'Về Chúng tôi',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/job',
				'pagename' : 'Nghề nghiệp',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/privacypolicy',
				'pagename' : 'Chính sách Bảo mật',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/denyrisk',
				'pagename' : 'Khước từ rủi ro',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/investorserviceterms',
				'pagename' : 'Điều khoản NĐT',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/traderserviceterms',
				'pagename' : 'Điều khoản NTV',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/contact',
				'pagename' : 'Liên hệ',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/investwithaladin',
				'pagename' : 'Đầu tư cùng Aladin',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/traderintroduction',
				'pagename' : 'Hợp tác cùng Nhà tư vấn',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/investorregistration',
				'pagename' : 'Đăng kí',
				'pagerender' : ''
			} ],

	'build' : function(callback) {

		shinobi.seorender.renderPageSeo(callback);
	},

	'renderPublicUserProfilePage' : function(item) {

		var pathName = window.location.pathname;

		var pathNameSplit = pathName.split('/');

		var pageUrl = pathNameSplit[pathNameSplit.length - 1];

		var request = {};
		request.pageurl = pageUrl;

		shinobi.api.request('/api/UserApi/getUsernameFromHomePage', JSON
				.stringify(request), function(response) {

			shinobi.api.request('/api/UserApi/getAllUserInfo', response,
					function(userInfo) {

						var userInfoObject = JSON.parse(userInfo);

						var fullName = userInfoObject.firstname + ' '
								+ userInfoObject.lastname;

						// document.title = fullName;

						var headContent = document.head.innerHTML;
						headContent = '<title>' + fullName + '</title>'
								+ headContent;
						document.head.innerHTML = headContent;
					});
		});
	},

	'blogPostRender' : function(item) {

		var request = {};

		var pathName = window.location.pathname;

		var pathNameSplit = pathName.split('/');

		var postUrl = pathNameSplit[pathNameSplit.length - 1];

		request.posturl = blogPostPageUrl + postUrl;

		shinobi.api.request('/api/BlogOverviewApi/getPreViewContent', JSON
				.stringify(request), function(response) {

			var jsonArr = JSON.parse(response);

			document.title = jsonArr.posttitle;

			var markup = '  <meta property="og:url" content="'
					+ window.location.href + '" />';
			markup = markup + ' <meta property="og:type" content="website" />';
			markup = markup + ' <meta property="og:title" content="'
					+ jsonArr.posttitle + '" />';

			// if (jsonArr.previewcontent) {
			//
			// markup = markup + ' <meta property="og:description" content="'
			// + jsonArr.previewcontent.replace('/(<([^>]+)>)/ig', '')
			// + '" />';
			// } else {
			// markup = markup + ' <meta property="og:description" content="'
			// + jsonArr.title + '" />';
			//			}

			markup = markup + '<meta property="og:image" content="'
					+ jsonArr.thumpnailurl + '" />';
			var headContent = document.head.innerHTML;
			headContent = markup + headContent;
			document.head.innerHTML = headContent;

		});

	},

	'blogOverviewRender' : function(item) {

		var pathName = window.location.pathname;

		var pathNameSplit = pathName.split('/');

		var postType = pathNameSplit[pathNameSplit.length - 2];

		var postFilter = pathNameSplit[pathNameSplit.length - 1];

		var title = er.postFiterConvert(postFilter)
				+ ' '
				+ shinobi.aladinUtil.convertPostTypeToVn(postType)
						.toLowerCase();

		var pageTitle = item.pagename + ': ' + title;

		// var headContent = document.head.innerHTML;
		// headContent = '<title>' + pageTitle + '</title>' + headContent;
		// document.head.innerHTML = headContent;

		document.title = pageTitle;

	},

	'listingPageRender' : function(item) {

		var pathName = window.location.pathname;

		var timeFrame;

		if (item.pageurl == pathName) {

			timeFrame = shinobi.investortraderlistingcontentheaderrender.defaultTimeFrame;

		} else {

			var pathNameSplit = pathName.split('/');

			timeFrame = pathNameSplit[pathNameSplit.length - 1];
		}

		// document.title = item.pagename + ': ' +
		// er.listingTimeFrame(timeFrame);

		var pageTitle = item.pagename + ': ' + er.listingTimeFrame(timeFrame);

		// var headContent = document.head.innerHTML;
		// headContent = '<title>' + pageTitle + '</title>' + headContent;
		// document.head.innerHTML = headContent;

		document.title = pageTitle;

	},

	'defaultRender' : function(item) {

		// var headContent = document.head.innerHTML;
		// headContent = '<title>' + item.pagename + '</title>' + headContent;
		// document.head.innerHTML = headContent;

		document.title = item.pagename;

	},

	'addGA' : function() {
		ga("create", shinobi.seorender.gaid, "auto");
		ga("send", "pageview");
	},

	'renderPageSeo' : function(callback) {

		var jsonArr = shinobi.seorender.json;

		var pathName = window.location.pathname;

		for (var i = 0; i < jsonArr.length; i++) {

			var item = jsonArr[i];

			// var pageUrlRegex = new RegExp(item.pageurl, "igs");

			// if (pageUrlRegex.test(pathName)) {

			if (pathName.includes(item.pageurl)) {
				if (!item.pagerender || item.pagerender == ''
						|| item.pagerender == null) {

					shinobi.seorender.defaultRender(item);
				} else {

					eval(item.pagerender)(item);
				}

				setTimeout(function() {

					callback(true);
				}, 2000);

				return;
			}
		}

		callback(false);
	},

};shinobi.socket = (function () {
  // constructor
  var constructor = function (option) {
    this.url = "";
    this.option = option;
    this.socket = {};
    this.msgid = "";
    this.onOpen = null;
    this.onOpenOverrideFunction = null;
    this.onMessage = null;
    this.onMessageOverrideFunction = null;
    this.onSendOverrideFunction = null;
    this.onError = null;
    this.onClose = null;
    this.onAjax = null;

    this.init = function () {
      this.setupOption();

      this.connect();
    };

    this.connect = function () {
      var socketObject = this;

      this.socket = new WebSocket(socketObject.url);

      this.socket.addEventListener("open", function (event) {
        if (typeof socketObject.onOpenOverrideFunction == "function") {
          socketObject.onOpenOverrideFunction(socketObject);
        } else {
          var message = {
            type: "register",
            command: "init",
            msgid: 0,
            data: [],
          };
          this.send(JSON.stringify(message));

          if (typeof socketObject.onOpen == "function") {
            socketObject.onOpen(socketObject);
          }
        }
      });

      this.socket.addEventListener("message", function (event) {
        if (typeof socketObject.onMessageOverrideFunction == "function") {
          socketObject.onMessageOverrideFunction(event.data);
        } else {
          var data = JSON.parse(event.data);

          // if (socketObject.msgid == '') {

          // 	socketObject.msgid = data.msgid;

          // } else {

          if (typeof socketObject.onMessage == "function") {
            socketObject.onMessage(data);
          }

          // }
        }
      });

      this.socket.addEventListener("close", function () {
        console.log("connection closed");
        if (typeof socketObject.onClose == "function") {
          socketObject.onClose(socketObject);
        } else {
          setTimeout(socketObject.connect(socketObject.url), 1000);
        }
      });
    };

    this.setupOption = function () {
      var socketObject = this;

      socketObject["url"] = option["url"];

      if (option["onOpen"]) {
        socketObject["onOpen"] = option["onOpen"];
      }
      if (option["onClose"]) {
        socketObject["onClose"] = option["onClose"];
      }
      if (option["onMessage"]) {
        socketObject["onMessage"] = option["onMessage"];
      }
      if (option["onError"]) {
        socketObject["onError"] = option["onError"];
      }
      if (option["onAjax"]) {
        socketObject["onAjax"] = option["onAjax"];
      }
      if (option["onOpenOverrideFunction"]) {
        socketObject["onOpenOverrideFunction"] =
          option["onOpenOverrideFunction"];
      }
      if (option["onMessageOverrideFunction"]) {
        socketObject["onMessageOverrideFunction"] =
          option["onMessageOverrideFunction"];
      }
      if (option["onSendOverrideFunction"]) {
        socketObject["onSendOverrideFunction"] =
          option["onSendOverrideFunction"];
      }
    };

    this.send = function (sendData, callback) {
      var socketObject = this;

      var interval = setInterval(function () {
        if (socketObject.socket.readyState == 1) {
          if (typeof socketObject.onSendOverrideFunction == "function") {
            socketObject.onSendOverrideFunction(socketObject, sendData);
          } else {
            var content = {
              command: "request",
              msgid: socketObject.msgid,
              data: sendData,
            };

            socketObject.socket.send(JSON.stringify(content));
          }

          if (typeof callback == "function") {
            callback();
          }

          clearInterval(interval);
        }
      }, 10);
    };

    this.init();
  }; // end constructor

  return constructor;
})();
shinobi.message = {
	'socket': '',
	'url': "",
	'chatInqueue': [],
	'notificationInqueue': [],
	'sessionid': "",
	'readyToSend': false,
	'option': null,
	'connect': function (url, callback, option) {

		this.url = url;
		this.option = option;
		// if (typeof shinobi.message.socket == 'object' && shinobi.message.socket.close == 'function') {
		// 	shinobi.message.socket.close();
		// }
		shinobi.message.socket = new WebSocket(shinobi.message.url);
		// if (option && option.hasOwnProperty('sendInit')) {
		// 	var message = {};
		// 	message.type = "register";
		// 	message.content = shinobi.message.sessionid;
		// 	shinobi.message.socket.send(JSON.stringify(message));
		// 	console.log("send register message");

		// 	shinobi.message.socket.readyToSend = true;

		// 	setTimeout(function () {
		// 		if (typeof callback == 'function') {

		// 			callback();
		// 		}

		// 	}, 1000);
		// }

		this.socket.addEventListener('open', function (event) {
			console.log("open connection");
			var object = this;
			var message = {};
			message.type = "register";
			if (shinobi.message.sessionid == '') {
				shinobi.message.connectSocketServer(callback);
			} else {

				message.content = shinobi.message.sessionid;
				object.send(JSON.stringify(message));
				console.log("send register message");

				object.readyToSend = true;

				setTimeout(function () {
					if (typeof callback == 'function') {

						callback();
					}

				}, 1000);

			}

		});

		this.socket.addEventListener('message', function (event) {
			shinobi.message.inputMessageHandler(event);
		});

		this.socket.addEventListener('close', function () {
			console.log("connection closed");
			setTimeout(shinobi.message.connect(shinobi.message.url), 1000);
		});

	},
	'connectSocketServer': function (callback) {
		var requestSessonId = {};

		shinobi.api.request("/authenapi/UserInfoApi/getSessionid", JSON
			.stringify(requestSessonId), function (response) {

				var jsonResponse = JSON.parse(response);

				var sessionId = jsonResponse.sessionid;

				shinobi.message.sessionid = sessionId;

				if (callback) {
					// shinobi.message.socket.close();

					// shinobi.message.connect(shinobi.config.current.imserver);
					console.log("connect socket server success");

					callback();
				}

			});

	},
	'inputMessageHandler': function (event) {

		var response = event.data;
		var data = JSON.parse(response);

		shinobi.socketmanager.socketMessage.private.push(data);

	},
	'sendMessage': function (message) {
		this.socket.send(message);
	},
};
Number.prototype.format = function (n, x, s, c) {
  var re = "\\d(?=(\\d{" + (x || 3) + "})+" + (n > 0 ? "\\D" : "$") + ")",
    num = this.toFixed(Math.max(0, ~~n));

  return (c ? num.replace(".", c) : num).replace(new RegExp(re, "g"), "$&" + (s || ","));
};

shinobi.tableHelper = {
  mappingRender: {
    renderFirstNameLastName: {
      functionName: "getfullname",
      param: "this",
    },
  },
  colnameAttribute: "snb-colname",
  renderAttribute: "snb-render",
  colcontrolAttribute: "snb-header-control",
  sortAttribute: "snb-sort",
  sortIcon: "<i class='fas fa-sort'></i>",
  sortDescIcon: "<i class='fas fa-sort-down'></i>",
  sortAscIcon: "<i class='fas fa-sort-up'></i>",

  getRender: function (tableId) {
    var table = document.getElementById(tableId);

    var colnameAttributeQuery = "[" + shinobi.tableHelper.colnameAttribute + "]";

    var tHead = table.tHead;
    var listColumnHasColname = tHead.querySelectorAll(colnameAttributeQuery);

    var render = [];
    for (var i = 0; i < listColumnHasColname.length; i++) {
      var item = listColumnHasColname[i];
      if (item.hasAttribute(shinobi.tableHelper.renderAttribute)) {
        var renderFunction = item.getAttribute(shinobi.tableHelper.renderAttribute);

        render[item.cellIndex] = renderFunction;
      }
    }

    return render;
  },

  addAttributeColname: function (colElem) {
    if (colElem.hasAttribute(shinobi.tableHelper.colcontrolAttribute)) {
      var sortElem = colElem.querySelector("[snb-sort]");

      if (!sortElem) {
        var span = document.createElement("span");
        span.setAttribute(shinobi.tableHelper.sortAttribute, "");

        span.innerHTML = shinobi.tableHelper.sortIcon;

        colElem.appendChild(span);
      }

      if (colElem.getAttribute(shinobi.tableHelper.colcontrolAttribute).includes("2")) {
        var filter = document.createElement("span");
        filter.setAttribute("snb-filter", "");
        var filterIcon = document.createElement("i");
        filterIcon.setAttribute("class", "fal fa-sm fa-filter");
        filter.appendChild(filterIcon);
        colElem.appendChild(filter);
      }
    }
  },

  getColname: function (tableId) {
    var table = document.getElementById(tableId);

    var headerColnames = [];

    var listTr = table.tHead.rows;
    for (var indexTr = 0; indexTr < listTr.length; indexTr++) {
      var tr = listTr[indexTr];
      var listTh = tr.cells;
      for (let th of listTh) {
        var key;
        var colspan = th.colSpan;
        if (th.hasAttribute(shinobi.tableHelper.colnameAttribute)) {
          key = th.getAttribute(shinobi.tableHelper.colnameAttribute);
          shinobi.tableHelper.addAttributeColname(th);
        } else {
          key = null;
        }
        if (indexTr == 0) {
          for (var i = 0; i < colspan; i++) {
            headerColnames.push(key);
          }
        } else {
          for (var j = 0; j < colspan; j++) {
            headerColnames[headerColnames.indexOf(null) + j] = key;
          }
        }
      }
    }

    return headerColnames;
  },

  buildSort: function (table) {
    var staticSort = table.staticsorts;
    table.getSorts();

    var sort = table.sorts;

    var listKey = [];

    for (var i = 0; i < sort.length; i++) {
      listKey.push(sort[i].colname);
    }

    var allSort = sort;

    for (var j = 0; j < staticSort.length; j++) {
      if (!listKey.includes(staticSort[j].colname)) {
        allSort.push(staticSort[j]);
      }
    }

    return allSort;
  },

  changeSortIconHeader: function (table) {
    for (var i = 0; i < table.allSorts.length; i++) {
      var key = table.allSorts[i].colname;

      var colnameAttributeQuery =
        "[" + shinobi.tableHelper.colnameAttribute + "=" + key + "]>[" + shinobi.tableHelper.sortAttribute + "]";

      var listHeaderSortIcon = table.tableNode.tHead.querySelectorAll(colnameAttributeQuery);

      for (var j = 0; j < listHeaderSortIcon.length; j++) {
        listHeaderSortIcon[j].classList.add("is-visible");
        listHeaderSortIcon[j].setAttribute("snb-sort", table.allSorts[i].value);

        if (table.allSorts[i].value == "asc") {
          listHeaderSortIcon[j].innerHTML = shinobi.tableHelper.sortAscIcon;
        }
        if (table.allSorts[i].value == "desc") {
          listHeaderSortIcon[j].innerHTML = shinobi.tableHelper.sortDescIcon;
        }
      }
    }
  },
  getRenderExcelFunction: function (cellHeader) {
    var renderName = cellHeader.getAttribute(shinobi.tableHelper.renderAttribute);

    var allFunction = shinobi.tableHelper.mappingRender;

    var functionObject = allFunction[renderName.toString()];

    var returnObject = {};

    if (functionObject) {
      returnObject.result = true;

      if (functionObject.param == "this") {
        var content = {};
        content.rendername = functionObject.functionName;
        content.inputlist = [];
        content.inputlist.push(cellHeader.getAttribute(shinobi.tableHelper.colnameAttribute));

        returnObject.content = content;
      }
    } else {
      returnObject.result = false;
    }

    return returnObject;
  },
};

shinobi.table = (function () {
  // private static variable
  var count = 0;
  var paginationClass = ".table-pagination";
  var prevPaginationClass = ".shinobi-pagination-prev";
  var curPagePaginationClass = ".shinobi-pagination-curpage";
  var nextPaginationClass = ".shinobi-pagination-next";
  var pageTotalClass = ".shinobi-page-total";
  var recordPerPageClass = ".shinobi-recordperpage";
  var detailIdKey = "snb-detailid";
  var colnameAttribute = "snb-colname";
  var colcontrolAttribute = "snb-header-control";
  var sortAttribute = "snb-sort";
  var exportExcelAttribute = "snb-export-excel";

  var sortDescIcon = "<i class='fas fa-sort-down'></i>";
  var sortAscIcon = "<i class='fas fa-sort-up'></i>";
  var sortIcon = "<i class='fas fa-sort'></i>";

  // constructor
  var constructor = function (tableid) {
    this.url = "";

    this.colNames = [];

    this.filters = [];

    this.staticfilters = [];

    this.sorts = [];

    this.allSorts = [];

    this.staticsorts = [];

    this.paramsRequestList = {};

    this.renders = [];

    this.tableRows = [];

    this.pageNum = 1;

    this.recordPerPage = 10;

    this.pageTotal = 10;

    this.rowTotal = 10;

    this.currentId = -1;

    this.lastRequest = {};

    this.exportExcel = false;

    this.options = null;

    this.tableNode = document.getElementById(tableid);

    this.tableContainerNode = this.tableNode.parentNode;

    this.pageNumNode = this.tableContainerNode.querySelector(curPagePaginationClass);

    this.recordPerPageNode = this.tableContainerNode.querySelector(recordPerPageClass);

    this.apiName = "";

    this.getColnames = function () {
      var table = document.getElementById(tableid);

      var headerColnames = [];

      var listTr = table.tHead.rows;
      for (var indexTr = 0; indexTr < listTr.length; indexTr++) {
        var tr = listTr[indexTr];
        var listTh = tr.cells;

        for (var indexTh = 0; indexTh < listTh.length; indexTh++) {
          var th = listTh[indexTh];
          var key;

          var colspan = th.colSpan;

          if (th.hasAttribute(colnameAttribute)) {
            key = th.getAttribute(colnameAttribute);
          } else {
            key = null;
          }

          if (indexTr == 0) {
            for (var i = 0; i < colspan; i++) {
              headerColnames.push(key);
            }
          } else {
            for (var j = 0; j < colspan; j++) {
              headerColnames[headerColnames.indexOf(null) + j] = key;
            }
          }
        }
      }

      return headerColnames;
    };

    this.registerSorts = function () {
      var sortElems = this.tableNode.querySelectorAll("[" + sortAttribute + "]");

      for (var i = 0; i < sortElems.length; i++) {
        var sortElem = sortElems[i];

        this.registerSort(sortElem);
      }
    };

    this.registerSort = function (sortElem) {
      var table = this;

      sortElem.addEventListener("click", function () {
        var currentSortValue = this.getAttribute(sortAttribute);

        var colName = this.parentNode.getAttribute(colnameAttribute);

        if ("" === currentSortValue) {
          this.setAttribute(sortAttribute, "asc");
          this.innerHTML = sortAscIcon;
          this.classList.add("is-visible");
        } else if ("asc" === currentSortValue) {
          this.setAttribute(sortAttribute, "desc");
          this.innerHTML = sortDescIcon;
          this.classList.add("is-visible");
        } else {
          this.setAttribute(sortAttribute, "");
          this.innerHTML = sortIcon;
          this.classList.remove("is-visible");
        }

        table.reloadApi(table.pageNum);
      });
    };

    this.getSorts = function () {
      this.sorts = [];

      // this.sorts = this.sorts.concat(this.staticsorts);

      var sortElems = this.tableNode.querySelectorAll("[" + sortAttribute + "]");

      for (var i = 0; i < sortElems.length; i++) {
        var sortElem = sortElems[i];

        var colName = sortElem.parentNode.getAttribute(colnameAttribute);
        var currentSortValue = sortElem.getAttribute(sortAttribute);

        if ("" !== currentSortValue) {
          var sort = {};
          sort.colname = colName;
          sort.value = currentSortValue;

          this.sorts.push(sort);
        }
      }
    };

    this.registerHeaders = function () {
      var tableElem = document.getElementById(tableid);
      var headers = tableElem.querySelectorAll("[" + colcontrolAttribute + "]");
      var object = this;
      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (header.getAttribute(colcontrolAttribute).includes("2")) {
          object.registerHeader(header);
        }
      }
    };

    this.registerHeader = function (header) {
      var title = header.innerHTML;

      var table = this;

      header.addEventListener("dblclick", function () {
        table.addEventFilterHeader(table, header);
      });

      var filter = header.querySelector("[snb-filter]");

      if (filter) {
        filter.onclick = function () {
          table.addEventFilterHeader(table, header);
        };
      }

      header.addEventListener("keyup", function (event) {
        if (event.keyCode === 13) {
          var currentvalue = this.querySelector("input").value;

          if (currentvalue && currentvalue == "") {
            // this.innerHTML = title;
            table.removeFilterControls(this);
          }

          table.resetPageNum();

          table.reloadApi(table.pageNum);
        }
      });
    };

    this.addEventFilterHeader = function (table, th) {
      //sử dụng snb-filter-builder để custom input filter - có 2 biến đầu vào của hàm th và options
      //sử dung snb-filter-get-value để lấy dữ liệu custom - có 2 biến đầu vào của hàm th và options
      if (th.hasAttribute('snb-filter-builder')) {
        eval(th.getAttribute('snb-filter-builder'))(th, {
          tableObject: table
        });
      } else {
        var childNode = th.childNodes[0];

        if (childNode.nodeType == 3) {
          if (th.querySelector("input") !== null) {
            // this.innerHTML = title;
            table.removeFilterControls(th);

            table.resetPageNum();

            table.reloadApi(table.pageNum);

            return;
          }

          var select = document.createElement("select");
          table.addFilterToElement(select, th);

          var input = document.createElement("input");
          input.setAttribute("class", "input is-small");
          th.hasAttribute("snb-datatype") && th.getAttribute("snb-datatype") == "date"
            ? input.setAttribute("type", "date")
            : input.setAttribute("type", "text");
          input.setAttribute("value", "");
          // input.style.width = th.offsetWidth + "px";

          var div = document.createElement("div");
          div.setAttribute("class", "select is-small");

          // this.removeChild(this.childNodes[0]);
          th.appendChild(document.createElement("br"));
          div.appendChild(select);
          var field = document.createElement("div");
          field.setAttribute("class", "field table-filter has-addons");
          var control1 = document.createElement("div");
          control1.setAttribute("class", "control");
          control1.appendChild(div);
          var control2 = document.createElement("div");
          control2.setAttribute("class", "control");
          control2.appendChild(input);
          field.appendChild(control1);
          field.appendChild(control2);
          th.appendChild(field);
        }
      }
    };

    this.createExportExcelButton = function () {
      var button = document.createElement("span");
      button.setAttribute("class", "button is-small is-light has-text-success is-pulled-right	");
      button.innerHTML = '<span class="icon"><i class="fa fa-file-excel"></i></span><span>Excel</span>';

      var lastTh = this.tableNode.tHead.lastElementChild.lastElementChild;

      lastTh.appendChild(button);

      this.exportExcelButton = button;
    };

    this.getMappingExcelColumn = function () {
      var listNode = this.listHeaderExportExcel;

      var mappingObject = {};

      for (var i = 0; i < listNode.length; i++) {
        var excelColumnName = listNode[i].getAttribute(exportExcelAttribute);

        var colName = listNode[i].getAttribute("snb-colname");

        if (!excelColumnName || excelColumnName.trim() == "") {
          mappingObject[colName] = listNode[i].innerText.trim();
        } else {
          mappingObject[colName] = excelColumnName.trim();
        }
      }
      return mappingObject;
    };

    this.getMappingExcelRenderColumn = function () {
      var listNode = this.listHeaderExportExcel;

      var mappingObject = {};

      for (var i = 0; i < listNode.length; i++) {
        if (listNode[i].hasAttribute("snb-render")) {
          var colName = listNode[i].getAttribute("snb-colname");
          var renderFunction = listNode[i].getAttribute("snb-render");

          if (renderFunction.trim() != "" && colName.trim() != "") {
            var renderExcelFunctionObject = shinobi.tableHelper.getRenderExcelFunction(listNode[i]);

            if (renderExcelFunctionObject.result) {
              mappingObject[colName] = renderExcelFunctionObject.content;
            }
          }
        }
      }

      return mappingObject;
    };

    this.addEventExportExcel = function () {
      var button = this.exportExcelButton;

      var table = this;

      if (this.listHeaderExportExcel.length == 0) {
        button.classList.add("is-hidden");
      }

      button.onclick = function () {
        shinobi.notification.notification.loading();

        // er.showDownloadFileModal();

        var request = {};
        request.filters = table.filters;
        request.sorts = table.allSorts;
        request.mappingcolumns = table.getMappingExcelColumn();
        request.rendercolumns = table.getMappingExcelRenderColumn();

        var urlSplit = table.url.split("/");
        var apiName = urlSplit[2];

        var url = "/exportfile/excel/" + apiName;

        shinobi.exportfile.request(url, JSON.stringify(request), "xlsx", function () {
          shinobi.notification.notification.loaded();
        });
      };
    };

    this.registerExportExcel = function () {
      var tableElem = document.getElementById(tableid);
      var listHeaderExportExcel = tableElem.querySelectorAll("[" + exportExcelAttribute + "]");
      if (listHeaderExportExcel && this.exportExcel) {
        this.listHeaderExportExcel = listHeaderExportExcel;

        this.createExportExcelButton();

        this.addEventExportExcel();
      }
    };

    this.removeFilterControls = function (elem) {
      var br = elem.querySelector("br");
      // var select = elem.querySelector(".select");
      // var input = elem.querySelector(".input");
      var field = elem.querySelector(".field.table-filter");
      elem.removeChild(br);
      // elem.removeChild(select);
      // elem.removeChild(input);
      elem.removeChild(field);
    };

    this.resetPageNum = function () {
      this.pageNum = 1;
      this.pageNumNode.value = 1;
    };

    this.addFilterToElement = function (select, node) {
      var datatype = node.getAttribute("snb-datatype");

      select.classList.add('default-filter-select-operator');

      var textArr = [];
      var valueArr = [];

      if (["number", "date"].includes(datatype)) {
        textArr = ["=", ">", ">=", "<", "<="];
        valueArr = ["equal", ">", ">=", "<", "<="];
      } else if (datatype === "boolean") {
        textArr = ["="];
        valueArr = ["equal"];
      } else {
        textArr = ["like", "="];
        valueArr = ["like", "equal"];
      }

      for (var i = 0; i < textArr.length; i++) {
        var option = document.createElement("option");
        option.text = textArr[i];
        option.value = valueArr[i];
        select.appendChild(option);
      }
    };

    this.registerRecordPerPage = function () {
      var table = this;

      var copyNode = this.recordPerPageNode.cloneNode(true);

      this.recordPerPageNode.parentNode.replaceChild(copyNode, this.recordPerPageNode);

      this.recordPerPageNode = copyNode;

      this.recordPerPageNode.addEventListener("change", function () {
        table.resetPageNum();
        table.reloadApi(table.pageNum);
      });
    };

    this.registerPagination = function () {
      var parentNode = this.tableNode.parentNode;

      this.paginationContainer = parentNode.querySelector(paginationClass);
    };

    this.updatePagination = function (data) {
      var content = JSON.parse(data);

      var table = this;

      table.rowTotal = content.rowTotal;
      table.pageNum = content.pageNum;
      table.recordPerPage = content.recordPerPage;
      table.pageTotal = content.pageTotal;

      shinobi.mapping.renderElement(this.paginationContainer, JSON.parse(data));

      if (JSON.parse(data).pageNum) {
        var currentPage = this.paginationContainer.querySelectorAll(curPagePaginationClass)[0];
        if (JSON.parse(data).pageTotal == 0) {
          currentPage.value = 0;
        } else {
          currentPage.value = JSON.parse(data).pageNum;
        }
      }
    };

    this.registerPrevPagination = function () {
      var parentNode = this.tableNode.parentNode;

      var prevPagination = parentNode.querySelector(prevPaginationClass);

      var copyNode = prevPagination.cloneNode(true);

      prevPagination.parentNode.replaceChild(copyNode, prevPagination);

      var table = this;

      copyNode.addEventListener("click", function () {
        var currentPageNode = parentNode.querySelector(curPagePaginationClass);
        var currentPage = currentPageNode.value;

        if (currentPage > 1) {
          var pageNum = currentPage - 1;

          currentPageNode.value = pageNum;

          table.reloadApi(pageNum);
        }
      });
    };

    this.registerNextPagination = function () {
      var parentNode = this.tableNode.parentNode;

      var nextPagination = parentNode.querySelector(nextPaginationClass);

      var copyNode = nextPagination.cloneNode(true);

      nextPagination.parentNode.replaceChild(copyNode, nextPagination);

      var table = this;

      copyNode.addEventListener("click", function () {
        var currentPageNode = parentNode.querySelector(curPagePaginationClass);
        var currentPage = Number(currentPageNode.value);

        if (currentPage < table.pageTotal) {
          var pageNum = currentPage + 1;
          currentPageNode.value = pageNum;

          table.reloadApi(pageNum);
        }
      });
    };

    this.registerCurrentPageEvent = function () {
      var parentNode = this.tableNode.parentNode;

      var currentPageNode = parentNode.querySelector(curPagePaginationClass);

      var copyNode = currentPageNode.cloneNode(true);

      currentPageNode.parentNode.replaceChild(copyNode, currentPageNode);

      var table = this;
      copyNode.addEventListener("keyup", function (event) {
        if (event.keyCode === 13) {
          var curPageNum = Number(copyNode.value);

          if (curPageNum > 0 && curPageNum <= table.pageTotal) {
            table.reloadApi(curPageNum);
          }
        }
      });
    };

    this.registerHeaders();
    this.registerPagination();
    this.registerCurrentPageEvent();
    this.registerPrevPagination();
    this.registerNextPagination();
    this.registerRecordPerPage();
    this.registerSorts();
    this.registerExportExcel();

    this.viewDetailPanelId = "";

    // public instance method
    this.renderTable = function (colnames, inputjson, render) {
      var table = document.getElementById(tableid);
      var tbody = table.getElementsByTagName("tbody")[0];

      // var rowArray = JSON.parse(inputjson);
      var rowArray = inputjson;

      this.tableRows = rowArray;

      for (var rowindex = 0; rowindex < rowArray.length; rowindex++) {
        var rowObject = rowArray[rowindex];
        var row = tbody.insertRow();

        if (this.viewDetailPanelId !== "") {
          row.setAttribute(detailIdKey, this.viewDetailPanelId);
        }

        for (var colindex in colnames) {
          var cell = row.insertCell(colindex);
          var value = rowObject[colnames[colindex]];

          if (typeof value != "undefined") {
            cell.innerHTML = value;
          }

          cell.setAttribute("rowid", rowindex);

          if (typeof render[colindex] != "undefined") {
            if (typeof render[colindex] == "function") {
              render[colindex](cell, rowindex, colindex, this.tableRows);
            }

            if (typeof render[colindex] == "string") {
              var option = {
                type: "table",
              };
              eval(render[colindex])(cell, rowindex, colindex, this.tableRows, option);
            }
          }
        }
      }
      var object = this;
      if (
        object.options != null &&
        object.options.hasOwnProperty("isFillBlankCell") &&
        object.options["isFillBlankCell"] == true
      ) {
        var blankRowCount = object.recordPerPage - object.tableRows.length;
        for (var j = 0; j < blankRowCount; j++) {
          let blankRow = tbody.insertRow();
          for (colindex in colnames) {
            var blankCell = blankRow.insertCell(colindex);
            blankCell.setAttribute("rowid", object.tableRows.length + j);
          }
        }
      }

      // this.updatePageTotal();

      if (object.options && object.options.hasOwnProperty("loadDataCallback")) {
        object.options.loadDataCallback();
      }
    };

    this.getCurrentPage = function () {
      var parentNode = this.tableNode.parentNode;

      var currentPageNode = parentNode.querySelector(curPagePaginationClass);
      var currentPage = Number(currentPageNode.value);

      return currentPage;
    };

    this.initLoadApi = function (url, request, colNames, renders, option) {
      // this.sorts = this.sorts.concat(this.staticsorts);

      var table = this;
      this.options = option;


      this.getTableFilters();

      this.filters = this.filters.concat(this.staticfilters);

      this.allSorts = shinobi.tableHelper.buildSort(this);
      this.sorts = [];
      // request.sorts = this.sorts;

      if (table.options && table.options.hasOwnProperty('beforeCallApiCallback')) {
        table.options.beforeCallApiCallback(table);
      }
      request.pageNum = 1;
      request.filters = this.filters;
      request.sorts = this.allSorts;
      Object.entries(table.paramsRequestList).forEach(function (entry) {
        request[entry[0]] = entry[1];
      });
      shinobi.api.request(url, JSON.stringify(request), function (data) {
        var content = JSON.parse(data);
        table.lastRequest.url = url;
        table.lastRequest.request = request;
        table.lastRequest.response = data;

        var tableContent = content.data;

        table.url = url;
        //
        // table.rowTotal = content.rowTotal;
        // table.pageNum = content.pageNum;
        // table.recordPerPage = content.recordPerPage;
        // table.pageTotal = content.pageTotal;

        table.colNames = colNames;
        table.renders = renders;

        shinobi.tableHelper.changeSortIconHeader(table);

        table.clear();
        table.updatePagination(data);
        table.renderTable(colNames, tableContent, renders);

        if (option && option.hasOwnProperty("callback")) {
          option.callback();
        }

        table.updatePagination(data);
      });
    };

    this.reloadApi = function (pageNum, reloadApiOptions) {
      if (!(reloadApiOptions && reloadApiOptions.hasOwnProperty("loading") && !reloadApiOptions["loading"])) {
        shinobi.notification.notification.loading();
      }
      var table = this;

      this.getTableFilters();
      this.getSorts();

      this.recordPerPage = this.recordPerPageNode.value;

      if (this.sorts.length == 0) {
        var sort = {};
        sort.colname = "id";
        sort.value = "desc";

        this.sorts[0] = sort;
      }

      var request = {};
      Object.entries(table.paramsRequestList).forEach(function (entry) {
        request[entry[0]] = entry[1];
      });
      request.recordPerPage = this.recordPerPage;

      if (pageNum) {
        request.pageNum = pageNum;
      } else {
        request.pageNum = this.getCurrentPage();
      }

      // check page number == 0
      if (request.pageNum == 0) {
        request.pageNum = 1;
      }


      this.allSorts = shinobi.tableHelper.buildSort(this);
      this.sorts = [];
      // request.sorts = this.sorts;
      if (table.options && table.options.hasOwnProperty('beforeCallApiCallback')) {
        table.options.beforeCallApiCallback(table);
      }
      request.filters = this.filters;
      request.sorts = this.allSorts;
      shinobi.api.request(this.url, JSON.stringify(request), function (data) {
        table.lastRequest.url = table.url;
        table.lastRequest.request = request;
        table.lastRequest.response = data;
        var content = JSON.parse(data);

        var tableContent = content.data;

        table.rowTotal = content.rowTotal;
        table.pageNum = content.pageNum;
        table.recordPerPage = content.recordPerPage;
        table.pageTotal = content.pageTotal;

        table.clear();
        table.updatePagination(data);
        table.renderTable(table.colNames, tableContent, table.renders);
        if (!(reloadApiOptions && reloadApiOptions.hasOwnProperty("loading") && !reloadApiOptions["loading"])) {
          shinobi.notification.notification.loaded();
        }
        if (reloadApiOptions && reloadApiOptions.hasOwnProperty("callback")) {
          reloadApiOptions.callback();
        }
      });
    };

    this.callApi = function (callback, pageNum, reloadApiOptions) {
      var table = this;

      this.getTableFilters();
      this.getSorts();

      this.recordPerPage = this.recordPerPageNode.value;

      if (this.sorts.length == 0) {
        var sort = {};
        sort.colname = "id";
        sort.value = "desc";

        this.sorts[0] = sort;
      }

      var request = {};
      Object.entries(table.paramsRequestList).forEach(function (entry) {
        request[entry[0]] = entry[1];
      });
      request.recordPerPage = this.recordPerPage;

      if (pageNum) {
        request.pageNum = pageNum;
      } else {
        request.pageNum = this.getCurrentPage();
      }

      // check page number == 0
      if (request.pageNum == 0) {
        request.pageNum = 1;
      }

      request.filters = this.filters;

      this.allSorts = shinobi.tableHelper.buildSort(this);
      this.sorts = [];
      // request.sorts = this.sorts;
      request.sorts = this.allSorts;

      shinobi.api.request(this.url, JSON.stringify(request), function (data) {
        var content = JSON.parse(data);
        callback(content);
      });
    };

    // public instance method
    this.clear = function () {
      var tableElem = document.getElementById(tableid);
      var tbody = tableElem.getElementsByTagName("tbody")[0];

      while (tbody.firstChild) {
        tbody.removeChild(tbody.firstChild);
      }
    };

    this.updatePageTotal = function () {
      var parentNode = this.tableNode.parentNode;
      var pageTotalNode = parentNode.querySelector(pageTotalClass);

      pageTotalNode.innerHTML = this.pageTotal;

      if (this.pageNum > this.pageTotal) {
        this.pageNum = this.pageTotal;

        var pageNumNode = parentNode.querySelector(curPagePaginationClass);
        pageNumNode.value = this.pageNum;
      }
    };
    // public instance method
    this.getRowObject = function (rowid) {
      return this.tableRows[rowid];
    };

    this.getTableFilters = function () {
      var table = document.getElementById(tableid);
      var tableObject = this;
      var headerFilters = table.querySelectorAll("[snb-header-control] .input, [snb-header-control] select:not(.default-filter-select-operator)");

      this.filters = [];

      this.filters = this.filters.concat(this.staticfilters);

      this.pageNum = 1;

      // for (var i = 0; i < headerFilters.length; i++) {
      for (var inputElem of headerFilters) {

        // var inputElem = headerFilters[i];
        var header = shinobi.util.getParentElementHasAttribute(inputElem, {
          type: "tagName",
          value: "TH",
        });
        var filter = {};
        if (header.hasAttribute('snb-filter-get-value')) {
          filter = eval(header.getAttribute('snb-filter-get-value'))(header, {
            tableObject: table
          })
        } else {

          var inputValue = inputElem.value.trim();
          var currentvalue = header.hasAttribute("snb-filter-preprocess")
            ? eval(header.getAttribute("snb-filter-preprocess"))(inputValue, {
              table: table,
              // input: headerFilters[i],
              input: inputElem,
              header: header,
            })
            : inputValue;
          var parentNode = inputElem.parentNode.parentNode.parentNode;

          var select = parentNode.querySelector("select");
          var operator = select.options[select.selectedIndex].value;

          filter = {};
          filter.colname = parentNode.getAttribute(colnameAttribute);
          filter.operator = operator;
          filter.value = currentvalue;
        }

        if (currentvalue !== "") {
          if (
            tableObject.hasOwnProperty("hasCheckDuplicateFilterColumn") &&
            tableObject.hasCheckDuplicateFilterColumn == true &&
            tableObject.hasOwnProperty("checkDuplicateFilterColumnList") &&
            tableObject.checkDuplicateFilterColumnList.includes(filter.colname)
          ) {
            var listFiltersNew = [];
            tableObject.filters.forEach(function (filterItem, index) {
              if (filterItem.colname != filter.colname) {
                listFiltersNew.push(filterItem);
              }
            });
            tableObject.filters = listFiltersNew;
          }
          if (filter.colname != null) {
            tableObject.filters.push(filter);
          }
        }
      }
    };

    // public instance method
    this.numberFormatRender = function (cell, rowindex, colindex, tableRows) {
      var value = Number(cell.innerHTML);
      cell.innerHTML = value.format(0, 3, ",", ".");
      cell.classList.add("has-text-right");
    };

    // public instance method
    this.inputableRender = function (cell, rowindex, colindex, tableRows) {
      var initValue = cell.innerHTML;

      cell.addEventListener("dblclick", function () {
        var childNode = this.childNodes[0];

        if (childNode.nodeType == 3) {
          var currentValue = this.innerHTML;
          var input = document.createElement("input");
          input.setAttribute("type", "text");
          input.setAttribute("value", currentValue);
          this.removeChild(this.childNodes[0]);
          this.appendChild(input);
        } else if (childNode.nodeType == 1) {
          var currentValue = childNode.value;
          this.innerHTML = currentValue;

          if (currentValue !== initValue) {
            this.classList.add("is-warning");
          } else {
            this.classList.remove("is-warning");
          }
        }
      });

      cell.addEventListener("keyup", function (event) {
        if (event.keyCode == 13) {
          var childNode = this.childNodes[0];
          if (childNode.nodeType == 1) {
            var currentValue = childNode.value;
            this.innerHTML = currentValue;

            if (currentValue !== initValue) {
              this.classList.add("is-warning");
            } else {
              this.classList.remove("is-warning");
            }
          }
        }
      });

      cell.addEventListener("mouseover", function () {
        this.classList.add("is-light");
      });

      cell.addEventListener("mouseout", function () {
        this.classList.remove("is-light");
      });
    }; // end inputableRender

    // public instance method
    this.viewDetailRender = function (cell, rowindex, colindex, tableRows) {
      var button = document.createElement("a");
      button.setAttribute("class", "button is-small is-icon is-info");
      button.innerHTML = "<span class='icon'> <i class='fa fa-search'></i></span>";
      cell.appendChild(button);

      var rowid = cell.getAttribute("rowid");

      var rowNode = cell.parentNode;

      var viewDetailPanelId = rowNode.getAttribute(detailIdKey);

      var rowObject = tableRows[rowid];

      var table = this;

      button.addEventListener("click", function () {
        //hightlighting tr
        var paginationContainer = cell.parentElement.parentElement.parentElement.nextElementSibling;
        var style = paginationContainer.querySelector("style.shinobi-table-style");
        if (!style) {
          style = document.createElement("style");
          style.setAttribute("class", "shinobi-table-style");
          style.innerHTML = `.shinobi-table-row-hightlighting{background: #f1e8da !important;}`;
          paginationContainer.appendChild(style);
        }
        var rows = cell.parentElement.parentElement.querySelectorAll("tr");
        for (let row of rows) {
          row.classList.remove("shinobi-table-row-hightlighting");
        }
        cell.parentElement.classList.add("shinobi-table-row-hightlighting");

        shinobi.mapping.clear("#" + viewDetailPanelId);
        shinobi.mapping.render("#" + viewDetailPanelId, JSON.stringify(rowObject));
      });
    }; // end viewDetailRender
  }; // end constructor

  // public static method
  constructor.staticmethod = {
    hello: function () { },
  };

  return constructor;
})();
// function downloadURI(uri) {
//     var name = uri.split('/')[uri.split('/').length - 1];
//     var link = document.createElement("a");
//     link.download = name;
//     link.href = uri;
//     document.body.appendChild(link);
//     link.click();
//     document.body.removeChild(link);
//     delete link;
// }


// var files = document.querySelectorAll('script[src]');
// files.forEach(function (item) {
//     downloadURI(item.getAttribute('src'));

// });




// function downloadURI(uri) {
//     var name = uri.split('/')[uri.split('/').length - 1];
//     var link = document.createElement("a");
//     link.download = name;
//     link.href = uri;
//     document.body.appendChild(link);
//     link.click();
//     document.body.removeChild(link);
//     delete link;
// }


// var files = document.querySelectorAll('link[href*=".css"]');
// files.forEach(function (item) {
//     downloadURI(item.getAttribute('href'));

// });








shinobi.tradingview = {
	getConfig : function(content) {
		copy(JSON.parse(content.content));
	},
	configCFV : {
		"name": "CFV",
		"layout": "s",
		"charts": [
			{
				"panes": [
					{
						"sources": [
							{
								"type": "MainSeries",
								"id": "z2uWe2",
								"state": {
									"style": 2,
									"esdShowDividends": true,
									"esdShowSplits": true,
									"esdShowEarnings": true,
									"esdShowBreaks": false,
									"esdBreaksStyle": {
										"color": "rgba( 235, 77, 92, 1)",
										"style": 2,
										"width": 1
									},
									"esdFlagSize": 2,
									"showCountdown": false,
									"showInDataWindow": true,
									"visible": true,
									"showPriceLine": true,
									"priceLineWidth": 1,
									"priceLineColor": "",
									"baseLineColor": "#5d606b",
									"showPrevClosePriceLine": false,
									"prevClosePriceLineWidth": 1,
									"prevClosePriceLineColor": "rgba( 85, 85, 85, 1)",
									"minTick": "default",
									"extendedHours": false,
									"sessVis": false,
									"statusViewStyle": {
										"fontSize": 16,
										"showExchange": true,
										"showInterval": true,
										"symbolTextSource": "description"
									},
									"candleStyle": {
										"upColor": "#00CA73",
										"downColor": "#FF6960",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#225437",
										"borderDownColor": "#5A1913",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#225437",
										"wickDownColor": "#5A1913",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350"
									},
									"haStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"showRealLastPrice": false,
										"barColorsOnPrevClose": false,
										"inputs": {},
										"inputInfo": {}
									},
									"barStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"hiloStyle": {
										"color": "#2196f3",
										"showBorders": true,
										"borderColor": "#2196f3",
										"showLabels": true,
										"labelColor": "#2196f3",
										"fontSize": 7
									},
									"lineStyle": {
										"color": "rgba(0, 255, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "rgba(33, 150, 243, 0.05)",
										"color2": "rgba(33, 150, 243, 0.05)",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"renkoStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"inputs": {
											"source": "close",
											"boxSize": 3,
											"style": "ATR",
											"atrLength": 14,
											"wicks": true
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"wicks": {
												"name": "Wicks"
											}
										}
									},
									"pbStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"lb": 3
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"lb": {
												"name": "Number of line"
											}
										}
									},
									"kagiStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"style": "ATR",
											"atrLength": 14,
											"reversalAmount": 1
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											}
										}
									},
									"pnfStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"sources": "Close",
											"reversalAmount": 3,
											"boxSize": 1,
											"style": "ATR",
											"atrLength": 14
										},
										"inputInfo": {
											"sources": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											}
										}
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 38, 166, 154, 0.05)",
										"topFillColor2": "rgba( 38, 166, 154, 0.05)",
										"bottomFillColor1": "rgba( 239, 83, 80, 0.05)",
										"bottomFillColor2": "rgba( 239, 83, 80, 0.05)",
										"topLineColor": "rgba( 38, 166, 154, 1)",
										"bottomLineColor": "rgba( 239, 83, 80, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"rangeStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"thinBars": true,
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"range": 10,
											"phantomBars": false
										},
										"inputInfo": {
											"range": {
												"name": "Range"
											},
											"phantomBars": {
												"name": "Phantom Bars"
											}
										}
									},
									"symbol": "SJCBUY",
									"shortName": "Vàng SJC 1L HCM Mua vào",
									"timeframe": "",
									"onWidget": false,
									"interval": "D",
									"showSessions": false,
									"priceAxisProperties": {
										"autoScale": true,
										"autoScaleDisabled": false,
										"lockScale": false,
										"percentage": false,
										"percentageDisabled": false,
										"log": false,
										"logDisabled": false,
										"alignLabels": true,
										"isInverted": false,
										"indexedTo100": false
									}
								},
								"zorder": -1,
								"haStyle": {
									"studyId": "BarSetHeikenAshi@tv-basicstudies-60"
								},
								"renkoStyle": {
									"studyId": "BarSetRenko@tv-prostudies-15"
								},
								"pbStyle": {
									"studyId": "BarSetPriceBreak@tv-prostudies-15"
								},
								"kagiStyle": {
									"studyId": "BarSetKagi@tv-prostudies-15"
								},
								"pnfStyle": {
									"studyId": "BarSetPnF@tv-prostudies-15"
								},
								"rangeStyle": {
									"studyId": "BarSetRange@tv-basicstudies-72"
								}
							},
							{
								"type": "study_Overlay",
								"id": "GdoUI3",
								"state": {
									"styles": {
										"open": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Open"
										},
										"high": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "High"
										},
										"low": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Low"
										},
										"close": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Close"
										}
									},
									"precision": "default",
									"inputs": {
										"symbol": "SJCSELL"
									},
									"style": 2,
									"showPriceLine": false,
									"minTick": "default",
									"candleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"barStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"lineStyle": {
										"color": "rgba(255, 0, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "#2196f3",
										"color2": "#2196f3",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 83, 185, 135, 0.05)",
										"topFillColor2": "rgba( 83, 185, 135, 0.05)",
										"bottomFillColor1": "rgba( 235, 77, 92, 0.05)",
										"bottomFillColor2": "rgba( 235, 77, 92, 0.05)",
										"topLineColor": "rgba( 83, 185, 135, 1)",
										"bottomLineColor": "rgba( 235, 77, 92, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"palettes": {},
									"bands": {},
									"area": {},
									"graphics": {},
									"showInDataWindow": true,
									"visible": true,
									"showStudyArguments": true,
									"plots": {
										"0": {
											"id": "open",
											"type": "line"
										},
										"1": {
											"id": "high",
											"type": "line"
										},
										"2": {
											"id": "low",
											"type": "line"
										},
										"3": {
											"id": "close",
											"type": "line"
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								},
								"zorder": -4,
								"metaInfo": {
									"palettes": {},
									"inputs": [
										{
											"id": "symbol",
											"name": "symbol",
											"defval": "",
											"type": "symbol",
											"isHidden": true
										}
									],
									"plots": [
										{
											"id": "open",
											"type": "line"
										},
										{
											"id": "high",
											"type": "line"
										},
										{
											"id": "low",
											"type": "line"
										},
										{
											"id": "close",
											"type": "line"
										}
									],
									"graphics": {},
									"defaults": {
										"styles": {},
										"inputs": {
											"symbol": ""
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"styles": {
										"open": {
											"title": "Open"
										},
										"high": {
											"title": "High"
										},
										"low": {
											"title": "Low"
										},
										"close": {
											"title": "Close"
										}
									},
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies-1",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								}
							}
						],
						"leftAxisesState": [],
						"rightAxisesState": [
							{
								"state": {
									"id": "6FPccHx2iRtp",
									"m_priceRange": {
										"m_maxValue": 58050000,
										"m_minValue": 56250000
									},
									"m_isAutoScale": true,
									"m_isPercentage": false,
									"m_isIndexedTo100": false,
									"m_isLog": false,
									"m_isLockScale": false,
									"m_isInverted": false,
									"m_height": 220,
									"m_topMargin": 0.1,
									"m_bottomMargin": 0.08,
									"alignLabels": true
								},
								"sources": [
									"z2uWe2",
									"GdoUI3"
								]
							}
						],
						"overlayPriceScales": {},
						"stretchFactor": 2000,
						"mainSourceId": "z2uWe2",
						"priceScaleRatio": null
					}
				],
				"timeScale": {
					"m_barSpacing": 41.94601675233001,
					"m_rightOffset": 10
				},
				"chartProperties": {
					"paneProperties": {
						"background": "#131722",
						"gridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"vertGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"horzGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"crossHairProperties": {
							"color": "rgba(117, 134, 150, 1)",
							"style": 2,
							"transparency": 0,
							"width": 1
						},
						"topMargin": 10,
						"bottomMargin": 8,
						"axisProperties": {
							"autoScale": true,
							"autoScaleDisabled": false,
							"lockScale": false,
							"percentage": false,
							"percentageDisabled": false,
							"indexedTo100": false,
							"log": false,
							"logDisabled": false,
							"alignLabels": true,
							"isInverted": false
						},
						"legendProperties": {
							"showStudyArguments": true,
							"showStudyTitles": true,
							"showStudyValues": true,
							"showSeriesTitle": true,
							"showSeriesOHLC": true,
							"showLegend": true,
							"showBarChange": true,
							"showOnlyPriceSource": true
						}
					},
					"scalesProperties": {
						"backgroundColor": "#ffffff",
						"lineColor": "#787878",
						"textColor": "#D9D9D9",
						"fontSize": 11,
						"scaleSeriesOnly": false,
						"showSeriesLastValue": true,
						"seriesLastValueMode": 1,
						"showSeriesPrevCloseValue": false,
						"showStudyLastValue": false,
						"showSymbolLabels": false,
						"showStudyPlotLabels": false,
						"barSpacing": 6
					},
					"chartEventsSourceProperties": {
						"visible": true,
						"futureOnly": true,
						"breaks": {
							"color": "rgba(85, 85, 85, 1)",
							"visible": false,
							"style": 2,
							"width": 1
						}
					},
					"priceScaleSelectionStrategyName": "auto"
				},
				"version": 2,
				"timezone": "Asia/Ho_Chi_Minh",
				"sessions": {
					"properties": {
						"graphics": {
							"backgrounds": {
								"inSession": {
									"color": "#6fa8dc",
									"transparency": 60,
									"visible": false
								},
								"outOfSession": {
									"color": "#ffe599",
									"transparency": 60,
									"visible": false
								}
							},
							"vertlines": {
								"sessBreaks": {
									"color": "#4985e7",
									"style": 2,
									"visible": false,
									"width": 1
								}
							}
						}
					}
				}
			}
		]
	},
	config24K : {
		"name": "CFV",
		"layout": "s",
		"charts": [
			{
				"panes": [
					{
						"sources": [
							{
								"type": "MainSeries",
								"id": "z2uWe2",
								"state": {
									"style": 2,
									"esdShowDividends": true,
									"esdShowSplits": true,
									"esdShowEarnings": true,
									"esdShowBreaks": false,
									"esdBreaksStyle": {
										"color": "rgba( 235, 77, 92, 1)",
										"style": 2,
										"width": 1
									},
									"esdFlagSize": 2,
									"showCountdown": false,
									"showInDataWindow": true,
									"visible": true,
									"showPriceLine": true,
									"priceLineWidth": 1,
									"priceLineColor": "",
									"baseLineColor": "#5d606b",
									"showPrevClosePriceLine": false,
									"prevClosePriceLineWidth": 1,
									"prevClosePriceLineColor": "rgba( 85, 85, 85, 1)",
									"minTick": "default",
									"extendedHours": false,
									"sessVis": false,
									"statusViewStyle": {
										"fontSize": 16,
										"showExchange": true,
										"showInterval": true,
										"symbolTextSource": "description"
									},
									"candleStyle": {
										"upColor": "#00CA73",
										"downColor": "#FF6960",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#225437",
										"borderDownColor": "#5A1913",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#225437",
										"wickDownColor": "#5A1913",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350"
									},
									"haStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"showRealLastPrice": false,
										"barColorsOnPrevClose": false,
										"inputs": {},
										"inputInfo": {}
									},
									"barStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"hiloStyle": {
										"color": "#2196f3",
										"showBorders": true,
										"borderColor": "#2196f3",
										"showLabels": true,
										"labelColor": "#2196f3",
										"fontSize": 7
									},
									"lineStyle": {
										"color": "rgba(0, 255, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "rgba(33, 150, 243, 0.05)",
										"color2": "rgba(33, 150, 243, 0.05)",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"renkoStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"inputs": {
											"source": "close",
											"boxSize": 3,
											"style": "ATR",
											"atrLength": 14,
											"wicks": true
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"wicks": {
												"name": "Wicks"
											}
										}
									},
									"pbStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"lb": 3
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"lb": {
												"name": "Number of line"
											}
										}
									},
									"kagiStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"style": "ATR",
											"atrLength": 14,
											"reversalAmount": 1
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											}
										}
									},
									"pnfStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"sources": "Close",
											"reversalAmount": 3,
											"boxSize": 1,
											"style": "ATR",
											"atrLength": 14
										},
										"inputInfo": {
											"sources": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											}
										}
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 38, 166, 154, 0.05)",
										"topFillColor2": "rgba( 38, 166, 154, 0.05)",
										"bottomFillColor1": "rgba( 239, 83, 80, 0.05)",
										"bottomFillColor2": "rgba( 239, 83, 80, 0.05)",
										"topLineColor": "rgba( 38, 166, 154, 1)",
										"bottomLineColor": "rgba( 239, 83, 80, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"rangeStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"thinBars": true,
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"range": 10,
											"phantomBars": false
										},
										"inputInfo": {
											"range": {
												"name": "Range"
											},
											"phantomBars": {
												"name": "Phantom Bars"
											}
										}
									},
									"symbol": "REFVANG24KBUY",
									"shortName": "VÀNG 24K (9999) MUA VÀO",
									"timeframe": "",
									"onWidget": false,
									"interval": "D",
									"showSessions": false,
									"priceAxisProperties": {
										"autoScale": true,
										"autoScaleDisabled": false,
										"lockScale": false,
										"percentage": false,
										"percentageDisabled": false,
										"log": false,
										"logDisabled": false,
										"alignLabels": true,
										"isInverted": false,
										"indexedTo100": false
									}
								},
								"zorder": -1,
								"haStyle": {
									"studyId": "BarSetHeikenAshi@tv-basicstudies-60"
								},
								"renkoStyle": {
									"studyId": "BarSetRenko@tv-prostudies-15"
								},
								"pbStyle": {
									"studyId": "BarSetPriceBreak@tv-prostudies-15"
								},
								"kagiStyle": {
									"studyId": "BarSetKagi@tv-prostudies-15"
								},
								"pnfStyle": {
									"studyId": "BarSetPnF@tv-prostudies-15"
								},
								"rangeStyle": {
									"studyId": "BarSetRange@tv-basicstudies-72"
								}
							},
							{
								"type": "study_Overlay",
								"id": "GdoUI3",
								"state": {
									"styles": {
										"open": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Open"
										},
										"high": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "High"
										},
										"low": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Low"
										},
										"close": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Close"
										}
									},
									"precision": "default",
									"inputs": {
										"symbol": "REFVANG24KSELL"
									},
									"style": 2,
									"showPriceLine": false,
									"minTick": "default",
									"candleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"barStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"lineStyle": {
										"color": "rgba(255, 0, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "#2196f3",
										"color2": "#2196f3",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 83, 185, 135, 0.05)",
										"topFillColor2": "rgba( 83, 185, 135, 0.05)",
										"bottomFillColor1": "rgba( 235, 77, 92, 0.05)",
										"bottomFillColor2": "rgba( 235, 77, 92, 0.05)",
										"topLineColor": "rgba( 83, 185, 135, 1)",
										"bottomLineColor": "rgba( 235, 77, 92, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"palettes": {},
									"bands": {},
									"area": {},
									"graphics": {},
									"showInDataWindow": true,
									"visible": true,
									"showStudyArguments": true,
									"plots": {
										"0": {
											"id": "open",
											"type": "line"
										},
										"1": {
											"id": "high",
											"type": "line"
										},
										"2": {
											"id": "low",
											"type": "line"
										},
										"3": {
											"id": "close",
											"type": "line"
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								},
								"zorder": -4,
								"metaInfo": {
									"palettes": {},
									"inputs": [
										{
											"id": "symbol",
											"name": "symbol",
											"defval": "",
											"type": "symbol",
											"isHidden": true
										}
									],
									"plots": [
										{
											"id": "open",
											"type": "line"
										},
										{
											"id": "high",
											"type": "line"
										},
										{
											"id": "low",
											"type": "line"
										},
										{
											"id": "close",
											"type": "line"
										}
									],
									"graphics": {},
									"defaults": {
										"styles": {},
										"inputs": {
											"symbol": ""
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"styles": {
										"open": {
											"title": "Open"
										},
										"high": {
											"title": "High"
										},
										"low": {
											"title": "Low"
										},
										"close": {
											"title": "Close"
										}
									},
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies-1",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								}
							}
						],
						"leftAxisesState": [],
						"rightAxisesState": [
							{
								"state": {
									"id": "6FPccHx2iRtp",
									"m_priceRange": {
										"m_maxValue": 58050000,
										"m_minValue": 56250000
									},
									"m_isAutoScale": true,
									"m_isPercentage": false,
									"m_isIndexedTo100": false,
									"m_isLog": false,
									"m_isLockScale": false,
									"m_isInverted": false,
									"m_height": 220,
									"m_topMargin": 0.1,
									"m_bottomMargin": 0.08,
									"alignLabels": true
								},
								"sources": [
									"z2uWe2",
									"GdoUI3"
								]
							}
						],
						"overlayPriceScales": {},
						"stretchFactor": 2000,
						"mainSourceId": "z2uWe2",
						"priceScaleRatio": null
					}
				],
				"timeScale": {
					"m_barSpacing": 41.94601675233001,
					"m_rightOffset": 10
				},
				"chartProperties": {
					"paneProperties": {
						"background": "#131722",
						"gridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"vertGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"horzGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"crossHairProperties": {
							"color": "rgba(117, 134, 150, 1)",
							"style": 2,
							"transparency": 0,
							"width": 1
						},
						"topMargin": 10,
						"bottomMargin": 8,
						"axisProperties": {
							"autoScale": true,
							"autoScaleDisabled": false,
							"lockScale": false,
							"percentage": false,
							"percentageDisabled": false,
							"indexedTo100": false,
							"log": false,
							"logDisabled": false,
							"alignLabels": true,
							"isInverted": false
						},
						"legendProperties": {
							"showStudyArguments": true,
							"showStudyTitles": true,
							"showStudyValues": true,
							"showSeriesTitle": true,
							"showSeriesOHLC": true,
							"showLegend": true,
							"showBarChange": true,
							"showOnlyPriceSource": true
						}
					},
					"scalesProperties": {
						"backgroundColor": "#ffffff",
						"lineColor": "#787878",
						"textColor": "#D9D9D9",
						"fontSize": 11,
						"scaleSeriesOnly": false,
						"showSeriesLastValue": true,
						"seriesLastValueMode": 1,
						"showSeriesPrevCloseValue": false,
						"showStudyLastValue": false,
						"showSymbolLabels": false,
						"showStudyPlotLabels": false,
						"barSpacing": 6
					},
					"chartEventsSourceProperties": {
						"visible": true,
						"futureOnly": true,
						"breaks": {
							"color": "rgba(85, 85, 85, 1)",
							"visible": false,
							"style": 2,
							"width": 1
						}
					},
					"priceScaleSelectionStrategyName": "auto"
				},
				"version": 2,
				"timezone": "Asia/Ho_Chi_Minh",
				"sessions": {
					"properties": {
						"graphics": {
							"backgrounds": {
								"inSession": {
									"color": "#6fa8dc",
									"transparency": 60,
									"visible": false
								},
								"outOfSession": {
									"color": "#ffe599",
									"transparency": 60,
									"visible": false
								}
							},
							"vertlines": {
								"sessBreaks": {
									"color": "#4985e7",
									"style": 2,
									"visible": false,
									"width": 1
								}
							}
						}
					}
				}
			}
		]
	},
	config18K : {
		"name": "CFV",
		"layout": "s",
		"charts": [
			{
				"panes": [
					{
						"sources": [
							{
								"type": "MainSeries",
								"id": "z2uWe2",
								"state": {
									"style": 2,
									"esdShowDividends": true,
									"esdShowSplits": true,
									"esdShowEarnings": true,
									"esdShowBreaks": false,
									"esdBreaksStyle": {
										"color": "rgba( 235, 77, 92, 1)",
										"style": 2,
										"width": 1
									},
									"esdFlagSize": 2,
									"showCountdown": false,
									"showInDataWindow": true,
									"visible": true,
									"showPriceLine": true,
									"priceLineWidth": 1,
									"priceLineColor": "",
									"baseLineColor": "#5d606b",
									"showPrevClosePriceLine": false,
									"prevClosePriceLineWidth": 1,
									"prevClosePriceLineColor": "rgba( 85, 85, 85, 1)",
									"minTick": "default",
									"extendedHours": false,
									"sessVis": false,
									"statusViewStyle": {
										"fontSize": 16,
										"showExchange": true,
										"showInterval": true,
										"symbolTextSource": "description"
									},
									"candleStyle": {
										"upColor": "#00CA73",
										"downColor": "#FF6960",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#225437",
										"borderDownColor": "#5A1913",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#225437",
										"wickDownColor": "#5A1913",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350"
									},
									"haStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"showRealLastPrice": false,
										"barColorsOnPrevClose": false,
										"inputs": {},
										"inputInfo": {}
									},
									"barStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"hiloStyle": {
										"color": "#2196f3",
										"showBorders": true,
										"borderColor": "#2196f3",
										"showLabels": true,
										"labelColor": "#2196f3",
										"fontSize": 7
									},
									"lineStyle": {
										"color": "rgba(0, 255, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "rgba(33, 150, 243, 0.05)",
										"color2": "rgba(33, 150, 243, 0.05)",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"renkoStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"inputs": {
											"source": "close",
											"boxSize": 3,
											"style": "ATR",
											"atrLength": 14,
											"wicks": true
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"wicks": {
												"name": "Wicks"
											}
										}
									},
									"pbStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"lb": 3
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"lb": {
												"name": "Number of line"
											}
										}
									},
									"kagiStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"style": "ATR",
											"atrLength": 14,
											"reversalAmount": 1
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											}
										}
									},
									"pnfStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"sources": "Close",
											"reversalAmount": 3,
											"boxSize": 1,
											"style": "ATR",
											"atrLength": 14
										},
										"inputInfo": {
											"sources": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											}
										}
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 38, 166, 154, 0.05)",
										"topFillColor2": "rgba( 38, 166, 154, 0.05)",
										"bottomFillColor1": "rgba( 239, 83, 80, 0.05)",
										"bottomFillColor2": "rgba( 239, 83, 80, 0.05)",
										"topLineColor": "rgba( 38, 166, 154, 1)",
										"bottomLineColor": "rgba( 239, 83, 80, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"rangeStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"thinBars": true,
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"range": 10,
											"phantomBars": false
										},
										"inputInfo": {
											"range": {
												"name": "Range"
											},
											"phantomBars": {
												"name": "Phantom Bars"
											}
										}
									},
									"symbol": "REFVANG18KBUY",
									"shortName": "VÀNG 18K (750) MUA VÀO",
									"timeframe": "",
									"onWidget": false,
									"interval": "D",
									"showSessions": false,
									"priceAxisProperties": {
										"autoScale": true,
										"autoScaleDisabled": false,
										"lockScale": false,
										"percentage": false,
										"percentageDisabled": false,
										"log": false,
										"logDisabled": false,
										"alignLabels": true,
										"isInverted": false,
										"indexedTo100": false
									}
								},
								"zorder": -1,
								"haStyle": {
									"studyId": "BarSetHeikenAshi@tv-basicstudies-60"
								},
								"renkoStyle": {
									"studyId": "BarSetRenko@tv-prostudies-15"
								},
								"pbStyle": {
									"studyId": "BarSetPriceBreak@tv-prostudies-15"
								},
								"kagiStyle": {
									"studyId": "BarSetKagi@tv-prostudies-15"
								},
								"pnfStyle": {
									"studyId": "BarSetPnF@tv-prostudies-15"
								},
								"rangeStyle": {
									"studyId": "BarSetRange@tv-basicstudies-72"
								}
							},
							{
								"type": "study_Overlay",
								"id": "GdoUI3",
								"state": {
									"styles": {
										"open": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Open"
										},
										"high": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "High"
										},
										"low": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Low"
										},
										"close": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Close"
										}
									},
									"precision": "default",
									"inputs": {
										"symbol": "REFVANG18KSELL"
									},
									"style": 2,
									"showPriceLine": false,
									"minTick": "default",
									"candleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"barStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"lineStyle": {
										"color": "rgba(255, 0, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "#2196f3",
										"color2": "#2196f3",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 83, 185, 135, 0.05)",
										"topFillColor2": "rgba( 83, 185, 135, 0.05)",
										"bottomFillColor1": "rgba( 235, 77, 92, 0.05)",
										"bottomFillColor2": "rgba( 235, 77, 92, 0.05)",
										"topLineColor": "rgba( 83, 185, 135, 1)",
										"bottomLineColor": "rgba( 235, 77, 92, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"palettes": {},
									"bands": {},
									"area": {},
									"graphics": {},
									"showInDataWindow": true,
									"visible": true,
									"showStudyArguments": true,
									"plots": {
										"0": {
											"id": "open",
											"type": "line"
										},
										"1": {
											"id": "high",
											"type": "line"
										},
										"2": {
											"id": "low",
											"type": "line"
										},
										"3": {
											"id": "close",
											"type": "line"
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								},
								"zorder": -4,
								"metaInfo": {
									"palettes": {},
									"inputs": [
										{
											"id": "symbol",
											"name": "symbol",
											"defval": "",
											"type": "symbol",
											"isHidden": true
										}
									],
									"plots": [
										{
											"id": "open",
											"type": "line"
										},
										{
											"id": "high",
											"type": "line"
										},
										{
											"id": "low",
											"type": "line"
										},
										{
											"id": "close",
											"type": "line"
										}
									],
									"graphics": {},
									"defaults": {
										"styles": {},
										"inputs": {
											"symbol": ""
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"styles": {
										"open": {
											"title": "Open"
										},
										"high": {
											"title": "High"
										},
										"low": {
											"title": "Low"
										},
										"close": {
											"title": "Close"
										}
									},
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies-1",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								}
							}
						],
						"leftAxisesState": [],
						"rightAxisesState": [
							{
								"state": {
									"id": "6FPccHx2iRtp",
									"m_priceRange": {
										"m_maxValue": 58050000,
										"m_minValue": 56250000
									},
									"m_isAutoScale": true,
									"m_isPercentage": false,
									"m_isIndexedTo100": false,
									"m_isLog": false,
									"m_isLockScale": false,
									"m_isInverted": false,
									"m_height": 220,
									"m_topMargin": 0.1,
									"m_bottomMargin": 0.08,
									"alignLabels": true
								},
								"sources": [
									"z2uWe2",
									"GdoUI3"
								]
							}
						],
						"overlayPriceScales": {},
						"stretchFactor": 2000,
						"mainSourceId": "z2uWe2",
						"priceScaleRatio": null
					}
				],
				"timeScale": {
					"m_barSpacing": 41.94601675233001,
					"m_rightOffset": 10
				},
				"chartProperties": {
					"paneProperties": {
						"background": "#131722",
						"gridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"vertGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"horzGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"crossHairProperties": {
							"color": "rgba(117, 134, 150, 1)",
							"style": 2,
							"transparency": 0,
							"width": 1
						},
						"topMargin": 10,
						"bottomMargin": 8,
						"axisProperties": {
							"autoScale": true,
							"autoScaleDisabled": false,
							"lockScale": false,
							"percentage": false,
							"percentageDisabled": false,
							"indexedTo100": false,
							"log": false,
							"logDisabled": false,
							"alignLabels": true,
							"isInverted": false
						},
						"legendProperties": {
							"showStudyArguments": true,
							"showStudyTitles": true,
							"showStudyValues": true,
							"showSeriesTitle": true,
							"showSeriesOHLC": true,
							"showLegend": true,
							"showBarChange": true,
							"showOnlyPriceSource": true
						}
					},
					"scalesProperties": {
						"backgroundColor": "#ffffff",
						"lineColor": "#787878",
						"textColor": "#D9D9D9",
						"fontSize": 11,
						"scaleSeriesOnly": false,
						"showSeriesLastValue": true,
						"seriesLastValueMode": 1,
						"showSeriesPrevCloseValue": false,
						"showStudyLastValue": false,
						"showSymbolLabels": false,
						"showStudyPlotLabels": false,
						"barSpacing": 6
					},
					"chartEventsSourceProperties": {
						"visible": true,
						"futureOnly": true,
						"breaks": {
							"color": "rgba(85, 85, 85, 1)",
							"visible": false,
							"style": 2,
							"width": 1
						}
					},
					"priceScaleSelectionStrategyName": "auto"
				},
				"version": 2,
				"timezone": "Asia/Ho_Chi_Minh",
				"sessions": {
					"properties": {
						"graphics": {
							"backgrounds": {
								"inSession": {
									"color": "#6fa8dc",
									"transparency": 60,
									"visible": false
								},
								"outOfSession": {
									"color": "#ffe599",
									"transparency": 60,
									"visible": false
								}
							},
							"vertlines": {
								"sessBreaks": {
									"color": "#4985e7",
									"style": 2,
									"visible": false,
									"width": 1
								}
							}
						}
					}
				}
			}
		]
	},
	config14K : {
		"name": "CFV",
		"layout": "s",
		"charts": [
			{
				"panes": [
					{
						"sources": [
							{
								"type": "MainSeries",
								"id": "z2uWe2",
								"state": {
									"style": 2,
									"esdShowDividends": true,
									"esdShowSplits": true,
									"esdShowEarnings": true,
									"esdShowBreaks": false,
									"esdBreaksStyle": {
										"color": "rgba( 235, 77, 92, 1)",
										"style": 2,
										"width": 1
									},
									"esdFlagSize": 2,
									"showCountdown": false,
									"showInDataWindow": true,
									"visible": true,
									"showPriceLine": true,
									"priceLineWidth": 1,
									"priceLineColor": "",
									"baseLineColor": "#5d606b",
									"showPrevClosePriceLine": false,
									"prevClosePriceLineWidth": 1,
									"prevClosePriceLineColor": "rgba( 85, 85, 85, 1)",
									"minTick": "default",
									"extendedHours": false,
									"sessVis": false,
									"statusViewStyle": {
										"fontSize": 16,
										"showExchange": true,
										"showInterval": true,
										"symbolTextSource": "description"
									},
									"candleStyle": {
										"upColor": "#00CA73",
										"downColor": "#FF6960",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#225437",
										"borderDownColor": "#5A1913",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#225437",
										"wickDownColor": "#5A1913",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350"
									},
									"haStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"showRealLastPrice": false,
										"barColorsOnPrevClose": false,
										"inputs": {},
										"inputInfo": {}
									},
									"barStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"hiloStyle": {
										"color": "#2196f3",
										"showBorders": true,
										"borderColor": "#2196f3",
										"showLabels": true,
										"labelColor": "#2196f3",
										"fontSize": 7
									},
									"lineStyle": {
										"color": "rgba(0, 255, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "rgba(33, 150, 243, 0.05)",
										"color2": "rgba(33, 150, 243, 0.05)",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"renkoStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"inputs": {
											"source": "close",
											"boxSize": 3,
											"style": "ATR",
											"atrLength": 14,
											"wicks": true
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"wicks": {
												"name": "Wicks"
											}
										}
									},
									"pbStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"lb": 3
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"lb": {
												"name": "Number of line"
											}
										}
									},
									"kagiStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"style": "ATR",
											"atrLength": 14,
											"reversalAmount": 1
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											}
										}
									},
									"pnfStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"sources": "Close",
											"reversalAmount": 3,
											"boxSize": 1,
											"style": "ATR",
											"atrLength": 14
										},
										"inputInfo": {
											"sources": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											}
										}
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 38, 166, 154, 0.05)",
										"topFillColor2": "rgba( 38, 166, 154, 0.05)",
										"bottomFillColor1": "rgba( 239, 83, 80, 0.05)",
										"bottomFillColor2": "rgba( 239, 83, 80, 0.05)",
										"topLineColor": "rgba( 38, 166, 154, 1)",
										"bottomLineColor": "rgba( 239, 83, 80, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"rangeStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"thinBars": true,
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"range": 10,
											"phantomBars": false
										},
										"inputInfo": {
											"range": {
												"name": "Range"
											},
											"phantomBars": {
												"name": "Phantom Bars"
											}
										}
									},
									"symbol": "REFVANG14KBUY",
									"shortName": "VÀNG 14K (533) MUA VÀO",
									"timeframe": "",
									"onWidget": false,
									"interval": "D",
									"showSessions": false,
									"priceAxisProperties": {
										"autoScale": true,
										"autoScaleDisabled": false,
										"lockScale": false,
										"percentage": false,
										"percentageDisabled": false,
										"log": false,
										"logDisabled": false,
										"alignLabels": true,
										"isInverted": false,
										"indexedTo100": false
									}
								},
								"zorder": -1,
								"haStyle": {
									"studyId": "BarSetHeikenAshi@tv-basicstudies-60"
								},
								"renkoStyle": {
									"studyId": "BarSetRenko@tv-prostudies-15"
								},
								"pbStyle": {
									"studyId": "BarSetPriceBreak@tv-prostudies-15"
								},
								"kagiStyle": {
									"studyId": "BarSetKagi@tv-prostudies-15"
								},
								"pnfStyle": {
									"studyId": "BarSetPnF@tv-prostudies-15"
								},
								"rangeStyle": {
									"studyId": "BarSetRange@tv-basicstudies-72"
								}
							},
							{
								"type": "study_Overlay",
								"id": "GdoUI3",
								"state": {
									"styles": {
										"open": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Open"
										},
										"high": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "High"
										},
										"low": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Low"
										},
										"close": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Close"
										}
									},
									"precision": "default",
									"inputs": {
										"symbol": "REFVANG14KSELL"
									},
									"style": 2,
									"showPriceLine": false,
									"minTick": "default",
									"candleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"barStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"lineStyle": {
										"color": "rgba(255, 0, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "#2196f3",
										"color2": "#2196f3",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 83, 185, 135, 0.05)",
										"topFillColor2": "rgba( 83, 185, 135, 0.05)",
										"bottomFillColor1": "rgba( 235, 77, 92, 0.05)",
										"bottomFillColor2": "rgba( 235, 77, 92, 0.05)",
										"topLineColor": "rgba( 83, 185, 135, 1)",
										"bottomLineColor": "rgba( 235, 77, 92, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"palettes": {},
									"bands": {},
									"area": {},
									"graphics": {},
									"showInDataWindow": true,
									"visible": true,
									"showStudyArguments": true,
									"plots": {
										"0": {
											"id": "open",
											"type": "line"
										},
										"1": {
											"id": "high",
											"type": "line"
										},
										"2": {
											"id": "low",
											"type": "line"
										},
										"3": {
											"id": "close",
											"type": "line"
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								},
								"zorder": -4,
								"metaInfo": {
									"palettes": {},
									"inputs": [
										{
											"id": "symbol",
											"name": "symbol",
											"defval": "",
											"type": "symbol",
											"isHidden": true
										}
									],
									"plots": [
										{
											"id": "open",
											"type": "line"
										},
										{
											"id": "high",
											"type": "line"
										},
										{
											"id": "low",
											"type": "line"
										},
										{
											"id": "close",
											"type": "line"
										}
									],
									"graphics": {},
									"defaults": {
										"styles": {},
										"inputs": {
											"symbol": ""
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"styles": {
										"open": {
											"title": "Open"
										},
										"high": {
											"title": "High"
										},
										"low": {
											"title": "Low"
										},
										"close": {
											"title": "Close"
										}
									},
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies-1",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								}
							}
						],
						"leftAxisesState": [],
						"rightAxisesState": [
							{
								"state": {
									"id": "6FPccHx2iRtp",
									"m_priceRange": {
										"m_maxValue": 58050000,
										"m_minValue": 56250000
									},
									"m_isAutoScale": true,
									"m_isPercentage": false,
									"m_isIndexedTo100": false,
									"m_isLog": false,
									"m_isLockScale": false,
									"m_isInverted": false,
									"m_height": 220,
									"m_topMargin": 0.1,
									"m_bottomMargin": 0.08,
									"alignLabels": true
								},
								"sources": [
									"z2uWe2",
									"GdoUI3"
								]
							}
						],
						"overlayPriceScales": {},
						"stretchFactor": 2000,
						"mainSourceId": "z2uWe2",
						"priceScaleRatio": null
					}
				],
				"timeScale": {
					"m_barSpacing": 41.94601675233001,
					"m_rightOffset": 10
				},
				"chartProperties": {
					"paneProperties": {
						"background": "#131722",
						"gridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"vertGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"horzGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"crossHairProperties": {
							"color": "rgba(117, 134, 150, 1)",
							"style": 2,
							"transparency": 0,
							"width": 1
						},
						"topMargin": 10,
						"bottomMargin": 8,
						"axisProperties": {
							"autoScale": true,
							"autoScaleDisabled": false,
							"lockScale": false,
							"percentage": false,
							"percentageDisabled": false,
							"indexedTo100": false,
							"log": false,
							"logDisabled": false,
							"alignLabels": true,
							"isInverted": false
						},
						"legendProperties": {
							"showStudyArguments": true,
							"showStudyTitles": true,
							"showStudyValues": true,
							"showSeriesTitle": true,
							"showSeriesOHLC": true,
							"showLegend": true,
							"showBarChange": true,
							"showOnlyPriceSource": true
						}
					},
					"scalesProperties": {
						"backgroundColor": "#ffffff",
						"lineColor": "#787878",
						"textColor": "#D9D9D9",
						"fontSize": 11,
						"scaleSeriesOnly": false,
						"showSeriesLastValue": true,
						"seriesLastValueMode": 1,
						"showSeriesPrevCloseValue": false,
						"showStudyLastValue": false,
						"showSymbolLabels": false,
						"showStudyPlotLabels": false,
						"barSpacing": 6
					},
					"chartEventsSourceProperties": {
						"visible": true,
						"futureOnly": true,
						"breaks": {
							"color": "rgba(85, 85, 85, 1)",
							"visible": false,
							"style": 2,
							"width": 1
						}
					},
					"priceScaleSelectionStrategyName": "auto"
				},
				"version": 2,
				"timezone": "Asia/Ho_Chi_Minh",
				"sessions": {
					"properties": {
						"graphics": {
							"backgrounds": {
								"inSession": {
									"color": "#6fa8dc",
									"transparency": 60,
									"visible": false
								},
								"outOfSession": {
									"color": "#ffe599",
									"transparency": 60,
									"visible": false
								}
							},
							"vertlines": {
								"sessBreaks": {
									"color": "#4985e7",
									"style": 2,
									"visible": false,
									"width": 1
								}
							}
						}
					}
				}
			}
		]
	},

	configGOLD : {
		"name" : "GOLD",
		"layout" : "s",
		"charts" : [ {
			"panes" : [ {
				"sources" : [ {
					"type" : "MainSeries",
					"id" : "dzzl2a",
					"state" : {
						"style" : 2,
						"esdShowDividends" : true,
						"esdShowSplits" : true,
						"esdShowEarnings" : true,
						"esdShowBreaks" : false,
						"esdBreaksStyle" : {
							"color" : "rgba( 235, 77, 92, 1)",
							"style" : 2,
							"width" : 1
						},
						"esdFlagSize" : 2,
						"showCountdown" : false,
						"showInDataWindow" : true,
						"visible" : true,
						"showPriceLine" : true,
						"priceLineWidth" : 1,
						"priceLineColor" : "",
						"baseLineColor" : "#5d606b",
						"showPrevClosePriceLine" : false,
						"prevClosePriceLineWidth" : 1,
						"prevClosePriceLineColor" : "rgba( 85, 85, 85, 1)",
						"minTick" : "default",
						"extendedHours" : false,
						"sessVis" : false,
						"statusViewStyle" : {
							"fontSize" : 16,
							"showExchange" : true,
							"showInterval" : true,
							"symbolTextSource" : "description"
						},
						"candleStyle" : {
							"upColor" : "#00CA73",
							"downColor" : "#FF6960",
							"drawWick" : true,
							"drawBorder" : true,
							"borderColor" : "#378658",
							"borderUpColor" : "#225437",
							"borderDownColor" : "#5A1913",
							"wickColor" : "#B5B5B8",
							"wickUpColor" : "#225437",
							"wickDownColor" : "#5A1913",
							"barColorsOnPrevClose" : false
						},
						"hollowCandleStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"drawWick" : true,
							"drawBorder" : true,
							"borderColor" : "#378658",
							"borderUpColor" : "#26a69a",
							"borderDownColor" : "#ef5350",
							"wickColor" : "#B5B5B8",
							"wickUpColor" : "#26a69a",
							"wickDownColor" : "#ef5350"
						},
						"haStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"drawWick" : true,
							"drawBorder" : true,
							"borderColor" : "#378658",
							"borderUpColor" : "#26a69a",
							"borderDownColor" : "#ef5350",
							"wickColor" : "#B5B5B8",
							"wickUpColor" : "#26a69a",
							"wickDownColor" : "#ef5350",
							"showRealLastPrice" : false,
							"barColorsOnPrevClose" : false,
							"inputs" : {},
							"inputInfo" : {}
						},
						"barStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"barColorsOnPrevClose" : false,
							"dontDrawOpen" : false,
							"thinBars" : true
						},
						"hiloStyle" : {
							"color" : "#2196f3",
							"showBorders" : true,
							"borderColor" : "#2196f3",
							"showLabels" : true,
							"labelColor" : "#2196f3",
							"fontSize" : 7
						},
						"lineStyle" : {
							"color" : "#2196f3",
							"linestyle" : 0,
							"linewidth" : 3,
							"priceSource" : "close",
							"styleType" : 2
						},
						"areaStyle" : {
							"color1" : "#2196f3",
							"color2" : "#2196f3",
							"linecolor" : "#2196f3",
							"linestyle" : 0,
							"linewidth" : 3,
							"priceSource" : "close",
							"transparency" : 95
						},
						"renkoStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"borderUpColor" : "#26a69a",
							"borderDownColor" : "#ef5350",
							"upColorProjection" : "#336854",
							"downColorProjection" : "#7f323f",
							"borderUpColorProjection" : "#336854",
							"borderDownColorProjection" : "#7f323f",
							"wickUpColor" : "#26a69a",
							"wickDownColor" : "#ef5350",
							"inputs" : {
								"source" : "close",
								"boxSize" : 3,
								"style" : "ATR",
								"atrLength" : 14,
								"wicks" : true
							},
							"inputInfo" : {
								"source" : {
									"name" : "Source"
								},
								"boxSize" : {
									"name" : "Box size"
								},
								"style" : {
									"name" : "Style"
								},
								"atrLength" : {
									"name" : "ATR Length"
								},
								"wicks" : {
									"name" : "Wicks"
								}
							}
						},
						"pbStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"borderUpColor" : "#26a69a",
							"borderDownColor" : "#ef5350",
							"upColorProjection" : "#336854",
							"downColorProjection" : "#7f323f",
							"borderUpColorProjection" : "#336854",
							"borderDownColorProjection" : "#7f323f",
							"inputs" : {
								"source" : "close",
								"lb" : 3
							},
							"inputInfo" : {
								"source" : {
									"name" : "Source"
								},
								"lb" : {
									"name" : "Number of line"
								}
							}
						},
						"kagiStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"upColorProjection" : "#336854",
							"downColorProjection" : "#7f323f",
							"inputs" : {
								"source" : "close",
								"style" : "ATR",
								"atrLength" : 14,
								"reversalAmount" : 1
							},
							"inputInfo" : {
								"source" : {
									"name" : "Source"
								},
								"style" : {
									"name" : "Style"
								},
								"atrLength" : {
									"name" : "ATR Length"
								},
								"reversalAmount" : {
									"name" : "Reversal amount"
								}
							}
						},
						"pnfStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"upColorProjection" : "#336854",
							"downColorProjection" : "#7f323f",
							"inputs" : {
								"sources" : "Close",
								"reversalAmount" : 3,
								"boxSize" : 1,
								"style" : "ATR",
								"atrLength" : 14
							},
							"inputInfo" : {
								"sources" : {
									"name" : "Source"
								},
								"boxSize" : {
									"name" : "Box size"
								},
								"reversalAmount" : {
									"name" : "Reversal amount"
								},
								"style" : {
									"name" : "Style"
								},
								"atrLength" : {
									"name" : "ATR Length"
								}
							}
						},
						"baselineStyle" : {
							"baselineColor" : "rgba( 117, 134, 150, 1)",
							"topFillColor1" : "rgba( 38, 166, 154, 0.05)",
							"topFillColor2" : "rgba( 38, 166, 154, 0.05)",
							"bottomFillColor1" : "rgba( 239, 83, 80, 0.05)",
							"bottomFillColor2" : "rgba( 239, 83, 80, 0.05)",
							"topLineColor" : "rgba( 38, 166, 154, 1)",
							"bottomLineColor" : "rgba( 239, 83, 80, 1)",
							"topLineWidth" : 3,
							"bottomLineWidth" : 3,
							"priceSource" : "close",
							"transparency" : 50,
							"baseLevelPercentage" : 50
						},
						"rangeStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"thinBars" : true,
							"upColorProjection" : "#336854",
							"downColorProjection" : "#7f323f",
							"inputs" : {
								"range" : 10,
								"phantomBars" : false
							},
							"inputInfo" : {
								"range" : {
									"name" : "Range"
								},
								"phantomBars" : {
									"name" : "Phantom Bars"
								}
							}
						},
						"symbol" : "WORLDGOLD",
						"shortName" : "Vàng Thế giới",
						"timeframe" : "",
						"onWidget" : false,
						// "interval": "5",
						"priceAxisProperties" : {
							"autoScale" : true,
							"autoScaleDisabled" : false,
							"lockScale" : false,
							"percentage" : false,
							"percentageDisabled" : false,
							"log" : false,
							"logDisabled" : false,
							"alignLabels" : true,
							"isInverted" : false,
							"indexedTo100" : false
						}
					},
					"zorder" : -1,
					"haStyle" : {
						"studyId" : "BarSetHeikenAshi@tv-basicstudies-60"
					},
					"renkoStyle" : {
						"studyId" : "BarSetRenko@tv-prostudies-15"
					},
					"pbStyle" : {
						"studyId" : "BarSetPriceBreak@tv-prostudies-15"
					},
					"kagiStyle" : {
						"studyId" : "BarSetKagi@tv-prostudies-15"
					},
					"pnfStyle" : {
						"studyId" : "BarSetPnF@tv-prostudies-15"
					},
					"rangeStyle" : {
						"studyId" : "BarSetRange@tv-basicstudies-72"
					}
				} ],
				"leftAxisesState" : [],
				"rightAxisesState" : [ {
					"state" : {
						"id" : "rRfOPrPWyH3u",
						"m_priceRange" : {
							"m_maxValue" : 1931.9,
							"m_minValue" : 1196.6
						},
						"m_isAutoScale" : true,
						"m_isPercentage" : false,
						"m_isIndexedTo100" : false,
						"m_isLog" : false,
						"m_isLockScale" : false,
						"m_isInverted" : false,
						"m_height" : 301,
						"m_topMargin" : 0.1,
						"m_bottomMargin" : 0.08,
						"alignLabels" : true
					},
					"sources" : [ "dzzl2a" ]
				} ],
				"overlayPriceScales" : {},
				"stretchFactor" : 2000,
				"mainSourceId" : "dzzl2a",
				"priceScaleRatio" : null
			} ],
			"timeScale" : {
				"m_barSpacing" : 50,
				"m_rightOffset" : 10
			},
			"chartProperties" : {
				"paneProperties" : {
					"background" : "#131722",
					"gridProperties" : {
						"color" : "#363c4e",
						"style" : 0
					},
					"vertGridProperties" : {
						"color" : "#363c4e",
						"style" : 0
					},
					"horzGridProperties" : {
						"color" : "#363c4e",
						"style" : 0
					},
					"crossHairProperties" : {
						"color" : "#758696",
						"style" : 2,
						"transparency" : 0,
						"width" : 1
					},
					"topMargin" : 10,
					"bottomMargin" : 8,
					"axisProperties" : {
						"autoScale" : true,
						"autoScaleDisabled" : false,
						"lockScale" : false,
						"percentage" : false,
						"percentageDisabled" : false,
						"indexedTo100" : false,
						"log" : false,
						"logDisabled" : false,
						"alignLabels" : true,
						"isInverted" : false
					},
					"legendProperties" : {
						"showStudyArguments" : true,
						"showStudyTitles" : true,
						"showStudyValues" : true,
						"showSeriesTitle" : true,
						"showSeriesOHLC" : true,
						"showLegend" : true,
						"showBarChange" : true,
						"showOnlyPriceSource" : true
					}
				},
				"scalesProperties" : {
					"backgroundColor" : "#ffffff",
					"lineColor" : "#787878",
					"textColor" : "#D9D9D9",
					"fontSize" : 11,
					"scaleSeriesOnly" : false,
					"showSeriesLastValue" : true,
					"seriesLastValueMode" : 1,
					"showSeriesPrevCloseValue" : false,
					"showStudyLastValue" : false,
					"showSymbolLabels" : false,
					"showStudyPlotLabels" : false,
					"barSpacing" : 6
				},
				"chartEventsSourceProperties" : {
					"visible" : true,
					"futureOnly" : true,
					"breaks" : {
						"color" : "rgba(85, 85, 85, 1)",
						"visible" : false,
						"style" : 2,
						"width" : 1
					}
				},
				"priceScaleSelectionStrategyName" : "auto"
			},
			"version" : 2,
			"timezone" : "Asia/Bangkok",
			"sessions" : {
				"properties" : {
					"graphics" : {
						"backgrounds" : {
							"inSession" : {
								"color" : "#6fa8dc",
								"transparency" : 60,
								"visible" : false
							},
							"outOfSession" : {
								"color" : "#ffe599",
								"transparency" : 60,
								"visible" : false
							}
						},
						"vertlines" : {
							"sessBreaks" : {
								"color" : "#4985e7",
								"style" : 2,
								"visible" : false,
								"width" : 1
							}
						}
					}
				}
			}
		} ]
	}

};shinobi.userstatus = {
    userStatusMap: {},
    userStatusWidgets: {},
    updateUserStatusProcess: function (item) {
        var data = JSON.parse(item.data);
        Object.keys(data).forEach(function (key) {
            shinobi.userstatus.userStatusMap[key] = data[key];
            shinobi.userstatus.updateUserStatusWidgets(key);
        });
    },
    updateUserStatusWidgets: function (username) {
        if (shinobi.userstatus.userStatusWidgets.hasOwnProperty(username)) {
            shinobi.userstatus.userStatusWidgets[username].forEach(function (widget) {
                var color = shinobi.userstatus.getCurrentStatusColor(username);
                widget.classList.remove('has-text-success');
                widget.classList.remove('has-text-grey');
                widget.classList.add(color);
            })
        }
    },
    renderUserStatusTable: function (cell, row, col, all) {
        var value = cell.innerHTML;
        cell.innerHTML = '';
        shinobi.userstatus.renderUserStatus(cell, value, all[row]);
    },
    renderUserStatus: function (elem, value, all) {
        var username = value;
        if (shinobi.userstatus.userStatusMap.hasOwnProperty(username)) {
            shinobi.userstatus.renderUserStatusWidget(elem, username, all);
        } else {
            shinobi.api.request('/authenapi/UserOnlineStatusApi/getUserOnlineStatus', JSON.stringify({ "username": username }), function (response) {
                shinobi.userstatus.userStatusMap[username] = JSON.parse(response);
                shinobi.userstatus.renderUserStatusWidget(elem, username, all);
            })
        }
    },
    renderUserStatusWidget: function (elem, username, all) {
        var color = shinobi.userstatus.getCurrentStatusColor(username);
        elem.innerHTML = `
            <div class="user-status-container ${color}"><span class="icon"><i class="fa fa-circle"></i></span></div>
        `;
        if (!shinobi.userstatus.userStatusWidgets.hasOwnProperty(username)) {
            shinobi.userstatus.userStatusWidgets[username] = [];
        }
        shinobi.userstatus.userStatusWidgets[username].push(elem.querySelector('.user-status-container'));
    },
    getCurrentStatusColor: function (username) {
        var status = shinobi.userstatus.userStatusMap[username];
        var color = (status) ? 'has-text-success' : 'has-text-grey';
        return color;
    }
};Number.prototype.format = function(n, x, s, c) {
    var re = "\\d(?=(\\d{" + (x || 3) + "})+" + (n > 0 ? "\\D" : "$") + ")",
        num = this.toFixed(Math.max(0, ~~n));

    return (c ? num.replace(".", c) : num).replace(new RegExp(re, "g"), "$&" + (s || ","));
};
shinobi.util = {

    internetConnection: true,
    addEventInternetConnection: function() {
        var container;
        if (!document.querySelector('#connectingNetworkContainer')) {
            container = document.createElement('div');
            container.setAttribute('class', 'connecting-network');
            container.setAttribute('id', 'connectingNetworkContainer');

            container.innerHTML = `
            <style>
                .connecting-network{
                    position: fixed;
                    z-index: 100;
                    width: 15rem;
                    height: 4rem;
                    bottom: 1rem;
                    left: 1rem;
                    background: white;
                    display: none;
                    border-radius: 6px;
                    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 10%), 0 1px 2px 0 rgb(0 0 0 / 6%);
                }
                .connecting-network.is-active{
                    display: block;
                }
                .spinner {
                    top: calc( 50% - 0.75rem );
                    left: 50%;
                    text-align: center;
                    position: absolute;
                    transform: translate(-50%, -50%);
                }
                .spinner-content{
                    top: calc( 50% + 0.75rem );
                    left: 50%;
                    text-align: center;
                    position: absolute;
                    transform: translate(-50%, -50%);
                    color: #504f4f;
                    font-size: 1rem;
                }

                .spinner > div {
                    width: 0.75rem;
                    height: 0.75rem;
                    background-color: #504f4f;
                    border-radius: 100%;
                    display: inline-block;
                    -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;
                    animation: sk-bouncedelay 1.4s infinite ease-in-out both;
                }

                .spinner .bounce1 {
                -webkit-animation-delay: -0.32s;
                animation-delay: -0.32s;
                }

                .spinner .bounce2 {
                -webkit-animation-delay: -0.16s;
                animation-delay: -0.16s;
                }

                @-webkit-keyframes sk-bouncedelay {
                0%, 80%, 100% { -webkit-transform: scale(0) }
                40% { -webkit-transform: scale(1.0) }
                }

                @keyframes sk-bouncedelay {
                0%, 80%, 100% { 
                    -webkit-transform: scale(0);
                    transform: scale(0);
                } 40% { 
                    -webkit-transform: scale(1.0);
                    transform: scale(1.0);
                }
                }
            </style>
            <div class=" spinner">
                <div class="bounce1"></div>
                <div class="bounce2"></div>
                <div class="bounce3"></div>
            </div>
            <div class=" spinner-content">
                Đang kết nối
            </div>
            </div>
         `;
            document.body.appendChild(container);
        } else {
            container = document.querySelector('#connectingNetworkContainer');
        }
        window.addEventListener('online', function() {
            console.log('Became online');
            shinobi.util.internetConnection = true;
            container.classList.remove('is-active');
        });
        window.addEventListener('offline', function() {
            console.log('Became offline');
            shinobi.util.internetConnection = false;
            container.classList.add('is-active');
        });
        return container;
    },
    hiddenModifyAvatarLinkButton: function(selector) {
        var fileLabel = document.querySelector(selector + " .file-label");
        fileLabel.querySelector(".button").classList.add("is-hidden");
    },
    renderUnEscap: function(elem, value, all) {

        elem.innerHTML = shinobi.util.renderUncapContent(value);
    },
    renderUncapContent: function(data) {
        return String(data).replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '"');
    },
    convertEscap: function(data) {
        var elemPost = document.createElement('div');
        elemPost.innerHTML = data;
        var listImg = elemPost.querySelectorAll('img');
        listImg.forEach(img=>{
            console.log('img',img);
            var src = img.src;
            var imgNew = document.createElement('img');
            imgNew.setAttribute('src',src);
            img.replaceWith(imgNew);

        })
        var content = elemPost.innerHTML;
        return String(content).replace(/\.\s/g, '.').replace(/alt\=\"([A-Za-z0-9 _]*)\"/g, "").replace(/width\=\"([A-Za-z0-9 _]*)\"/g, "").replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').trim();

    },
    showAvatarLinkAndPreventModify: function(selector, json) {
        var data = JSON.parse(json);

        var img = document.querySelector(selector + ' [snb-render="shinobi.render.renderChangeAvatarImageContainer"]');
        var fileLabel = document.querySelector(selector + " .file-label");
        var modifyButton = fileLabel.querySelector(".button");

        if (data.hasOwnProperty("avatarlink") && data.avatarlink != null && data.avatarlink != "") {
            img.classList.remove("is-hidden");
            modifyButton.classList.add("is-hidden");
        } else {
            img.classList.add("is-hidden");
            modifyButton.classList.remove("is-hidden");
        }
    },
    getAvatarLink: function(container) {
        return container.querySelector('[snb-key="avatarlink"]').src;
    },

    hiddenModalFooter: function(selector) {
        var confirmPanel = document.querySelector(selector);
        confirmPanel.querySelector(".modal-card-foot").classList.add("is-hidden");
    },

    renderCollapseButton: function(callback) {
        var pageTitle = document.querySelector(".section-title");

        pageTitle.classList = [];

        pageTitle.innerHTML =
            `
		<div class="level panel-heading has-background-white-bis">
			<div class="level-left">
				<div class="level-item"><button class="button is-primary is-collapse-button">
						<i class="fa fa-list-ul"></i>
					</button></div>
				<div class="level-item"><p class=" title is-4 section-title">` +
            pageTitle.innerText +
            `</p></div>
			</div>
			<div class="level-right">
			</div>
		</div>`;

        callback();
    },

    addCollapseButtonEvent: function(callback) {
        var collapseButton = document.querySelector(".is-collapse-button");
        collapseButton.onclick = function() {
            var panel = document.querySelectorAll(".panel");

            var firstPanel = panel[0].parentElement;
            if (firstPanel.classList.contains("is-hidden")) {
                firstPanel.classList.remove("is-hidden");
            } else {
                firstPanel.classList.add("is-hidden");
            }

            var secondPanel = panel[1].parentElement;
            if (!secondPanel.classList.contains("is-12")) {
                secondPanel.classList.remove("is-8");
                secondPanel.classList.add("is-12");
            } else {
                secondPanel.classList.add("is-8");
                secondPanel.classList.remove("is-12");
            }
        };
        callback();
    },

    abledInput: function(selector) {
        var input = document.querySelector(selector);
        input.removeAttribute("disabled");
    },

    disableAllInput: function(selector) {
        var container = document.querySelector(selector);
        var allInputs = container.querySelectorAll(".input");
        allInputs.forEach(function(input) {
            input.setAttribute("disabled", "");
        });
        var allTextArea = container.querySelectorAll(".textarea");
        allTextArea.forEach(function(input) {
            input.setAttribute("disabled", "");
        });
    },

    hiddenUploadFileInDetailForm: function(selector) {
        var container = document.querySelector(selector);
        var upfileList = container.querySelectorAll(".file-cta");
        for (var i = 0; i < upfileList.length; i++) {
            upfileList[i].classList.add("is-hidden");
        }
    },

    disabledAllUserInfoInput: function() {
        var userInfoSection = document.getElementById("userInfoSection");
        var allInput = userInfoSection.querySelectorAll(".input");
        allInput.forEach(function(input) {
            input.setAttribute("disabled", "");
        });
    },

    disabledAllBankInfoInput: function() {
        var userBankInfoSection = document.getElementById("userBankInfoSection");
        var allInput = userBankInfoSection.querySelectorAll(".input");
        allInput.forEach(function(input) {
            input.setAttribute("disabled", "");
        });
    },

    showIdentityLabel: function(selector) {
        var container = document.querySelector(selector);
        var frontIdentity = container.querySelector('[snb-key="frontidentity"]');
        frontIdentity.parentElement.parentElement.parentElement.parentElement.previousElementSibling.classList.remove(
            "is-hidden"
        );
        var backidentity = container.querySelector('[snb-key="backidentity"]');
        backidentity.parentElement.parentElement.parentElement.parentElement.previousElementSibling.classList.remove(
            "is-hidden"
        );
    },

    getCurrentSystemModule: function() {
        var menuModuleHeader = document.querySelector("#menuModuleHeader");
        return menuModuleHeader.querySelector(".navbar-link").lastElementChild.innerText;
    },

    renderReadMoneyAmountInVietnamese: function(selector) {
        var infoContainer = document.querySelector(selector);
        var amount = infoContainer.querySelector('[snb-key="amount"]');
        amount.addEventListener("input", function() {
            shinobi.mapping.getValue(selector, function(json) {
                var numInString = docso(json.amount).trim();
                infoContainer.querySelector('[snb-key="vietnamesemoneyinput"]').innerText =
                    numInString.charAt(0).toUpperCase() + numInString.slice(1) + " đồng";
            });
        });
    },

    buildSearchUserRecommendFieldElement: function(field, option) {
        if (option.hasOwnProperty("callback")) {
            shinobi.util.addCallbackEvent(field, option);
        }

        if (option.hasOwnProperty("buttonSearchEvent")) {
            shinobi.util.addButtonSearchEvent(field, option);
        }

        if (option.hasOwnProperty("selectItem")) {
            shinobi.util.addSelectItemEvent(field, option);
        }
    },

    addCallbackEvent: function(field, option) {
        var input = field.querySelector(".input");

        input.addEventListener("input", function() {
            var input = field.querySelector(".input");
            var searchKey = input.value.trim();
            if (searchKey != "") {
                var request = {
                    searchkey: searchKey,
                };

                if (option.showloadingnotification) {
                    shinobi.notification.notification.loading();
                }

                shinobi.api.request(shinobi.coreapi.loggedUserApi + "searchUser", JSON.stringify(request), function(response) {
                    if (option.showloadingnotification) {
                        shinobi.notification.notification.loaded();
                    }
                    option.callback(response);
                });
            }
        });
    },

    addSelectItemEvent: function(field, option) {
        var input = field.querySelector(".input");

        input.addEventListener("change", function() {
            var input = field.querySelector(".input");
            var searchKey = input.value.trim();
            if (searchKey != "") {
                var request = {
                    searchkey: searchKey,
                    type: "=",
                };

                if (option.showloadingnotification) {
                    shinobi.notification.notification.loading();
                }

                shinobi.api.request(shinobi.coreapi.loggedUserApi + "searchUser", JSON.stringify(request), function(response) {
                    if (option.showloadingnotification) {
                        shinobi.notification.notification.loaded();
                    }

                    option.selectItem(response);
                });
            }
        });
    },

    addButtonSearchEvent: function(field, option) {
        var button = field.querySelector(".button.is-search");

        button.addEventListener("click", function() {
            var input = field.querySelector(".input");
            var searchKey = input.value.trim();
            if (searchKey != "") {
                var request = {
                    searchkey: searchKey,
                    type: "=",
                };

                if (option.showloadingnotification) {
                    shinobi.notification.notification.loading();
                }

                shinobi.api.request(shinobi.coreapi.loggedUserApi + "searchUser", JSON.stringify(request), function(response) {
                    if (option.showloadingnotification) {
                        shinobi.notification.notification.loaded();
                    }

                    option.buttonSearchEvent(response);
                });
            }
        });
    },

    hexEncode: function(str) {
        var hex, i;

        var result = "";
        for (i = 0; i < str.length; i++) {
            hex = str.charCodeAt(i).toString(16);
            result += ("000" + hex).slice(-4);
        }

        return result;
    },

    hexDecode: function(str) {
        var j;
        var hexes = str.match(/.{1,4}/g) || [];
        var back = "";
        for (j = 0; j < hexes.length; j++) {
            back += String.fromCharCode(parseInt(hexes[j], 16));
        }

        return back;
    },

    onScreenDisable: function(callback) {
        var preStatus = false;
        var currentStatus = false;
        setInterval(function() {
            preStatus = currentStatus;
            currentStatus = document.hidden;

            if (currentStatus == false && preStatus == true) {
                if (typeof callback == "function") {
                    callback();
                }
            }
        }, 1000);
    },

    sumAllDataAndKeyJson: function(result, json) {
        var entriesResult = Object.entries(result);
        var entriesJson = Object.entries(json);
        entriesJson.forEach(function(entriesJsonItem) {
            if (result.hasOwnProperty(entriesJsonItem[0])) {
                if (!isNaN(result[entriesJsonItem[1]])) {
                    result[entriesJsonItem[0]] += entriesJsonItem[1];
                }
            } else {
                result[entriesJsonItem[0]] = entriesJsonItem[1];
            }
        });
    },
    checkMobile: function() {
        const toMatch = [/Android/i, /webOS/i, /iPhone/i, /iPad/i, /iPod/i, /BlackBerry/i, /Windows Phone/i];

        return toMatch.some((toMatchItem) => {
            return navigator.userAgent.match(toMatchItem);
        });
    },

    countNumberInInput: function(input) {
        if (input.match(/\d/g) == null) {
            return 0;
        } else {
            var numbers = input.match(/\d/g).map(Number);

            return numbers.length;
        }
    },
    countTextCharacterInInput: function(input) {
        if (input.match(/[a-zA-Z]/g) == null) {
            return 0;
        } else {
            var textCharaters = input.match(/[a-zA-Z]/g).map(String);

            return textCharaters.length;
        }
    },

    countSpecialCharacterInInput: function(input) {
        if (input.match(/[^0-9a-zA-Z]/g) == null) {
            return 0;
        } else {
            var specialCharaters = input.match(/[^0-9a-zA-Z]/g).map(String);

            return specialCharaters.length;
        }
    },

    hasSendRequestToAdmin: function(response, callback) {
        if (response == "update success") {
            shinobi.notification.notification.info("Đã tiếp nhận yêu cầu. Vui lòng đợi kiểm duyệt.");
            if (typeof callback == "function") {
                callback();
            }
        }
    },

    getCurrentDate: function(option) {
        var date = new Date();
        return shinobi.util.formatDate(date, option);
    },

    getFormatDate: function(dateInput, option) {
        dateInput = shinobi.util.preProcessDateInput(dateInput);
        var date = new Date(dateInput);
        return shinobi.util.formatDate(date, option);
    },

    preProcessDateInput: function(dateInput) {
        if (typeof dateInput == "string") {
            dateInput = dateInput.replace(/-/g, "/");
        }
        return dateInput;
    },

    addLoopAnimate: function(option) {
        var listElem = document.querySelectorAll("[animate-loop]");
        for (var i = 0; i < listElem.length; i++) {
            shinobi.util.addLoopAnimateProcess(listElem[i], option);
        }
    },

    getRandomInt: function(max) {
        return Math.floor(Math.random() * Math.floor(max));
    },

    addLoopAnimateProcess: function(elem, option) {
        if (!(elem.hasAttribute("stop-animate") && elem.getAttribute("stop-animate") == "true")) {
            var classList = elem.getAttribute("animate-loop").split(" ");
            var className = shinobi.util.randomInList(classList);
            elem.classList.add(className);
            elem.classList.add("animate__animated");
            setTimeout(function() {
                elem.classList.remove(className);
                setTimeout(function() {
                    shinobi.util.addLoopAnimateProcess(elem, option);
                }, 200);
            }, 1000);
        } else {
            setTimeout(function() {
                shinobi.util.addLoopAnimateProcess(elem, option);
            }, 1000);
        }
    },

    addAnimate: function(selector, option) {
        var itemList = document.querySelectorAll(selector);
        for (var i = 0; i < itemList.length; i++) {
            shinobi.util.addAnimateProcess(itemList[i], option);
        }
    },
    addAnimateProcess: function(item, option) {
        var listClassAppend = ["animated", "inifinite"];
        var classItem = option.hasOwnProperty("classItem") ? option["classItem"] : "bounce";
        listClassAppend.push(classItem);
        listClassAppend.forEach(function(itemClass) {
            item.classList.add(itemClass);
        });

        if (option.hasOwnProperty("infinity")) {
            setTimeout(function() {
                listClassAppend.forEach(function(itemClass) {
                    item.classList.remove(itemClass);
                });
                setTimeout(function() {
                    shinobi.util.addAnimateProcess(item, option);
                }, 2000);
            }, 2000);
        }
    },

    reverseFormatDate: function(dateInput, option) {
        var reverseFormat = option["reverseFormat"];
        var dd = dateInput.slice(reverseFormat.indexOf("dd"), reverseFormat.lastIndexOf("dd") + 2);
        var MM = dateInput.slice(reverseFormat.indexOf("MM"), reverseFormat.lastIndexOf("MM") + 2);
        var yyyy = dateInput.slice(reverseFormat.indexOf("yyyy"), reverseFormat.lastIndexOf("yyyy") + 4);
        var dateString = yyyy + "/" + MM + "/" + dd;
        var date = new Date(dateString);
        return shinobi.util.formatDate(date, option);
    },
    formatDate: function(date, options) {
        var dd = shinobi.util.getTwoDigit(date.getDate());
        var MM = shinobi.util.getTwoDigit(date.getMonth() + 1);
        var yyyy = date.getFullYear();
        var hh = shinobi.util.getTwoDigit(date.getHours());
        var mm = shinobi.util.getTwoDigit(date.getMinutes());
        var ss = shinobi.util.getTwoDigit(date.getSeconds());
        var dayOfWeek = shinobi.util.getDayOfWeek(date, options);
        var dayOfWeekShort = shinobi.util.getDayOfWeekShort(date, options);

        var returnValue = options && options.hasOwnProperty("format") ? options["format"] : "yyyy-MM-dd";
        returnValue = returnValue
            .replace("yyyy", yyyy)
            .replace("MM", MM)
            .replace("dd", dd)
            .replace("hh", hh)
            .replace("mm", mm)
            .replace("ss", ss)
            .replace("dayOfWeekShort", dayOfWeekShort).replace("dayOfWeek", dayOfWeek);
        return returnValue;
    },

    getDayOfWeek: function(date, options) {
        var lang = options && options.hasOwnProperty("language") ? options["language"] : "vn";
        var mapping = {
            vn: ["Chủ nhật", "Thứ hai", "Thứ ba", "Thứ tư", "Thứ năm", "Thứ sáu", "Thứ bảy"],
            en: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        };
        var day = date.getDay();
        return mapping[lang][day];
    },
    getDayOfWeekShort: function(date, options) {
        var lang = options && options.hasOwnProperty("language") ? options["language"] : "vn";
        var mapping = {
            vn: ["CN", "Thứ 2", "Thứ 3", "Thứ 4", "Thứ 5", "Thứ 6", "Thứ 7"],
            en: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        };
        var day = date.getDay();
        return mapping[lang][day];
    },

    getTagInputMappingElem: function(elem) {
        var returnElem;
        if (typeof shinobi.initbulma.tagsInput == "object") {
            shinobi.initbulma.tagsInput.forEach(function(item) {
                if (item["element"] == elem) {
                    returnElem = item;
                }
            });
        }
        return returnElem;
    },

    addEventEnter: function(elem, callback) {
        elem.addEventListener("keypress", function(e) {
            var key = e.which || e.keyCode;
            if (key === 13) {
                e.preventDefault();
                callback();
            }
        });
        var isMobile = shinobi.util.checkMobile();
        if (isMobile) {
            elem.addEventListener("focusout", function(e) {
                callback();
            });
        }
    },

    jsonToSearchParam: function(json) {
        var search = "";
        for (let key in json) {
            search += `&${key}=${json[key]}`;
        }

        return "?" + search.slice(1, search.length);
    },

    getCalendarMappingElem: function(elem) {
        var returnElem;
        if (typeof shinobi.initbulma.calendars == "object") {
            shinobi.initbulma.calendars.forEach(function(item) {
                if (item["element"] == elem) {
                    returnElem = item;
                }
            });
        }
        return returnElem;
    },

    getDateAfterCurrentDate: function(numberDate, elementAfter) {
        var currentDate = new Date();

        switch (elementAfter) {
            case "day":
                currentDate.setDate(currentDate.getDate() + numberDate);
                break;

            case "month":
                currentDate.setMonth(currentDate.getMonth() + numberDate);
                break;

            case "year":
                currentDate.setFullYear(currentDate.setFullYear() + numberDate);
                break;

            default:
                break;
        }

        var year = currentDate.getFullYear();
        var month = shinobi.util.getTwoDigit(currentDate.getMonth() + 1);
        var day = shinobi.util.getTwoDigit(currentDate.getDate());

        return year + "-" + month + "-" + day;
    },

    getDateAfterDate: function(date, numberDate, elementAfter) {
        date = shinobi.util.preProcessDateInput(date);
        var currentDate = new Date(date);

        switch (elementAfter) {
            case "day":
                currentDate.setDate(currentDate.getDate() + numberDate);
                break;

            case "month":
                currentDate.setMonth(currentDate.getMonth() + numberDate);
                break;

            case "year":
                currentDate.setFullYear(currentDate.setFullYear() + numberDate);
                break;

            default:
                break;
        }

        var year = currentDate.getFullYear();
        var month = shinobi.util.getTwoDigit(currentDate.getMonth() + 1);
        var day = shinobi.util.getTwoDigit(currentDate.getDate());

        return year + "-" + month + "-" + day;
    },

    getSearchKey: function(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    },

    getSearchParam: function(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    },

    renderUserInfo: function(selector) {
        var elem = document.querySelector(selector);
        shinobi.util.renderUserInfoElement(elem);
    },

    renderUserInfoElement: function(elem) {
        shinobi.coreapi.getLoggedUserInfo(function(response) {
            var jsonArr = JSON.parse(response);
            shinobi.mapping.renderElement(elem, jsonArr);
        });
    },

    buildSearchUserField: function(selector, option) {
        var field = document.querySelector(selector);
        shinobi.util.buildSearchUserFieldElement(field, option);
    },

    isEmpty: function(object) {
        return Object.keys(object).length === 0 && object.constructor === Object ? true : false;
    },

    uniqueArray: function(a) {
        return a.sort().filter(function(item, pos, ary) {
            return !pos || item != ary[pos - 1];
        });
    },
    buildUpfileButton: function(selector, option) {
        var element = document.querySelector(selector);
        var uploadUrl = option && option.hasOwnProperty("uploadUrl") ? option.uploadUrl : "uploadfile";
        shinobi.fileupload.registerElement(
            element,
            "change",
            uploadUrl,
            function() {
                return 0;
            },
            function(jsonResponse) {
                if (jsonResponse.result == "success") {
                    shinobi.notification.notification.info("Upload thành công");
                    var url = jsonResponse.content.url;
                    shinobi.render.renderImageFileInput(element, url, {});

                    // var link = document.getElementById('link');
                    // link.innerHTML = url;
                } else {
                    shinobi.notification.notification.error("Có lỗi vui lòng thử lại");
                }
            },
            option
        );
    },

    checkEmptyJson: function(json, callback, option) {
        if (option) {
            var entries = Object.entries(json);
            var listNotEmpty = option.hasOwnProperty("listNotEmpty") ? option.listNotEmpty : Object.keys(json);
            var listEmpty = option.hasOwnProperty("listEmpty") ? option.listEmpty : [];
            var hasEmpty = false;
            for (var i = 0; i < entries.length; i++) {
                var item = entries[i];
                if (!listEmpty.includes(item[0])) {
                    if (listNotEmpty.includes(item[0]) && item[1] == "") {
                        hasEmpty = true;
                    }
                }
            }
            hasEmpty ? shinobi.util.fillInputMessage() : callback();
        } else {
            Object.values(json).includes("") ? shinobi.util.fillInputMessage() : callback();
        }
    },

    getParentElementHasAttribute: function(item, option) {
        var parentNode = item.parentNode;
        var isFound = false;
        var returnElement = null;
        var type = option["type"];
        var value = option["value"];
        switch (type) {
            case "class":
                if (parentNode.classList.contains(value)) {
                    isFound = true;
                    returnElement = parentNode;
                }
                break;
            case "id":
                if (parentNode.id == value) {
                    isFound = true;
                    returnElement = parentNode;
                }
                break;
            case "tagName":
                if (parentNode.tagName == value) {
                    isFound = true;
                    returnElement = parentNode;
                }

            default:
                break;
        }

        if (parentNode.tagName == "BODY") {
            return returnElement;
        } else {
            return isFound ? returnElement : shinobi.util.getParentElementHasAttribute(parentNode, option);
        }
    },

    buildSearchUserFieldElement: function(field, option) {
        var input = field.querySelector(".input");
        var button = field.querySelector(".button");
        button.onclick = function() {
            var searchKey = input.value.trim();
            if (searchKey == "") {
                input.classList.add("is-danger");
                shinobi.util.fillInputMessage();
            } else {
                input.classList.remove("is-danger");
                var request = {
                    searchkey: searchKey,
                };
                shinobi.notification.notification.loading();
                shinobi.api.request(shinobi.coreapi.loggedUserApi + "searchUser", JSON.stringify(request), function(response) {
                    shinobi.notification.notification.loaded();
                    if (option.hasOwnProperty("callback")) {
                        option.callback(response);
                    }
                });
            }
        };
    },

    buildAutoSuggestProvince: function(selector, submitFunction) {
        var inputElem = document.querySelector(selector);

        if (inputElem.hasAttribute("build-autocomplete")) {
            inputElem.nextElementSibling.remove();

            var newInput = document.createElement("input");
            newInput.setAttribute("id", inputElem.id);
            newInput.setAttribute("class", "input");
            inputElem.parentNode.replaceChild(newInput, inputElem);
            inputElem = newInput;
        }

        inputElem.classList.add("select-symbol-input");
        inputElem.classList.add("autocomplete-input");
        inputElem.setAttribute("placeholder", "Tỉnh/Thành phố");
        inputElem.setAttribute("build-autocomplete", "true");
        var parentNode = inputElem.parentNode;
        parentNode.classList.add("autocomplete");

        var ul = document.createElement("ul");
        ul.setAttribute("class", "autocomplete-result-list ");
        shinobi.util.insertAfterElem(ul, inputElem);

        shinobi.cacheapi.request(shinobi.coreapi.locationApi + "getAllVietNamProvince", "{}", function(response) {
            var jsonData = JSON.parse(response);

            var data = [];

            jsonData.forEach(function(json) {
                data.push(json["provincename"]);
            });

            var selectSymbolObject = new Autocomplete(parentNode, {
                search: function(input) {
                    var result = [];
                    if (input.length > 0) {
                        result = data.filter(function(item) {
                            return item.toUpperCase().includes(input.toUpperCase());
                        });
                    }

                    return result;
                },
                onSubmit: function(value) {
                    shinobi.a = selectSymbolObject;
                    if (typeof submitFunction == "function") {
                        submitFunction(value, selectSymbolObject);
                    }
                },
                autoSelect: true,
            });

            return selectSymbolObject;
        });
    },

    convertTextToElement: function(text) {
        var div = document.createElement("div");
        div.innerHTML = text;
        var content = div.firstElementChild;
        return content;
    },
    buildAutoSuggestBankName: function(selector, submitFunction) {
        var inputElem = document.querySelector(selector);

        if (inputElem.hasAttribute("build-autocomplete")) {
            inputElem.nextElementSibling.remove();

            var newInput = document.createElement("input");
            newInput.setAttribute("id", inputElem.id);
            newInput.setAttribute("class", "input");
            inputElem.parentNode.replaceChild(newInput, inputElem);
            inputElem = newInput;
        }

        inputElem.classList.add("autocomplete-input");
        inputElem.setAttribute("placeholder", "Ngân hàng");
        inputElem.setAttribute("build-autocomplete", "true");
        var parentNode = inputElem.parentNode;
        parentNode.classList.add("autocomplete");

        var ul = document.createElement("ul");
        ul.setAttribute("class", "autocomplete-result-list ");
        shinobi.util.insertAfterElem(ul, inputElem);

        shinobi.cacheapi.request(shinobi.coreapi.locationApi + "getAllBankName", "{}", function(response) {
            var jsonData = JSON.parse(response);

            var data = [];

            jsonData.forEach(function(json) {
                data.push(json["bankfullname"]);
            });

            var selectSymbolObject = new Autocomplete(parentNode, {
                search: function(input) {
                    var result = [];
                    if (input.length > 0) {
                        result = data.filter(function(item) {
                            return item.toUpperCase().includes(input.toUpperCase());
                        });
                    }

                    return result;
                },
                onSubmit: function(value) {
                    shinobi.a = selectSymbolObject;
                    if (typeof submitFunction == "function") {
                        submitFunction(value, selectSymbolObject);
                    }
                },
                autoSelect: true,
            });

            return selectSymbolObject;
        });
    },

    addClass: function(locationId, className) {
        var location = document.getElementById(locationId);
        location.classList.add(className);
    },
    removeClass: function(locationId, className) {
        var location = document.getElementById(locationId);
        location.classList.remove(className);
    },

    removeClassOfList: function(listId, className) {
        listId.forEach(function(itemId) {
            shinobi.aladinUtil.removeClass(itemId, className);
        });
    },

    getAllSearchInPath: function() {
        const params = {};
        document.location.search
            .substr(1)
            .split("&")
            .forEach((pair) => {
                [key, value] = pair.split("=");
                params[key] = value;
            });
        return params;
    },

    swapKeyAndValueJson: function(json) {
        var ret = {};
        for (var key in json) {
            ret[json[key]] = key;
        }
        return ret;
    },

    addClassOfList: function(listId, className) {
        listId.forEach(function(itemId) {
            shinobi.aladinUtil.addClass(itemId, className);
        });
    },

    addClassOfListClass: function(classNameOfListClass, className) {
        var listElem = document.getElementsByClassName(classNameOfListClass);

        for (var i = 0; i < listElem.length; i++) {
            var item = listElem[i];

            item.classList.add(className);
        }
    },
    removeClassOfListClass: function(classNameOfListClass, className) {
        var listElem = document.getElementsByClassName(classNameOfListClass);

        for (var i = 0; i < listElem.length; i++) {
            var item = listElem[i];

            item.classList.remove(className);
        }
    },
    removeAllClass: function(locationId, classNameLocation, className) {
        var location = document.getElementById(locationId);
        var listClassLocation = location.getElementsByClassName(classNameLocation);

        var length = listClassLocation.length;
        for (var i = 0; i < length; i++) {
            listClassLocation[i].classList.remove(className);
        }
    },

    decodeValue: function(input) {
        var txt = document.createElement("textarea");
        txt.innerHTML = input;
        return txt.value;
    },

    loadListAds: function(option) {
        var request = option["request"];
        shinobi.cacheapi.request("/api/UserRankingOverviewApi/getListAds", JSON.stringify(request), function(response) {
            var array = JSON.parse(response);
            if (array) {
                option.callback(array);
            }
        });
    },

    convertCSVToArray: function(strData, strDelimiter) {
        // Check to see if the delimiter is defined. If not,
        // then default to comma.
        strDelimiter = strDelimiter || ",";

        // Create a regular expression to parse the CSV values.
        var objPattern = new RegExp(
            // Delimiters.
            "(\\" +
            strDelimiter +
            "|\\r?\\n|\\r|^)" +
            // Quoted fields.
            '(?:"([^"]*(?:""[^"]*)*)"|' +
            // Standard fields.
            '([^"\\' +
            strDelimiter +
            "\\r\\n]*))",
            "gi"
        );

        // Create an array to hold our data. Give the array
        // a default empty first row.
        var arrData = [
            []
        ];

        // Create an array to hold our individual pattern
        // matching groups.
        var arrMatches = null;

        // Keep looping over the regular expression matches
        // until we can no longer find a match.
        while ((arrMatches = objPattern.exec(strData))) {
            // Get the delimiter that was found.
            var strMatchedDelimiter = arrMatches[1];

            // Check to see if the given delimiter has a length
            // (is not the start of string) and if it matches
            // field delimiter. If id does not, then we know
            // that this delimiter is a row delimiter.
            if (strMatchedDelimiter.length && strMatchedDelimiter !== strDelimiter) {
                // Since we have reached a new row of data,
                // add an empty row to our data array.
                arrData.push([]);
            }

            var strMatchedValue;

            // Now that we have our delimiter out of the way,
            // let's check to see which kind of value we
            // captured (quoted or unquoted).
            if (arrMatches[2]) {
                // We found a quoted value. When we capture
                // this value, unescape any double quotes.
                strMatchedValue = arrMatches[2].replace(new RegExp('""', "g"), '"');
            } else {
                // We found a non-quoted value.
                strMatchedValue = arrMatches[3];
            }

            // Now that we have our value string, let's add
            // it to the data array.
            arrData[arrData.length - 1].push(strMatchedValue);
        }

        // Return the parsed data.
        return arrData;
    },

    insertAfterElem: function(newElem, elem) {
        elem.parentNode.insertBefore(newElem, elem.nextSibling);
    },

    createNumberCleaveInput: function(selector, options) {
        var formatCharacter = shinobi.util.getFormatCharacters();
        var numberFormatCharacter = formatCharacter.numberFormatCharacter;
        var decimalFormatCharacter = formatCharacter.decimalFormatCharacter;
        var optionsCleave = Object.assign({
                numeral: true,
                numeralDecimalMark: decimalFormatCharacter,
                delimiter: numberFormatCharacter,
            },
            options
        );
        return new Cleave(selector, optionsCleave);
    },
    getValueNumberCleaveFormat: function(elem) {
        return shinobi.render.removeFormatNumber(elem.value.trim());
    },

    getRecordNumber: function(paginationContainerId) {
        var containerId;
        var paginationContainer;
        if (paginationContainerId) {
            var container = document.getElementById(paginationContainerId);
            paginationContainer = container.nextElementSibling.classList.contains("table-pagination") ?
                container.nextElementSibling :
                container.nextElementSibling.getElementsByClassName("table-pagination")[0];
        } else {
            containerId = "table-pagination";
            paginationContainer = document.getElementById(containerId);
        }
        var parentNodePaginationContainer = paginationContainer.parentElement;
        var recordNum;
        var recodeNumAttr = "record-num";
        if (parentNodePaginationContainer.hasAttribute(recodeNumAttr)) {
            recordNum = parentNodePaginationContainer.getAttribute(recodeNumAttr);
        } else {
            var recordNumSelect = paginationContainer.getElementsByClassName("shinobi-recordperpage")[0];
            recordNum = recordNumSelect.value;
        }
        shinobi.util.customRecordPerPagePagination(paginationContainer, recordNum);
        return recordNum;
    },
    customRecordPerPagePagination: function(container, recordNum) {
        var selectRecordNum = container.getElementsByClassName("shinobi-recordperpage")[0];
        var listOptionSelect = selectRecordNum.getElementsByTagName("option");
        for (var i = 0; i < listOptionSelect.length; i++) {
            var j = parseInt(i) + 1;
            var currentPageNum = j * recordNum;
            listOptionSelect[i].innerHTML = currentPageNum;
            listOptionSelect[i].value = currentPageNum;
        }
    },

    updateSuccess: function(callback) {
        shinobi.notification.notification.info("Cập nhật thành công");
        if (typeof callback == "function") {
            callback();
        }
    },

    fillInputMessage: function(callback) {
        shinobi.notification.notification.error("Vui lòng nhập đầy đủ thông tin");
        if (typeof callback == "function") {
            callback();
        }
    },

    checkValueEmpty: function(json, callback) {
        var values = Object.values(json);
        if (!values.includes("")) {
            if (typeof callback == "function") {
                callback();
            }
        } else {
            shinobi.util.fillInputMessage();
        }
    },

    getLoggedUser: function() {
        shinobi.util.checkAuthen();
    },
    checkAuthen: function(callback) {
        var request = {};
        shinobi.cacheapi.request(shinobi.coreapi.userApi + "checkAuthen", JSON.stringify(request), function(response) {
            var data = JSON.parse(response);

            if (typeof callback == "function") {
                data ? callback(data["username"]) : callback(false);
            }
        });
    },

    requestAuthen: function(callback) {
        shinobi.coreapi.checkAuthen(function(username) {
            if (typeof callback == "function") {
                username ? callback(username) : shinobi.notification.notification.error("Vui lòng đăng nhập để thao tác");
            }
        });
    },
    reCheckAuthen: function(callback) {
        var key = shinobi.coreapi.userApi + "checkAuthen";
        if (typeof shinobi.cacheapi.cache == "object") {
            shinobi.cacheapi.clearKey(key);
        }
        shinobi.util.checkAuthen(callback);
    },
    getSessionId: function(callback) {
        var request = {};
        shinobi.api.request(shinobi.coreapi.systemUserApi + "getSessionId", JSON.stringify(request), function(response) {
            if (typeof callback == "function") {
                var data = JSON.parse(response);
                if (data.hasOwnProperty("sessionid")) {
                    data["sessionid"] != -1 ? callback(data["sessionid"]) : callback(false);
                } else {
                    callback(false);
                }
            }
        });
    },
    getUserInfo: function(callback, option) {
        var userInfoRequest;
        if (!option) {
            shinobi.util.checkAuthen(function(username) {
                userInfoRequest = {
                    username: username,
                };
                shinobi.cacheapi.request(
                    shinobi.coreapi.userApi + "getAllUserInfo",
                    JSON.stringify(userInfoRequest),
                    function(response) {
                        if (typeof callback == "function") {
                            callback(response);
                        }
                    }
                );
            });
        } else {
            if (option.hasOwnProperty("username")) {
                userInfoRequest = {
                    username: option.username,
                };
                shinobi.cacheapi.request(
                    shinobi.coreapi.loggedUserApi + "getUserInfo",
                    JSON.stringify(userInfoRequest),
                    function(response) {
                        if (typeof callback == "function") {
                            callback(response);
                        }
                    }
                );
            }
        }
    },
    getLoggedUserInfo: function(callback) {
        shinobi.util.checkAuthen(function(username) {
            var userInfoRequest = {
                username: username,
            };
            shinobi.cacheapi.request(
                shinobi.coreapi.loggedUserApi + "getAllUserInfo",
                JSON.stringify(userInfoRequest),
                function(response) {
                    if (typeof callback == "function") {
                        callback(response);
                    }
                }
            );
        });
    },

    checkUpdateSuccess: function(response, callback, option) {
        if (["insert success", "update success"].includes(response)) {
            if (!(option && !option["showNotification"])) {
                var showContent =
                    option && option.hasOwnProperty("showContent") ? option["showContent"] : "Cập nhật thành công";
                shinobi.notification.notification.info(showContent);
            }

            if (typeof callback == "function") {
                callback();
            }
        }
    },

    getFormatCharacters: function() {
        var numberFormatCharacter = ",";
        var decimalFormatCharacter = ".";

        if (typeof shinobi.utilconfig == "object") {
            if (shinobi.utilconfig.hasOwnProperty("numberFormatCharacter")) {
                if (shinobi.utilconfig.numberFormatCharacter.hasOwnProperty("numberCharacter")) {
                    numberFormatCharacter = shinobi.utilconfig.numberFormatCharacter.numberCharacter;
                }
                if (shinobi.utilconfig.numberFormatCharacter.hasOwnProperty("numberCharacter")) {
                    decimalFormatCharacter = shinobi.utilconfig.numberFormatCharacter.decimalCharacter;
                }
            }
        }

        return {
            numberFormatCharacter: numberFormatCharacter,
            decimalFormatCharacter: decimalFormatCharacter,
        };
    },

    getAllStorage: function() {
        var entries = Object.entries(window.localStorage);
        var result = {};
        entries.forEach(function(item) {
            result[item[0]] = item[1];
        });
        return result;
    },

    setAllStorage: function(json) {
        var entries = Object.entries(json);
        entries.forEach(function(item) {
            window.localStorage.setItem(item[0], item[1]);
        });
    },
    formatNumber: function(value) {
        var formatCharacter = shinobi.util.getFormatCharacters();
        var numberFormatCharacter = formatCharacter.numberFormatCharacter;
        var decimalFormatCharacter = formatCharacter.decimalFormatCharacter;
        return Number(value).format(0, 3, numberFormatCharacter, decimalFormatCharacter);
    },

    getContentIframe: function(selector) {
        shinobi.util.getContentIframeElement(document.querySelector(selector));
    },

    getContentIframeElement: function(iframe) {
        var content = iframe.contentDocument || iframe.contentWindow.document;
        return content;
    },
    getTwoDigit: function(number) {
        return (number < 10 ? "0" : "") + number;
    },

    getInternationalTelephoneCode: function(intlTelInput) {
        var data = intlTelInput.getSelectedCountryData();
        return data["dialCode"];
    },
    getInternationalTelephoneCountry: function(intlTelInput) {
        var data = intlTelInput.getSelectedCountryData();
        return data["iso2"];
    },
    setRangeCalendar: function(selector, start, end) {
        var calendar = shinobi.util.getCalendarMappingElem(document.querySelector(selector));
        calendar.datePicker.start = start;
        calendar.datePicker.end = end;
        calendar.save();
    },
    addEventJumpToId: function() {
        var jumpId = shinobi.util.getSearch("jumpid");
        if (jumpId) {
            var elem = document.getElementById(jumpId);
            var newOffset = elem.offsetTop - Number(shinobi.util.getFontSize()) * 4;
            var offset = newOffset > 0 ? newOffset : 0;
            document.body.scrollTop = offset;
            document.documentElement.scrollTop = offset;
        }
    },

    randomInList: function(list) {
        return list[Math.floor(Math.random() * list.length)];
    },

    jumpTo: function(selector) {
        var elem = document.querySelector(selector);
        shinobi.util.jumpToElement(elem);
    },

    jumpToElement: function(elem) {
        if (elem) {
            var newOffset = elem.offsetTop - Number(shinobi.util.getFontSize()) * 4;
            var offset = newOffset > 0 ? newOffset : 0;
            document.body.scrollTop = offset;
            document.documentElement.scrollTop = offset;
        }
    },
    getStorage: function(key, option) {
        var storage = window.localStorage.getItem(key);
        var nullValue = "";
        return storage ? storage : nullValue;
    },
    setStorage: function(key, value, option) {
        window.localStorage.setItem(key, value);
    },

    getLoggedName: function(callback) {
        shinobi.util.getUserInfo(function(response) {
            var data = JSON.parse(response);
            var loggedName = "";
            if (data) {
                if (data.hasOwnProperty("firstname") && data.hasOwnProperty("lastname")) {
                    loggedName = data["firstname"] + " " + data["lastname"];
                }

                if (typeof callback == "function") {
                    callback(loggedName);
                }
            }
        });
    },

    getSearch: function(searchKey) {
        var search = window.location.search;
        var split = search.split("?");
        var value = null;
        var searchPatern = searchKey + "=";
        split.forEach(function(searchItem) {
            value = searchItem.includes(searchPatern) ? searchItem.replace(searchPatern, "") : value;
        });
        return value;
    },

    getFontSize: function(elem) {
        return shinobi.util.getComputedProperty(elem, "font-size").replace("px", "");
    },

    getComputedProperty: function(elem, property) {
        return elem ?
            window.getComputedStyle(elem, null).getPropertyValue(property) :
            window.getComputedStyle(document.body, null).getPropertyValue(property);
    },

    getValueInput: function(elem) {
        var type = elem.getAttribute("type");
        var value;
        switch (type) {
            case "checkbox":
                value = elem.checked;
                break;
            case "text":
            case "password":
            default:
                value = elem.value.trim();
                break;
        }

        value = elem.hasAttribute("snb-preprocess") ? eval(elem.getAttribute("snb-preprocess"))(value) : value;
        return value;
    },
    sha256: function(ascii) {
        var mathPow = Math.pow;
        var maxWord = mathPow(2, 32);
        var lengthProperty = "length";
        var i, j; // Used as a counter across the whole file
        var result = "";

        var words = [];
        var asciiBitLength = ascii[lengthProperty] * 8;

        var hash = (shinobi.util.sha256.h = shinobi.util.sha256.h || []);

        var k = (shinobi.util.sha256.k = shinobi.util.sha256.k || []);
        var primeCounter = k[lengthProperty];

        var isComposite = {};
        for (var candidate = 2; primeCounter < 64; candidate++) {
            if (!isComposite[candidate]) {
                for (i = 0; i < 313; i += candidate) {
                    isComposite[i] = candidate;
                }
                hash[primeCounter] = (mathPow(candidate, 0.5) * maxWord) | 0;
                k[primeCounter++] = (mathPow(candidate, 1 / 3) * maxWord) | 0;
            }
        }

        ascii += "\x80"; // Append Ƈ' bit (plus zero padding)
        while ((ascii[lengthProperty] % 64) - 56) ascii += "\x00"; // More zero
        // padding
        for (i = 0; i < ascii[lengthProperty]; i++) {
            j = ascii.charCodeAt(i);
            if (j >> 8) return; // ASCII check: only accept characters in
            // range 0-255
            words[i >> 2] |= j << (((3 - i) % 4) * 8);
        }
        words[words[lengthProperty]] = (asciiBitLength / maxWord) | 0;
        words[words[lengthProperty]] = asciiBitLength;

        // process each chunk
        for (j = 0; j < words[lengthProperty];) {
            var w = words.slice(j, (j += 16)); // The message is expanded
            // into 64 words as part of
            // the iteration
            var oldHash = hash;
            // This is now the undefinedworking hash", often labelled as
            // variables a...g
            // (we have to truncate as well, otherwise extra entries at the
            // end accumulate
            hash = hash.slice(0, 8);

            for (i = 0; i < 64; i++) {
                var i2 = i + j;
                // Expand the message into 64 words
                // Used below if
                var w15 = w[i - 15],
                    w2 = w[i - 2];

                // Iterate
                var a = hash[0],
                    e = hash[4];
                var temp1 =
                    hash[7] +
                    (shinobi.util.rightRotate(e, 6) ^ shinobi.util.rightRotate(e, 11) ^ shinobi.util.rightRotate(e, 25)) + // S1
                    ((e & hash[5]) ^ (~e & hash[6])) + // ch
                    k[i] +
                    // Expand the message schedule if needed
                    (w[i] =
                        i < 16 ?
                        w[i] :
                        (w[i - 16] +
                            (shinobi.util.rightRotate(w15, 7) ^ shinobi.util.rightRotate(w15, 18) ^ (w15 >>> 3)) + // s0
                            w[i - 7] +
                            (shinobi.util.rightRotate(w2, 17) ^ shinobi.util.rightRotate(w2, 19) ^ (w2 >>> 10))) | // s1
                        0);
                // This is only used once, so *could* be moved below, but it
                // only saves 4 bytes and makes things unreadble
                var temp2 =
                    (shinobi.util.rightRotate(a, 2) ^ shinobi.util.rightRotate(a, 13) ^ shinobi.util.rightRotate(a, 22)) + // S0
                    ((a & hash[1]) ^ (a & hash[2]) ^ (hash[1] & hash[2])); // maj

                hash = [(temp1 + temp2) | 0].concat(hash); // We don't

                hash[4] = (hash[4] + temp1) | 0;
            }

            for (i = 0; i < 8; i++) {
                hash[i] = (hash[i] + oldHash[i]) | 0;
            }
        }

        for (i = 0; i < 8; i++) {
            for (j = 3; j + 1; j--) {
                var b = (hash[i] >> (j * 8)) & 255;
                result += (b < 16 ? 0 : "") + b.toString(16);
            }
        }
        return result;
    },
    rightRotate: function(value, amount) {
        return (value >>> amount) | (value << (32 - amount));
    },
    removeUnicode: function(str) {
        return shinobi.util.remove_unicode(str);
    },

    listAudio: {},

    playAudio: function(url) {
        var snd = shinobi.util.listAudio.hasOwnProperty(url) ? shinobi.util.listAudio[url] : new Audio(url);
        snd.play();
        shinobi.util.listAudio[url] = snd;
    },

    remove_unicode: function remove_unicode(str) {
        str = str.toLowerCase();
        str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, "a");
        str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, "e");
        str = str.replace(/ì|í|ị|ỉ|ĩ/g, "i");
        str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, "o");
        str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, "u");
        str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, "y");
        str = str.replace(/đ/g, "d");
        str = str.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'| |\"|\&|\#|\[|\]|~|$|_/g, "-");

        str = str.replace(/-+-/g, "-");
        str = str.replace(/^\-+|\-+$/g, "");

        return str;
    },

    changeActiveElement: function(generalId, differentEleList, activeClass, eleActiveId) {
        for (var i = 0; i < differentEleList.length; i++) {
            var eleId = generalId + differentEleList[i];
            if (eleId == eleActiveId) {
                document.getElementById(eleId).classList.add(activeClass);
            } else {
                document.getElementById(eleId).classList.remove(activeClass);
            }
        }
    },
    modalEventListener: function(modal) {
        var closeButtonList = modal.getElementsByClassName("delete");
        var closeButton = closeButtonList[0];
        if (closeButton) {
            closeButton.onclick = function() {
                modal.classList.toggle("is-active");
            };
        }

        var cancelModalButtonList = modal.getElementsByClassName("cancel-modal-button");
        if (cancelModalButtonList) {
            for (var i = 0; i < cancelModalButtonList.length; i++) {
                cancelModalButtonList[i].onclick = function() {
                    modal.classList.toggle("is-active");
                };
            }
        }

        var modalBackground = modal.getElementsByClassName("modal-background");

        for (var j = 0; j < modalBackground.length; j++) {
            modalBackground[j].onclick = function() {
                modal.classList.toggle("is-active");
            };
        }

        window.addEventListener(
            "keydown",
            function(event) {
                if (event.key == "Escape") {
                    modal.classList.remove("is-active");
                }
            },
            true
        );

        var footer = modal.getElementsByTagName("footer")[0];

        if (footer) {
            var buttonFooterList = footer.getElementsByTagName("button");

            for (var j in buttonFooterList) {
                buttonFooterList[j].onclick = function() {
                    modal.classList.toggle("is-active");
                };
            }
        }

        if (modal.hasAttribute("control-button-list")) {
            var controlButtonList = modal.getAttribute("control-button-list").split("|");

            for (var k = 0; k < controlButtonList.length; k++) {
                var item = document.getElementById(controlButtonList[k]);

                item.onclick = function() {
                    modal.classList.add("is-active");

                    if (item.hasAttribute("snb-render")) {
                        var value = item.getAttribute("snb-key");

                        var render = item.getAttribute("snb-render");

                        eval(render)(item, value);
                    }
                };
            }
        }
    },

    createFireWork: function(option) {
        // Options
        var options = {
            /* Which hue should be used for the first batch of rockets? */
            startingHue: 120,
            /*
             * How many ticks the script should wait before a new firework gets
             * spawned, if the user is holding down his mouse button.
             */
            clickLimiter: 5,
            /* How fast the rockets should automatically spawn, based on ticks */
            // timerInterval: 40,
            timerInterval: 20,
            /* Show pulsing circles marking the targets? */
            // showTargets: true,
            showTargets: false,
            /* Rocket movement options, should be self-explanatory */
            rocketSpeed: 4,
            rocketAcceleration: 1.03,
            /* Particle movement options, should be self-explanatory */
            particleFriction: 0.95,
            particleGravity: 1,
            /* Minimum and maximum amount of particle spawns per rocket */
            particleMinCount: 25,
            particleMaxCount: 40,
            /* Minimum and maximum radius of a particle */
            particleMinRadius: 3,
            particleMaxRadius: 5,
        };

        // Local variables
        var fireworks = [];
        var particles = [];
        var mouse = { down: false, x: 0, y: 0 };
        var currentHue = options.startingHue;
        var clickLimiterTick = 0;
        var timerTick = 0;
        var cntRocketsLaunched = 0;

        // Helper function for canvas animations
        window.requestAnimFrame = (function() {
            return (
                window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                function(cb) {
                    window.setTimeout(callback, 1000 / 60);
                }
            );
        })();

        // Helper function to return random numbers within a specified range
        function random(min, max) {
            return Math.random() * (max - min) + min;
        }

        // Helper function to calculate the distance between 2 points
        function calculateDistance(p1x, p1y, p2x, p2y) {
            var xDistance = p1x - p2x;
            var yDistance = p1y - p2y;
            return Math.sqrt(Math.pow(xDistance, 2) + Math.pow(yDistance, 2));
        }

        // Setup some basic variables
        // var canvas = document.getElementById('canvas');
        var canvas = document.createElement("canvas");
        var canvasContainer = option && option.hasOwnProperty("container") ? option["container"] : document.body;
        canvasContainer.appendChild(canvas);
        var canvasCtx = canvas.getContext("2d");
        var canvasWidth = window.innerWidth;
        var canvasHeight = window.innerHeight;

        // Resize canvas
        canvas.width = canvasWidth;
        canvas.height = canvasHeight;

        // Firework class
        function Firework(sx, sy, tx, ty) {
            // Set coordinates (x/y = actual, sx/sy = starting, tx/ty = target)
            this.x = this.sx = sx;
            this.y = this.sy = sy;
            this.tx = tx;
            this.ty = ty;

            // Calculate distance between starting and target point
            this.distanceToTarget = calculateDistance(sx, sy, tx, ty);
            this.distanceTraveled = 0;

            // To simulate a trail effect, the last few coordinates will be
            // stored
            this.coordinates = [];
            this.coordinateCount = 3;

            // Populate coordinate array with initial data
            while (this.coordinateCount--) {
                this.coordinates.push([this.x, this.y]);
            }

            // Some settings, you can adjust them if you'd like to do so.
            this.angle = Math.atan2(ty - sy, tx - sx);
            this.speed = options.rocketSpeed;
            this.acceleration = options.rocketAcceleration;
            this.brightness = random(50, 80);
            this.hue = currentHue;
            this.targetRadius = 1;
            this.targetDirection = false; // false = Radius is getting bigger,
            // true = Radius is getting smaller

            // Increase the rockets launched counter
            cntRocketsLaunched++;
        }

        // This method should be called each frame to update the firework
        Firework.prototype.update = function(index) {
            // Update the coordinates array
            this.coordinates.pop();
            this.coordinates.unshift([this.x, this.y]);

            // Cycle the target radius (used for the pulsing target circle)
            if (!this.targetDirection) {
                if (this.targetRadius < 8) this.targetRadius += 0.15;
                else this.targetDirection = true;
            } else {
                if (this.targetRadius > 1) this.targetRadius -= 0.15;
                else this.targetDirection = false;
            }

            // Speed up the firework (could possibly travel faster than the
            // speed of light)
            this.speed *= this.acceleration;

            // Calculate the distance the firework has travelled so far (based
            // on velocities)
            var vx = Math.cos(this.angle) * this.speed;
            var vy = Math.sin(this.angle) * this.speed;
            this.distanceTraveled = calculateDistance(this.sx, this.sy, this.x + vx, this.y + vy);

            // If the distance traveled (including velocities) is greater than
            // the initial distance
            // to the target, then the target has been reached. If that's not
            // the case, keep traveling.
            if (this.distanceTraveled >= this.distanceToTarget) {
                createParticles(this.tx, this.ty);
                fireworks.splice(index, 1);
            } else {
                this.x += vx;
                this.y += vy;
            }
        };

        // Draws the firework
        Firework.prototype.draw = function() {
            var lastCoordinate = this.coordinates[this.coordinates.length - 1];

            // Draw the rocket
            canvasCtx.beginPath();
            canvasCtx.moveTo(lastCoordinate[0], lastCoordinate[1]);
            canvasCtx.lineTo(this.x, this.y);
            canvasCtx.strokeStyle = "hsl(" + this.hue + ",100%," + this.brightness + "%)";
            canvasCtx.stroke();

            // Draw the target (pulsing circle)
            if (options.showTargets) {
                canvasCtx.beginPath();
                canvasCtx.arc(this.tx, this.ty, this.targetRadius, 0, Math.PI * 2);
                canvasCtx.stroke();
            }
        };

        // Particle class
        function Particle(x, y) {
            // Set the starting point
            this.x = x;
            this.y = y;

            // To simulate a trail effect, the last few coordinates will be
            // stored
            this.coordinates = [];
            this.coordinateCount = 5;

            // Populate coordinate array with initial data
            while (this.coordinateCount--) {
                this.coordinates.push([this.x, this.y]);
            }

            // Set a random angle in all possible directions (radians)
            this.angle = random(0, Math.PI * 2);
            this.speed = random(1, 10);

            // Add some friction and gravity to the particle
            this.friction = options.particleFriction;
            this.gravity = options.particleGravity;

            // Change the hue to a random number
            this.hue = random(currentHue - 20, currentHue + 20);
            this.brightness = random(50, 80);
            this.alpha = 1;

            // Set how fast the particles decay
            this.decay = random(0.01, 0.03);
        }

        // Updates the particle, should be called each frame
        Particle.prototype.update = function(index) {
            // Update the coordinates array
            this.coordinates.pop();
            this.coordinates.unshift([this.x, this.y]);

            // Slow it down (based on friction)
            this.speed *= this.friction;

            // Apply velocity to the particle
            this.x += Math.cos(this.angle) * this.speed;
            this.y += Math.sin(this.angle) * this.speed + this.gravity;

            // Fade out the particle, and remove it if alpha is low enough
            this.alpha -= this.decay;
            if (this.alpha <= this.decay) {
                particles.splice(index, 1);
            }
        };

        // Draws the particle
        Particle.prototype.draw = function() {
            var lastCoordinate = this.coordinates[this.coordinates.length - 1];
            var radius = Math.round(random(options.particleMinRadius, options.particleMaxRadius));

            // Create a new shiny gradient
            var gradient = canvasCtx.createRadialGradient(this.x, this.y, 0, this.x, this.y, radius);
            gradient.addColorStop(0.0, "white");
            gradient.addColorStop(0.1, "white");
            gradient.addColorStop(0.1, "hsla(" + this.hue + ",100%," + this.brightness + "%," + this.alpha + ")");
            gradient.addColorStop(1.0, "black");

            // Draw the gradient
            canvasCtx.beginPath();
            canvasCtx.fillStyle = gradient;
            canvasCtx.arc(this.x, this.y, radius, Math.PI * 2, false);
            canvasCtx.fill();
        };

        // Create a bunch of particles at the given position
        function createParticles(x, y) {
            var particleCount = Math.round(random(options.particleMinCount, options.particleMaxCount));
            while (particleCount--) {
                particles.push(new Particle(x, y));
            }
        }

        // Add an event listener to the window so we're able to react to size
        // changes
        window.addEventListener("resize", function(e) {
            canvas.width = canvasWidth = window.innerWidth;
            canvas.height = canvasHeight = window.innerHeight;
        });

        // Add event listeners to the canvas to handle mouse interactions
        canvas.addEventListener("mousemove", function(e) {
            e.preventDefault();
            mouse.x = e.pageX - canvas.offsetLeft;
            mouse.y = e.pageY - canvas.offsetTop;
        });

        canvas.addEventListener("mousedown", function(e) {
            e.preventDefault();
            mouse.down = true;
        });

        canvas.addEventListener("mouseup", function(e) {
            e.preventDefault();
            mouse.down = false;
        });

        // Main application / script, called when the window is loaded
        function gameLoop() {
            // This function will rund endlessly by using requestAnimationFrame
            // (or fallback to setInterval)
            requestAnimFrame(gameLoop);

            // Increase the hue to get different colored fireworks over time
            currentHue += 0.5;

            // 'Clear' the canvas at a specific opacity, by using
            // 'destination-out'. This will create a trailing effect.
            canvasCtx.globalCompositeOperation = "destination-out";
            canvasCtx.fillStyle = "rgba(0, 0, 0, 0.5)";
            canvasCtx.fillRect(0, 0, canvasWidth, canvasHeight);
            canvasCtx.globalCompositeOperation = "lighter";

            // Loop over all existing fireworks (they should be updated & drawn)
            var i = fireworks.length;
            while (i--) {
                fireworks[i].draw();
                fireworks[i].update(i);
            }

            // Loop over all existing particles (they should be updated & drawn)
            var i = particles.length;
            while (i--) {
                particles[i].draw();
                particles[i].update(i);
            }

            // Draw some text
            // canvasCtx.fillStyle = 'white';
            // canvasCtx.font = '14px Arial';
            // canvasCtx.fillText('Rockets launched: ' + cntRocketsLaunched, 10,
            // 24);

            // Launch fireworks automatically to random coordinates, if the user
            // does not interact with the scene
            if (timerTick >= options.timerInterval) {
                if (!mouse.down) {
                    fireworks.push(
                        new Firework(canvasWidth / 2, canvasHeight, random(0, canvasWidth), random(0, canvasHeight / 2))
                    );
                    timerTick = 0;
                }
            } else {
                timerTick++;
            }

            // Limit the rate at which fireworks can be spawned by mouse
            if (clickLimiterTick >= options.clickLimiter) {
                if (mouse.down) {
                    fireworks.push(new Firework(canvasWidth / 2, canvasHeight, mouse.x, mouse.y));
                    clickLimiterTick = 0;
                }
            } else {
                clickLimiterTick++;
            }
        }
        canvas.setAttribute("style", "position: fixed;top: 0;left: 0;");
        if (option && option.hasOwnProperty("onClick")) {
            if (typeof option.onClick == "function") {
                canvas.onclick = function() {
                    option.onClick();
                };
            }
        } else {
            if (option && option.hasOwnProperty("href")) {
                canvas.classList.add("has-cursor-pointer");
                canvas.onclick = function() {
                    window.location.href = option.href;
                };
            }
        }

        window.onload = gameLoop();
        return canvas;
    },

    createCoinFall: function(option) {
        var container = option.container;

        // var exists = document.getElementsByClassName('coinContainer')[0];
        // if (exists) {
        // exists.parentNode.removeChild(exists);
        // return false;
        // }

        var element = document.createElement("div");
        element.setAttribute("style", "position: fixed;");
        container.appendChild(element);
        var canvas = document.createElement("canvas"),
            ctx = canvas.getContext("2d"),
            focused = false;

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        canvas.id = "gimmick";

        var coin = new Image();
        coin.src = option.hasOwnProperty("imageSrc") ? option.imageSrc : "http://i.imgur.com/5ZW2MT3.png";
        // 440 wide, 40 high, 10 states
        coin.onload = function() {
            element.appendChild(canvas);
            focused = true;
            drawloop();
        };
        var coins = [];

        function drawloop() {
            if (focused) {
                requestAnimationFrame(drawloop);
            }

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (Math.random() < 0.3) {
                coins.push({
                    x: (Math.random() * canvas.width) | 0,
                    y: -50,
                    dy: 3,
                    s: 0.5 + Math.random(),
                    state: (Math.random() * 10) | 0,
                });
            }
            var i = coins.length;
            while (i--) {
                var x = coins[i].x;
                var y = coins[i].y;
                var s = coins[i].s;
                var state = coins[i].state;
                coins[i].state = state > 9 ? 0 : state + 0.1;
                coins[i].dy += 0.3;
                coins[i].y += coins[i].dy;

                ctx.drawImage(coin, 44 * Math.floor(state), 0, 44, 40, x, y, 44 * s, 40 * s);

                if (y > canvas.height) {
                    coins.splice(i, 1);
                }
            }
        }

        return element;
    },
    renderListPost: function(id, typepost = "news") {
        var dataList = null;
        if (id) {
            var parentID = id;
            var url = shinobi.coreapi.blogOverviewApi + "findDataList";
            var request = {
                recordPerPage: shinobi.util.getRecordNumber(parentID),
            };

            // shinobi.newspagerender.dataList = new
            // shinobi.datalist(parentID);
            // shinobi.newspagerender.dataList.staticfilters = [{ "colname":
            // "posttype", "operator": "like", "value": typepost }];
            // shinobi.newspagerender.dataList.staticsorts = [{ "colname":
            // "id", "value": "desc" }];
            // shinobi.newspagerender.dataList.initLoadApi(url, request);
            dataList = new shinobi.datalist(parentID);
            dataList.staticfilters = [{ colname: "posttype", operator: "like", value: typepost }];
            dataList.staticsorts = [{ colname: "id", value: "desc" }];
            dataList.initLoadApi(url, request);
        }
        return dataList;
    },
};shinobi.xhradapter = {
	'getResource' : function(url, callback) {
		this.accessResource("GET", url, callback);
	},
	'accessResource' : function(method, url, callback) {
		var xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				callback(xhttp.responseText);
			}
		};
		xhttp.open(method, url, true);
		xhttp.send();
	},
	'login' : function(username, password, callback) {
		var xhttp = new XMLHttpRequest();

		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				callback(xhttp.responseText);
			}
		};

		xhttp.open("POST", "/login", true);
		xhttp.setRequestHeader('username', username);
		xhttp.setRequestHeader('password', password);
		xhttp.send();
	}
};
shinobi.seoMarkUpBuilder = {
	'baseURL': '/page/blogpost/',
	'JSON': [{
		'baseurl': '/page/blogpost/',
		'pagename': 'Bài viết',
		'markuprender': 'shinobi.articleMarkUp.build'
	}],

	'getJSON': function () {
		var request = {};
		request.baseurl = baseURL;

		shinobi.api.request('/api/Api/getJSON', JSON.stringify(request),
			function (response) {
				var jsonArr = JSON.parse(response);
				shinobi.seoMarkUpBuilder.JSON = jsonArr;
			});
	},

	'render': function () {
		// shinobi.seoMarkUpBuilder.getJSON();

		var jsonArr = shinobi.seoMarkUpBuilder.JSON;

		var pathName = window.location.pathname;

		for (var i = 0; i < jsonArr.length; i++) {
			var item = jsonArr[i];

			if (pathName.includes(item.baseurl)) {
				if (!item.markuprender || item.markuprender == ''
					|| item.markuprender == null) {

					shinobi.seoMarkUpBuilder.defaultRender();
				} else {

					eval(item.markuprender)();
				}

			}
		}

	},

	'defaultRender': function () {

	},

	'build': function () {

		shinobi.seoMarkUpBuilder.render();
	}

};
shinobi.api = {
    request: function(url, param, callback, options) {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                var data = JSON.parse(xhttp.responseText);
                if (!options ||
                    (options && !options.hasOwnProperty("responseHandleFunction"))
                ) {
                    if (data.result === "success") {
                        callback(data.content);
                    } else if (data.result === "notify") {
                        shinobi.notification.notification.info(data.content);
                    } else {
                        var showCotent =
                            data.hasOwnProperty("content") && data["content"].trim() != "" ?
                            data["content"] :
                            data["errorcode"];

                        ["content", "errorcode"].forEach(function(attribute) {
                            if (
                                data[attribute].trim() != "" &&
                                !data[attribute].startsWith("ERROR_") &&
                                !data[attribute].startsWith("PAGECODE_")
                            ) {
                                showCotent = data[attribute];
                            }
                        });

                        shinobi.notification.notification.error(showCotent);
                    }
                } else {
                    if (typeof options.responseHandleFunction == "function") {
                        options.responseHandleFunction({
                            data: data,
                            url: url,
                            request: param,
                            callback: callback,
                            options: options,
                        });
                    }
                }
            } else {
                if (this.readyState == 4) {
                    if (options && options.errorCallback) {
                        options.errorCallback(this.status);
                    } else {
                        console.log('response api code', this.status, url);
                    }
                }

            }
        };
        xhttp.open("POST", url, true);
        xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xhttp.send(param);
    },
};shinobi.areasplinechart = (function() {
	/*
	 * categories : [ 'Apples', 'Oranges', 'Pears', 'Grapes', 'Bananas' ]
	 */
	/*
	 * [ { name : 'John', data : [ 5, 3, 4, 7, 2 ] }, { name : 'Jane', data : [
	 * 2, 2, 3, 2, 1 ] }, { name : 'Joe', data : [ 3, 4, 4, 2, 5 ] } ]
	 */
	// private static variable
	// constructor
	var constructor = function(chartId, options) {
		this.data = [];
		this.title = '';
		this.name = '';
		this.categories = [];
		this.options = (options) ? options : null;
		this.createAreaSplineChart = function(chartId, categories, data) {
			this.containerId = chartId;
			this.categories = categories;
			this.data = data;
			this.renderChart();
		}
		this.setData = function(data) {
			this.data = data;
		}
		this.setName = function(name) {
			this.name = name;
		}
		this.renderChart = function() {
			Highcharts.chart(this.containerId, {
				chart : {
					type : 'areaspline',
					height : (this.options == null) ? 400 : (this.options.height == null)
							? 400
							: this.options.height,
				},
				title : {
					text : ''
				},
				xAxis : {
					categories : this.categories
				},
				yAxis : {
					title : false
				},
				exporting : {
					enabled : false
				},
				credits : {
					enabled : false
				},
				series : this.data
			});
		}
		// public static method
		constructor.staticmethod = {
			'hello' : function() {
			}
		}
	}
	return constructor;
})();
shinobi.areastacksplinechart = (function() {

	/*
	 * categories : [ 'Apples', 'Oranges', 'Pears', 'Grapes', 'Bananas' ]
	 */

	/*
	 * [ { name : 'John', data : [ 5, 3, 4, 7, 2 ] }, { name : 'Jane', data : [
	 * 2, 2, 3, 2, 1 ] }, { name : 'Joe', data : [ 3, 4, 4, 2, 5 ] } ]
	 */

	// private static variable
	// constructor
	var constructor = function(chartId) {

		this.data = [];

		this.title = '';

		this.name = '';

		this.categories = [];

		this.createAreaStackSplineChart = function(chartId, categories, data) {

			this.containerId = chartId;

			this.categories = categories;

			this.data = data;

			this.renderChart();

		}

		this.setData = function(data) {

			this.data = data;
		}

		this.setName = function(name) {

			this.name = name;
		}
		this.renderChart = function() {

			Highcharts.chart(this.containerId, {
				chart : {
					type : 'areaspline'
				},
				title : {
					text : ''
				},
				xAxis : {
					categories : this.categories
				},
				yAxis : {
					title : false
				},
				exporting : {
					enabled : false
				},
				tooltip : {
					split : true,
				},
				credits : {
					enabled : false
				},
				plotOptions : {
					areaspline : {
						stacking : 'normal'
					}
				},
				series : this.data
			});

		}

		// public static method
		constructor.staticmethod = {
			'hello' : function() {

			}
		}
	}

	return constructor;
})();
shinobi.articleMarkUp = {
	'title' : 'Aladin | Nền tảng kết nối cộng đồng nhà đầu tư chứng khoán chuyên nghiệp',
	'gaid' : "UA-119675169-1",
	'headLine' : '',
	'postURL' : '',
	'image' : 'image.aladin.finance/aladin.finance.public.image/783d7f463d1a8269ab447d3593641cae/HVN.png',
	'datePublished' : new Date(),
	'dateModified' : new Date(),
	'authorName' : '',
	'authorImageURL' : '',
	'publisherName' : 'Aladin | aladin.finance',
	'publisherLogoURL' : 'https://image.aladin.finance/aladin.finance.public.image/c73f7e23e7ccb4d33744cd03cfc8a18f/Aladin-Logo-test.png',
	'description' : '',

	'buildArticleMarkupScript' : function() {
		var content = '';

		content += '<script type="application/ld+json">{';
		content += '"@context": "https://schema.org", "@type": "NewsArticle",';
		content += '"mainEntityOfPage": {"@type": "WebPage", "@id": "'
				+ shinobi.articleMarkUp.postURL + '"},';
		content += '"headline": "' + shinobi.articleMarkUp.title + '",';
		content += '"image": ["' + shinobi.articleMarkUp.image + '"],';
		content += '"datePublished": "' + shinobi.articleMarkUp.datePublished
				+ '",';
		content += '"dateModified": "' + shinobi.articleMarkUp.dateModified
				+ '",';
		content += '"author": {"@type": "Person", "name": "'
				+ shinobi.articleMarkUp.authorName + '",';
		content += '"image": {"@type": "ImageObject", "url": "'
				+ shinobi.articleMarkUp.authorImageURL + '"}},';
		content += '"publisher": {"@type": "Organization", "name": "'
				+ shinobi.articleMarkUp.publisherName + '",';
		content += '"logo": {"@type": "ImageObject", "url": "'
				+ shinobi.articleMarkUp.publisherLogoURL + '"}},';
		content += '"description": "' + shinobi.articleMarkUp.description
				+ '"}';
		content += '</script>';

		return content;
	},

	'addGA' : function() {
		ga("create", shinobi.articleMarkUp.gaid, "auto");
		ga("send", "pageview");
	},

	'buildArticleMarkUp' : function() {

		var pathName = window.location.pathname;

		var pathNameSplit = pathName.split('/');

		var postUrl = pathNameSplit[pathNameSplit.length - 1];

		var request = {};

		request.posturl = blogPostPageUrl + postUrl;

		// shinobi.api.request('/api/BlogOverviewApi/getTraderPostDetail', JSON

		shinobi.api.request('/api/BlogOverviewApi/getPreViewContent', JSON
				.stringify(request), function(response) {

			var jsonArr = JSON.parse(response);

			shinobi.articleMarkUp.getAuthorInfo(jsonArr.createduser,
					function() {
						shinobi.articleMarkUp.setNewParam(jsonArr);

						shinobi.articleMarkUp.applyToHead();

						shinobi.articleMarkUp.addGA();
					});
		});
	},

	'getAuthorInfo' : function(userName, callback) {
		var request = {};
		request.username = userName;
		shinobi.api.request('/api/UserApi/getAllUserInfo', JSON
				.stringify(request), function(response) {

			var jsonArr = JSON.parse(response);

			shinobi.articleMarkUp.authorImageURL = jsonArr.avatarlink;
			shinobi.articleMarkUp.authorName = jsonArr.firstname + " "
					+ jsonArr.lastname;

			callback();
		});
	},

	'setNewParam' : function(data) {

		if (data.posttitle.includes('"')) {
			shinobi.articleMarkUp.title = data.posttitle.replace(/"/g, '\\"');
		} else {
			shinobi.articleMarkUp.title = data.posttitle;
		}

		shinobi.articleMarkUp.dateModified = data.lastmodifieddate;
		shinobi.articleMarkUp.datePublished = data.createddate;
		shinobi.articleMarkUp.image = data.thumpnailurl;
		shinobi.articleMarkUp.postURL = 'https://www.aladin.finance'
				+ data.posturl;

	},

	'applyToHead' : function() {
		var headContent = document.head.innerHTML;

		headContent = headContent
				+ shinobi.articleMarkUp.buildArticleMarkupScript();
		document.head.innerHTML = headContent;

	},

	'build' : function() {

		shinobi.articleMarkUp.buildArticleMarkUp();
	}

}
shinobi.autocomplete = (function () {
  var constructor = function (selector, options) {
    this.autoCompleteObject = "";
    this.input = "";
    this.selector = selector;
    this.onUpdate = function (results, selectedIndex) {
      console.log(`${results.length} results`);
      if (selectedIndex > -1) {
        console.log(`Selected: ${results[selectedIndex]}`);
      }
    };
    this.getResultValue = function (result) {
      // return result.name
    };
    this.autoSelect = true;
    // this.containerSelector = selector.replace('#', "").replace('.', "") + "autoComplete";
    this.containerSelector =
      "shinobiAutoComplete" + shinobi.util.sha256(selector);
    this.options = options;
    this.onSearch = function (input, resolve) {
      return [];
    };
    this.renderResult = function (result, props) {
      return `<li ${props}> ${JSON.stringify(result)}</li>`;
    };
    this.onSubmit = function (result, object) {
      object.autoCompleteObject.input.value = JSON.stringify(result);
    };
    this.loadOptions = function () {
      var object = this;
      if (options.hasOwnProperty("onSearch")) {
        object.onSearch = options.onSearch;
      }
      if (options.hasOwnProperty("renderResult")) {
        object.renderResult = options.renderResult;
      }
      if (options.hasOwnProperty("onSubmit")) {
        object.onSubmit = options.onSubmit;
      }
      if (options.hasOwnProperty("onUpdate")) {
        object.onUpdate = options.onUpdate;
      }
      if (options.hasOwnProperty("autoSelect")) {
        object.autoSelect = options.autoSelect;
      }
    };

    this.createObject = function () {
      var object = this;
      object.autoCompleteObject = new Autocomplete(
        "#" + object.containerSelector,
        {
          search: (input) => {
            if (input.trim() != "" || (options.hasOwnProperty('emptySearch') && options['emptySearch'])) {
              return new Promise((resolve) => {
                object.onSearch(input.trim(), resolve);
                // var request = {};
                // request.searchkey = input.trim();
                // shinobi.api.request(shinobi.coreapi.loggedUserApi + 'searchUser', JSON.stringify(request), function (re) {
                //     var arrJson = JSON.parse(re);
                //     var data = arrJson;
                //     resolve(data);
                // });
              });
            } else {
              return [];
            }
          },
          renderResult: function (result, props) {
            return object.renderResult(result, props);
          },
          onSubmit: function (result) {
            object.onSubmit(result, object);
          },
          autoSelect: object.autoSelect,
          onUpdate: function (results, selectedIndex) {
            object.onUpdate(results, selectedIndex, object);
          },
        }
      );
    };

    this.createStructure = function (callback) {
      var object = this;
      object.input = document.querySelector(this.selector);
      if (!object.input.parentElement.classList.contains("autocomplete")) {
        var container = document.createElement("div");
        container.setAttribute("class", "autocomplete");
        container.setAttribute("id", this.containerSelector);
        container.innerHTML = `<ul class="autocomplete-result-list"></ul>`;
        object.input.classList.add("autocomplete-input");
        object.input.setAttribute("autocomplete", "nope");
        object.input.setAttribute("autocorrect", "off");
        // object.input.setAttribute("name", object.containerSelector);
        object.input.value = "";
        object.input.parentElement.replaceChild(container, object.input);
        container.insertBefore(object.input, container.firstElementChild);
        container.appendChild(object.input);

        var formContainer = document.createElement("form");
        formContainer.setAttribute("autocomplete", "off");
        formContainer.setAttribute("onSubmit", "return false;");
        container.parentElement.replaceChild(formContainer, container);
        formContainer.appendChild(container);
      }
      callback();
    };
    this.loadAll = function () {
      var object = this;
      this.loadOptions();
      this.createStructure(function () {
        object.createObject();
      });
    };

    this.loadAll();
  };

  // public static method
  constructor.staticmethod = {
    hello: function () { },
  };

  return constructor;
})();
shinobi.cacheapi = {
	cache : {},
	request : function(url, param, callback, option) {
		var cacheKey = url + '_' + JSON.stringify(param);
		if (shinobi.cacheapi.cache.hasOwnProperty(cacheKey)) {
			var currentCacheData = shinobi.cacheapi.cache[cacheKey];
			(currentCacheData == false) ? setTimeout(function() {
				shinobi.cacheapi.request(url, param, callback)
			}, 10) : callback(shinobi.cacheapi.cache[cacheKey]);

		} else {
			shinobi.cacheapi.cache[cacheKey] = false;
			shinobi.api.request(url, param, function(response) {
				shinobi.cacheapi.cache[cacheKey] = response;

				if (option && option.hasOwnProperty('cacheExpired')) {
					setTimeout(function() {
						delete shinobi.cacheapi.cache[cacheKey];
					}, option['cacheExpired'])
				}
				callback(response);
			});
		}
	},
	clearKey : function(url, param, option) {
		var tempSymbol = '_';
		var cacheKey = url + tempSymbol;
		if (param) {
			cacheKey += JSON.stringify(param);
			if (shinobi.cacheapi.cache.hasOwnProperty(cacheKey)) {
				delete shinobi.cacheapi.cache[cacheKey];
			}
		} else {
			var listKeyRef = Object.keys(shinobi.cacheapi.cache).filter(
					function(item) {
						return item.includes(url + tempSymbol);
					});

			listKeyRef.forEach(function(key) {
				delete shinobi.cacheapi.cache[key];

			})
		}

	},
	clear : function() {
		shinobi.cacheapi.cache = {};
	},

};shinobi.chartadapter = {

	'convertDataPieChart': function (data) {

		var returnData = [];

		var dataObject = data[0];

		var xNameArr = dataObject.xname;
		var value = dataObject.value;

		var dataLength = value.length;

		for (var i = 0; i < dataLength; i++) {

			var chartObject = {};

			chartObject.name = xNameArr[i];
			chartObject.y = parseInt(value[i]);

			returnData.push(chartObject);
		}

		return returnData;

	},

	'convertDataStockChart': function (data) {

		// series: [ {
		// name : 'Temperature',
		// data : [ [ 1317888000000, 372.5101 ], [ 1317888060000, 372.4 ],
		// [ 1317888120000, 372.16 ], [ 1317888180000, 371.62 ],
		// [ 1317888240000, 371.75 ], [ 1317888300000, 372 ] ],
		//
		// tooltip : {
		// valueDecimals : 1,
		// valueSuffix : '°C'
		// }
		// } ]

		var returnData = [];

		var dataObject = data.chartdata[0];

		var xname = dataObject.xname;
		var value = dataObject.value;

		var length = xname.length;

		for (var i = 0; i < length; i++) {

			var tempArray = [];

			tempArray.push(Number(xname[i]));
			tempArray.push(Number(value[i]));

			returnData.push(tempArray);

		}

		return returnData;

	},

	'convertDataSimpleChart': function (data) {

		var dataObject = data.chartdata[0];

		var dataChart = [];

		var valueList = dataObject.value;
		var xNameList = dataObject.xname;

		// var minValue = Math.min(...valueList);
		// var rootValue = Math.trunc(minValue*0.99);

		var tradeDemoCapitalValue = valueList[0];
		// var rootValue = Math.trunc(tradeDemoCapitalValue * 0.99);
		var rootValue = tradeDemoCapitalValue;

		var length = valueList.length;

		for (var i = 0; i < length; i++) {

			// var tempObject = [];

			var currentValue = Number(valueList[i]) - rootValue;

			// tempObject.push(Number(xNameList[i]));

			// tempObject.push(currentValue);

			// dataChart.push(tempObject);
			dataChart.push(currentValue);
		}

		return dataChart;

	},

	'convertDataColumnChart': function (data) {

		var returnObject = {};

		var dataObject = data.chartdata;

		returnObject.categories = [];

		returnObject.data = [];

		var dataLength = dataObject.length;

		if (dataLength == 0) {

			return returnObject;
		}

		var feeNameList = dataObject[0].yname;

		var feeNameListLength = feeNameList.length;

		for (var i = 0; i < feeNameListLength; i++) {

			var tempObject = {};

			tempObject.name = feeNameList[i];

			tempObject.data = [];

			for (var j = 0; j < dataLength; j++) {

				returnObject.categories.push(dataObject[j].xname[0]);

				tempObject.data.push(Number(dataObject[j].value[i]));

			}

			// reverse data in object
			tempObject.data = tempObject.data.reverse();

			returnObject.data.push(tempObject);
		}

		// reverse category in object
		returnObject.categories = returnObject.categories.reverse();

		return returnObject;

	},

	'convertOneObjectDataColumnChart': function (data) {

		var returnObject = {};
		returnObject.data = [];

		var chartDataArray = data.chartdata;

		for (var h = 0; h < chartDataArray.length; h++) {

			var dataObject = data.chartdata[h];

			var dateMilisecond = dataObject.xname;
			var dateArray = [];

			for (var j = 0; j < dateMilisecond.length; j++) {

				var currentDateValue = new Date(Number(dateMilisecond[j]));

				var formatDate = shinobi.util.getFormatDate(
					currentDateValue, {
					format: 'dd-MM-yyyy hh:mm'
				});

				dateArray.push(formatDate);
			}

			returnObject.categories = dateArray;

			var valueList = dataObject.value;

			var valueListLength = valueList.length;

			var tempObject = {};

			tempObject.name = dataObject.yname[0];

			tempObject.data = [];

			for (var i = 0; i < valueListLength; i++) {

				tempObject.data.push(Number(valueList[i]));

			}

			returnObject.data.push(tempObject);
		}

		return returnObject;

	},

};if (typeof CKEDITOR == "object") {

	CKEDITOR.editorConfig = function(config) {
		config.language = 'vi';
		config.height = 300;
		config.toolbarCanCollapse = true;
		config.allowedContent = true;
		config.bodyClass = 'content column';
		config.contentsCss = 'https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css';
	};
};if (typeof CKEDITOR == "object") {
	CKEDITOR.editorConfig = function(config) {
		config.language = 'vi';
		config.height = 300;
		config.toolbarCanCollapse = true;
		config.allowedContent = true;
		config.bodyClass = 'document-editor content has-padding-1-rem';
		config.contentsCss = '/static/production/shinobi_2.css';
	}
};shinobi.coreapi = {
    logo: '<span class="title is-2">CFV</span>',
    lotteryResultApi: "/api/LotteryResultApi/",
    lotteryStatisticApi: "/api/LotteryStatisticApi/",
    userApi: "/api/UserApi/",
    menuNotiApi: "/authenapi/MenuNotiApi/",
    productApi: "/api/ProductApi/",
    getSessionIdApi: "/authenapi/userapi/",

    getLoggedUser: function () {
        shinobi.coreapi.checkAuthen();
    },
    checkAuthen: function (callback) {
        var request = {};
        shinobi.cacheapi.request(shinobi.coreapi.userApi + "checkAuthen", JSON.stringify(request), function (response) {
            var data = JSON.parse(response);

            if (typeof callback == "function") {
                data ? callback(data["username"]) : callback(false);
            }
        });
    },
    checkNotCacheAuthen: function (callback) {
        var request = {};
        shinobi.api.request(shinobi.coreapi.userApi + "checkAuthen", JSON.stringify(request), function (response) {
            var data = JSON.parse(response);

            if (typeof callback == "function") {
                data ? callback(data["username"]) : callback(false);
            }
        });
    },

    requestAuthen: function (callback) {
        shinobi.coreapi.checkAuthen(function (username) {
            if (typeof callback == "function") {
                username ? callback(username) : shinobi.notification.notification.error("Vui lòng đăng nhập để thao tác");
            }
        });
    },
    reCheckAuthen: function (callback) {
        var key = shinobi.coreapi.userApi + "checkAuthen";
        if (typeof shinobi.cacheapi.cache == "object") {
            shinobi.cacheapi.clearKey(key);
        }
        shinobi.coreapi.checkAuthen(callback);
    },
    getSessionId: function (callback) {
        var request = {};
        shinobi.api.request(shinobi.coreapi.systemUserApi + "getSessionId", JSON.stringify(request), function (response) {
            if (typeof callback == "function") {
                var data = JSON.parse(response);
                if (data.hasOwnProperty("sessionid")) {
                    data["sessionid"] != -1 ? callback(data["sessionid"]) : callback(false);
                } else {
                    callback(false);
                }
            }
        });
    },
    getUserInfo: function (callback) {
        shinobi.coreapi.checkAuthen(function (username) {
            var userInfoRequest = {
                username: username,
            };
            shinobi.cacheapi.request(
                shinobi.coreapi.userApi + "getAllUserInfo",
                JSON.stringify(userInfoRequest),
                function (response) {
                    if (typeof callback == "function") {
                        callback(response);
                    }
                }
            );
        });
    },
    getLoggedUserInfo: function (callback) {
        shinobi.coreapi.checkAuthen(function (username) {
            var userInfoRequest = {
                username: username,
            };
            shinobi.cacheapi.request(
                shinobi.coreapi.loggedUserApi + "getAllUserInfo",
                JSON.stringify(userInfoRequest),
                function (response) {
                    if (typeof callback == "function") {
                        callback(response);
                    }
                }
            );
        });
    },
};shinobi.datalist = (function() {

    // private static variable
    var paginationClass = ".table-pagination";

    var prevPaginationClass = ".shinobi-pagination-prev";
    var curPagePaginationClass = ".shinobi-pagination-curpage";
    var nextPaginationClass = ".shinobi-pagination-next";
    var pageTotalClass = ".shinobi-page-total";
    var recordPerPageClass = ".shinobi-recordperpage";
    var detailIdKey = "snb-detailid";
    var colnameAttribute = "snb-colname";
    var colcontrolAttribute = "snb-header-control";
    var sortAttribute = "snb-sort";

    var sortDescIcon = "<i class='fas fa-sort-down'></i>";
    var sortAscIcon = "<i class='fas fa-sort-up'></i>";
    var sortIcon = "<i class='fas fa-sort'></i>";

    // constructor
    var constructor = function(tableid) {

        this.loadingContainer = '';

        this.url = "";

        this.colNames = [];

        this.filters = [];

        this.staticfilters = [];

        this.sorts = [];

        this.paramsList = '';

        this.staticsorts = [];

        this.renders = [];

        this.tableRows = [];

        this.pageNum = 1;

        this.recordPerPage = 10;

        this.pageTotal = 10;

        this.rowTotal = 10;

        this.tableNode = document.getElementById(tableid);

        this.tableContainerNode = this.tableNode.parentNode;

        this.sampleNode = this.tableNode.querySelector("[snb-datalist-parent=" + this.tableNode
            .getAttribute("snb-datalist-node") +
            "]");

        this.pageNumNode = this.tableContainerNode
            .querySelector(curPagePaginationClass);

        this.recordPerPageNode = this.tableContainerNode
            .querySelector(recordPerPageClass);

        this.getColnames = function() {
            var table = document.getElementById(tableid);

            var colNames = table.querySelectorAll("[" + colnameAttribute + "]");

            var headerColnames = [];
            for (var i = 0; i < colNames.length; i++) {
                var colElem = colNames[i];
                headerColnames[i] = colElem.getAttribute(colnameAttribute);
            }

            return headerColnames;
        };

        this.registerSorts = function() {
            var sortElems = this.tableNode.querySelectorAll("[" + sortAttribute +
                "]");

            for (var i = 0; i < sortElems.length; i++) {
                var sortElem = sortElems[i];

                this.registerSort(sortElem);
            }
        };

        this.registerPagination = function() {

            var parentNode = this.tableNode.parentNode;

            this.paginationContainer = parentNode
                .querySelector(paginationClass);
        };

        this.updatePagination = function(data) {

            shinobi.mapping.renderElement(this.paginationContainer, JSON
                .parse(data));

            if (JSON.parse(data).pageNum) {

                var currentPage = this.paginationContainer
                    .querySelectorAll(curPagePaginationClass)[0];
                if (JSON.parse(data).pageTotal == 0) {

                    currentPage.value = 0;

                } else {

                    currentPage.value = JSON.parse(data).pageNum;

                }
            }

        };

        this.registerSort = function(sortElem) {

            var table = this;

            sortElem.addEventListener("click", function() {
                var currentSortValue = this.getAttribute(sortAttribute);

                var colName = this.parentNode.getAttribute(colnameAttribute);

                if ("" === currentSortValue) {
                    this.setAttribute(sortAttribute, "asc");
                    this.innerHTML = sortAscIcon;
                    this.classList.add("is-visible");
                } else if ("asc" === currentSortValue) {
                    this.setAttribute(sortAttribute, "desc");
                    this.innerHTML = sortDescIcon;
                    this.classList.add("is-visible");
                } else {
                    this.setAttribute(sortAttribute, "");
                    this.innerHTML = sortIcon;
                    this.classList.remove("is-visible");
                }

                table.reloadApi(table.pageNum);

            });

        };

        this.getSorts = function() {
            this.sorts = [];

            this.sorts = this.sorts.concat(this.staticsorts);

            var sortElems = this.tableNode.querySelectorAll("[" + sortAttribute +
                "]");

            for (var i = 0; i < sortElems.length; i++) {
                var sortElem = sortElems[i];

                var colName = sortElem.parentNode
                    .getAttribute(colnameAttribute);
                var currentSortValue = sortElem.getAttribute(sortAttribute);

                if ("" !== currentSortValue) {
                    var sort = {};
                    sort.colname = colName;
                    sort.value = currentSortValue;

                    this.sorts.push(sort);
                }

            }

        };

        this.registerHeaders = function() {
            var tableElem = document.getElementById(tableid);
            var headers = tableElem.querySelectorAll("[" + colcontrolAttribute +
                "]");

            for (var i = 0; i < headers.length; i++) {
                var header = headers[i];

                this.registerHeader(header);
            }
        };

        this.registerHeader = function(header) {
            var title = header.innerHTML;

            var table = this;

            header.addEventListener("dblclick", function() {

                var childNode = this.childNodes[0];

                if (childNode.nodeType == 3) {

                    if (this.querySelector("input") !== null) {
                        // this.innerHTML = title;
                        table.removeFilterControls(this);

                        table.resetPageNum();

                        table.reloadApi(table.pageNum);

                        return;
                    }

                    var select = document.createElement("select");
                    table.addFilterToElement(select, this);

                    var input = document.createElement("input");
                    input.setAttribute("type", "text");
                    input.setAttribute("value", "");
                    input.style.width = this.offsetWidth + "px";

                    // this.removeChild(this.childNodes[0]);
                    this.appendChild(document.createElement("br"));
                    this.appendChild(select);
                    this.appendChild(input);
                }
            });

            header.addEventListener("keyup", function(event) {
                if (event.keyCode === 13) {
                    var currentvalue = this.querySelector("input").value;

                    if (currentvalue == "") {
                        // this.innerHTML = title;
                        table.removeFilterControls(this);
                    }

                    table.resetPageNum();

                    table.reloadApi(table.pageNum);

                }
            });

        };

        this.removeFilterControls = function(elem) {
            var br = elem.querySelector("br");
            var select = elem.querySelector("select");
            var input = elem.querySelector("input");

            elem.removeChild(br);
            elem.removeChild(select);
            elem.removeChild(input);
        };

        this.resetPageNum = function() {
            this.pageNum = 1;
            this.pageNumNode.value = 1;
        };

        this.addFilterToElement = function(select, node) {

            var datatype = node.getAttribute("snb-datatype");

            var textArr = [];
            var valueArr = [];

            if (datatype === "number") {
                textArr = ["=", ">", ">=", "<", "<="];
                valueArr = ["equal", ">", ">=", "<", "<="];
            } else {
                textArr = ["=", "like"];
                valueArr = ["equal", "like"];
            }

            for (var i = 0; i < textArr.length; i++) {
                var option = document.createElement("option");
                option.text = textArr[i];
                option.value = valueArr[i];
                select.appendChild(option);
            }

        };

        this.registerRecordPerPage = function() {
            var table = this;

            this.recordPerPageNode.addEventListener("change", function() {
                table.resetPageNum();
                table.reloadApi(table.pageNum);
            });
        };

        this.registerPrevPagination = function() {

            var parentNode = this.tableNode.parentNode;

            var prevPagination = parentNode.querySelector(prevPaginationClass);

            var table = this;

            prevPagination.addEventListener("click", function() {
                var currentPageNode = parentNode
                    .querySelector(curPagePaginationClass);
                var currentPage = currentPageNode.value;

                if (currentPage > 1) {
                    var pageNum = currentPage - 1;

                    currentPageNode.value = pageNum;

                    table.reloadApi(pageNum);
                }

            });

        };

        this.registerNextPagination = function() {
            var parentNode = this.tableNode.parentNode;

            var nextPagination = parentNode.querySelector(nextPaginationClass);

            var table = this;

            nextPagination.addEventListener("click", function() {
                var currentPageNode = parentNode
                    .querySelector(curPagePaginationClass);
                var currentPage = Number(currentPageNode.value);

                if (currentPage < table.pageTotal) {
                    var pageNum = currentPage + 1;
                    currentPageNode.value = pageNum;

                    table.reloadApi(pageNum);
                }
            });
        };

        this.registerCurrentPageEvent = function() {
            var parentNode = this.tableNode.parentNode;

            var currentPageNode = parentNode
                .querySelector(curPagePaginationClass);

            var table = this;
            currentPageNode.addEventListener("keyup", function(event) {
                if (event.keyCode === 13) {
                    var curPageNum = Number(currentPageNode.value);

                    if (curPageNum > 0 && curPageNum <= table.pageTotal) {
                        table.reloadApi(curPageNum);
                    }
                }
            });

        };

        this.registerPagination();

        this.registerPrevPagination();
        this.registerNextPagination();
        this.registerCurrentPageEvent();
        this.registerRecordPerPage();

        this.viewDetailPanelId = "";

        // public instance method
        this.renderTable = function(list, callback, options) {


            var table = this;
            var containerNodeValue = this.tableNode
                .getAttribute("snb-datalist-node");


            // if (childNode) {
            // 	table.sampleNode = childNode;
            // }

            table.clear();

            var childNode = this.tableNode
                .querySelector("[snb-datalist-parent=" + containerNodeValue +
                    "]");

            if (childNode) {
                table.tableNode.removeChild(childNode);
            }
            childNode = table.sampleNode;
            var currentlength = 0;
            if (options && options.hasOwnProperty('lazyload') && options.lazyload == true) {
                var lazyloadSplitDataLength = (options.hasOwnProperty('lazyloadSplitDataLength')) ? options.lazyloadSplitDataLength : 20;
                var lazySplitDataInterval = (options.hasOwnProperty('lazySplitDataInterval')) ? options.lazySplitDataInterval : 20;

                table.insertListInterval = setInterval(function() {
                    var listData;
                    if (list.length < lazyloadSplitDataLength) {
                        listData = list;
                        list = [];
                    } else {
                        listData = list.splice(0, lazyloadSplitDataLength);
                    }
                    currentlength += listData.length;
                    table.renderTableListData(listData, childNode, options);

                    if (list.length == 0) {
                        clearInterval(table.insertListInterval);
                    }

                }, lazySplitDataInterval);

            } else {

                table.renderTableListData(list, childNode);
            }

            if (list.length == 0) {
                table.tableNode.innerHTML = '<i>Chưa có dữ liệu</i>';
            }

            // this.updatePageTotal();

            if (typeof callback === 'function') {
                callback();
            }

        };

        this.renderTableListData = function(list, childNode, options) {
            for (var i = 0; i < list.length; i++) {
                var clonedNode = childNode.cloneNode(true);
                var json = list[i];
                clonedNode.setAttribute("rowid", i);
                shinobi.mapping.renderElement(clonedNode, json);
                if (options && options.hasOwnProperty('insertType')) {
                    if (options['insertType'] == 'start') {
                        this.tableNode.insertBefore(clonedNode, this.tableNode.firstElementChild);
                    } else {
                        this.tableNode.appendChild(clonedNode);
                    }
                } else {
                    this.tableNode.appendChild(clonedNode);
                }
            }
        };

        this.initLoadApi = function(url, request, callback) {
            if (this.tableNode.tagName == 'TBODY') {
                this.loadingContainer = this.tableContainerNode;
            } else {
                this.loadingContainer = this.tableNode;
            }
            this.loadingContainer.classList.add('snb-datalist-item-container');
            var table = this;
            request.pageNum = 1;

            this.filters = this.filters.concat(this.staticfilters);
            this.sorts = this.sorts.concat(this.staticsorts);

            request.filters = this.filters;
            request.sorts = this.sorts;

            if (this.paramsList != '') {

                request.paramsList = this.paramsList;
            }

            table.loading();

            shinobi.api.request(url, JSON.stringify(request), function(data) {
                var content = JSON.parse(data);

                var tableContent = content.data;

                table.url = url;
                table.rowTotal = content.rowTotal;
                table.pageNum = content.pageNum;
                table.recordPerPage = content.recordPerPage;
                table.pageTotal = content.pageTotal;
                table.tableRows = tableContent;

                table.loaded();

                table.renderTable(tableContent, callback);

                table.updatePagination(data);
            });
        };

        this.reloadApi = function(pageNum, callback) {

            var table = this;

            this.getTableFilters();
            this.getSorts();
            this.recordPerPage = this.recordPerPageNode.value;

            var request = {};
            request.recordPerPage = this.recordPerPage;
            request.pageNum = (pageNum) ? pageNum : this.pageNum;
            request.filters = this.filters;
            request.sorts = this.sorts;

            if (this.paramsList != '') {

                request.paramsList = this.paramsList;
            }
            // add loading animation when call api
            // table.clear();
            table.loading();
            shinobi.api.request(this.url, JSON.stringify(request), function(
                data) {
                var content = JSON.parse(data);
                var tableContent = content.data;
                table.rowTotal = content.rowTotal;
                table.pageNum = content.pageNum;
                table.recordPerPage = content.recordPerPage;
                table.pageTotal = content.pageTotal;
                table.tableRows = tableContent;

                if (table.pageNum <= table.pageTotal ||
                    (table.pageTotal == 0 && table.pageNum == 1)) {
                    table.loaded();
                    table.renderTable(tableContent, callback);

                    table.updatePagination(data);

                } else {
                    table.reloadApi(table.pageTotal);
                }

            });
        };

        this.loading = function() {
            if (this.sampleNode != '') {
                this.sampleNode.classList.add('is-hidden');
            }

            this.changeState('loading');
        };
        this.loaded = function() {
            if (this.sampleNode != '') {
                this.sampleNode.classList.remove('is-hidden');
            }
            this.changeState('loaded');
        };

        this.changeState = function(action) {
            var buttonPrimary = document.querySelector('.button.is-primary');
            var primaryColor = (buttonPrimary) ? shinobi.util.getComputedProperty(buttonPrimary, 'background-color') : '#555';
            var style = document.createElement('style');
            style.setAttribute('class', 'table-node-loading-inline-style');
            style.innerHTML = `.is-borderless{
				border: none;
			}
			@-webkit-keyframes spin {
				0% {
					-webkit-transform: rotate(0deg);
				}
		
				100% {
					-webkit-transform: rotate(360deg);
				}
			}
		
			@keyframes spin {
				0% {
					transform: rotate(0deg);
				}
		
				100% {
					transform: rotate(360deg);
				}
			}
		
			.snb-datalist-item-container.is-loading {
				position: relative;
				min-height: 5rem;
			}
		
			.snb-datalist-item-container.is-loading::before {
				position: absolute;
				content: '';
				width: 100%;
				height: 100%;
				background: #ddd;
				z-index: 1;
				opacity: 0.3;
			}
		
			.snb-datalist-item-container.is-loading::after {
				position: absolute;
				content: '';
				border: 7px solid white;
				border-radius: 50%;
				border-top: 7px solid ${primaryColor};
				width: 4rem;
				height: 4rem;
				-webkit-animation: spin 2s linear infinite;
				animation: spin 1s linear infinite;
				left: calc(48% - 8px);
				top: calc(48% - 8px);
				z-index: 2;
			}
			`;

            var table = this;
            // var listClass = ['button', 'is-loading', 'is-primary',
            // 	'is-borderless', 'is-outlined'];
            table.tableNode.appendChild(style);
            if (action == 'loading') {
                table.loadingContainer.classList
                    .add('is-loading');
            } else {
                table.loadingContainer.classList
                    .remove('is-loading');
            }
            // listClass.forEach(function (classItem) {

            // 	(action == 'loading') ? table.tableNode.classList
            // 		.add(classItem) : table.tableNode.classList
            // 			.remove(classItem);
            // });

        };

        // public instance method
        this.clear = function() {

            clearInterval(this.insertListInterval);

            var node = this.tableNode;
            while (node.firstChild) {
                node.removeChild(node.firstChild);
            }

            node.appendChild(this.sampleNode);

        };

        this.updatePageTotal = function() {

            var parentNode = this.tableNode.parentNode;
            var pageTotalNode = parentNode.querySelector(pageTotalClass);

            pageTotalNode.innerHTML = this.pageTotal;

            if (this.pageNum > this.pageTotal) {
                this.pageNum = this.pageTotal;

                var pageNumNode = parentNode
                    .querySelector(curPagePaginationClass);
                pageNumNode.value = this.pageNum;
            }
        }

        // public instance method
        this.getRowObject = function(rowid) {
            return this.tableRows[rowid];
        };

        this.getTableFilters = function() {
            var table = document.getElementById(tableid);
            var headerFilters = table
                .querySelectorAll("[snb-header-control] > input");

            this.filters = [];

            this.filters = this.filters.concat(this.staticfilters);

            this.pageNum = 1;

            for (var i = 0; i < headerFilters.length; i++) {
                var inputElem = headerFilters[i];
                var currentvalue = inputElem.value;
                var parentNode = inputElem.parentNode;

                var select = parentNode.querySelector("select");
                var operator = select.options[select.selectedIndex].value;

                var filter = {};
                filter.colname = parentNode.getAttribute(colnameAttribute);
                filter.operator = operator;
                filter.value = currentvalue;

                if (currentvalue !== "") {
                    this.filters.push(filter);
                }

            }

        };

        // public instance method
        this.viewDetailRender = function(cell, rowindex, colindex, tableRows) {
            var button = document.createElement("a");
            button.setAttribute("class", "button is-small");
            button.innerHTML = "<span class='icon'> <i class='fa fa-search'></i></span>";
            cell.appendChild(button);

            var rowid = cell.getAttribute("rowid");

            var rowNode = cell.parentNode;

            var viewDetailPanelId = rowNode.getAttribute(detailIdKey);

            var rowObject = tableRows[rowid];

            button.addEventListener("click", function() {

                shinobi.mapping.render("#" + viewDetailPanelId, JSON
                    .stringify(rowObject));

            });
        }; // end viewDetailRender

    }; // end constructor

    // public static method
    constructor.staticmethod = {
        'hello': function() {

        }
    }

    return constructor;
})();shinobi.dynamicchart = (function () {

	// systax map data #{{key-json}}

	var constructor = function (chartId, options) {

		this.options = options;
		this.configChartId = '';
		this.chartId = chartId;
		this.isLoadChartData = false;
		this.chartData = {};
		this.isLoadConfigData = false;
		this.structureContent = {};
		this.chartStructure = "";
		this.chartStructureContent = {};
		this.configData = {};
		this.callback = '';
		this.chartRenderObject = {
			credits: {
				enabled: false
			},
		};

		this.loadOptions = function () {

			if (this.options.configChartId) {
				this.configChartId = this.options.configChartId;
			}

			if (this.options.callback) {
				this.callback = this.options.callback;
			}

			this.loadDataChart();

		};

		this.loadDataChart = function () {

			var chart = this;

			if (this.options.getData) {
				this.isLoadChartData = false;
				var url = this.options.getData.url;
				var request = JSON.stringify(this.options.getData.request);
				var callback = this.options.getData.callback;
				shinobi.api.request(url, request, function (response) {

					callback(response, function (chartData) {

						chart.isLoadChartData = true;
						chart.chartData = chartData;
					});

				});

			}

			this.loadConfigChart();

		};

		this.loadConfigChart = function () {

			var chart = this;
			var options = this.options;

			if (options.getConfig) {

				var loadConfigChartInterval = setInterval(
					function () {

						if (chart.isLoadChartData == true) {

							clearInterval(loadConfigChartInterval);

							chart.isLoadConfigData = false;
							var url = options.getConfig.url;
							var request = JSON
								.stringify(options.getConfig.request);
							var callback = options.getConfig.callback;
							shinobi.cacheapi
								.request(
									url,
									request,
									function (response) {

										// callback(response,
										// function(configData) {
										//
										// chart.isLoadConfigData =
										// true;
										// chart.configData =
										// configData;
										// });

										callback(
											response,
											function (
												structureContent) {

												chart.isLoadConfigData = true;
												chart.structureContent = structureContent;
											});

									});
						}

					}, 100);

			}

			this.renderChart();

		};

		this.renderChart = function () {

			var chart = this;

			var renderChartInterval = setInterval(function () {

				if (chart.isLoadChartData == true
					&& chart.isLoadConfigData == true) {

					clearInterval(renderChartInterval);

					chart.buildRenderChartObject();

					chart.reRender();

					if (typeof chart.createChartCallback == 'function') {

						chart.createChartCallback();
					}

				}
			}, 100);

		};

		this.reRender = function () {

			var chart = this;

			Highcharts.chart(chart.chartId, chart.chartRenderObject);

		};

		this.buildRenderChartObject = function () {

			var chart = this;

			this.chartStructure = this.structureContent['charttemplatecontent'];
			this.chartStructureContent = JSON
				.parse(this.structureContent['chartdetailcontent']);

			this.configData = this.chartStructure;

			this.fillStructureContent();

			chart.fillConfigAttributeValue();

			chart.fillRenderObjectConfigAttribute();

		};

		this.convertStringFunctionToFuntion = function (data) {

			var chart = this;

			var entries = Object.entries(data);

			for (var i = 0; i < entries.length; i++) {

				var key = entries[i][0];
				var value = entries[i][1];

				if (typeof value == 'object') {
					data[key] = chart.convertStringFunctionToFuntion(value);
				} else {

					if (typeof value == 'string'
						&& value.indexOf("function()") > -1)
						data[key] = eval("(" + value + ")");
				}

			}

			return data;

		};

		this.fillStructureContent = function () {

			var chart = this;

			// this.fillAttributeValue(chart.configData);

			var matchRegex = /\@{{.*?\}}/g;
			var replaceRegex = /[@{{}}]/g;

			var listMatch = chart.configData.match(matchRegex);
			if (listMatch) {

				for (var j = 0; j < listMatch.length; j++) {

					var mappingValueKey = listMatch[j]
						.replace(replaceRegex, "");

					var mappingValue = chart.chartStructureContent[mappingValueKey];

					mappingValue = chart.getMappingValue(mappingValue);

					chart.configData = chart.configData.replace(new RegExp(
						listMatch[j], 'g'), mappingValue);

				}
			}

		};

		this.fillConfigAttributeValue = function () {

			var chart = this;

			// this.fillAttributeValue(chart.configData);

			var matchRegex = /\#{{.*?\}}/g;
			var replaceRegex = /[#{{}}]/g;

			var listMatch = chart.configData.match(matchRegex);
			if (listMatch) {

				for (var j = 0; j < listMatch.length; j++) {

					var mappingValueKey = listMatch[j]
						.replace(replaceRegex, "");

					var mappingValue = chart.chartData[mappingValueKey];

					mappingValue = chart.getMappingValue(mappingValue);

					chart.configData = chart.configData.replace(new RegExp(
						listMatch[j], 'g'), mappingValue);

				}
			}

		};

		this.getMappingValue = function (input) {

			var mappingValueType = typeof input;
			var result;

			switch (mappingValueType) {

				case 'string':
					result = '\"' + input + '\"';
					break;
				case 'object':
					result = JSON.stringify(input);
					break;
				default:
					break;
			}

			return result;
		};

		this.fillAttributeValue = function (object) {

			var chart = this;

			if (typeof object == 'object') {

				var entries = Object.entries(object);

				for (var i = 0; i < entries.length; i++) {

					var key = entries[i][0];
					var value = entries[i][1];
					var typeValue = typeof value;

					switch (typeValue) {

						case 'object':
							chart.fillAttributeValue(object[key]);
							break;

						case 'string':

							var matchRegex = /\#{{.*?\}}/g;
							var replaceRegex = /[#{{}}]/g;

							var listMatch = value.match(matchRegex);

							if (listMatch && listMatch.length == 1
								&& value == listMatch[0]) {

								var mappingValueKey = listMatch[0].replace(
									replaceRegex, "");

								object[key] = chart.chartData[mappingValueKey];
							} else if (listMatch) {

								for (var j = 0; j < listMatch.length; j++) {

									mappingValueKey = listMatch[j].replace(
										replaceRegex, "");

									var mappingValue = chart.chartData[mappingValueKey];

									value = value.replace(new RegExp(listMatch[j],
										'g'), mappingValue);

									object[key] = value;
								}
							}

							break;

						default:
							break;
					}
				}

			}

		};

		this.fillRenderObjectConfigAttribute = function () {

			var data = JSON.parse(this.configData);

			var fullChartConfig = this.convertStringFunctionToFuntion(data)

			var entries = Object.entries(fullChartConfig);

			for (var i = 0; i < entries.length; i++) {

				this.chartRenderObject[entries[i][0]] = entries[i][1];

			}

			// this
			// .convertStringFunctionToFuntion(
			// data,
			// function(fullChartConfig) {
			//
			// var entries = Object.entries(fullChartConfig);
			//
			// // var entries =
			// // Object.entries(this.configData);
			//
			// for (var i = 0; i < entries.length; i++) {
			//
			// this.chartRenderObject[entries[i][0]] = entries[i][1];
			//
			// }
			// });

		};

		this.createChart = function (callback) {
			this.loadOptions();

			this.createChartCallback = callback;

		};

	};

	return constructor;
})();var publicAccountLink = '/page/account/';
var ratingDetailLink = '/page/ratingdetail/';
var blogPostPageUrl = '/page/blogpost/';
var adminPostCheckPageUrl = '/system/adminpostcheckdetail/';
var beginDateDatalist = '2019-01-01';
var endDateDatalist = '2100-01-01';
var blogIconImageLink = '/static/image/blogicon.svg';
var copyTradeIconImageLink = '/static/image/copytradeicon.svg';
var aladinLogo = '/static/image/aladin.svg';
var groupAvatar = 'https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/groupchatavatar.png';
var format = function (value) {
	return Number(value).format(0, 3, ',', '.');
};
var formatInputTagDatalist = function (elem, value) {
	elem.value = format(value);
};
var formatNumberTable = function (cell, row, col, allData) {
	var value = cell.innerHTML;
	cell.innerHTML = '';
	formatInputTagDatalist(cell, value);
};
var cancelModal = function (id) {
	var modal = document.getElementById(id);
	modal.classList.remove('is-active');
};
var renderPriceOrderTable = function (cell, row, col) {
};
var renderRoomAvatarDataList = function (elem, value) {
	if (value.trim() == '') {
		elem.setAttribute('src', groupAvatar);
	} else {
		elem.setAttribute('src', value);
	}
};
var getCheckBoxList = function (elem) {
	var key = elem.getAttribute('snb-key');
	var attr = elem.getAttribute('snb-value-attr');
	var listCheckBox = document.querySelectorAll('[snb-key=' + key + ']');
	var result = [];
	for (var i = 0; i < listCheckBox.length; i++) {
		if (listCheckBox[i].checked
			&& listCheckBox[i].getAttribute('type') == 'checkbox') {
			result.push(listCheckBox[i].getAttribute(attr));
		}
	}
	return result.toString();
};
var getNation = function (elem) {
	var select = elem.getElementsByTagName('select')[0];
	return select.value;
};
var renderProvinceList = function (id, callback) {
	var container = document.getElementById(id);
	shinobi.aladinUtil.removeAllChild(container);
	var request = {};
	shinobi.api.request("/api/VietNamLocationNameApi/getAllVietNamProvince",
		JSON.stringify(request), function (response) {
			var jsonArr = JSON.parse(response);
			for (var i = 0; i < jsonArr.length; i++) {
				var option = document.createElement("option");
				option.setAttribute('value', jsonArr[i].provinceid);
				option.innerHTML = jsonArr[i].provincename;
				container.appendChild(option);
			}
			container.value = '79';
			if (typeof callback == 'function') {
				callback();
			}
		});
	return container;
};
var getCheckRadio = function (elem) {
	var attr = elem.getAttribute('snb-value-attr');
	if (elem.checked) {
		return elem.getAttribute(attr);
	}
};
var removeAllChild = function (elem, callback) {
	while (elem.firstChild) {
		elem.removeChild(elem.firstChild);
	}
	if (callback) {
		callback();
	}
};
var getAllUserInfo = function (request, callback) {
	var key = request.username.toString();
	if (!shinobi.global) {
		shinobi.global = {};
	}
	if (!shinobi.global.getAllUserInfo) {
		shinobi.global.getAllUserInfo = {};
	}
	if (!shinobi.global.getAllUserInfo[key]) {
		if (shinobi.global.getAllUserInfo[key] == false) {
			setTimeout(function () {
				getAllUserInfo(request, callback);
			}, 10);
		} else {
			shinobi.global.getAllUserInfo[key] = false;
			shinobi.api.request('/api/UserApi/getAllUserInfo', JSON
				.stringify(request), function (response) {
					shinobi.global.getAllUserInfo[key] = response;
					callback(response);
				})
		}
	} else {
		callback(shinobi.global.getAllUserInfo[key]);
	}
};
var displayResultSelect = function (selectId) {
	var x = document.getElementById(selectId);
	var txt = [];
	var i;
	for (i = 0; i < x.length; i++) {
		txt.push(x.options[i].value);
	}
	return txt;
}
var customRecordPerPagePagination = function (container, recordNum) {
	var selectRecordNum = container
		.getElementsByClassName('shinobi-recordperpage')[0];
	var listOptionSelect = selectRecordNum.getElementsByTagName('option');
	for (var i = 0; i < listOptionSelect.length; i++) {
		var j = parseInt(i) + 1;
		var currentPageNum = j * recordNum;
		listOptionSelect[i].innerHTML = currentPageNum;
		listOptionSelect[i].value = currentPageNum;
	}
};
var renderStockCompanyDeleteStaffButton = function (elem, value) {
	var id = value;
	var userName = elem.querySelectorAll('[snb-key=username]')[0].innerHTML;
	var loggedUserName = window.localStorage.getItem('loggedUserName');
	if (userName == loggedUserName) {
		elem.innerHTML = '';
	} else {
		elem.onclick = function () {
			er
				.confirm(function () {
					var request = {};
					request.id = id;
					shinobi.api
						.request(
							'/authenapi/StockComStaffManagementApi/deleteStaffFromGroup',
							JSON.stringify(request),
							function (response) {
								if (response == 'update success') {
									shinobi.notification.notification
										.info('Cập nhật thành công');
									elem.parentNode.remove();
								}
							});
				});
		}
	}
};
var gotoPublicPage = function (elem, data) {
	if (data.homepageurl) {
		var accountLink = publicAccountLink + data.homepageurl;
		elem.classList.add('has-redirect');
		elem.onclick = function () {
			window.location.href = accountLink;
		}
	}
};
var renderHasFee = function (cell, rowIndex, colIndex, allData) {
	var rowData = allData[rowIndex];
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var cellContent = '';
	// check data has post amount attribute
	if (value == 'false') {
		cellContent = shinobi.language.free;
	} else {
		if (rowData.hasOwnProperty('feeamount') == true) {
			cellContent = shinobi.aladinUtil
				.formatNumberValue(rowData.feeamount)
				+ ' đ';
		} else {
			cellContent = 'Có phí';
		}
	}
	cell.innerHTML = cellContent;
};
var renderPostType = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var cellContent = '';
	cellContent = shinobi.aladinUtil.convertPostTypeToVn(value);
	cell.innerHTML = cellContent;
};
var renderFullName = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var cellContent = '';
	cellContent = value;
	cell.innerHTML = cellContent;
};
var renderFirstNameLastName = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	removeAllChild(cell, function () {
		buildFirstNameLastNameDatalist(cell, value);
	});
};
var renderStockCompanyTreeTable = function (elem, value) {
	var level = value;
	var classLevel = 'level-' + level;
	elem.classList.add(classLevel);
	if (level == 1) {
		elem.parentNode.parentNode.parentNode.classList.remove('is-hidden');
	}
	var openButton = elem.parentNode.getElementsByClassName('open-button')[0];
	var closeButton = elem.parentNode.getElementsByClassName('close-button')[0];
	if (level == 2) {
		openButton.classList.add('is-hidden');
		closeButton.classList.add('is-hidden');
	}
	var tBody = document.getElementById('dataTable');
	openButton.onclick = function () {
		var childrenId = this.getAttribute('childrenid');
		this.classList.add('is-hidden');
		closeButton.classList.remove('is-hidden');
		var listChildren = tBody.querySelectorAll('[snb-key=parentid]');
		for (var i = 0; i < listChildren.length; i++) {
			if (listChildren[i].innerHTML == childrenId) {
				listChildren[i].parentNode.classList.remove('is-hidden');
			}
		}
	}
	closeButton.onclick = function () {
		var childrenId = this.getAttribute('childrenid');
		this.classList.add('is-hidden');
		openButton.classList.remove('is-hidden');
		var listChildren = tBody.querySelectorAll('[snb-key=parentid]');
		for (var i = 0; i < listChildren.length; i++) {
			if (listChildren[i].innerHTML == childrenId) {
				listChildren[i].parentNode.classList.add('is-hidden');
				var childrenCloseButton = listChildren[i].parentNode
					.getElementsByClassName('close-button')[0];
				childrenCloseButton.click();
				var childrenOpenButton = listChildren[i].parentNode
					.getElementsByClassName('open-button')[0];
				childrenOpenButton.classList.add('is-hidden');
			}
		}
	}
};
var renderStockCompanyTraderRegistrationInfo = function (elem, value) {
	var data = JSON.parse(value);
	var key = elem.getAttribute('snb-key-subkey');
	if (data[key]) {
		elem.innerHTML = data[key];
	}
};
var renderPostTitle = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var rowData = allData[rowIndex];
	var a = document.createElement('a');
	a.setAttribute('class', 'has-link');
	a.innerHTML = value;
	cell.appendChild(a);
	if (rowData.hasOwnProperty('posturl')) {
		a.setAttribute('href', rowData.posturl);
	}
};
var renderCheckRadio = function (elem, value) {
	var attr = elem.getAttribute('snb-value-attr');
	var checkedElem = document.querySelectorAll('[' + attr + '=' + value + ']')[0];
	checkedElem.checked = true;
};
var seenDetailOpenAccountForm = function (elem, value) {
	elem.onclick = function () {
		shinobi.stockcomrealaccountregistrationrender
			.getDetailData(
				value,
				function (data) {
					var openAccountDetailModal = document
						.getElementById('openAccountDetailModal');
					openAccountDetailModal.classList.add('is-active');
					shinobi.mapping.render('#openAccountDetailModal',
						JSON.stringify(data));
					document
						.getElementById('acceptPoliciesOpenTradingAccount').checked = true;
				});
	}
};
var renderCheckBoxList = function (elem, value) {
	var attr = elem.getAttribute('snb-value-attr');
	var listChecked = value.split(',');
	for (var i = 0; i < listChecked.length; i++) {
		var checkedElem = document.querySelectorAll('[' + attr + '='
			+ listChecked[i] + ']')[0];
		checkedElem.checked = true;
	}
};
var renderNation = function (elem, value) {
	var select = elem.getElementsByTagName('select')[0];
	select.value = value;
};
var removeOpenAccountFormButton = function (elem, value) {
	elem.onclick = function () {
		shinobi.stockcomrealaccountregistrationrender
			.showConfirmRemoveModal(function (statuscomment) {
				shinobi.stockcomrealaccountregistrationrender
					.sendRequestUpdate(elem, value, 'FAIL',
						statuscomment);
			});
	}
};
var acceptOpenAccountFormButton = function (elem, value) {
	elem.onclick = function () {
		er.confirm(function () {
			shinobi.stockcomrealaccountregistrationrender.sendRequestUpdate(
				elem, value, 'FINISHED', '');
		});
	}
};
var renderDate = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var contentCell = shinobi.aladinUtil.getFormatDate(value, 'dd-mm-yyyy');
	cell.setAttribute('class', 'date-time');
	cell.innerHTML = contentCell;
};
var renderFormatDate = function (elem, value) {
	var format = elem.getAttribute('snb-format');
	var contentCell = shinobi.aladinUtil.getFormatDate(value, format);
	elem.classList.add('date-time');
	elem.innerHTML = contentCell;
};
var renderDateTime = function (cell, rowIndex, colIndex, allData) {
	var value = cell.innerHTML;
	shinobi.aladinUtil.removeAllChild(cell);
	var contentCell = shinobi.aladinUtil.getFormatDate(value,
		'dd-mm-yyyy hh:mm');
	cell.setAttribute('class', 'date-time');
	cell.innerHTML = contentCell;
};
var getExpiredDate = function (elem, value) {
	var returnContent = shinobi.aladinUtil.remainDateWithCurrentDate(value);
	return returnContent;
};
var renderJoinDateDatalist = function (elem, value) {
	elem.innerHTML = getExpiredDate(elem, value);
};
var renderExpireddateDatalist = function (elem, value) {
	if (value) {
		elem.innerHTML = '<p>Còn ' + getExpiredDate(elem, value)
			+ ' ngày nữa</p>';
	} else {
		elem.innerHTML = 'Dịch vụ miễn phí ';
	}
};
var convertRatingPointToStar = function (elem, value) {
	elem.innerHTML = value / 2;
};
var buildRating = function (elem, value) {
	elem.classList.add('is-flex');
	value = value / 2;
	var starIconHtmlString = '<span class="icon is-small has-text-warning"><i class="fas fa-star"></i></span>';
	var noneStarIconHtmlString = '<span class="icon is-small has-text-light"><i class="fas fa-star"></i></span>';
	var numberRating = value;
	if (value > 5) {
		numberRating = 5;
	}
	if (value < 0 || value == 0) {
		numberRating = 0;
	}
	var contentRating = '';
	for (var i = 0; i < numberRating; i++) {
		contentRating += starIconHtmlString;
	}
	for (var j = 0; j < (5 - numberRating); j++) {
		contentRating += noneStarIconHtmlString;
	}
	elem.innerHTML = contentRating;
};
var convertFequency = function (value) {
	var elemContent;
	switch (value) {
		case 'MONTHLY':
			elemContent = '1 Tháng';
			break;
		case 'QUATERLY':
			elemContent = '3 Tháng';
			break;
		case 'HALF_YEAR':
			elemContent = '6 Tháng';
			break;
		case 'ANNUALLY':
			elemContent = '12 Tháng';
			break;
		default:
			break;
	}
	return elemContent;
};
var renderFequencyDatalist = function (elem, value) {
	var elemContent = convertFequency(value);
	elem.innerHTML = elemContent;
};
var renderInfoButton = function (elem, value) {
	var a = document.createElement('a');
	a.setAttribute('class', 'button is-info is-small ');
	a.innerHTML = value;
	elem.appendChild(a);
};
var addUserOriginLogo = function (elem, data) {
	if (data.userorigin
		&& !elem.parentNode.parentNode.querySelector('.table-logo')
		&& data.userorigin != 'ALADIN_MEMBER'
		&& data.isshoworiginavatar == true) {
		var url = aladinLogo;
		var p = document.createElement('p');
		p.setAttribute('class', 'stock-company-image ');
		elem.parentNode.appendChild(p);
		elem.parentNode.classList.add('stock-company-chat-avatar-container');
		var img = document.createElement('img');
		p.appendChild(img);
		img.setAttribute('class', 'table-logo');
		switch (data.userorigin) {
			case 'DAS_STOCK_COMPANY':
				url = '/static/image/daslogo.png';
				break;
			default:
				break;
		}
		img.setAttribute('src', url);
	}
};
var buildAvatarDatalist = function (elem, value) {
	var p = document.createElement('p');
	if (elem.parentElement) {
		elem.parentElement.insertBefore(p, elem);
		p.appendChild(elem);
	}
	if (value == 'system') {
		elem.setAttribute('src', '/static/image/aladin.svg');
	} else {
		var userName = value;
		var request = {};
		request.username = userName;
		var data;
		// shinobi.api
		// .request(
		// '/api/UserApi/getAllUserInfo',
		// JSON.stringify(request),
		// function(response) {
		getAllUserInfo(
			request,
			function (response) {
				data = JSON.parse(response);
				if (data.avatarlink) {
					value = data.avatarlink;
				} else {
					value = 'https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/useravatar.jpg';
				}
				elem.parentNode.classList.add('has-text-centered');
				elem.setAttribute('src', value);
				elem.setAttribute('title', data.firstname + ' '
					+ data.lastname);
				addUserOriginLogo(elem, data);
				gotoPublicPage(elem, data);
			});
	}
};
var getHeaderRenderKey = function (cell, row, col) {
	var table = cell.parentElement.parentElement.parentElement;
	var header = table.getElementsByTagName('thead')[0];
	if (header) {
		var headerCell = header.rows[0].cells[col];
		if (headerCell.hasAttribute('snb-colname')) {
			return headerCell.getAttribute('snb-colname');
		} else {
			return null;
		}
	} else {
		return null;
	}
};
var buildNickIdTable = function (cell, row, col, all) {
	var key = getHeaderRenderKey(cell, row, col);
	cell.innerHTML = '<div snb-key="' + key
		+ '" snb-render="buildNickIdDatalist"></div>';
	shinobi.mapping.renderElement(cell, all[row]);
};
var buildConnectButton = function (cell, rowIndex, colIndex, allData) {
	var currentData = allData[rowIndex];
	var a = document.createElement('a');
	a.setAttribute('class', 'button is-link is-small');
	a.innerHTML = 'Tiếp cận';
	shinobi.aladinUtil.removeAllChild(cell);
	cell.appendChild(a);
	shinobi.investorlistingrender.addEventFollowButton(a, currentData.username)
};
var renderCellTable = function (cell, rowIndex, colIndex, allData) {
	shinobi.fragmenttraderfollowerrender
		.renderCellFollowerTable(cell, colIndex);
};
var renderLimitButton = function (cell, rowIndex, colIndex) {
	var customerUsername = cell.innerHTML;
	cell.innerHTML = "";
	shinobi.fragmenttraderfollowerrender.renderLimitButtonFunction(cell,
		rowIndex, colIndex, customerUsername);
};
var formatNumber = function (cell, rowIndex, colIndex) {
	shinobi.aladinUtil.formatNumberRender(cell, rowIndex, colIndex);
};
var buildNickIdDatalist = function (elem, value) {
	if (value != 'system') {
		var userName = value;
		var request = {};
		request.username = userName;
		var data;
		// shinobi.api.request('/api/UserApi/getAllUserInfo',
		// JSON.stringify(request), function(
		// response) {
		getAllUserInfo(
			request,
			function (response) {
				data = JSON.parse(response);
				var chatSpan = document.createElement('span');
				chatSpan
					.setAttribute('class',
						'icon has-text-orange create-public-chat-icon tooltip is-hidden');
				chatSpan.setAttribute('data-tooltip', 'Trò chuyện');
				chatSpan.innerHTML = '<i class="far fa-comment-dots fa-lg"></i>';
				er.buildPublicChat(chatSpan, data.id);
				elem.appendChild(chatSpan);
				var span = document.createElement('span');
				span.classList.add('id-nick-container');
				span.innerHTML = '#' + data.id;
				elem.appendChild(span);
				// gotoPublicPage(elem, data);
			});
	}
};
var buildAvatarDatalistNoHref = function (elem, value) {
	var p = document.createElement('p');
	p.classList.add('margin-right-1rem');
	if (elem.parentElement) {
		elem.parentElement.insertBefore(p, elem);
		p.appendChild(elem);
	}
	if (value == 'system') {
		elem.setAttribute('src', '/static/image/aladin.svg');
	} else {
		var userName = value;
		var request = {};
		request.username = userName;
		var data;
		// shinobi.api
		// .request(
		// '/api/UserApi/getAllUserInfo',
		// JSON.stringify(request),
		// function(response) {
		getAllUserInfo(
			request,
			function (response) {
				data = JSON.parse(response);
				data = JSON.parse(response);
				if (data.avatarlink) {
					value = data.avatarlink;
				} else {
					value = 'https://image.aladin.finance/aladin.finance.public.file/517da259fc9feb05f65994fb850f09e4/useravatar.jpg';
				}
				elem.setAttribute('src', value);
				elem.setAttribute('title', data.firstname + ' '
					+ data.lastname);
				addUserOriginLogo(elem, data);
			});
	}
};
var buildHomePageUrlDatalist = function (elem, value) {
	var userName = value;
	var request = {};
	request.username = userName;
	var data;
	// shinobi.api.request('/api/UserApi/getAllUserInfo',
	// JSON.stringify(request), function(response) {
	getAllUserInfo(request, function (response) {
		data = JSON.parse(response);
		if (data.homepageurl) {
			var accountLink = publicAccountLink + data.homepageurl;
			elem.innerHTML = window.location.host + accountLink;
			elem.onclick = function () {
				window.location.href = accountLink;
			}
		}
	});
};
var buildFirstNameLastNameDatalist = function (elem, value) {
	if (value != 'system') {
		var userName = value;
		var request = {};
		request.username = userName;
		var data;
		// shinobi.api.request('/api/UserApi/getAllUserInfo',
		// JSON.stringify(request), function(
		// response) {
		getAllUserInfo(request, function (response) {
			data = JSON.parse(response);
			data = JSON.parse(response);
			var fullName = data.firstname + ' ' + data.lastname;
			elem.innerHTML = fullName;
			gotoPublicPage(elem, data);
		});
	}
};
var renderStockCompanyUpgradeRequestCommandButton = function (elem, value) {
	elem.onclick = function () {
		er.confirm(function () {
			var functionApi = elem.getAttribute('snb-function');
			var requestid = value;
			var api = "/authenapi/RequestUpgradeTraderOfStockCompanyApi/"
				+ functionApi;
			var request = {};
			request.requestid = requestid;
			shinobi.api.request(api, JSON.stringify(request),
				function (response) {
					if (response == 'update success') {
						shinobi.notification.notification
							.info('Cập nhật thành công');
						shinobi.stockcomtradersregistrationrender.datalist1
							.reloadApi(1);
					}
				});
		});
	}
};
var renderStockCompanyCustomerManagementButton = function (elem, value) {
	var link = '/private/stockcomtradersmanagementcustomer/' + value;
	elem.setAttribute('href', link);
};
var renderGoToPublicPageDatalist = function (elem, value) {
	var userName = value;
	var request = {};
	request.username = userName;
	var data;
	// shinobi.api.request('/api/UserApi/getAllUserInfo',
	// JSON.stringify(request), function(response) {
	getAllUserInfo(request, function (response) {
		data = JSON.parse(response);
		gotoPublicPage(elem, data);
	});
};
var buildFirstNameLastNameDatalistNoHref = function (elem, value) {
	var userName = value;
	var request = {};
	request.username = userName;
	var data;
	// shinobi.api.request('/api/UserApi/getAllUserInfo',
	// JSON.stringify(request), function(response) {
	getAllUserInfo(request, function (response) {
		data = JSON.parse(response);
		var fullName = data.firstname + ' ' + data.lastname;
		elem.innerHTML = fullName;
	});
};
var renderAvatar = function (cell, rowIndex, colIndex) {
	var value = cell.innerHTML;
	removeAllChild(cell, function () {
		var imge = document.createElement('img');
		imge.setAttribute('class', 'table-avatar');
		cell.appendChild(imge);
		buildAvatarDatalist(imge, value);
	});
};
var renderInvestingStrategy = function (elem, value) {
	if (value.trim() == '') {
		elem.innerHTML = 'Hiện chưa có!';
	} else {
		if (value.length > 400) {
			elem.innerHTML = value.slice(0, 400) + '...';
			var a = document.createElement('a');
			a.setAttribute('class', 'local-color');
			a.innerHTML = '[Xem thêm]';
			elem.appendChild(a);
		} else {
			elem.innerHTML = value;
		}
	}
};
var renderInvestingPeriodDataList = function (elem, value) {
	switch (value.trim()) {
		case 'MONTH_1':
			elem.innerHTML = '1 Tháng';
			break;
		case 'MONTH_1_3':
			elem.innerHTML = '1-3 Tháng';
			break;
		case 'MONTH_3_6':
			elem.innerHTML = '3-6 Tháng';
			break;
		case 'MONTH_6_12':
			elem.innerHTML = '6-12 Tháng';
			break;
		case 'YEAR_1_3':
			elem.innerHTML = '1-3 Năm';
			break;
		case 'YEAR_OVER_3':
			elem.innerHTML = 'Hơn 3 Năm';
			break;
		default:
			break;
	}
};
var renderInvestingPeriod = function (cell, rowIndex, colIndex) {
	var value = cell.innerHTML;
	removeAllChild(cell);
	renderInvestingPeriodDataList(cell, value);
};
var renderFormatNumber = function (cell, rowIndex, colIndex) {
	cell.innerHTML = Number(cell.innerHTML).format(0, 3, ',', '.');
};
var renderInvestingRisk = function (cell, rowIndex, colIndex) {
	var beginCell = '<div class="level width-50" ><input class="slider slider-width level-item" step="1" min="1" max="10" value="';
	var betweenCell = '" type="range" disabled="disabled"><span class="slider-value-padding level-item"> ';
	var endCell = '/10</span></div>';
	var valueCell = cell.innerHTML;
	cell.innerHTML = beginCell + valueCell + betweenCell + valueCell + endCell;
};
var renderHomePageUrl = function (elem, value) {
	var accountUrl = publicAccountLink + value;
	elem.setAttribute('href', accountUrl);
	elem.innerHTML = window.location.host + accountUrl;
};
var autoRedirectMobile = function () {
	var userAgent = navigator.userAgent || navigator.vendor || window.opera;
	// Windows Phone must come first because its UA also contains
	// "Android"
	if (/android/i.test(userAgent)) {
		window.location.href = "https://play.google.com/store/apps/details?id=com.aladinmobile.aladin";
	}
	// iOS detection from: http://stackoverflow.com/a/9039885/177710
	if (/iPhone|iPod/.test(userAgent) && !window.MSStream) {
		window.location.href = "https://apps.apple.com/app/id1474783146";
	}
};
var setHrefElem = function (elem, link) {
	elem.style.cursor = "pointer";
	var title = elem.innerHTML;
	if (title) {
		elem.setAttribute('title', title.replace(/\s+/g, " "));
	}
	elem.onclick = function () {
		window.location.href = link;
	}
};
var renderHref = function (elem, value, attr) {
	var link = value;
	setHrefElem(elem, link);
};
var renderHrefWithUserType = function (elem, value, attr) {
	var userType = window.localStorage.getItem('loggedUserType');
	var link;
	if (userType == 'stock_com_admin') {
		link = '/private/stockcom' + value;
	} else {
		link = '/private/' + userType + value;
	}
	if (elem.hasAttribute('rs-hidden-with')) {
		var userTypeHidden = elem.getAttribute('rs-hidden-with');
		if (userType == userTypeHidden) {
			elem.classList.add('is-hidden');
		}
	}
	if (elem.hasAttribute('rs-parent-show-with')) {
		var userTypeShow = elem.getAttribute('rs-parent-show-with');
		if (userType == userTypeShow) {
			elem.parentNode.classList.remove('is-hidden');
		}
	}
	setHrefElem(elem, link);
};
var renderDashboardLastOrderAvatar = function (elem, value, attr) {
	var userName;
	if (value == 1 || value == 2) {
		userName = window.localStorage.getItem('loggedUserName');
	} else {
		userName = value;
	}
	buildAvatarDatalist(elem, userName);
};
var renderDashboardLastOrderFullName = function (elem, value) {
	var userName;
	if (value == 1 || value == 2) {
		userName = window.localStorage.getItem('loggedUserName');
	} else {
		userName = value;
	}
	buildFirstNameLastNameDatalist(elem, userName);
};
var renderOrderSideDataList = function (elem, value) {
	var elemContent = '';
	if (value == 'S') {
		elemContent = 'Bán';
	} else {
		elemContent = 'Mua';
	}
	elem.innerHTML = elemContent;
};
var getNumberOfSessionBack = function (rankingtype) {
	var returnValue = 1;
	switch (rankingtype) {
		case 'ONE_DAY':
			returnValue = 1;
			break;
		case 'ONE_WEEK':
			returnValue = 5;
			break;
		case 'ONE_MONTH':
			returnValue = 20;
			break;
		case 'THREE_MONTH':
			returnValue = 60;
			break;
		case 'SIX_MONTH':
			returnValue = 120;
			break;
		case 'ALL_TIME':
			returnValue = 100000;
			break;
		default:
			break;
	}
	return returnValue;
};
var renderChartAnalysisSimpleDatalist = function (elem, value) {
	var userName = value;
	var chartParams = {};
	chartParams.account__0__String = userName;
	chartParams.numberofsessionback__1__int = Number(
		Number(getNumberOfSessionBack(shinobi.investortraderlistingcontentheaderrender.currentTab)) + 1)
		.toString();
	var request = {};
	request.chartParams = chartParams;
	shinobi.api
		.request('/api/AladinChartApi/getChartData/ACCOUNT_ASSET_CHART',
			JSON.stringify(request), function (response) {
				var jsonArr = JSON.parse(response);
				var data = jsonArr;
				var dataChart = shinobi.chartadapter
					.convertDataSimpleChart(data);
				var chart = new shinobi.overviewareachart(elem);
				chart.createOverviewAreaChart(elem, '8rem', '12rem',
					dataChart);
			});
};
var customStylePagination = function (paginationContainer) {
	var pagiContainerParent = paginationContainer.parentNode;
	var style = pagiContainerParent.getAttribute('pagi-style');
	var setRecordContainer = paginationContainer
		.getElementsByClassName('set-pagination-record-number-container')[0];
	switch (style) {
		// case 'mini':
		// setRecordContainer.classList.add('is-hidden');
		// break;
		default:
			break;
	}
};
var renderChexbox = function (cell, row, col, all) {
	var value = cell.innerHTML;
	cell.innerHTML = "";
	var elem = document.createElement('p');
	elem.setAttribute('class', 'has-text-centered');
	if (["PENDING", "PARTIAL_MATCHED"].includes(value)) {
		var checkbox = document.createElement('input');
		checkbox.setAttribute('type', 'checkbox');
		checkbox.setAttribute('snb-key-checkbox', all[row].systemorderid);
		elem.appendChild(checkbox);
		cell.appendChild(elem);
	}
};
var getUserInfo = function (callback) {
	var url = "/authenapi/SystemUserApi/getInfoLogin";
	var request = {};
	shinobi.cacheapi.request(url, JSON.stringify(request), function (res) {
		console.log(res);
		res = JSON.parse(res);
		if (callback) {
			callback(res);
		}
	});
};
var getUserInfoNotCache = function (callback) {
	var url = "/authenapi/SystemUserApi/getInfoLogin";
	var request = {};
	shinobi.capi.request(url, JSON.stringify(request), function (res) {
		console.log(res);
		res = JSON.parse(res);
		if (callback) {
			callback(res);
		}
	});
};
var getRecordNumber = function (paginationContainerId) {
	var containerId;
	var paginationContainer;
	if (paginationContainerId) {
		var container = document.getElementById(paginationContainerId);
		paginationContainer = container.nextElementSibling
			.getElementsByClassName('table-pagination')[0];
	} else {
		containerId = 'table-pagination';
		paginationContainer = document.getElementById(containerId);
	}
	var parentNodePaginationContainer = paginationContainer.parentNode;
	var recordNum;
	var recodeNumAttr = 'record-num';
	if (parentNodePaginationContainer.hasAttribute(recodeNumAttr)) {
		recordNum = parentNodePaginationContainer.getAttribute(recodeNumAttr);
	} else {
		var recordNumSelect = paginationContainer
			.getElementsByClassName('shinobi-recordperpage')[0];
		recordNum = recordNumSelect.value;
	}
	customRecordPerPagePagination(paginationContainer, recordNum);
	customStylePagination(paginationContainer);
	return recordNum;
};
var setHrefHomePageUrl = function (elem, homePageUrl) {
	var ratingDetailPageLink = ratingDetailLink + homePageUrl;
	renderHref(elem, ratingDetailPageLink);
};
var renderDetailRatingPage = function (elem, value) {
	elem.innerHTML = 'Chi tiết đánh giá';
	elem.classList.add('has-link');
	setHrefHomePageUrl(elem, value);
};
var renderDashboardRatingDetailLink = function (elem, value, attr) {
	var homePageUrl = window.localStorage.getItem('loggedUserHomePage');
	setHrefHomePageUrl(elem, homePageUrl);
};
var addColorElem = function (elem, value, attr) {
	var valueElem = elem.innerHTML;
	if (value > 0) {
		elem.innerHTML = `<span class="up-value">${valueElem}</span>`
	}
	if (value == 0) {
		elem.innerHTML = `<span class="unchange-value">${valueElem}</span>`
	}
	if (value < 0) {
		elem.innerHTML = `<span class="down-value">${valueElem}</span>`
	}
};
var renderPercent = function (elem, value, attr) {
	elem.innerHTML = value + '%';
	addColorElem(elem, value, attr);
};
var renderPercentNoColor = function (elem, value, attr) {
	elem.innerHTML = value + '%';
};
var renderProfitPercent = function (elem, value, attr) {
	renderPercent(elem, value, attr);
};
renderProfitpercent100NoColorTable = function (cell, row, col, all) {
	var value = cell.innerHTML;
	cell.innerHTML = '';
	cell.classList.add('has-text-right');
	renderProfitpercent100NoColor(cell, value, all[row])
};
var renderProfitpercent100Table = function (cell, row, col, all) {
	var value = cell.innerHTML;
	cell.innerHTML = '';
	cell.classList.add('has-text-right');
	renderProfitpercent100(cell, value, all[row])
};
var renderProfitpercent100 = function (elem, value, attr) {
	var profit = Math.round(Number(value) * 10000) / 100;
	renderPercent(elem, profit, attr);
};
var renderProfitpercent100NoColor = function (elem, value, attr) {
	var profit = Math.round(Number(value) * 10000) / 100;
	renderPercentNoColor(elem, profit, attr);
};
var renderformatNumberDatalist = function (elem, value, attr) {
	elem.classList.add('has-text-right');
	elem.innerHTML = format(value);
};
var renderProfit = function (elem, value, attr) {
	elem.innerHTML = format(value);
	addColorElem(elem, value, attr);
};
var renderProfitPercentTable = function (cell, rowIndex, colIndex) {
	cell.classList.add('has-text-right');
	var value = cell.innerHTML;
	removeAllChild(cell);
	renderProfitPercent(cell, value);
};
var renderOrderType = function (cell, row, col, all) {
	var value = cell.innerHTML;
	var listOrderType = {
		LO: 'Lệnh thường',
		CONDITION: 'Lệnh điều kiện',
		CANCEL: 'Hủy lệnh',
		EDIT: 'Sửa lệnh '
	}
	cell.classList.add('has-text-left');
	if (listOrderType[value]) {
		cell.innerHTML = listOrderType[value];
	} else {
		cell.innerHTML = value;
	}
};
var renderOrderTypeDatalist = function (elem, value, all) {
	var listOrderType = {
		LO: 'Lệnh thường',
		CONDITION: 'Lệnh điều kiện',
		CANCEL: 'Hủy lệnh',
		EDIT: 'Sửa lệnh '
	}
	elem.classList.add('has-text-left');
	if (listOrderType[value]) {
		elem.innerHTML = listOrderType[value];
	} else {
		elem.innerHTML = value;
	}
};
var renderNumberPriceTable = function (cell, row, col, all) {
	var value = cell.innerHTML;
	renderNumberPrice(cell, value, all[row]);
};
var renderNumberPrice = function (elem, value, all) {
	elem.parentNode.classList.add('has-text-right');
	elem.innerHTML = value;
};
var renderOrderBuy = function (cell, row, col, all) {
	cell.classList.add('has-text-centered')
	var value = cell.innerHTML;
	var listOrderType = {
		'BUY': 'Mua',
		'SELL': 'Bán',

	};

	if (listOrderType[value]) {
		cell.innerHTML = listOrderType[value];
	} else {

		cell.innerHTML = value;
	}
};
var getListStockSymbol = function (selector) {
	var selectorSearchStock = '#searchstocsympol';
	if (selector) {
		selectorSearchStock = selector;
	}
	console.log('selector', selector);
	var input = document.querySelector(selectorSearchStock);
	input.addEventListener('input', function () {
		input.value = input.value.toUpperCase();
	});

	new shinobi.autocomplete(selectorSearchStock, {
		onSearch: (input, resolve) => {
			if (input.length < 1) { return [] }
			var url = "/api/PriceBoardApi/findDataList";
			var request = {
				"recordPerPage": "20",
				"pageNum": 1,
				"filters": [{ 'colname': 'stocksymbol', 'operator': 'like', 'value': input }]
			}

			shinobi.cacheapi.request(url, JSON.stringify(request), function (res) {
				var array = JSON.parse(res).data;
				resolve(array);
			});
		},
		autoSelect: true,
		onSubmit: result => {
			document.querySelector(selectorSearchStock).value = result.stocksymbol.toUpperCase();
		},
		getResultValue: result => {
			return result.stocksymbol.toUpperCase();
		},

		renderResult: (result, props) => {
			return `
          <li ${props}>
              <div class="title has-text-primary is-size-5">
             ${result.stocksymbol}
              </div>
              <div class="subtitle">${result.securityname}</div>
          </li>`
		},
	});
};
var renderOrderTypeStatus = function (cell, row, col, all) {
	cell.classList.add('has-text-left');
	var value = cell.innerHTML;
	var listOrderType = {
		'NEW': 'Mới',
		'INPROCESS': 'Đang xử lý',
		'SUCCESS': 'Thành công',
		'PENDING': 'Chờ khớp',
		'MATCHED': 'Đã khớp',
		'EDITED': 'Đã sửa',
		'CANCELED': 'Đã hủy',
		'ERROR': 'Lỗi'

	};

	if (listOrderType[value]) {
		cell.innerHTML = listOrderType[value];
	} else {

		cell.innerHTML = value;
	}
};
var renderStockPriceDatalist = function (elem, value) {
	elem.innerHTML = value / 1000;
};
var renderStockPriceTable = function (cell, row, col, all) {
	renderStockPriceDatalist(cell, cell.innerHTML);
};
var renderProfitTable = function (cell, rowIndex, colIndex) {
	var value = cell.innerHTML;
	removeAllChild(cell);
	renderProfit(cell, value);
};
var getUserNameInUrl = function (callback) {
	var pathnameListItem = window.location.pathname.split('/');
	var nick = pathnameListItem[pathnameListItem.length - 1];
	var getUserNameRequest = {};
	getUserNameRequest.pageurl = nick;
	var returnValue;
	shinobi.api.request('/api/UserApi/getUsernameFromHomePage', JSON
		.stringify(getUserNameRequest), function (response) {
			var jsonArr = JSON.parse(response);
			if (jsonArr.username) {
				window.localStorage.setItem('currentUserDetail', jsonArr.username);
				callback(jsonArr.username);
			} else {
				shinobi.notification.notification
					.error('Không tìm thấy người dùng!');
				return false;
			}
			return returnValue;
		});
};
var getPathnameSplitIndex = function (index) {
	var pathName = window.location.pathname;
	var pathNameSplit = pathName.split('/');
	var content;
	if (index < 0) {
		content = pathNameSplit[pathNameSplit.length + index];
	}
	if (index == "length") {
		content = pathNameSplit.length;
	}
	if (index > 0) {
		content = pathNameSplit[index];
	}
	return content;
};
var renderPublicUserAssetInfo = function (querySelectorPatern, traderName) {
	var request = {};
	request.username = traderName;
	shinobi.api.request('/api/ViewUserPublicAssetApi/getUserPublicAssetInfo',
		JSON.stringify(request), function (response) {
			var jsonArr = JSON.parse(response);
			var data = JSON.stringify(jsonArr);
			shinobi.mapping.render(querySelectorPatern, data);
		});
};
var renderPublicUserInfo = function (querySelectorPatern, traderName) {
	var request = {};
	request.username = traderName;
	// shinobi.api.request('/api/UserApi/getAllUserInfo',
	// JSON.stringify(request), function(response) {
	getAllUserInfo(request, function (response) {
		var jsonArr = JSON.parse(response);
		var data = JSON.stringify(jsonArr);
		shinobi.mapping.render(querySelectorPatern, data);
	});
};
var getPublicUserInfo = function (traderName, callback) {
	var request = {};
	request.username = traderName;
	// shinobi.api.request('/api/UserApi/getAllUserInfo',
	// JSON.stringify(request), function(response) {
	getAllUserInfo(request, function (response) {
		var jsonArr = JSON.parse(response);
		if (typeof callback == 'function') {
			callback(jsonArr);
		}
	})
};
var changeFeeType = function (value) {
	var content;
	switch (value) {
		case 'isfollowcopytrade':
		case 'COPY_TRADE':
			content = 'Copy trade';
			break;
		case 'TRAINING':
			content = 'Đào tạo';
			break;
		case 'isfollowblog':
		case 'INVESTING_BLOG':
			content = 'Blog đầu tư';
			break;
		case 'EVENT':
			content = 'Sự kiện';
			break;
		case 'ORTHER':
			content = 'Phí khác';
			break;
		case 'TRADER_POST_FEE':
			content = 'Phí bài viết';
			break;
		case 'COPY_TRADE_FREQUENT_FEE':
			content = 'Phí CopyTrade';
			break;
		default:
			content = 'Phí dịch vụ không xác định';
			break;
	}
	return content;
};
var changeOrderStatus = function (value) {
	var content;
	switch (value) {
		case 'INPROCESS':
			content = 'Copy trade';
			break;
		case 'TRAINING':
			content = 'Đào tạo';
			break;
		case 'isfollowblog':
		case 'INVESTING_BLOG':
			content = 'Blog đầu tư';
			break;
		case 'EVENT':
			content = 'Sự kiện';
			break;
		case 'ORTHER':
			content = 'Phí khác';
			break;
		case 'TRADER_POST_FEE':
			content = 'Phí bài viết';
			break;
		case 'COPY_TRADE_FREQUENT_FEE':
			content = 'Phí CopyTrade';
			break;
		default:
			content = 'Phí dịch vụ không xác định';
			break;
	}
	return content;
};
var renderFeeTypeDatalist = function (elem, value, attr) {
	var content = changeFeeType(value);
	elem.innerHTML = content;
};
var renderFeeTypeTable = function (cell, row, col, allData) {
	var value = cell.innerHTML;
	cell.innerHTML = '';
	renderFeeTypeDatalist(cell, value);
};
var buildTransStatus = function (cell, rowindex, colindex, allData) {
	cell.innerHTML = shinobi.aladinUtil.changeTransStatus(cell.innerHTML);
	var rowData = allData[rowindex];
	if (rowData.orthercomment.trim() != '') {
		var span = document.createElement('span');
		span.setAttribute('class',
			'tooltip is-tooltip-multiline icon has-text-warning');
		span.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
		span.setAttribute('data-tooltip', rowData.orthercomment.trim());
		cell.appendChild(span);
	}
};
var renderSettlementCode = function (elem, value) {
	elem.innerHTML = value;
	var orderId = elem.parentNode.querySelectorAll('[snb-key=orderid]')[0].innerHTML;
	var aTag = elem.parentNode;
	var userType = window.localStorage.getItem("loggedUserType");
	var pageurl = "accountrequestserviceformmanage";
	aTag.setAttribute("href", "/private/" + userType + pageurl + "/" + orderId);
};
var gotoOrderDetail = function (elem, value) {
};
var renderAmountDatalist = function (elem, value, attr) {
	if (value == 0) {
		elem.innerHTML = shinobi.language.free;
	} else {
		elem.innerHTML = format(value);
	}
};
var removeAllClassListInList = function (listElem, classList) {
	for (var i = 0; i < listElem.length; i++) {
		for (var j = 0; j < classList.length; j++) {
			listElem[i].classList.remove(classList[j]);
		}
	}
};
var addAllClassListInList = function (listElem, classList) {
	for (var i = 0; i < listElem.length; i++) {
		for (var j = 0; j < classList.length; j++) {
			listElem[i].classList.add(classList[j]);
		}
	}
};
var renderCopyTradeActionDatalist = function (elem, value, attr) {
	var content;
	switch (value) {
		case 'AUTOMATICAL':
			content = 'Tự đặt lệnh';
			break;
		case 'MANUAL':
			content = 'Thông báo đặt lệnh';
			break;
		default:
			break;
	}
	elem.innerHTML = content;
};
var goToPageFollowUserType = function (investorPageLink, traderPageLink) {
	var userType = window.localStorage.getItem('loggedUserType');
	if (userType == 'investor') {
		window.location.href = investorPageLink;
	} else {
		window.location.href = traderPageLink;
	}
};
var goToPageWithUserType = function (elem, pageGeneralName, beforeGeneralName,
	afterGeneralName) {
	var userType = window.localStorage.getItem('loggedUserType');
	var url = pageGeneralName;
	if (!beforeGeneralName && !afterGeneralName) {
		url = '/private/' + userType + pageGeneralName;
	}
	if (beforeGeneralName) {
		url = beforeGeneralName + url;
	}
	if (afterGeneralName) {
		url = url + afterGeneralName;
	}
	elem.onclick = function () {
		window.location.href = url;
	}
};
var er = {
	'addEventDropdown': function (id) {
		var container = document.getElementById(id);
		var button = container.querySelector('[aria-controls=dropdown-menu]');
		button.onclick = function () {
			container.classList.toggle('is-active');
		}
	},
	'buildPublicChat': function (elem, invitedUser) {
		er
			.checkAuthen(function (response) {
				if (JSON.parse(response) == null) {
					elem.classList.remove('is-hidden');
					elem.onclick = function () {
						shinobi.notification.notification
							.error(er.suggestLogin);
					}
				} else {
					if (invitedUser != 'system') {
						var loggedUserName = (JSON.parse(response))['username'];
						if (loggedUserName != invitedUser) {
							er
								.getPublicChatInfo(
									invitedUser,
									function (publicRoomChatInfo) {
										var data = JSON
											.parse(publicRoomChatInfo);
										if (data.chatroom) {
											elem.classList
												.remove('is-hidden');
											var roomId = data.chatroom['roomid'];
											elem.setAttribute(
												'roomid',
												roomId);
										} else {
											if (data.contactstatus != 'BLOCKED_STRANGER'
												&& data.contactstatus != 'NOT_TRADER_AND_INVESTOR') {
												elem
													.setAttribute(
														'inviteduser',
														invitedUser);
												elem.classList
													.remove('is-hidden');
											} else {
												elem.classList
													.add('tooltip');
												elem
													.setAttribute(
														'data-tooltip',
														'Không thể chat với người dùng chặn bạn hoặc bị chặn');
												elem.classList
													.replace(
														'has-text-orange',
														'has-text-grey');
												elem.innerHTML = '<i class="fa fa-comment-slash"></i>';
											}
										}
										elem.onclick = function () {
											if (this
												.hasAttribute('roomid')) {
												er
													.activeChatRoom(this
														.getAttribute('roomid'));
											} else if (this
												.hasAttribute('inviteduser')) {
												er
													.createStrangerContactRoomChat(
														this,
														invitedUser);
											}
										}
									});
						}
					}
				}
			});
	},
	'getPublicChatInfo': function (value, callback) {
		var request = {};
		request.inviteduser = value;
		shinobi.api.request(
			'/authenapi/ChatRoomManagementApi/getContactStatusInfo', JSON
				.stringify(request), function (response) {
					if (typeof callback == 'function') {
						callback(response);
					}
				});
	},
	'createStrangerContactRoomChat': function (elem, inviteduser) {
		var request = {};
		request.inviteduser = inviteduser;
		shinobi.api
			.request(
				'/authenapi/ChatRoomManagementApi/createStrangerContactRoomChat',
				JSON.stringify(request), function (response) {
					var data = JSON.parse(response);
					if (data.roomid) {
						var roomId = data.roomid;
						elem.setAttribute('roomid', roomId);
						elem.onclick();
					}
				});
	},
	'getValueBulmaCalendar': function (elem, param) {
		if (elem.value.trim() == '') {
			return false;
		} else {
			var returnObject = {};
			if (param.hasOwnProperty('isRange') == true) {
				if (elem.value.split('-')[0] && elem.value.split('-')[1]) {
					var startDate = elem.value.split('-')[0].trim().replace(
						/\//g, '-');
					var endDate = elem.value.split('-')[1].trim().replace(
						/\//g, '-');
					returnObject.startdate = startDate;
					returnObject.enddate = endDate;
					return returnObject;
				}
			}
		}
	},
	'renderValueBulmaCalendar': function (elem, value) {
		var info = elem.getAttribute('id') + '-info-render';
		var infoElem = document.getElementsByClassName(info)[0];
		if (infoElem.hasAttribute('is-range')) {
			if (infoElem.getAttribute('is-range') == 'true') {
				var startDate = infoElem.getAttribute('startdate');
				var endDate = infoElem.getAttribute('enddate');
				var startDateInput = elem.parentElement
					.querySelectorAll('.datetimepicker-dummy-input')[0];
				var endDateInput = elem.parentElement
					.querySelectorAll('.datetimepicker-dummy-input')[1];
				var startDateFormat = shinobi.aladinUtil.getFormatDate(
					startDate, 'dd/mm/yyyy');
				var endDateFormat = shinobi.aladinUtil.getFormatDate(endDate,
					'dd/mm/yyyy');
				startDateInput.value = startDateFormat;
				endDateInput.value = endDateFormat;
				elem.value = startDateFormat + ' - ' + endDateFormat;
			}
		}
	},
	'activeChatRoom': function (roomid) {
		var chatBoxColumn = document.getElementById('chatBoxColumn');
		chatBoxColumn.classList.remove('is-hidden');
		var chatMenuButton = document.getElementById('chatMenuButton');
		chatMenuButton.click();
		var listRoomChat = document.getElementById('listRoomChat');
		var listLi = listRoomChat.getElementsByClassName('room-chat');
		setTimeout(function () {
			for (var i = 0; i < listLi.length; i++) {
				if (listLi[i].getAttribute('id') == roomid) {
					listLi[i].click();
				}
			}
		}, 1000);
	},
	'investorRegistration': {
		'investorRegistration': '/page/investorregistration'
	},
	'login': {
		'login': '/page/login',
	},
	'traderlistingpage': {
		'traderlistingpage': '/page/traderlisting',
	},
	'investorlisting': {
		'investorlisting': '/page/investorlisting',
	},
	'suggestLogin': 'Bạn cần đăng nhập để thực hiện thao tác này!',
	'convertUsingServiceToVn': function (value) {
		var content;
		switch (value) {
			case 'NEED_TO_EXTEND':
				content = 'Gia hạn dịch vụ';
				break;
			case 'NEED_TO_SETTLE':
				content = 'Thanh toán dịch vụ';
				break;
			default:
				content = '';
				break;
		}
		return content;
	},
	'convertStringToDate': function (time) {
		return new Date(Date.parse(time.replace('-', '/').replace('-', '/')));
	},
	'buildChatTime': function (time) {
		var inputDate = er.convertStringToDate(time);
		var currentDate = new Date();
		var formatInput = shinobi.aladinUtil.getFormatDate(inputDate,
			'mm-dd-yyyy');
		var formatCurrent = shinobi.aladinUtil.getFormatDate(currentDate,
			'mm-dd-yyyy');
		if (formatInput == formatCurrent) {
			var inputHour = shinobi.aladinUtil
				.getFormatDate(inputDate, 'hh:mm');
			return inputHour;
		} else {
			var inputDateHour = shinobi.aladinUtil.getFormatDate(inputDate,
				'dd-mm-yyyy hh:mm');
			return inputDateHour;
		}
	},
	'renderServiceUsingStatus': function (elem, value) {
		if (value) {
			var content = er.convertUsingServiceToVn(value);
			elem.innerHTML = content;
		}
	},
	'reFormatDate': function (input, inputFormat, outputFormat) {
		var date = input.substring(inputFormat.indexOf('d'), inputFormat
			.lastIndexOf('d') + 1);
		var month = input.substring(inputFormat.indexOf('m'), inputFormat
			.lastIndexOf('m') + 1);
		var year = input.substring(inputFormat.indexOf('y'), inputFormat
			.lastIndexOf('y') + 1);
		var outPut = outputFormat.replace('dd', date).replace('mm', month)
			.replace('yyyy', year);
		return outPut;
	},
	'renderCopyTradeStatus': function (elem, value) {
		var request = {};
		request.feeid = value;
		request.publisher = elem.parentNode
			.querySelectorAll('[snb-key=publisher]')[0].innerHTML;
		shinobi.api
			.request(
				'/authenapi/ServiceUsingManagementApi/getCopyTradeServiceUsingDetailStatus',
				JSON.stringify(request),
				function (response) {
					var jsonArr = JSON.parse(response);
					if (jsonArr.serviceusingstatus == 'FREE_SERVICE') {
						elem.innerHTML = 'Dịch vụ miễn phí';
					} else if (jsonArr.serviceusingstatus == 'EXECUTING_PORTFOLIO') {
						elem.innerHTML = 'Đang xử lí';
					}
					if (jsonArr.serviceusingstatus == 'NEED_TO_SETTLE') {
						elem.innerHTML = '<p><a class="button open-order-button is-small is-link">Cần thanh toán</a></p>';
						elem
							.getElementsByClassName('open-order-button')[0].onclick = function () {
								shinobi.fragmentselectfollowrelationtypemodalrender
									.redirectPaymentPage(value);
							}
						var removeButton = document.createElement('a');
						removeButton.setAttribute('class',
							'button is-text is-small');
						removeButton.innerHTML = 'Xóa đơn hàng';
						elem.appendChild(removeButton);
						removeButton.onclick = function () {
							var data = jsonArr.followdetail;
							var requestDelete = {};
							requestDelete.feetype = data.feetype;
							requestDelete.subscriber = data.subscriber;
							requestDelete.publisher = data.publisher;
							shinobi.api
								.request(
									'/authenapi/AladinProductOrderApi/deleteServiceOrder',
									JSON
										.stringify(requestDelete),
									function (response) {
										if (response == 'update success') {
											shinobi.notification.notification
												.info('Xóa đơn hàng thành công');
											removeButton.parentNode.parentNode.classList
												.add('is-hidden');
										}
									});
						}
					} else if (jsonArr.serviceusingstatus == 'NEED_TO_EXTEND') {
						var exetendbutton = document.createElement('a');
						exetendbutton.setAttribute('class',
							'button  is-danger is-small');
						exetendbutton.innerHTML = 'Gia hạn';
						elem.appendChild(exetendbutton);
						var note = document.createElement('p');
						note.setAttribute('class', ' has-text-danger ');
						note.innerHTML = 'Còn ' + jsonArr.remainday
							+ ' ngày nữa';
						elem.appendChild(note);
						exetendbutton.onclick = function () {
							shinobi.fragmentextendrelationmodalrender
								.build(elem, jsonArr.followdetail);
						}
					} else {
						var data = jsonArr.followdetail;
						shinobi.fragmentaccountfollowingtraderender
							.buildServiceTimeContainer(elem, data);
					}
				});
	},
	'renderUnFollowButton': function (elem, value) {
		var request = {};
		request.feeid = value;
		request.publisher = elem.parentNode
			.querySelectorAll('[snb-key=publisher]')[0].innerHTML;
		shinobi.api
			.request(
				'/authenapi/ServiceUsingManagementApi/getCopyTradeServiceUsingDetailStatus',
				JSON.stringify(request),
				function (response) {
					if (JSON.parse(response).followdetail.isactive == true) {
						shinobi.fragmentaccountfollowingtraderender
							.buildUnFollowService(elem, JSON
								.parse(response).followdetail);
					}
				});
	},
	'renderDetailRating': function (elem, value, attr) {
		var spanStarContainer = document.createElement('span');
		spanStarContainer.setAttribute('class', 'star-container');
		elem.appendChild(spanStarContainer);
		var spanNumberRating = document.createElement('span');
		spanNumberRating.setAttribute('class', 'count-rating-container');
		elem.appendChild(spanNumberRating);
		var userName = value;
		var request = {};
		request.username = userName;
		shinobi.api.request('/api/ViewTraderRatingApi/getUserOverViewRating',
			JSON.stringify(request), function (response) {
				var jsonArr = JSON.parse(response);
				var averageratingpoint = jsonArr.averageratingpoint;
				er.buildRating(spanStarContainer, averageratingpoint);
				spanNumberRating.innerHTML = '('
					+ jsonArr.totalratingmember + ')';
				spanNumberRating.onclick = function () {
					window.location.href = '/page/ratingdetail/'
						+ jsonArr.homepageurl;
				}
			});
	},
	'getCurrentDayOfWeek': function () {
		var toDay = new Date();
		var currentDayOfWeek = toDay.getDay();
		// Sunday - Saturday : 0 - 6
		return currentDayOfWeek;
		// expected output: 2
	},
	'getParentNodeWithKey': function (elem, key, callback) {
		if (elem.hasAttribute(key)) {
			if (typeof callback == 'function') {
				callback(elem);
			}
		} else {
			if (elem.parentElement) {
				er.getParentNodeWithKey(elem.parentElement, key, callback);
			}
		}
	},
	'buildRating': function (elem, value) {
		value = value / 2;
		var starIconHtmlString = '<span class="icon is-small has-text-warning"><i class="fas fa-star"></i></span>';
		var noneStarIconHtmlString = '<span class="icon is-small has-text-light"><i class="fas fa-star"></i></span>';
		var numberRating = value;
		if (value > 5) {
			numberRating = 5;
		}
		if (value < 0 || value == 0) {
			numberRating = 0;
		}
		var contentRating = '';
		for (var i = 0; i < numberRating; i++) {
			contentRating += starIconHtmlString;
		}
		for (var j = 0; j < (5 - numberRating); j++) {
			contentRating += noneStarIconHtmlString;
		}
		elem.innerHTML = contentRating;
	},
	'renderUserType': function (elem, value, attr) {
		var userType = window.localStorage.getItem('loggedUserType');
		er.convertUserTypeDatalist(elem, userType);
	},
	'convertUserTypeDatalist': function (elem, value) {
		var content;
		switch (value.toLowerCase()) {
			case 'trader':
				content = 'Nhà tư vấn';
				break;
			case 'investor':
				content = 'Nhà đầu tư';
				break;
			case 'stock_com_admin':
				content = 'Tổ chức hợp tác';
				break;
			default:
				break;
		}
		elem.innerHTML = content;
	},
	'addEventFollowTable': function (cell, rowIndex, colIndex) {
		var value = cell.innerHTML;
		removeAllChild(cell);
		var a = document.createElement('a');
		a.setAttribute('class', 'button is-link  is-small');
		a.innerHTML = 'Theo';
		cell.appendChild(a);
		shinobi.fragmentselectfollowrelationtypemodalrender.addEventFollow(a,
			value);
	},
	'renderFreeOrUnFreeAmount': function (elem, value, attr) {
		var container = elem.parentNode.parentNode.parentNode.parentNode;
		var publisher = container.querySelectorAll('[snb-key=publisher]')[0].innerHTML;
		var feetype = container.querySelectorAll('[snb-key=feetype]')[0].innerHTML;
		var request = {};
		request.traderusername = publisher;
		request.feetype = feetype;
		shinobi.api
			.request(
				'/authenapi/TraderBuildFeeScheduleApi/checkTraderContainsUnFreeFeeSchedule',
				JSON.stringify(request), function (response) {
					var content;
					if (response == "true") {
						content = "Có phí";
					} else {
						content = shinobi.language.free;
					}
					elem.innerHTML = content;
				});
	},
	'getValueNumberCleaveFormat': function (elem) {
		return elem.value.trim().replace(/,/g, '');
	},
	'formatNameChatContainerHeader': function (elem, value) {
		var content = value;
		/*
		 * if (value.length > 15) {
		 * 
		 * content = value.slice(0, 12) + '...'; }
		 */
		elem.innerHTML = content;
	},
	'renderFeeValue': function (elem, value, attr) {
		var feeAmount = elem.parentNode.querySelectorAll('[snb-key=amount]')[0].innerHTML;
		var feeFequency = value;
		var content = 'Dịch vụ miễn phí';
		if (feeAmount > 0) {
			content = format(feeAmount) + '/' + convertFequency(feeFequency);
		}
		elem.innerHTML = content;
	},
	'checkAuthen': function (callback) {
		if (!shinobi.global.checkAuthen) {
			if (!shinobi.global.isCheckAuthen) {
				if (shinobi.global.isCheckAuthen == false) {
					setTimeout(function () {
						er.checkAuthen(callback);
					}, 10);
				} else {
					var request = {};
					shinobi.global.isCheckAuthen = false;
					shinobi.api.request('/api/UserApi/checkAuthen', JSON
						.stringify(request), function (response) {
							shinobi.global.checkAuthen = response;
							shinobi.global.isCheckAuthen = true;
							callback(response);
						});
				}
			} else {
				callback(shinobi.global.checkAuthen);
			}
		} else {
			callback(shinobi.global.checkAuthen);
		}
	},
	'renderPostStatusDatalist': function (elem, value, attr) {
		var content;
		var classList;
		switch (value) {
			case 'WAITING_FOR_AUDIT':
				content = 'Chờ duyệt';
				classList = 'is-light';
				break;
			case 'AVAILABLE':
				content = 'Đã duyệt';
				classList = 'is-success';
				break;
			case 'REJECTED':
				content = 'Từ chối';
				classList = 'is-danger';
				break;
			default:
				break;
		}
		elem.innerHTML = content;
		elem.classList.add(classList);
	},
	'activePathTabs': function () {
		var listTabs = document.querySelectorAll('.tabs.active-pathname-tabs');
		for (var i = 0; i < listTabs.length; i++) {
			var currentTab = listTabs[i].querySelector('[href='
				+ window.location.pathname.replace(/\//g, '\\/') + ']');
			if (currentTab) {
				currentTab.parentElement.classList.add('is-active');
			}
		}
	},
	'getFormatDatePickerInput': function (datepickerId, format) {
		var input = document.getElementById(datepickerId + '-inputDivID');
		var dateValue = input.value;
		var date = dateValue.split('-')[0];
		var month = dateValue.split('-')[1];
		var year = dateValue.split('-')[2];
		var dateString = month + '-' + date + '-' + year;
		return shinobi.aladinUtil.getFormatDate(dateString, format);
	},
	'getDatePickerValue': function (item) {
		var format = 'yyyy-mm-dd';
		var input = document.getElementById(item.id + '-inputDivID');
		var dateValue = input.value;
		var date = dateValue.split('-')[0];
		var month = dateValue.split('-')[1];
		var year = dateValue.split('-')[2];
		var dateString = year + '-' + month + '-' + date;
		return dateString;
		// return shinobi.aladinUtil.getFormatDate(dateString, format);
		// return er.getFormatDatePickerInput(item.id, format);
	},
	'renderFeeIconFromListFeeType': function (elem, value) {
		var jsonArr = JSON.parse(value);
		for (var i = 0; i < jsonArr.length; i++) {
			var currentData = jsonArr[i][0];
			var iconLink;
			if (currentData.feetype) {
				var iconSpanContainer = document.createElement('span');
				iconSpanContainer.setAttribute('class', 'service-icon tooltip');
				iconSpanContainer.setAttribute('data-tooltip',
					changeFeeType(currentData.feetype));
				var imageContainer = document.createElement('img');
				iconSpanContainer.appendChild(imageContainer);
				switch (currentData.feetype) {
					case 'INVESTING_BLOG':
						iconLink = blogIconImageLink;
						break;
					case 'COPY_TRADE':
						iconLink = copyTradeIconImageLink;
						break;
					default:
						break;
				}
				imageContainer.setAttribute('src', iconLink);
				elem.appendChild(iconSpanContainer);
			}
		}
	},
	'getListFeeIcon': function (elem, value) {
		er
			.checkAuthen(function (response) {
				if (response != 'null') {
					var request = {};
					request.traderusername = value;
					shinobi.api
						.request(
							'/authenapi/TraderCustomerApi/getAllServiceCustomerIsFollowing',
							JSON.stringify(request), function (
								response) {
							er.renderFeeIconFromListFeeType(
								elem, response);
						});
				}
			});
	},
	'listingTimeFrame': function (value) {
		var content;
		switch (value) {
			case 'ONE_DAY':
				content = 'phiên gần nhất';
				break;
			case 'ONE_WEEK':
				content = 'tuần';
				break;
			case 'ONE_MONTH':
				content = 'tháng';
				break;
			case 'THREE_MONTH':
				content = 'ba tháng';
				break;
			case 'SIX_MONTH':
				content = 'sáu tháng';
				break;
			case 'ONE_YEAR':
				content = 'một năm';
				break;
			default:
				break;
		}
		return 'Xếp hạng ' + content;
	},
	'postFiterConvert': function (value) {
		var content;
		switch (value) {
			case 'allpost':
				content = 'Tất cả bài viết';
				break;
			case 'hasfeepost':
				content = 'Bài viết có phí';
				break;
			case 'freepost':
				content = 'Bài viết miễn phí';
				break;
			case 'purchased':
				content = 'Bài viết đã mua';
				break;
			default:
				break;
		}
		return content;
	},
	'renderAdminPostCheckUrl': function (elem, value, attr) {
		if (value.trim == '') {
			return;
		} else {
			var url = value;
			var pageCheckUrl = url.replace(blogPostPageUrl,
				adminPostCheckPageUrl);
			var container = elem.parentNode;
			var adminPostCheckButtonElemList = container
				.querySelectorAll('[snb-target="goToPostCheckPage"');
			for (var i = 0; i < adminPostCheckButtonElemList.length; i++) {
				adminPostCheckButtonElemList[i].onclick = function () {
					window.location.href = pageCheckUrl;
				}
			}
		}
	},
	'createSimpleBar': function (patern) {
		var listElem = document.querySelectorAll(patern);
		for (var i = 0; i < listElem.length; i++) {
			var item = new SimpleBar(listElem[i]);
		}
	},
	'confirm': function (callback, options) {
		var confirmPanel = document.getElementById('confirmPanel');
		shinobi.aladinUtil.modalEventListener(confirmPanel);
		if (options) {
			if (options.title) {
				confirmPanel.getElementsByClassName('modal-card-title')[0].innerHTML = options.title;
			}
			if (options.content) {
				confirmPanel.getElementsByClassName('modal-card-body')[0].innerHTML = options.content;
			}
			if (options.yescontent) {
				confirmPanel.getElementsByClassName('yes')[0].innerHTML = options.yescontent;
			}
			if (options.nocontent) {
				confirmPanel.getElementsByClassName('cancel')[0].innerHTML = options.nocontent;
			}
			if (options.modalsize) {
				confirmPanel.classList.add(options.modalsize);
			}
			if (options.initfunction) {
				options.initfunction(confirmPanel);
			}
		} else {
			confirmPanel.getElementsByClassName('modal-card-title')[0].innerHTML = 'Cảnh báo';
			confirmPanel.getElementsByClassName('modal-card-body')[0].innerHTML = 'Bạn chắc chắn?';
			confirmPanel.getElementsByClassName('yes')[0].innerHTML = 'Xác nhận';
			confirmPanel.getElementsByClassName('cancel')[0].innerHTML = 'Hủy';
		}
		confirmPanel.classList.add('is-active');
		var yes = confirmPanel.getElementsByClassName('yes')[0];
		yes.focus();
		yes.onclick = function () {
			if (typeof callback == 'function') {
				confirmPanel.classList.remove('is-active');
				callback();
			}
		}
	},
	'runSnbReload': function (elem) {
		if (elem.hasAttribute('snb-reload')) {
			var reloadFunction = elem.getAttribute('snb-reload');
			if (elem.hasAttribute('snb-reload-key')) {
				var reloadKey = elem.getAttribute('snb-reload-key');
				if (reloadKey == 'this') {
					var reloadKeyValue = elem;
					eval(reloadFunction)(reloadKeyValue);
				}
			} else {
				eval(reloadFunction)();
			}
		}
	},
	'renderListFeeIsActive': function (elem, value) {
		var content = '';
		var listFee = elem.parentNode
			.querySelectorAll('[snb-render-key=feeType]');
		for (var i = 0; i < listFee.length; i++) {
			if (listFee[i].innerHTML == "true") {
				var feeType = listFee[i].getAttribute('snb-key');
				content = content + '/' + changeFeeType(feeType);
			}
		}
		content = content.slice(1, content.length);
		elem.innerHTML = content;
	},
	'addEventTabs': function (patern, renderType) {
		var elemList = document.querySelectorAll(patern);
		switch (renderType) {
			case 'hrefUserType':
				er.addEventHrefUserType(patern, elemList);
				break;
			default:
				break;
		}
	},
	'addEventHrefUserType': function (patern, elemList) {
		var item = elemList[0];
		var listTab = item.querySelectorAll('[snb-tab]');
		var json = {};
		var userType = window.localStorage.getItem('loggedUserType');
		for (var i = 0; i < listTab.length; i++) {
			var tab = listTab[i];
			if (tab.hasAttribute('snb-tab')) {
				var value = tab.getAttribute('snb-tab');
				json[value] = value;
				json[value + 'href'] = '/private/' + userType + value;
			}
		}
		shinobi.mapping.render(patern, JSON.stringify(json))
	},
	'renderCurrentCashPlaceHolder': function (elem, value) {
		elem.setAttribute('placeholder', 'Vốn khả dụng: ' + format(value));
	},
	'renderCopyTradeMessage': function (elem, value) {
		var copytradeSettingMessageContainer = document
			.getElementById('copytradeSettingMessageContainer');
		var copytradecapital = document.getElementById('copytradecapital');
		if (value.trim() == '') {
			copytradeSettingMessageContainer.classList.add('is-hidden');
		} else {
			copytradeSettingMessageContainer.classList.remove('is-hidden');
		}
		var currentCash = elem.parentNode
			.querySelectorAll('[snb-key=currentcash')[0].innerHTML;
		if (Number(currentCash) < 100000) {
			copytradecapital.classList.add('is-danger');
			copytradecapital.disabled = true;
		} else {
			copytradecapital.classList.remove('is-danger');
			copytradecapital.disabled = false;
		}
		elem.innerHTML = value;
	},
	'renderMaxQuantity': function (elem, value) {
		if (isNaN(Number(value))) {
			elem.parentNode.classList.add('is-hidden');
		} else {
			elem.parentNode.classList.remove('is-hidden');
			elem.innerHTML = format(value);
		}
	},
	'renderPriceDatalist': function (elem, value) {
		if (value == 0) {
			elem.innerHTML = shinobi.language.free;
		} else {
			elem.innerHTML = format(value) + 'VNĐ';
		}
	},
	'showDownloadFileModal': function () {
		var confirmDownloadFileModal = document
			.getElementById('confirmDownloadFileModal');
		confirmDownloadFileModal.classList.add('is-active');
		var button = confirmDownloadFileModal.querySelector('.button.is-white');
		// button.classList.remove('is-hidden');
		button.classList.add('is-loading');
		var shinobinotification = document
			.getElementById('shinobinotification');
		setTimeout(function () {
			if (shinobinotification.getAttribute('class').includes(
				'errormessage')) {
				confirmDownloadFileModal.classList.remove('is-active');
			}
		}, 2000);
	},
	'renderDownloadFileModal': function (response) {
		var confirmDownloadFileModal = document
			.getElementById('confirmDownloadFileModal');
		confirmDownloadFileModal.classList.add('is-active');
		var button = confirmDownloadFileModal
			.getElementsByClassName('is-loading')[0];
		if (response == 'update success') {
			// button.classList.add('is-hidden');
			button.classList.remove('is-loading');
			button.innerHTML = response;
		} else {
			confirmDownloadFileModal.classList.remove('is-active');
		}
	},
	'renderRemovePinLevel': function (elem, value) {
		var pinLevel = value;
		/* if (pinLevel != 1) { */
		elem.classList.remove('is-hidden');
		elem.onclick = function () {
			if (confirm('Xác nhận xóa đánh dấu')) {
				var postId = elem.parentNode
					.querySelectorAll('[snb-key=postid]')[0].innerHTML;
				var request = {};
				request.postid = postId;
				shinobi.api
					.request(
						'/authenapi/SystemAuditTraderPostApi/deletePinedTraderPost',
						JSON.stringify(request), function (response) {
							if (response == 'update success') {
								shinobi.notification.notification
									.info('Cập nhật thành công!');
								location.reload()
							}
						});
			}
		}
		/* } */
	},
	'renderDatePicker': function (elem, value) {
		var input = elem.getElementsByClassName('inputDivClass')[0];
		input.value = shinobi.aladinUtil.getFormatDate(value, 'dd-mm-yyyy');
	},
	'changeAllKeyChildren': function (array, keysMap, callback) {
		for (var i = 0; i < array.length; i++) {
			// var item = jsonArr[i];
			er.renameKeys(keysMap, array[i]);
			if (array[i].children && array[i].children.length != 0) {
				er.changeAllKeyChildren(array[i].children, keysMap);
			}
		}
		if (typeof callback == 'function') {
			callback(array);
		}
	},
	'renameKeys': function (keysMap, obj) {
		var listOldKey = Object.keys(keysMap);
		var listNewKey = Object.values(keysMap);
		for (var i = 0; i < listOldKey.length; i++) {
			var oldkey = listOldKey[i];
			var newKey = listNewKey[i];
			var oldkeyValue = obj[oldkey];
			obj[newKey] = oldkeyValue;
		}
	},
	'getAllObjectMenu': function (resultArray, sourceArray) {
		for (var i = 0; i < sourceArray.length; i++) {
			resultArray.push(sourceArray[i]);
			if (sourceArray[i].children && sourceArray[i].children.length != 0) {
				er.getAllObjectMenu(resultArray, sourceArray[i].children);
			}
		}
	},
	'getTokenValue': function (input) {
		var numberInput = Number(input.slice(1, input.length - 1));
		var LastNumberInput = Number(numberInput).toString().split('').pop();
		var returnValue = numberInput >>> LastNumberInput;
		return returnValue;
	},
	'encodeURIComponent': function (uri) {
		var uri_enc = encodeURIComponent(uri);
		return uri_enc;
	},
	'decodeURIComponent': function (uri_enc) {
		var uri = encodeURIComponent(uri_enc);
		return uri;
	},
	'addEventSearchUser': function (elemId) {
		var elem = document.getElementById(elemId);
		if (elem.getAttribute('type') == 'tags') {
			var interval = setInterval(function () {
				var inputBox = elem.nextElementSibling;
				if (inputBox) {
					var input = inputBox.getElementsByTagName('input')[0];
					er.addEventSearchUserElem(input, elem);
					clearInterval(interval);
				}
			}, 100);
		} else {
			er.addEventSearchUserElem(elem, elem);
		}
	},
	'addResultList': function (elem, data, elemInputFirstDeclare) {
		function insertAfter(el, referenceNode) {
			referenceNode.parentNode
				.insertBefore(el, referenceNode.nextSibling);
		}
		var container;
		if (elem.parentNode.getElementsByClassName('result-absolute-container').length > 0) {
			container = elem.parentNode
				.getElementsByClassName('result-absolute-container')[0];
		} else {
			container = document.createElement('div');
			container.setAttribute('class', 'result-absolute-container');
			insertAfter(container, elem);
		}
		container.parentNode.classList.add('is-relative');
		if (data.length == 0) {
			container.remove();
			elem.setAttribute('refid', '');
		} else {
			container.innerHTML = '';
			for (var i = 0; i < data.length; i++) {
				if (i < 3) {
					elem.setAttribute('refid', data[i].id);
					var record = document.createElement('div');
					record.setAttribute('class', 'level is-marginless');
					record.innerHTML = '<div class="level-left chat-avatar"><img src="'
						+ data[i].avatarlink
						+ '" class="chat-room-avatar margin-right-05rem"></div><div class="level-item ">'
						+ data[i].firstname
						+ ' '
						+ data[i].lastname
						+ '</div>';
					container.appendChild(record);
				}
			}
			elem.onblur = function () {
				container.classList.add('is-hidden');
			}
			elem.onclick = function () {
				container.classList.remove('is-hidden');
			}
		}
	},
	'addEventSearchUserElem': function (elem, elemInputFirstDeclare) {
		var api = '/api/UserApi/searchUserById';
		elem.onkeyup = function () {
			var value = elem.value.trim();
			if (value != '') {
				var request = {};
				request.searchkey = value;
				shinobi.api.request(api, JSON.stringify(request), function (
					response) {
					var jsonArr = JSON.parse(response);
					er.addResultList(elem, jsonArr, elemInputFirstDeclare);
				});
			} else {
				er.addResultList(elem, [], elemInputFirstDeclare);
			}
		}
	},
};
var erLib = {

	'data' : [],

	'reportLink' : '/static/report/',

	'renderCheckbox' : function(elem, row, col) {

		elem.innerHTML = '<label class="checkbox"><input type="checkbox"></label>';

	},

	'renderAllowDenyTable' : function(cell, row, col) {

		if (cell.innerHTML == 'allow') {

			cell.innerHTML = 'Cho phép';
		}
		if (cell.innerHTML == 'deny') {

			cell.innerHTML = 'Chặn';
		}
	},

	'showConfirmModal' : function(callback) {

		var confirmPanel = document.getElementById('confirmPanel');

		confirmPanel.classList.add('is-active');

		var yesButton = confirmPanel.getElementsByClassName('yes')[0];

		yesButton.onclick = function() {

			confirmPanel.classList.remove('is-active');

			callback();
		}

	},

	'createDataTreeRelation' : function(data, dataParent, callback) {

		if (!dataParent) {

			data.name = data.id;

		} else {

			var currentId = data.id;

			data.name = currentId;
			data.id = dataParent.id + '/' + currentId;

		}

		for (var i = 0; i < data.children.length; i++) {

			erLib.createDataTreeRelation(data.children[i], data);
		}

		if (typeof callback == 'function') {

			callback(data);
		}
	},

	'getFullPathSelectedNodeTree' : function(tree, callback) {

		var data = tree.treeNodes;

		var result = [];

		erLib.getFullPathSelected(result, data, '');

		callback(result);

	},

	'getFullPathSelected' : function(result, data, callback) {

		for (var i = 0; i < data.length; i++) {

			if (data[i].status == 2) {

				result.push(data[i].id);

			}

			if (data[i].status == 1) {

				erLib.getFullPathSelected(result, data[i].children, callback);
			}

		}

		if (typeof callback == 'function') {

			callback(result);
		}

	},

	'getFullAreaTreeData' : function(callback) {

		var request = {};

		shinobi.api.request(
				'/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree',
				JSON.stringify(request), function(response) {

					var jsonArr = JSON.parse(response);

					if (typeof callback == 'function') {

						callback(jsonArr);
					}
				});
	},

	'getAgencyAreaTreeData' : function(requestInput, callback) {

		var request = requestInput;

		shinobi.api.request(
				'/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree',
				JSON.stringify(request), function(response) {

					var jsonArr = JSON.parse(response);

					if (typeof callback == 'function') {

						callback(jsonArr);
					}
				});
	},

	'createFullAreaTree' : function(patern, callback) {

		erLib.getListProvinceDataTree(function(provinceData) {

			for (var i = 0; i < provinceData.length; i++) {

				erLib.getListDicTristDataTree(provinceData, i, function(
						dictristData) {

					for (var j = 0; j < dictristData.length; j++) {

						erLib.getListPrecinctDataTree(dictristData, j,
								function() {

									shinobi.createstafftreerender.tree = erLib
											.createTree(patern, provinceData);

									var container = document
											.querySelectorAll(patern)[0];

									shinobi.createstafftreerender
											.closeAllNode(container);

									if (typeof callback == 'function') {

										callback(tree);
									}

								});

					}

				});
			}

		});

	},

	'createTree' : function(patern, data) {

		var tree = new Tree(patern, {

			// root data
			data : data,
			loaded : function() {

				// pre-selected nodes
				// this.values = [ 'HCM_TPH', 'HCM_006_0009' ];

				// disabled nodes
				// this.disables = [ '1-1-1', '1-1-1', '1-1-2' ]

			}

		});

		return tree;
	},

	'getListPrecinctDataTree' : function(currentData, i, callback) {

		var item = currentData[i];

		var districtValue = item.id;

		var request = {};
		request.columnname = 'district';
		request.columnvalue = districtValue;

		shinobi.api.request(
				'/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree',
				JSON.stringify(request), function(response) {

					var precinctData = JSON.parse(response);

					currentData[i].children = precinctData;

					if (typeof callback == 'function') {

						callback(precinctData);
					}

					return currentData;
				});
	},

	'getListDicTristDataTree' : function(currentData, i, callback) {

		var item = currentData[i];

		var provinceValue = item.id;

		var request = {};
		request.columnname = 'province';
		request.columnvalue = provinceValue;

		shinobi.api.request(
				'/authenapi/AgencyWorkingAreaApi/getAreaDistributionAsTree',
				JSON.stringify(request), function(response) {

					var dictristData = JSON.parse(response);

					currentData[i].children = dictristData;

					if (typeof callback == 'function') {

						callback(dictristData);
					}

					return currentData;
				});
	},

	'getListProvinceDataTree' : function(callback) {

		var request = {};

		request.columnname = 'province';

		shinobi.api.request(
				'/authenapi/AgencyWorkingAreaApi/getDefaultValueListAsTree',
				JSON.stringify(request), function(response) {

					var provinceData = JSON.parse(response);

					if (typeof callback == 'function') {

						callback(provinceData);
					}

					return provinceData;

				});
	},

	'getFileName' : function(elem, value) {

		var linkFile = value;
		var linkFileSplit = linkFile.split('/');

		elem.innerHTML = linkFileSplit[linkFileSplit.length - 1];
	},

	'renderDownloadFile' : function(elem, value) {

		var linkFile = value;
		var linkFileSplit = linkFile.split('/');

		elem.setAttribute('href', erLib.reportLink
				+ linkFileSplit[linkFileSplit.length - 1]);

		setTimeout(function() {

			elem.focus();

		}, 200);

		elem.onclick = function() {

			var modalId = elem.getAttribute('modal-parent');

			var modal = document.getElementById(modalId);
			modal.classList.remove('is-active');

		}

	},

	'addEventSelectAll' : function(selectAllCheckboxId, tableId) {

		var selectAllCheckBoxHeader = document
				.getElementById(selectAllCheckboxId);
		selectAllCheckBoxHeader.onchange = function() {

			var table = document.getElementById(tableId);

			var body = table.getElementsByTagName('tbody')[0];

			var listRow = body.getElementsByTagName('tr');

			for (var i = 0; i < listRow.length; i++) {

				var item = listRow[i];

				var listTd = item.getElementsByTagName('td');

				var checkbox = item.querySelectorAll('[type=checkbox]')[0];

				if (this.checked) {
					checkbox.checked = true;
				} else {

					checkbox.checked = false;
				}
			}

		}
	},

	'hiddenCommandButton' : function(className) {

		var commandGroup = document.getElementById('buttonGroup');

		var button = commandGroup.getElementsByClassName(className)[0];

		button.classList.add('is-hidden');

	},

	'addEventRemoveRowTable' : function(elem, row, col, controlApi) {

		var value = elem.innerHTML;

		removeAllChild(elem);

		erLib.addEventRemoveRowDatalist(elem, value, controlApi);
	},

	'addEventRemoveRowDatalist' : function(elem, value, controlApi) {

		var button = document.createElement('a');
		button.setAttribute('class', 'button is-danger is-small');
		button.innerHTML = '<span class="icon"><i class="fa fa-times"></i></span><span>Xóa</span>';
		elem.appendChild(button);

		button.onclick = function() {

			var id = value;

			var request = {};

			request.id = id;

			shinobi.api.request(controlApi, JSON.stringify(request), function(
					response) {

				erLib.removeMessage(response);
				location.reload();

			});
		}

	},

	'createMessage' : function(response) {

		if (response == 'update success') {

			shinobi.notification.notification.info('Tạo mới thành công');

		}
	},

	'renderCellChangeStaffValue' : function(elem, row, col, allData) {

		erLib.renderNodeChangeValueListener(elem, function() {

			var input = elem.getElementsByTagName('input')[0];

			var inputId = row + 'StaffId';

			input.setAttribute('list', 'fragmentStaffIdDatalist');

			var agency = allData[row].agency;

			erLib.renderDataListStaff('fragmentStaffIdDatalist', agency);
		});
	},

	'updateMessage' : function(response, callback) {

		if (response == 'update success') {

			shinobi.notification.notification.info('Cập nhật thành công');

			if (typeof callback == 'function') {

				callback();
			}

		}
	},

	'removeMessage' : function(response) {

		if (response == 'update success') {

			shinobi.notification.notification.info('Xóa thành công');

		}
	},

	'renderUserTypeTable' : function(elem, row, col) {

		var value = elem.innerHTML;

		erLib.renderUserTypeDatalist(elem, value);
	},

	'renderUserTypeDatalist' : function(elem, value) {

		var content;
		switch (value.toLowerCase()) {

		case 'shop':
			content = 'Đại lý';
			break;

		case 'agency':
			content = 'Pháp nhân';
			break;

		case 'staff':
			content = 'Nhân viên';
			break;

		case 'mobi_hcm_2':
			content = 'Mobifone';
			break;
		case 'system':
			content = 'Quản trị hệ thống';
			break;

		default:
			break;
		}

		elem.innerHTML = content;
		// elem.innerHTML = value;
	},

	'renderOrderResultTable' : function(elem, row, col) {

		var value = elem.innerHTML;

		erLib.renderOrderResultDatalist(elem, value);
	},

	'renderOrderResultDatalist' : function(elem, value) {

		var content;
		switch (value.toLowerCase()) {

		case 'inprocess':
			content = 'Đang xử lí';
			break;

		case 'fail':
			content = 'Thất bại';
			break;

		case 'success':
			content = 'Thành công';
			break;

		default:
			content = value;
			break;
		}

		elem.innerHTML = content;
		// elem.innerHTML = value;
	},

	'notiFillInput' : function() {

		shinobi.notification.notification.error('Điền đầy đủ thông tin');
	},

	'addStartDateEndDateRequest' : function(request, callback) {

		var fromDate = document.getElementById('fromDate-inputDivID');
		var toDate = document.getElementById('toDate-inputDivID');

		if (fromDate.value.trim() == '' || toDate.value.trim() == '') {

			erLib.notiFillDateInput();

		} else {

			request.startdate = er.getFormatDatePickerInput('fromDate',
					'yyyy-mm-dd');
			request.enddate = er.getFormatDatePickerInput('toDate',
					'yyyy-mm-dd');

			if (typeof callback == 'function') {

				callback(request);
			}

		}
	},

	'notiFillDateInput' : function() {

		shinobi.notification.notification.error('Chưa điền từ ngày đến ngày');
	},

	'createTableListener' : function(tableIdOrBodyId) {

		var container = document.getElementById(tableIdOrBodyId);

		var listNode = container.getElementsByTagName('td');

		for (var i = 0; i < listNode.length; i++) {

			erLib.renderNodeChangeValueListener(listNode[i]);
		}

	},

	'renderCellChangeValue' : function(elem, rowIndex, colIndex, callback) {

		if (typeof callback == 'function') {

			erLib.renderNodeChangeValueListener(elem, callback);
		} else {

			erLib.renderNodeChangeValueListener(elem);
		}

	},

	'renderHasSendProfileContentTable' : function(cell, row, col, allData) {

		var content = 'Đã nộp';

		if (!allData[row].staffsendprofiledate) {

			content = 'Chưa nộp';
		}

		cell.innerHTML = content;

	},

	'addHasSendProfileSelect' : function(cell, callback) {

		cell.innerHTML = '';

		var selectContainer = document.createElement('div');
		selectContainer.setAttribute('class', 'select is-fullwidth');
		selectContainer.setAttribute('snb-key', 'isprofilesent');
		selectContainer.innerHTML = '  <select class="profile-send-select"> <option value="true">Đã nộp</option> <option value="false">Chưa nộp</option>  </select>';

		cell.appendChild(selectContainer);

		return selectContainer.getElementsByTagName('select')[0];

	},

	'renderHasSendProfileTable' : function(cell, row, col, allData) {

		// if (allData[row].orderresult && allData[row].orderresult ==
		// "SUCCESS") {

		erLib.addHasSendProfileSelect(cell);

		var select = cell.getElementsByTagName('select')[0];

		if (allData[row].orderresult == 'SUCCESS') {

			if (allData[row].staffsendprofiledate) {

				select.value = 'true';

			} else {

				select.value = 'false';

			}

		} else {

			select.value = 'false';

			select.disabled = true;
		}

		select.onchange = function() {

			var row = cell.parentNode;

			var checkBox = row.querySelectorAll('[type=checkbox]')[0];

			if (checkBox) {

				checkBox.checked = true;
			}

		}
		// }

		// else {
		//
		// erLib.renderHasSendProfileContentTable(cell, row, col, allData);
		// }

	},

	'renderNodeChangeValueListener' : function(elem, callback, ortherFunction) {

		elem.ondblclick = function() {

			var currentValue = elem.innerText;

			elem.classList.add('table-change-value-cell');

			var inputChange = elem
					.getElementsByClassName('table-change-value-input')[0];

			var input;

			if (!inputChange) {

				input = document.createElement('input');
				input.setAttribute('class',
						'input is-small table-change-value-input');

			} else {

				input = inputChange;
			}

			// input.value = currentValue;

			elem.appendChild(input);

			input.focus();

			if (typeof callback == 'function') {

				callback(input);
			}

			input.onchange = function() {

				if (typeof ortherFunction == 'function') {

					ortherFunction();
				}

				elem.classList.remove('table-change-value-cell');

				var newValue = input.value;

				input.remove();

				if (newValue.trim() == '') {

					elem.innerHTML = currentValue;

				} else {

					elem.innerHTML = newValue;

				}

			}

			input.addEventListener('keypress', function(e) {
				var key = e.which || e.keyCode;
				if (key === 13) {

					if (typeof ortherFunction == 'function') {
						ortherFunction();
					}

					elem.classList.remove('table-change-value-cell');

					var newValue = input.value;

					input.remove();

					if (newValue.trim() == '') {

						elem.innerHTML = currentValue;

					} else {

						elem.innerHTML = newValue;

					}
				}
			});

		}
	},

	'createButtonEvent' : function(callback) {

		var commandGroup = document.getElementById('buttonGroup');

		var createButton = commandGroup.getElementsByClassName('createButton')[0];

		createButton.onclick = function() {

			callback();
		}
	},

	'updateButtonEvent' : function(callback) {

		var commandGroup = document.getElementById('buttonGroup');

		var createButton = commandGroup.getElementsByClassName('updateButton')[0];

		createButton.onclick = function() {

			callback();
		}
	},

	'getSelectFormShopcodeValue' : function(elemId, requestName, listRequest) {

		var elem = document.getElementById(elemId);

		var value = elem.value;

		if (value != 'ALL') {

			var tempObject = {};

			tempObject.columnname = requestName;

			tempObject.columnvalue = value.split('-')[0];

			if (elem.hasAttribute('user-level')) {

				tempObject.userlevel = elem.getAttribute('user-level');
			}

			listRequest.push(tempObject);

		}
	},

	'renderShopCodeCheckGroup' : function(elemId, columnName) {

		var datalistName = elemId;

		var request = {};

		request.columnname = columnName;

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist
				.initLoadApi(
						"/authenapi/AgencyWorkingAreaApi/getDefaultValueListAfterCheckGroup",
						request);
	},

	'renderShopCode' : function(elemId) {

		var datalistName = elemId;

		var request = {};

		request.columnname = 'shopcode';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getDefaultValueList", request);
	},
	'renderStatusCodeDetail' : function(elemId) {

		var datalistName = elemId;

		var request = {};

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/OrderStatusCodeApi/getListStatusCodeWithCodeValue",
				request);
	},

	'renderObjectReport' : function(elemId) {

		var datalistName = elemId;

		var request = {};

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist
				.initLoadApi(
						"/authenapi/ExportTotalCommissionToExcelFileApi/getListShopAndAgency",
						request);
	},

	'renderShopCodeOfAgency' : function(elemId, agency, callback) {

		var datalistName = elemId;

		var request = {};

		request.columnvalue = agency;

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getListShopOfAgencyWorking",
				request);

		if (typeof callback == 'function') {

			callback();
		}
		return datalist;
	},

	'renderShopCodeOfAgencyHasAllValue' : function(elemId, agency) {

		var datalistName = elemId;

		var request = {};

		request.columnvalue = agency;
		request.getallvalue = 'ALL';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getListShopOfAgencyWorking",
				request);

		return datalist;
	},

	'renderEmtyCell' : function(cell, row, col) {

		cell.innerHTML = '';
	},

	'renderRemoveCell' : function(cell, row, col) {

		cell.classList.add('is-hidden');
	},

	'renderAgency' : function(elemId, callback) {

		var datalistName = elemId;

		var request = {};

		request.columnname = 'agency';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getDefaultValueList", request,
				callback);
	},

	'renderAgencyOfShopcode' : function(elemId, shopcode, callback) {

		var datalistName = elemId;

		var request = {};

		request.columnname = 'agency';
		request.columnvalue = shopcode;

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getListAgencyOfShopWorking",
				request, callback);
	},
	'renderAgencyOfShopcodeHasAllValue' : function(elemId, shopcode, callback) {

		var datalistName = elemId;

		var request = {};

		request.columnname = 'agency';
		request.columnvalue = shopcode;
		request.getallvalue = 'ALL';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getListAgencyOfShopWorking",
				request, callback);
	},

	'getListAgency' : function(callback) {

		var request = {};

		request.columnname = 'agency';

		shinobi.api.request(
				"/authenapi/AgencyWorkingAreaApi/getDefaultValueList", JSON
						.stringify(request), function(response) {

					var jsonArr = JSON.parse(response);
					callback(jsonArr.data);

				});
	},

	'convertListToTreeNode' : function(list, textMap, idMap, hasChildren) {

		var result = [];

		for (var i = 0; i < list.length; i++) {

			var item = list[i];

			var tempObject = {};

			tempObject.text = item[textMap];
			tempObject.id = item[idMap];

			if (hasChildren) {

				tempObject.children = [];
			}

			result.push(tempObject);
		}

		return result;
	},

	'renderProvince' : function(elemId, callback) {

		var datalistName = elemId;

		var request = {};

		request.columnname = 'province';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getDefaultValueList", request,
				callback);
	},

	'renderDistrictListener' : function(districtId, provinceSelectId, callback) {

		var districtSelectDatalist = erLib.renderDistrict(districtId, document
				.getElementById(provinceSelectId).value, function() {

			callback();

			var provinceSelect = document.getElementById(provinceSelectId);

			provinceSelect.onchange = function() {

				var datalistElem = document.getElementById(districtId);

				removeAllChild(datalistElem);

				datalistElem.appendChild(districtSelectDatalist.sampleNode);

				erLib.renderDistrict(districtId, this.value);

			}
		});
	},

	'renderDistrict' : function(elemId, provinceValue, callback) {

		var elem = document.getElementById(elemId);

		elem.disabled = false;
		var datalistName = elemId;

		var request = {};

		request.columnname = 'province';
		request.columnvalue = provinceValue;

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getAreaDistribution", request,
				callback);

		return datalist;

	},

	'renderShopcodeHasAllValue' : function(elemId, callback) {

		var elem = document.getElementById(elemId);

		elem.disabled = false;
		var datalistName = elemId;

		var request = {};

		request.columnname = 'shopcode';

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist
				.initLoadApi(
						"/authenapi/AgencyWorkingAreaApi/getDefaultValueListWithAllValue",
						request, callback);

		return datalist;

	},

	'renderStaffInputListenner' : function(staffInputId, agencySelectId) {

		var controlElem = document.getElementById(agencySelectId);

		setTimeout(function() {

			var controlValue = controlElem.value;

			erLib.createStaffInputDatalist(staffInputId, controlValue);
		}, 2000)

		controlElem.onchange = function() {

			var currentValue = this.value;

			erLib.createStaffInputDatalist(staffInputId, currentValue);
		}
	},

	'createStaffInputDatalist' : function(inputId, controlValue) {

		var datalistId = inputId + 'Datalist';

		var datalistIdContainer = datalistId + 'Container';

		var currentDatalist = document.getElementById(datalistIdContainer);
		if (currentDatalist) {

			currentDatalist.remove();
		}

		var tempDatalist = document.getElementById('tempDataList');

		var cloneDatalist = tempDatalist.cloneNode(true);

		cloneDatalist.getElementsByTagName('datalist')[0].innerHTML = '<option  snb-datalist-parent="staffInputDatalist" snb-key="columnvalue"></option>';

		cloneDatalist.setAttribute('id', datalistIdContainer);

		document.getElementsByTagName('main')[0].appendChild(cloneDatalist);

		var input = document.getElementById(inputId);

		input.setAttribute('list', datalistId);

		input.value = '';

		var datalist = cloneDatalist.getElementsByTagName('datalist')[0];
		datalist.setAttribute('id', datalistId);
		datalist.setAttribute('snb-datalist-node', datalistId);

		var option = cloneDatalist.getElementsByTagName('option')[0];
		option.setAttribute('snb-datalist-parent', datalistId);
		option.setAttribute('snb-key', 'columnvalue');

		var datalist = erLib.renderDataListStaff(datalistId, controlValue);

		return datalist;

	},

	'getStaffList' : function(agencyObject, callback) {

		var request = {};

		request.agency = agencyObject.id;

		shinobi.api.request("/authenapi/StaffAreaDistributionApi/getStaffList",
				JSON.stringify(request), function(response) {

					var jsonArr = JSON.parse(response);
					var listStaff = jsonArr.data;

					var listStaffData = erLib.convertListToTreeNode(listStaff,
							'columnname', 'columnvalue', false);

					agencyObject.children = listStaffData;

					callback(agencyObject);

				});
	},

	'renderDataListStaff' : function(datalistId, controlValue) {

		var option = document.createElement('option');
		option.setAttribute('snb-datalist-parent', datalistId);
		option.setAttribute('snb-key', 'columnvalue');

		var datalist = document.getElementById(datalistId);

		removeAllChild(datalist);
		datalist.appendChild(option);

		var request = {};

		request.agency = controlValue;

		request.recordPerPage = getRecordNumber(datalistId);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistId);

		datalist.initLoadApi(
				"/authenapi/StaffAreaDistributionApi/getStaffList", request);

		return datalist;

	},

	'renderDataListOrderStatus' : function(datalistId, controlValue) {

		var option = document.createElement('option');
		option.setAttribute('snb-datalist-parent', datalistId);
		option.setAttribute('snb-key', 'orderstatus');
		option.setAttribute('snb-key-innerhtml', 'orderstatus');
		option.setAttribute('snb-key-result', 'orderresult');

		var datalist = document.getElementById(datalistId);

		removeAllChild(datalist);
		datalist.appendChild(option);

		var request = {};

		request.agency = controlValue;

		request.recordPerPage = getRecordNumber(datalistId);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistId);

		datalist.initLoadApi("/authenapi/OrderStatusCodeApi/getListStatusCode",
				request);

	},

	'renderWardListener' : function(wardId, districtSelectId) {

		var wardSelectDatalist = erLib.renderWard(wardId, document
				.getElementById(districtSelectId).value, function() {

			var districtSelect = document.getElementById(districtSelectId);

			districtSelect.onchange = function() {

				var datalistElem = document.getElementById(wardId);

				removeAllChild(datalistElem);

				datalistElem.appendChild(wardSelectDatalist.sampleNode);

				erLib.renderWard(wardId, this.value);

			}
		});
	},

	'renderWard' : function(elemId, districtValue, callback) {

		var elem = document.getElementById(elemId);

		elem.disabled = false;
		var datalistName = elemId;

		var request = {};

		request.columnname = 'district';
		request.columnvalue = districtValue;

		request.recordPerPage = getRecordNumber(datalistName);

		request.pageNum = 1;

		var datalist = new shinobi.datalist(datalistName);

		var sort = {};
		sort.colname = "createddate";
		sort.value = "desc";

		// datalist.staticsorts[0] = sort;

		datalist.initLoadApi(
				"/authenapi/AgencyWorkingAreaApi/getAreaDistribution", request,
				callback);

		return datalist;
	},
};shinobi.exportfile = {
	exportFile: function (url, request, option) {
		shinobi.notification.notification.loading();
		shinobi.api.request(url, JSON.stringify(request), function (response) {
			shinobi.notification.notification.loaded();
			console.log(response);
			var data = JSON.parse(response);
			console.log(data);
			if (data.hasOwnProperty('linkfile')) {
				var modal = document.getElementById('confirmDownloadExcelFileModal');
				shinobi.mapping.renderElement(modal, data);
				modal.classList.add('is-active');
			} else {
				shinobi.notification.notification.error('Không tìm thấy file');
			}
			console.log(data);
		})
	},

	request: function (url, param, fileType, callback) {

		var request = new XMLHttpRequest();
		// var url =
		// "http://localhost:7979/exportfile/excel/VseBankTransLogApi";
		request.open('POST', url, true);
		request.setRequestHeader('Content-Type',
			'application/x-www-form-urlencoded; charset=UTF-8');
		request.responseType = 'blob';

		request.onload = function (e) {
			// var fileName = "export.xlsx";
			var fileName = "export." + fileType;

			if (this.status === 200) {
				var blob = this.response;
				if (window.navigator.msSaveOrOpenBlob) {
					window.navigator.msSaveBlob(blob, fileName);
				} else {

					if (typeof callback == 'function') {

						callback();
					}

					var downloadLink = window.document.createElement('a');
					var contentTypeHeader = request
						.getResponseHeader("Content-Type");
					downloadLink.href = window.URL.createObjectURL(new Blob(
						[blob], {
						type: contentTypeHeader
					}));
					downloadLink.download = fileName;
					document.body.appendChild(downloadLink);
					downloadLink.click();
					document.body.removeChild(downloadLink);

				}
			}
		};
		request.send(param);

	},
};shinobi.fileupload = {
	'filelist': [],
	'register': function (uploadElemId, elemevent, uploadpoint, beforeupload,
		callback) {

		var uploadElem = document.getElementById(uploadElemId);
		shinobi.fileupload.registerElement(uploadElem, elemevent, uploadpoint,
			beforeupload, callback);

	},
	'registerElement': function (uploadElem, elemevent, uploadpoint,
		beforeupload, callback, option) {
		if (option && option.hasOwnProperty('type')) {
			if (option.type == 'public') {
				var sessionid = '###'
				if (elemevent == "change") {
					uploadElem
						.addEventListener(
							elemevent,
							function () {

								shinobi.notification.notification
									.loading();
								var type = shinobi.fileupload
									.isImage(uploadElem.files[0].type);

								var fileListIndex = beforeupload(type);

								var formData = new FormData();

								formData
									.append(
										"file",
										uploadElem.files[0]);
								formData.append("session",
									sessionid);
								formData.append(
									"fileindex",
									fileListIndex);

								shinobi.fileupload
									.uploadFile(
										formData,
										uploadpoint,
										callback);
							});
				} else if (elemevent == "paste") {
					uploadElem
						.addEventListener(
							elemevent,
							function (e) {
								shinobi.notification.notification
									.loading();
								var formData = new FormData();

								var file = e.clipboardData.files[0];

								if (Object.prototype.toString
									.call(file) === '[object File]') {
									var type = shinobi.fileupload
										.isImage(file.type);

									var fileListIndex = beforeupload(type);

									formData
										.append(
											"file",
											e.clipboardData.files[0]);
									formData.append(
										"session",
										sessionid);
									formData.append(
										"fileindex",
										fileListIndex);

									shinobi.fileupload
										.uploadFile(
											formData,
											uploadpoint,
											callback);
								}

							});
				} else if (elemevent == "drop") {
					uploadElem.addEventListener(elemevent,
						function (e) {
							shinobi.notification.notification
								.loading();
							beforeupload();

							var formData = new FormData();

							formData.append("file",
								e.dataTransfer.files[0]);
							formData.append("session",
								sessionid);

							shinobi.fileupload.uploadFile(
								formData, uploadpoint,
								callback);
						});
				}
			}

		}
		else {
			var userApi = (shinobi.hasOwnProperty('coreapi') && shinobi.coreapi.hasOwnProperty('userApi')) ? shinobi.coreapi.userApi : "/authenapi/userapi/";
			if (shinobi.hasOwnProperty('coreapi') && shinobi.coreapi.hasOwnProperty('getSessionIdApi')) {
				userApi = shinobi.coreapi.getSessionIdApi;
			}
			var request = {};
			shinobi.api
				.request(userApi + 'getSessionId'
					,
					JSON.stringify(request),
					function (response) {
						var json = JSON.parse(response);
						var sessionid = json.sessionid;

						if (elemevent == "change") {
							uploadElem
								.addEventListener(
									elemevent,
									function () {

										shinobi.notification.notification
											.loading();
										var type = shinobi.fileupload
											.isImage(uploadElem.files[0].type);

										var fileListIndex = beforeupload(type);

										var formData = new FormData();

										formData
											.append(
												"file",
												uploadElem.files[0]);
										formData.append("session",
											sessionid);
										formData.append(
											"fileindex",
											fileListIndex);

										shinobi.fileupload
											.uploadFile(
												formData,
												uploadpoint,
												callback);
									});
						} else if (elemevent == "paste") {
							uploadElem
								.addEventListener(
									elemevent,
									function (e) {
										shinobi.notification.notification
											.loading();
										var formData = new FormData();

										var file = e.clipboardData.files[0];

										if (Object.prototype.toString
											.call(file) === '[object File]') {
											var type = shinobi.fileupload
												.isImage(file.type);

											var fileListIndex = beforeupload(type);

											formData
												.append(
													"file",
													e.clipboardData.files[0]);
											formData.append(
												"session",
												sessionid);
											formData.append(
												"fileindex",
												fileListIndex);

											shinobi.fileupload
												.uploadFile(
													formData,
													uploadpoint,
													callback);
										}

									});
						} else if (elemevent == "drop") {
							uploadElem.addEventListener(elemevent,
								function (e) {
									shinobi.notification.notification
										.loading();
									beforeupload();

									var formData = new FormData();

									formData.append("file",
										e.dataTransfer.files[0]);
									formData.append("session",
										sessionid);

									shinobi.fileupload.uploadFile(
										formData, uploadpoint,
										callback);
								});
						}

					});
		}

	},
	'uploadFile': function (formData, uploadpoint, callback) {
		var xhr = new XMLHttpRequest();
		xhr.onreadystatechange = function () {
			if (this.readyState == 4 && this.status == 200) {
				shinobi.notification.notification.loaded();
				try {
					var json = JSON.parse(xhr.responseText);
					callback(json);

				} catch (e) {
					shinobi.notification.notification
						.error('Có lỗi vui lòng thử lại');
				}

				// var avatar = document.getElementById("avatar");
				// avatar.setAttribute("src", json.content);
			}
		};

		var hostname = window.location.hostname;
		var protocol = window.location.protocol;

		if (shinobi.hasOwnProperty('fileuploadconfig') && shinobi.fileuploadconfig.hasOwnProperty('uploadDomain')) {
			var uploadDomain = shinobi.fileuploadconfig.uploadDomain;
			xhr.open("POST", uploadDomain + uploadpoint, true);
		} else if (shinobi.hasOwnProperty('fileuploadconfig') && shinobi.fileuploadconfig.hasOwnProperty('uploadDomainProcess')
		) {
			uploadDomain = shinobi.fileuploadconfig.uploadDomainProcess();
			xhr.open("POST", uploadDomain + uploadpoint, true);
		} else {
			if (hostname == "localhost") {
				xhr.open("POST", "http://localhost:9999/" + uploadpoint, true);
			} else if (hostname === "www.aladin.finance") {
				xhr.open("POST", protocol + "//uploadfile.aladin.finance" + "/"
					+ uploadpoint, true);
			} else if (hostname === "chonso.cbv.com.vn") {
				xhr.open("POST", protocol + "//uploadfile.cbv.com.vn" + "/"
					+ uploadpoint, true);
			} else {
				xhr.open("POST", protocol + "//uploadfile." + hostname + "/"
					+ uploadpoint, true);
			}
		}

		xhr.withCredentials = true;
		xhr.send(formData);

	},
	'isImage': function (type) {
		if ('image/png' == type || 'image/jpeg' == type || 'image/gif' == type) {
			return true;
		} else {
			return false;
		}
	}

};shinobi.fragmentchangepassword = {
	classButtonControlSelector : 'fragment-change-password-button-control',
	listButtonControl : [],
	modal : '',
	modalId : 'fragmentChangePassword',
	init : function() {
		shinobi.fragmentchangepassword.modal = document
				.getElementById(shinobi.fragmentchangepassword.modalId);
		shinobi.fragmentchangepassword.addEventListButtonControl();
		shinobi.fragmentchangepassword.addEventButtonModal();
		// shinobi.fragmentchangepassword.addEventLogout();
		// shinobi.fragmentchangepassword.changeLoggedState();

	},

	addEventButtonModal : function() {

		shinobi.fragmentchangepassword.addEventChangePasswordButton();
	},
	addEventChangePasswordButton : function() {
		var button = shinobi.fragmentchangepassword.modal
				.getElementsByClassName('submit-button')[0];

		shinobi.fragmentchangepassword.addEventButtonWhenClick(button);
		shinobi.fragmentchangepassword.addEventButtonWhenEnter(button);

	},

	addEventButtonWhenClick : function(elem) {
		elem.onclick = function() {
			shinobi.fragmentchangepassword.changePasswordProcess();
		}
	},
	addEventButtonWhenEnter : function(elem) {
		elem.addEventListener('keypress', function(e) {
			var key = e.which || e.keyCode;
			if (key === 13) {
				shinobi.fragmentchangepassword.changePasswordProcess();
			}
		});
	},
	changePasswordProcess : function() {
		var oldPasswordInput = shinobi.fragmentchangepassword.modal
				.getElementsByClassName('old-password-input')[0];
		var newPasswordInput = shinobi.fragmentchangepassword.modal
				.getElementsByClassName('new-password-input')[0];
		var confirmPasswordInput = shinobi.fragmentchangepassword.modal
				.getElementsByClassName('confirm-password-input')[0];
		if (confirmPasswordInput.value.trim() == ""
				|| newPasswordInput.value.trim() == ""
				|| oldPasswordInput.value.trim() == "") {
			shinobi.notification.notification.error("Nhập đầy đủ thông tin!");
			return;
		} else if (confirmPasswordInput.value.trim() != newPasswordInput.value
				.trim()) {
			shinobi.notification.notification
					.error("Mật khẩu mới và xác nhận mật khẩu không giống nhau!");
			return;

		} else {
			shinobi.notification.confirm(function() {
				var request = {};
				request.oldpassword = shinobi.util
						.sha256(oldPasswordInput.value.trim());
				request.newpassword = shinobi.util
						.sha256(newPasswordInput.value.trim());
				shinobi.fragmentchangepassword.sendRequest(request);
			}, {
				title : 'Xác nhận',
				content : 'Bạn chắc chắn',

			});

		}
	},
	sendRequest : function(request) {
		shinobi.notification.notification.loading();
		shinobi.api.request(shinobi.coreapi.userApi + 'changeUserPassword',
				JSON.stringify(request), function(response) {
					shinobi.notification.notification.loaded();

					if (response == "update success") {
						shinobi.notification.notification
								.info('Đổi mật khẩu thành công');
						shinobi.fragmentchangepassword.close();
					}
				});

	},

	addEventListButtonControl : function() {
		shinobi.fragmentchangepassword.listButtonControl = document
				.getElementsByClassName(shinobi.fragmentchangepassword.classButtonControlSelector);

		for (var i = 0; i < shinobi.fragmentchangepassword.listButtonControl.length; i++) {
			var button = shinobi.fragmentchangepassword.listButtonControl[i];
			button.onclick = function() {
				shinobi.fragmentchangepassword.open();
			}
		}

	},

	open : function() {
		if (shinobi.fragmentchangepassword.modal != '') {
			shinobi.fragmentchangepassword.modal.classList.add('is-active');

		}
	},

	close : function() {
		if (shinobi.fragmentchangepassword.modal != '') {
			shinobi.fragmentchangepassword.modal.classList.remove('is-active');
		}
	},
};shinobi.fragmentforgotpassword = {
	classButtonControlSelector : 'fragment-forgot-password-button-control',
	listButtonControl : [],
	classLogoutButtonSelector : 'logout-button',
	classLoggedUserNameButtonSelector : 'logged-username-button',
	modal : '',
	modalId : 'fragmentForgotPassword',
	init : function() {

		shinobi.fragmentforgotpassword.modal = document
				.getElementById(shinobi.fragmentforgotpassword.modalId);
		shinobi.fragmentforgotpassword.modal
				.getElementsByClassName('note-field')[0].classList
				.add('is-hidden');
		shinobi.fragmentforgotpassword.addEventListButtonControl();
		shinobi.fragmentforgotpassword.addEventButtonModal();

	},

	addEventButtonModal : function() {

		shinobi.fragmentforgotpassword.addEventSubmitButton();

	},

	addEventSubmitButton : function() {
		var button = shinobi.fragmentforgotpassword.modal
				.getElementsByClassName('submit-button')[0];
		shinobi.fragmentforgotpassword.addEventWhenClick(button);
		shinobi.fragmentforgotpassword.addEventWhenEnter(button);

	},

	addEventWhenClick : function(elem) {
		elem.onclick = function() {
			shinobi.fragmentforgotpassword.request();
		}
	},
	addEventWhenEnter : function(elem) {
		elem.addEventListener('keypress', function(e) {
			var key = e.which || e.keyCode;
			if (key === 13) {
				shinobi.fragmentforgotpassword.request();
			}
		});
	},
	request : function() {
		var emailInput = shinobi.fragmentforgotpassword.modal
				.querySelector('input[snb-key="email"]');
		if (emailInput.value.trim() == "") {
			shinobi.notification.notification.error("Nhập đầy đủ thông tin!");
			return;
		} else {
			var request = {};
			request.email = emailInput.value.trim();
			shinobi.notification.notification.loading();
			shinobi.api.request(shinobi.coreapi.userApi
					+ 'sendForGetPasswordEmail', JSON.stringify(request),
					function(data) {
						if (data == "update success") {
							shinobi.notification.notification.loaded();
							shinobi.mapping.renderElement(
									shinobi.fragmentforgotpassword.modal,
									request);
						}
					});
		}
	},

	disableInputAndButton : function(elem, value, all) {
		elem.setAttribute('disabled', true);
	},

	showNoteField : function(elem, value, all) {
		elem.classList.remove('is-hidden');
	},
	addEventListButtonControl : function() {
		shinobi.fragmentforgotpassword.listButtonControl = document
				.getElementsByClassName(shinobi.fragmentforgotpassword.classButtonControlSelector);

		for (var i = 0; i < shinobi.fragmentforgotpassword.listButtonControl.length; i++) {
			var button = shinobi.fragmentforgotpassword.listButtonControl[i];
			button.onclick = function() {
				// hidden sign up modal
				shinobi.fragmentsignup.close();
				// show login modal
				shinobi.fragmentforgotpassword.open();
			}
		}

	},

	open : function() {
		if (shinobi.fragmentforgotpassword.modal != '') {
			shinobi.fragmentforgotpassword.modal.classList.add('is-active');

		}
	},

	close : function() {
		if (shinobi.fragmentforgotpassword.modal != '') {
			shinobi.fragmentforgotpassword.modal.classList.remove('is-active');
		}
	},
};shinobi.fragmentlogin = {
	href: window.location.href,
	classButtonControlSelector: 'fragment-login-button-control',
	listButtonControl: [],
	classLogoutButtonSelector: 'logout-button',
	classLoggedUserNameButtonSelector: 'logged-username-button',
	modal: '',
	modalId: 'fragmentLogin',
	init: function () {
		//add event redirect to origin page when login done
		shinobi.fragmentlogin.addEventClickLoginButton();
		shinobi.fragmentlogin.checkHasLogged(function () {
			shinobi.fragmentlogin.modal = document
				.getElementById(shinobi.fragmentlogin.modalId);
			shinobi.fragmentlogin.addEventButtonModal();
			shinobi.fragmentlogin.addEventLogout();
			shinobi.fragmentlogin.changeLoggedState();
			shinobi.fragmentlogin.showLoginSignUpButton();
		});

	},

	addEventClickLoginButton: function () {
		var loginButtons = document.querySelectorAll('.is-login-button');
		if (window.location.pathname != '/page/login') {
			loginButtons.forEach(function (button) {
				button.setAttribute('href', '/page/login?originpage=' + window.location.pathname);

			})
		}
	},

	showLoginSignUpButton: function () {
		if (JSON.stringify(document.body.classList).includes('not-logged')) {

			var signupButton = document.querySelector('.is-signup-button');
			signupButton.classList.remove('is-hidden');

			var loginButton = document.querySelector('.is-login-button');
			loginButton.classList.remove('is-hidden');
		}
	},

	loadGoogleAndFacebookLib: function () {
		window.fbAsyncInit = function () {
			FB.init({
				appId: '515882212152388',
				autoLogAppEvents: true,
				xfbml: true,
				version: 'v3.2'
			});
		};

		(function (d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) {
				return;
			}
			js = d.createElement(s);
			js.id = id;
			js.src = "https://connect.facebook.net/en_US/sdk.js";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
	},

	changeLoggedState: function () {
		shinobi.coreapi.reCheckAuthen(function (username) {

			if (username) {
				document.body.classList.add('has-logged');
				document.body.classList.remove('not-logged');

			} else {
				document.body.classList.remove('has-logged');
				document.body.classList.add('not-logged');
			}

		});
	},

	addEventLogout: function () {
		var listLogoutButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector);
		for (var k = 0; k < listLogoutButton.length; k++) {
			listLogoutButton[k].onclick = function () {
				shinobi.fragmentloginextension.logoutProcess(function () {
					shinobi.fragmentlogin.logoutProcess();
				});

			}

		}
	},

	logoutProcess: function () {
		shinobi.xhradapter.getResource('/logout', function (response) {

		});

		var listSignUpButton = document
			.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector);
		for (var i = 0; i < listSignUpButton.length; i++) {
			listSignUpButton[i].classList.remove('is-hidden');
		}

		var listLogInButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classButtonControlSelector);
		for (var j = 0; j < listLogInButton.length; j++) {
			listLogInButton[j].classList.remove('is-hidden');
		}

		var listLogoutButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector);
		for (var k = 0; k < listLogoutButton.length; k++) {
			listLogoutButton[k].classList.remove('is-logged');
		}

		var listLoggedUserNameButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classLoggedUserNameButtonSelector);
		for (var l = 0; l < listLoggedUserNameButton.length; l++) {
			listLoggedUserNameButton[l].classList.remove('is-logged');
			listLoggedUserNameButton[l].classList.remove('is-logged');
			listLoggedUserNameButton[l].innerHTML = '';

		}

		shinobi.cacheapi.clear();
		// when clear cache => check authen has reload `
		shinobi.fragmentlogin.changeLoggedState();
		window.location.href = '/';

	},

	checkHasLogged: function (callback) {
		shinobi.coreapi.checkAuthen(function (sessionId) {
			if (sessionId) {
				shinobi.fragmentlogin.hasLoginProcess();
				shinobi.fragmentloginextension.loginProcess();
			}

			if (typeof callback == 'function') {
				callback();
			}
		});
	},

	addEventButtonModal: function () {

		shinobi.fragmentlogin.addEventLoginButton();

	},

	addEventLoginButton: function () {
		var listSelector = ['.username-input', '.password-input',
			'.login-button'];
		listSelector.forEach(function (selector) {
			var elem = shinobi.fragmentlogin.modal.querySelector(selector);
			var tagName = elem.tagName;
			switch (tagName) {
				case 'INPUT':
					shinobi.fragmentlogin.addEventLoginWhenEnter(elem);
					break;
				case 'A':
				case 'BUTTON':
					shinobi.fragmentlogin.addEventLoginWhenEnter(elem);
					shinobi.fragmentlogin.addEventLoginWhenClick(elem);
					break;
				default:
					shinobi.fragmentlogin.addEventLoginWhenClick(elem);
					break;
			}

		});

	},

	addEventLoginWhenClick: function (elem) {
		elem.onclick = function () {
			shinobi.fragmentlogin.login();
		}
	},
	addEventLoginWhenEnter: function (elem) {
		elem.addEventListener('keypress', function (e) {
			var key = e.which || e.keyCode;
			if (key === 13) {
				shinobi.fragmentlogin.login();
			}
		});
	},
	login: function () {
		var username = document.getElementsByClassName('username-input')[0];
		var password = document.getElementsByClassName('password-input')[0];
		if (username.value.trim() == "" || password.value.trim() == "") {
			shinobi.notification.notification.error("Nhập đầy đủ thông tin!");
			return;
		} else {
			var request = {};
			request.username = username.value.trim();
			request.password = shinobi.util.sha256(password.value.trim());
			request.secureinfo = "";
			shinobi.fragmentlogin.requestLogin(request, "/login");

		}
	},
	requestLogin: function (request, loginurl) {
		shinobi.notification.notification.loading();
		shinobi.api.request(loginurl, JSON.stringify(request), function (data) {
			shinobi.notification.notification.loaded();
			if (data == "authen success") {
//				shinobi.fragmentlogin.close();
				shinobi.fragmentlogin.hasLoginProcess();
				shinobi.fragmentloginextension.loginProcess();

			} else {
				shinobi.notification.notification
					.error("Tài khoản hoặc mật khẩu sai!!!");
				return;
			}
		});

	},

	hasLoginProcess: function () {
		// hidden all sign in and sign up button
		var listSignUpButton = document
			.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector);
		for (var i = 0; i < listSignUpButton.length; i++) {
			listSignUpButton[i].classList.add('is-hidden');
		}

		var listLogInButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classButtonControlSelector);
		for (var j = 0; j < listLogInButton.length; j++) {
			listLogInButton[j].classList.add('is-hidden');
		}

		var listLogoutButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classLogoutButtonSelector);
		for (var k = 0; k < listLogoutButton.length; k++) {
			listLogoutButton[k].classList.add('is-logged');
		}

		var listLoggedUserNameButton = document
			.getElementsByClassName(shinobi.fragmentlogin.classLoggedUserNameButtonSelector);
		for (var l = 0; l < listLoggedUserNameButton.length; l++) {
			listLoggedUserNameButton[l].classList.add('is-logged');
			listLoggedUserNameButton[l].classList.add('is-loading');

		}

		shinobi.fragmentlogin.changeLoggedState();

	},
};shinobi.fragmentloginextension = {
	loginProcess: function () {
		// shinobi.loggedusertemplaterender.renderHeaderMenu();
		if (shinobi.socketmanager.privateWebSocket == '') {
			shinobi.socketmanager.init();
		}

	},
	logoutProcess: function (callback) {
		if (typeof callback == 'function') {
			callback();
		}
	},
};shinobi.fragmentsignup = {
	classButtonControlSelector : 'fragment-sign-up-button-control',
	listButtonControl : [],
	modal : '',
	modalId : 'fragmentSignUp',
	intlTelInput : '',
	hasCheckTrashMail : true,
	init : function() {

		shinobi.fragmentsignup.modal = document
				.getElementById(shinobi.fragmentsignup.modalId);
		shinobi.fragmentsignup.addEventListButtonControl();
		shinobi.fragmentsignup.renderSelectPhoneTelephoneInput();
		shinobi.fragmentsignup.addEventButtonModal();

	},

	renderSelectPhoneTelephoneInput : function() {

		var input = shinobi.fragmentsignup.modal
				.getElementsByClassName('phone-number-input')[0];
		shinobi.fragmentsignup.intlTelInput = window.intlTelInput(input, {
			// allowDropdown: false,
			// autoHideDialCode: false,
			autoPlaceholder : "off",
			dropdownContainer : document.body,
			// excludeCountries: ["us"],
			// formatOnDisplay: false,
			// geoIpLookup: function(callback) {
			// $.get("http://ipinfo.io", function() {},
			// "jsonp").always(function(resp) {
			// var countryCode = (resp && resp.country) ? resp.country : "";
			// callback(countryCode);
			// });
			// },
			// hiddenInput: "full_number",
			initialCountry : "vn",
			// localizedCountries: { 'de': 'Deutschland' },
			// nationalMode: false,
			// onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
			// placeholderNumberType: "MOBILE",
			// preferredCountries: ['cn', 'jp'],
			// separateDialCode: true,
			utilsScript : "/static/js/library/intlTelInputUtil.js",
		});
	},

	addEventButtonModal : function() {
		shinobi.fragmentsignup.addEventSignUpButton();
		shinobi.fragmentsignup.signUpWithFacebook();
		shinobi.fragmentsignup.signUpWithGoogle();

	},

	signUpWithGoogle : function() {
		var button = shinobi.fragmentsignup.modal
				.querySelector('.google-button');
		gapi
				.load(
						'auth2',
						function() {
							// Retrieve the singleton for the GoogleAuth library
							// and set up the client.
							var auth2 = gapi.auth2
									.init({
										client_id : '92469729159-a402g2mqs9o0bje69k6gr2lheun6beer.apps.googleusercontent.com',
										cookiepolicy : 'single_host_origin',

									});

							auth2
									.attachClickHandler(
											button,
											{},
											function(googleUser) {

												var profile = googleUser
														.getBasicProfile();

												var accessToken;
												if (googleUser.Zi) {
													accessToken = googleUser.Zi.access_token;
												}
												if (googleUser.tc) {
													accessToken = googleUser.tc.access_token;
												}
												if (accessToken) {
													var password = shinobi.util
															.sha256(accessToken);
													var phonenumber = Math
															.floor(Math
																	.random()
																	* (999999999 - 100000000)
																	+ 100000000);

													var lastName = (googleUser.w3) ? googleUser.w3.ofa
															: googleUser.Pt.CU;
													var firstName = (googleUser.w3) ? googleUser.w3.wea
															: googleUser.Pt.BW;
													var username = (googleUser.El) ? googleUser.El
															: googleUser.Ca;
													var mappingJson = {
														lastname : lastName,
														firstname : firstName,
														email : profile
																.getEmail(),
														phonenumber : phonenumber,
														password : password,
														confirmPassword : password,
														username : "gg_"
																+ username,
														acceptRule : true,
													};

													var formContainer = shinobi.fragmentsignup.modal
															.getElementsByClassName('form-container')[0];

													shinobi.mapping
															.renderElement(
																	formContainer,
																	mappingJson);
													var signUpOption = {
														method : 'google',
														data : mappingJson,
													};
													shinobi.fragmentsignup
															.signup(signUpOption);

												} else {
													shinobi.notification.notification
															.error('Không thể kết nối với Google');
												}

											}, function(error) {
												alert(JSON.stringify(error,
														undefined, 2));
											});
						});
	},

	signUpWithFacebook : function() {
		var button = shinobi.fragmentsignup.modal
				.querySelector('.facebook-button');
		button.onclick = function() {
			FB
					.login(
							function(responseLogin) {
								if (responseLogin.authResponse) {
									var authResponse = responseLogin.authResponse;
									var accessToken = authResponse.accessToken;
									var userID = authResponse.userID;

									FB
											.api(
													'/' + userID,
													'GET',
													{
														"fields" : "id,first_name, last_name,birthday,email,hometown,location"
													},
													function(response) {

														var password = shinobi.util
																.sha256(accessToken);
														var phonenumber = Math
																.floor(Math
																		.random()
																		* (999999999 - 100000000)
																		+ 100000000);

														var mappingJson = {
															lastname : response.last_name,
															firstname : response.first_name,
															email : response.email,
															phonenumber : phonenumber,
															password : password,
															confirmPassword : password,
															username : "fb_"
																	+ userID,
															acceptRule : true,
														};

														var formContainer = shinobi.fragmentsignup.modal
																.getElementsByClassName('form-container')[0];
														shinobi.mapping
																.renderElement(
																		formContainer,
																		mappingJson);
														var signUpOption = {
															method : 'facebook',
															data : mappingJson,
														};
														shinobi.fragmentsignup
																.signup(signUpOption);

													});
								} else {
									shinobi.notification.notification
											.error('Không thể kết nối với Facebook');
								}

							},
							{
								scope : 'user_birthday, email, user_hometown, user_gender, user_location'
							});
		}
	},

	addEventSignUpButton : function() {

		var signUpButton = shinobi.fragmentsignup.modal
				.querySelector('.signup-button');
		shinobi.fragmentsignup.addEventWhenClick(signUpButton);
		shinobi.fragmentsignup.addEventWhenEnter(signUpButton);
	},

	addEventWhenClick : function(elem) {
		elem.onclick = function() {
			shinobi.fragmentsignup.signup();
		}
	},
	addEventWhenEnter : function(elem) {
		elem.addEventListener('keypress', function(e) {
			var key = e.which || e.keyCode;
			if (key === 13) {
				shinobi.fragmentsignup.signup();
			}
		});
	},
	signup : function(signUpOption) {

		var request = shinobi.fragmentsignup.getInput();

		shinobi.fragmentsignup.checkInput(request, function(signUpRequest) {

			shinobi.fragmentsignup.sendRequest(signUpRequest);
		}, signUpOption);
	},

	sendRequest : function(signUpRequest) {
		shinobi.notification.notification.loading();
		shinobi.api.request(shinobi.coreapi.userApi + "createNewUser", JSON
				.stringify(signUpRequest), function(signUpResponse) {
			if (signUpResponse == 'update success') {
				shinobi.notification.notification.loaded();
				shinobi.fragmentsignup.checkMailProcess(signUpRequest);
				shinobi.fragmentsignup.showCheckMailModal(signUpRequest);
				shinobi.fragmentsignup.close()

			}
		});
	},

	showCheckMailModal : function(request) {
		var content = '<p>Xin chào <b>'
				+ request['lastname']
				+ ' '
				+ request['firstname']
				+ '</b>,<br>'
				+ 'Chúng tôi đã gửi mã xác nhận đến email: <b>'
				+ request['email']
				+ '</b><br>Vui lòng xác nhận địa chỉ email để hoàn tất đăng ký tài khoản.<br>Trân trọng. </p>';
		shinobi.notification.confirm(function() {

		}, {
			title : 'Xác nhận email',
			content : content,
			ishiddenfooter : true,
			modalsize : 'is-medium',
		});
	},
	checkMailProcess : function(signUpRequest) {
		if (shinobi.fragmentsignup.hasCheckTrashMail) {
			shinobi.api.request(shinobi.coreapi.mailApi + "sendMail", JSON
					.stringify(signUpRequest), function(sendMailResponse) {

			});
		}
	},

	getInput : function() {
		var formContainer = shinobi.fragmentsignup.modal
				.getElementsByClassName('form-container')[0];

		var listSnbKey = formContainer.querySelectorAll('[snb-key]');
		var request = {};
		for (var i = 0; i < listSnbKey.length; i++) {

			var key = listSnbKey[i].getAttribute('snb-key');
			var value = shinobi.util.getValueInput(listSnbKey[i]);
			request[key] = value;

		}
		return request;
	},

	checkInput : function(request, callback, signUpOption) {

		var formContainer = shinobi.fragmentsignup.modal
				.getElementsByClassName('form-container')[0];
		var hasFillAllInput = true;
		var entries = Object.entries(request);
		entries
				.forEach(function(item) {
					var key = item[0];
					var value = item[1];
					var elem = formContainer.querySelector('[snb-key="' + key
							+ '"]');
					if (typeof value == 'string' && value == ''
							|| typeof value == 'boolean' && value == false) {
						shinobi.notification.notification
								.error('Nhập đầy đủ thông tin và đồng ý các điều khoản');
						elem.classList.add('is-danger');
						hasFillAllInput = false;
					} else {
						elem.classList.remove('is-danger');
					}

				});

		if (hasFillAllInput) {
			if (request['password'] == request['confirmPassword']) {
				request['password'] = shinobi.util.sha256(request['password']);
				request['confirmPassword'] = shinobi.util
						.sha256(request['confirmPassword']);
				request['phonereligion'] = shinobi.fragmentsignup
						.getInternationalTelephoneCode();
				request['country'] = shinobi.fragmentsignup
						.getInternationalTelephoneCountry();
				if (signUpOption) {
					var method = signUpOption['method'];
					switch (method) {
					case 'google':
					case 'facebook':
						request['username'] = signUpOption['data']['username'];
						break;
					default:
						request['username'] = request['email'];
						break;
					}
				} else {
					request['username'] = request['email'];
				}

				if (typeof callback == 'function') {
					callback(request);
				}
			} else {
				shinobi.notification.notification
						.error('Xác nhận mật khẩu không trùng khớp');
			}
		}
	},

	getInternationalTelephoneCode : function() {
		return shinobi.util
				.getInternationalTelephoneCode(shinobi.fragmentsignup.intlTelInput);
	},
	getInternationalTelephoneCountry : function() {
		return shinobi.util
				.getInternationalTelephoneCountry(shinobi.fragmentsignup.intlTelInput);
	},

	addEventListButtonControl : function() {
		shinobi.fragmentsignup.listButtonControl = document
				.getElementsByClassName(shinobi.fragmentsignup.classButtonControlSelector);

		for (var i = 0; i < shinobi.fragmentsignup.listButtonControl.length; i++) {
			var button = shinobi.fragmentsignup.listButtonControl[i];
			button.onclick = function() {
				// hidden login modal
				shinobi.fragmentlogin.close();
				// show sign up modal
				shinobi.fragmentsignup.open();
			}
		}

	},
	open : function() {
		if (shinobi.fragmentsignup.modal != '') {
			shinobi.fragmentsignup.modal.classList.add('is-active');
		}

	},

	close : function() {
		if (shinobi.fragmentsignup.modal != '') {
			shinobi.fragmentsignup.modal.classList.remove('is-active');
		}
	},
};shinobi.gui = (function () {
  var constructor = function (url, option) {
    this.editors = [];
    this.tableId = "dataTable";
    this.detailPanelId = "detailpanel";
    this.buttonGroupId = "buttonGroup";
    this.apiurl = url;
    this.option = option;
    this.detailPanelElem = document.getElementById(this.detailPanelId);
    shinobi.tableHelper.getColname(this.tableId);
    this.tableObject = new shinobi.table(this.tableId);

    this.loadTable = function () {
      // this.tableObject = new shinobi.table(this.tableId);
      this.tableObject.viewDetailPanelId = this.detailPanelId;

      var colNames = this.tableObject.getColnames(this.tableId);
      var tableId = this.tableId;
      var renders = shinobi.tableHelper.getRender(tableId);
      if (!renders[0]) {
        renders[0] = this.tableObject.viewDetailRender;
      }

      var request = {};
      var recordNumber = shinobi.util.getRecordNumber(this.tableId);
      request.recordPerPage = isNaN(recordNumber) ? 10 : recordNumber;

      if (
        option != null &&
        option.hasOwnProperty["tableObjectOption"] &&
        option.tableObjectOption != null &&
        typeof option.tableObjectOption.staticfilters !== "undefined" &&
        option.tableObjectOption.staticfilters != null
      ) {
        this.tableObject.staticfilters = option.tableObjectOption.staticfilters;
      }

      var sort = {};
      sort.colname = "id";
      sort.value = "desc";

      this.tableObject.staticsorts[0] = sort;

      if (
        option != null &&
        option.hasOwnProperty["tableObjectOption"] &&
        option.tableObjectOption != null &&
        typeof option.tableObjectOption.hasCheckDuplicateFilterColumn !== "undefined" &&
        option.tableObjectOption.hasCheckDuplicateFilterColumn != null &&
        typeof option.tableObjectOption.checkDuplicateFilterColumnList !== "undefined" &&
        option.tableObjectOption.checkDuplicateFilterColumnList != null
      ) {
        this.tableObject.hasCheckDuplicateFilterColumn = option.tableObjectOption.hasCheckDuplicateFilterColumn;
        this.tableObject.checkDuplicateFilterColumnList = option.tableObjectOption.checkDuplicateFilterColumnList;
      }

      this.tableObject.initLoadApi(this.apiurl + "/findDataListExport", request, colNames, renders);

      return this;
    };

    this.createElem = function (nodetype, classlist) {
      var elem = document.createElement(nodetype);
      elem.classList.add(classlist);
      return elem;
    };

    this.buildViewPanelObject = function () {
      var object = this;
      var formElem = document.getElementById(this.detailPanelId);

      var snbElems = formElem.querySelectorAll("[snb-key]");

      var result = {};
      snbElems.forEach(function (elem) {
        var colname = elem.getAttribute("snb-key");

        if (elem.hasAttribute("snb-preprocess")) {
          shinobi.mapping.getValueElement(object.detailPanelElem, function (jsonMapping) {
            result[colname] = eval(elem.getAttribute("snb-preprocess"))(elem.value, {
              elem: elem,
              gui: object,
              all: jsonMapping,
            });
          });
        } else if (elem.hasAttribute("snb-editor-index")) {
          result[colname] = shinobiEditors[elem.getAttribute("snb-editor-index")].getData();
        } else if (elem.hasAttribute("snb-datatype")) {
          var datatype = elem.getAttribute("snb-datatype");

          if (datatype == "number") {
            result[colname] = Number(elem.value);
          }
        } else {
          result[colname] = elem.value;
        }
      });

      return result;
    };

    this.registerCreateButton = function () {
      var list = document.getElementById(this.buttonGroupId).getElementsByClassName("createButton");
      var gui = this;
      var createButton = list[0];
      var hasButton = true;
      if (option && option.hasOwnProperty("isHiddenCreateButton") && option["isHiddenCreateButton"] == true) {
        hasButton = false;
        createButton.classList.add("is-hidden");
      }

      if (hasButton) {
        createButton.onclick = function () {
          shinobi.mapping.getValue("#" + gui.detailPanelId, function (jsonMapping) {
            shinobi.notification.confirm(function () {
              gui.createProcess(jsonMapping);
            });
          });
        };
      }
    };

    this.createProcess = function (jsonMapping) {
      var gui = this;
      if (option && option.hasOwnProperty("createFunction")) {
        option["createFunction"](gui, jsonMapping);
        return;
      }
      if (option && option.hasOwnProperty("checkEmpty") && option["checkEmpty"]) {
        shinobi.mapping.getValueElement(
          gui.detailPanelElem,
          function (reJsonMapping) {
            delete reJsonMapping["id"];
            Object.values(reJsonMapping).includes("")
              ? shinobi.util.fillInputMessage()
              : gui.sendCreateRequest(jsonMapping);
          },
          {
            checkEmpty: true,
          }
        );
        return;
      }

      gui.sendCreateRequest(jsonMapping);
    };

    this.sendCreateRequest = function (jsonMapping) {
      var gui = this;
      delete jsonMapping.id;
      shinobi.notification.notification.loading();
      shinobi.api.request(gui.apiurl + "/create", JSON.stringify(jsonMapping), function (content) {
        shinobi.notification.notification.info(content);

        gui.loadTable();
      });
    };
    this.registerDeleteButton = function () {
      var list = document.getElementById(this.buttonGroupId).getElementsByClassName("deleteButton");
      var deleteButton = list[0];
      var gui = this;
      var hasButton = true;
      if (option && option.hasOwnProperty("isHiddenDeleteButton") && option["isHiddenDeleteButton"] == true) {
        hasButton = false;
        deleteButton.classList.add("is-hidden");
      }

      if (hasButton) {
        deleteButton.onclick = function () {
          gui.checkDetailPanelJsonHasId(gui, function (jsonMapping) {
            if (option && option.hasOwnProperty("deleteFunction")) {
              option["deleteFunction"](gui, jsonMapping);
            } else {
              shinobi.notification.notification.loading();
              shinobi.api.request(gui.apiurl + "/remove", JSON.stringify(jsonMapping), function (content) {
                shinobi.notification.notification.info(content);
                gui.loadTable();
              });
            }
          });
        };
      }
    };

    this.registerUpdateButton = function () {
      var updateButton = document.getElementById(this.buttonGroupId).getElementsByClassName("updateButton")[0];

      var gui = this;
      var hasButton = true;
      if (option && option.hasOwnProperty("isHiddenUpdateButton") && option["isHiddenUpdateButton"] == true) {
        hasButton = false;
        updateButton.classList.add("is-hidden");
      }
      if (hasButton) {
        updateButton.onclick = function () {
          gui.checkDetailPanelJsonHasId(gui, function (jsonMapping) {
            if (option && option.hasOwnProperty("updateFunction")) {
              option["updateFunction"](gui, jsonMapping);
            } else {
              gui.updateProcess(jsonMapping);
            }
          });
        };
      }
    };

    this.updateProcess = function (jsonMapping) {
      var gui = this;
      if (option && option.hasOwnProperty("updateFunction")) {
        option["updateFunction"](gui, jsonMapping);
        return;
      }
      if (option && option.hasOwnProperty("checkEmpty") && option["checkEmpty"]) {
        shinobi.mapping.getValueElement(
          gui.detailPanelElem,
          function (reJsonMapping) {
            Object.values(reJsonMapping).includes("")
              ? shinobi.util.fillInputMessage()
              : gui.sendUpdateRequest(jsonMapping);
          },
          {
            checkEmpty: true,
          }
        );
        return;
      }

      gui.sendUpdateRequest(jsonMapping);
    };

    this.sendUpdateRequest = function (jsonMapping) {
      var gui = this;
      shinobi.notification.notification.loading();

      shinobi.api.request(gui.apiurl + "/merge", JSON.stringify(jsonMapping), function (content) {
        shinobi.notification.notification.info(content);
        gui.loadTable();
      });
    };
    this.checkDetailPanelJsonHasId = function (gui, callback) {
      shinobi.mapping.getValue("#" + gui.detailPanelId, function (jsonMapping) {
        if (jsonMapping.hasOwnProperty("id") && jsonMapping["id"].trim() != "") {
          shinobi.notification.confirm(function () {
            if (typeof callback == "function") {
              callback(jsonMapping);
            }
          });
        } else {
          shinobi.notification.notification.error("Chưa chọn record nào trong danh sách để thao tác");
        }
      });
    };

    this.registerRefreshButton = function () {
      var list = document.getElementById(this.buttonGroupId).getElementsByClassName("refreshButton");

      var refreshButton = list[0];

      var table = this.tableObject;
      refreshButton.addEventListener("click", function () {
        location.reload();
      });
    };

    this.loadAll = function () {
      this.loadTable();
      this.registerCreateButton();
      this.registerRefreshButton();
      this.registerDeleteButton();
      this.registerUpdateButton();
    };
  };

  return constructor;
})();
shinobi.initbulma = {

	quickviews: [],
	calendars: '',
	tagsInput: '',
	iconpicker: '',
	bulmaSlider: '',

	build: function () {
		shinobi.initbulma.addEventNavbarBurger();
		shinobi.initbulma.addEventModal();
		shinobi.initbulma.addEventTabs();
		shinobi.initbulma.addEventDropdown();
		shinobi.initbulma.activeNavbarHeader();


		if (typeof bulmaSlider == 'function') {

			shinobi.initbulma.bulmaSlider = bulmaSlider.attach();
		}

		if (typeof bulmaTagsinput == 'function') {

			shinobi.initbulma.tagsInput = bulmaTagsinput.attach();
		}

		if (typeof bulmaIconpicker == 'function') {

			shinobi.initbulma.iconpicker = bulmaIconpicker.attach();
		}

		if (typeof bulmaCalendar == 'function') {

			shinobi.initbulma.calendars = bulmaCalendar.attach('[type="date"]:not(.is-init-bulma-false)',
				{
					'dateFormat': 'DD/MM/YYYY',
					'displayMode': 'dialog',
					closeOnOverlayClick: false,
				});

		}

	},

	addEventDropdown: function () {

		var dropdownList = document
			.querySelectorAll('.dropdown:not(.is-hoverable)');

		for (var i = 0; i < dropdownList.length; i++) {

			var dropdown = dropdownList[i];
			shinobi.initbulma.addEventDropdownElem(dropdown);
		}
	},

	addEventDropdownElem: function (dropdown) {
		var button = dropdown.getElementsByClassName('dropdown-trigger')[0]
			.getElementsByClassName('button')[0];
		if (button) {
			button.onclick = function () {
				dropdown.classList.toggle('is-active');
			}
		}
	},

	activeNavbarHeader: function () {

		var list = document.querySelectorAll('.navbar.is-init');
		for (var i = 0; i < list.length; i++) {
			var navbar = list[i];
			shinobi.initbulma.activeNavbar(navbar);
		}
	},

	activeNavbar: function (navbar) {
		var listItem = navbar
			.querySelectorAll('.navbar-item[href],.navbar-link[href]');
		var pathNameAppendSearch = shinobi.initbulma.getPathNameAppendSearch();
		for (var i = 0; i < listItem.length; i++) {
			var item = listItem[i];
			var href = item.getAttribute('href');

			if (pathNameAppendSearch.includes(href)) {
				item.classList.add('is-active');
				shinobi.initbulma.activeParentNavbarItem(item.parentNode);
			}
		}

		var refListItem = navbar
			.querySelectorAll('.navbar-item[ref-list],.navbar-link[ref-list]');

		for (var j = 0; j < refListItem.length; j++) {
			var item1 = refListItem[j];
			var refList = item1.getAttribute('ref-list').split(',');
			refList.forEach(function (refItem) {
				if (refItem == pathNameAppendSearch) {
					item1.classList.add('is-active');
					shinobi.initbulma.activeParentNavbarItem(item1.parentNode);
				}
			});
		}
	},

	getPathNameAppendSearch: function () {
		return window.location.pathname + window.location.search;
	},

	activeParentNavbarItem: function (parent) {

		if (parent.hasAttribute('class')) {
			var classList = parent.getAttribute('class');
			var listStopLoop = ['navbar-start', 'nabvar-end', 'navbar-menu',
				'navbar-brand', 'navbar'];
			listStopLoop.forEach(function (classItem) {
				if (classList.includes(classItem)) {
					return;
				}
			});

			if (classList.includes('navbar-item')
				&& classList.includes('has-dropdown')) {
				var navbarLink = parent.getElementsByClassName('navbar-link')[0];
				if (navbarLink) {
					navbarLink.classList.add('is-active');
				}
			} else {
				shinobi.initbulma.activeParentNavbarItem(parent.parentNode);
			}

		}
	},

	activeTab: function (listLi, li) {

		for (var l = 0; l < listLi.length; l++) {
			(listLi[l] == li) ? listLi[l].classList.add('is-active')
				: listLi[l].classList.remove('is-active');

			if (listLi[l].hasAttribute('tab-container-id')) {
				var container = document.getElementById(listLi[l].getAttribute('tab-container-id'));
				if (container) {
					(listLi[l] == li) ? container.classList.remove('is-hidden')
						: container.classList.add('is-hidden');
				}
			}
		}

	},

	addEventTabs: function () {
		var tabsList = document.querySelectorAll('.tabs.is-init');

		for (var i = 0; i < tabsList.length; i++) {
			shinobi.initbulma.addEvenOneTab(tabsList, i);
		}

	},

	addEvenOneTab: function (tabsList, i) {
		var tabs = tabsList[i];
		var listLi = tabs.getElementsByTagName('li');
		var classList = tabs.getAttribute('class');
		for (var l = 0; l < listLi.length; l++) {
			if (!classList.includes('is-not-active-click')) {
				listLi[l].onclick = function () {
					var li = this;
					shinobi.initbulma.activeTab(listLi, li);

				}
			}
			if (classList.includes('is-active-pathname')) {
				var pathname = shinobi.initbulma.getPathNameAppendSearch();
				var a = listLi[l].querySelector('a[href]');
				if (a) {
					var href = a.getAttribute('href');
					if (pathname.includes(href)) {
						listLi[l].classList.add('is-active');
					}
				}
			}
		}
	},

	addEventModal: function () {

		var listModal = document.querySelectorAll('.modal');

		listModal.forEach(function (item, index) {

			shinobi.initbulma.modalEventListener(item);
		});
	},

	modalOpen: function (modal) {
		modal.classList.add("is-active");
		document.documentElement.classList.add('is-clipped');
	},

	modalClose: function (modal) {
		modal.classList.remove("is-active");
		document.documentElement.classList.remove('is-clipped');
	},


	modalEventListener: function (modal) {

		var closeButtonList = modal
			.querySelectorAll('.delete,[aria-label="close"]');
		if (closeButtonList.length > 0) {
			var closeButton = closeButtonList[0];
			if (closeButton) {
				closeButton.onclick = function () {
					shinobi.initbulma.modalClose(modal);
				}
			}
		}

		var cancelModalButtonList = modal
			.getElementsByClassName("cancel-modal-button");

		for (var i = 0; i < cancelModalButtonList.length; i++) {

			cancelModalButtonList[i].onclick = function () {
				shinobi.initbulma.modalClose(modal);
			}
		}

		var modalBackground = modal.getElementsByClassName("modal-background");

		for (var j = 0; j < modalBackground.length; j++) {

			modalBackground[j].onclick = function () {
				shinobi.initbulma.modalClose(modal);
			}
		}

		window.addEventListener("keydown", function (event) {
			if (event.key == 'Escape') {
				shinobi.initbulma.modalClose(modal);
			}
		}, true);

		var footer = modal.getElementsByTagName("footer")[0];

		if (footer) {

			var buttonFooterList = footer.getElementsByTagName("button");

			for (var l in buttonFooterList) {

				buttonFooterList[l].onclick = function () {
					shinobi.initbulma.modalClose(modal);
				}
			}
		}

		if (modal.hasAttribute('control-button-list')) {

			var controlButtonList = modal.getAttribute('control-button-list')
				.split('|');

			for (var k = 0; k < controlButtonList.length; k++) {

				var item = document.getElementById(controlButtonList[k]);

				item.onclick = function () {
					shinobi.initbulma.modalOpen(modal);

					if (item.hasAttribute('snb-render')) {
						var value = item.getAttribute('snb-key');
						var render = item.getAttribute('snb-render');
						eval(render)(item, value);
					}
				}
			}
		}
	},

	addEventNavbarBurger: function () {

		var navbarBurgers = Array.prototype.slice.call(document
			.querySelectorAll('.navbar-burger'), 0);

		if (navbarBurgers.length > 0) {

			navbarBurgers.forEach(function (el) {
				el.addEventListener('click', function () {
					// Get the target from the "data-target" attribute
					var targetId = el.dataset.target;
					var target = document.getElementById(targetId);
					// Toggle the "is-active" class on both the "navbar-burger"
					// and the "navbar-menu"
					el.classList.toggle('is-active');
					target.classList.toggle('is-active');

				});
			});
		}
	},
};shinobi.language = {

	'currentPagelang': '',
	'existLangAttribte': 'snb-exist-lang',
	option: {},
	jsonArray: [],
	dataRender: {},
	hasChangeLanguage: true,
	warningList: [],

	'build': function (option) {

		this.option = option;
		this.setupOption();

		shinobi.language.renderLangCodeSelect(function () {
			shinobi.language.renderPageLanguage();

		});

	},

	setupOption: function () {
		var option = this.option;
		if (option) {
			if (option.hasOwnProperty('autoReload') && option['autoReload']) {
				setInterval(function () {
					shinobi.language.renderPageLanguage();
				}, 2000);
			}
		}
	},

	'renderPageLanguage': function () {

		if (shinobi.language.hasChangeLanguage) {
			shinobi.language.getLangCodeList(function () {
				shinobi.language.hasChangeLanguage = false;

				shinobi.language.buildDataRender(function () {
					shinobi.language.render();
				});
			})
		} else {
			shinobi.language.render();
		}

	},

	buildDataRender: function (callback) {
		shinobi.language.dataRender = {};
		shinobi.language.jsonArray
			.forEach(function (item) {

				shinobi.language.dataRender[item['resourcename']] = item['resourcevalue'];

			});

		if (typeof callback == 'function') {
			callback();
		}
	},
	'render': function () {

		var listSnbLang = document.querySelectorAll('[snb-lang]');
		for (var i = 0; i < listSnbLang.length; i++) {

			shinobi.language.renderElement(listSnbLang[i]);
		}
	},

	renderContainer: function (container) {

		var listSnbLang = container.querySelectorAll('[snb-lang]');
		for (var i = 0; i < listSnbLang.length; i++) {

			shinobi.language.renderElement(listSnbLang[i]);
		}
	},
	renderElement: function (elem) {

		var currentLangCode = window.localStorage.getItem('currentLangCode');
		if (!elem.hasAttribute('language')
			|| elem.getAttribute('language') != currentLangCode) {

			var dataRender = shinobi.language.dataRender;

			var listAttribute = Object.values(elem.attributes);

			var listSnbLangAttribute = listAttribute.filter(function (item) {

				return item.name.includes('snb-lang');
			});

			if (listSnbLangAttribute.length > 0) {
				var attrValue;
				if (listSnbLangAttribute.length == 1) {

					if (dataRender
						.hasOwnProperty(listSnbLangAttribute[0].value)) {
						elem.innerHTML = dataRender[listSnbLangAttribute[0].value];
					} else {

						attrValue = listSnbLangAttribute[0].value;

						shinobi.language.warningElem(elem, attrValue);

					}
				} else {
					listSnbLangAttribute.forEach(function (attributeItem) {
						var attrName = attributeItem.name;
						attrValue = attributeItem.value;
						if (attrName.includes('snb-lang-')) {
							var attributeKey = attrName
								.replace('snb-lang-', '');
							if (dataRender.hasOwnProperty(attrValue)) {
								var attributeData = dataRender[attrValue];

								if (attributeKey == 'innerhtml') {
									elem.innerHTML = attributeData
								} else if (attributeKey == 'value') {
									elem.value = attributeData;
								} else {
									elem.setAttribute(attributeKey,
										attributeData);

								}
							} else {

								shinobi.language.warningElem(elem, attrValue);

							}

						}
					});

				}
				elem.setAttribute('language', currentLangCode)

			}
		}

	},

	warningElem: function (elem, attrValue) {
		if (!shinobi.language.warningList.includes(attrValue)) {
			console.log('---');
			console.log(elem);
			console.log('resourcename: ' + attrValue + '    =    ????');
			shinobi.language.warningList.push(attrValue);
		}
	},

	'renderLangCodeSelect': function (callback) {

		var currentLangCode = window.localStorage.getItem('currentLangCode');
		var selectLangcode = document.getElementById('selectLangcode');
		if (selectLangcode) {
			if (!currentLangCode) {

				window.localStorage.setItem('currentLangCode',
					selectLangcode.value);

			} else {

				selectLangcode.value = currentLangCode;

			}

			selectLangcode.onchange = function () {

				window.localStorage.setItem('currentLangCode', this.value);
				if (shinobi.hasOwnProperty('userstorage')) {
					shinobi.userstorage.updateStorage();
				}
				shinobi.language.hasChangeLanguage = true;

				shinobi.language.renderPageLanguage();

				if (shinobi.language.option.hasOwnProperty('onchangeLangCodeSelectCallback')) {
					shinobi.language.option.onchangeLangCodeSelectCallback();
				}

			}
		} else {
			console.log(' not declare language select');
			window.localStorage.setItem('currentLangCode', 'VN');

		}

		if (typeof callback == 'function') {
			callback();
		}

	},

	'getLangCodeList': function (callback) {

		var currentLangCode = window.localStorage.getItem('currentLangCode');

		var request = {};

		request.langcode = currentLangCode;

		var url = (typeof shinobi.coreapi == 'object' && shinobi.coreapi.languageApi) ? shinobi.coreapi.languageApi
			: '/api/StaticPagePublicApi/';

		shinobi.cacheapi.request(url + 'getListPageCode', JSON
			.stringify(request), function (response) {
				shinobi.language.jsonArray = JSON.parse(response);
				callback(response);
			});

	},

	'free': '<span snb-lang="PAGECODE_FREE"></span>',
	'subscribed': '<span snb-lang="PAGECODE_SUBCRIBED"></span>',
	'onlyFollower': '<span snb-lang="PAGECODE_ONLYFORFOLLOWERS"></span>',
};/* usage: 
 * shinobi.mapping.render("body",json) 
 * shinobi.mapping.render("#elemid",json)
 * shinobi.mapping.render(".classname",json)
 * 
 * HTML:
 * <div snb-key="keyvalue"></div>
 * 
 *  */

shinobi.mapping = {
    'render': function (pattern, json) {
        var jsonArr = JSON.parse(json);

        var searchList = document.querySelectorAll(pattern);

        for (var index = 0; index < searchList.length; index++) {
            var search = searchList[index];

            shinobi.mapping.renderElement(search, jsonArr);
        }
    },
    'renderElement': function (search, jsonArr) {
        for (var elem in jsonArr) {
            var selectors = search.querySelectorAll("[snb-key=" + elem + "]");

            // check current node has snb-key=elem
            if (selectors.length == 0) {

                if (search.hasAttribute('snb-key')) {

                    if (search.getAttribute('snb-key') == elem) {

                        shinobi.mapping.renderSelector(search, jsonArr, elem);
                    }
                }
            }
            //

            for (var i = 0; i < selectors.length; i++) {
                shinobi.mapping.renderSelector(selectors[i], jsonArr, elem);
            }
        }
    },
    'renderSelector': function (selector, jsonArr, elem) {

        var nodeType = selector.nodeType;
        var value = jsonArr[elem];
        if (selector.hasAttribute("snb-render")) {
            var render = selector.getAttribute("snb-render");
            var option = {
                type: 'mapping',
            };
            eval(render)(selector, value, jsonArr);

            return;
        }

        // check formatter
        if (selector.hasAttribute("snb-format")) {
            var formatter = selector.getAttribute("snb-format");

            if ("number" === formatter) {
                var numberValue = Number(value);
                value = numberValue.format(0, 3, ',', '.');
            }

        }

        if (nodeType === 3) {
            selector.innerHTML = value;
        } else if (nodeType === 1) {

            // refactor 12/04/2020
            // check has render attribute

            if (selector.hasAttribute("snb-editor-index")) {
                if (typeof shinobiEditors == 'object') {
                    shinobiEditors[selector.getAttribute("snb-editor-index")]
                        .setData(value);
                } else {
                    if (typeof CKEDITOR == 'object' &&
                        selector.hasAttribute('id')) {
                        (CKEDITOR.instances.hasOwnProperty(selector.id)) ? CKEDITOR.instances[selector.id]
                            .setData(value) : console.log('elem has id' + selector.id +
                                ' has not been replace by CKEDITOR ');

                    } else {
                        console.log('CKEDITOR could not be declare');
                    }
                }

            } else {
                var attributes = selector.attributes;

                var isFound = false;
                for (var i = attributes.length - 1; i >= 0; i--) {
                    var attributeName = attributes[i].name;
                    var attributeValue = attributes[i].value;

                    var index = attributeName.search("snb-key-");
                    if (index >= 0) {
                        isFound = true;
                        var ref = attributeName.substring(8);

                        switch (ref) {
                            case 'value':
                                selector.value = jsonArr[attributeValue];
                                selector.setAttribute(ref, jsonArr[attributeValue]);
                                break;
                            case 'innerhtml':
                                selector.innerHTML = jsonArr[attributeValue];
                                break;
                            default:
                                selector.setAttribute(ref, jsonArr[attributeValue]);
                                break;
                        }
                    }
                }
                if (isFound === false) {

                    if (!['INPUT', 'SELECT', 'TEXTAREA']
                        .includes(selector.tagName)) {
                        selector.innerHTML = value;
                    } else {
                        value = shinobi.util.decodeValue(value);
                        switch (selector.tagName) {

                            case 'OPTION':
                                if (selector.hasAttribute("snb-key-innerhtml")) {
                                    selector.innerHTML = value;
                                }
                                break;
                            case 'INPUT':
                                switch (selector.type) {
                                    case 'checkbox':
                                        selector.checked = JSON.parse(value);
                                        break;
                                    case 'radio':
                                        if (value) {
                                            // var name = selector.getAttribute('name');
                                            // var checkedInput = document
                                            // 	.querySelector('input[type="radio"][name="'
                                            // 		+ name
                                            // 		+ '"][radio-value="'
                                            // 		+ value + '"]');
                                            // 		console.log(checkedInput);
                                            // if (checkedInput) {
                                            // 	checkedInput.checked = true;
                                            // }
                                            if (selector.hasAttribute('radio-value')) {
                                                (selector.getAttribute('radio-value') == value) ? selector.checked = true : selector.checked = false;
                                            }
                                        }
                                        break;
                                    default:
                                        selector.value = value;
                                        break;
                                }
                                break;
                            case 'SELECT':
                                selector.value = value;
                                break;

                            default:
                                selector.value = value;
                                break;
                        }
                    }
                }
            }

        }
    },
    'applySnbFormat': function (selector, value) {

    },
    getValue: function (selector, callback, option) {
        var elem = document.querySelector(selector);
        shinobi.mapping.getValueElement(elem, callback, option);
    },
    getValueElement: function (elem, callback, option) {
        var listSnb = elem.querySelectorAll('[snb-key]');
        var listRadioNameHasGetValue = [];
        var jsonMapping = {};
        listSnb
            .forEach(function (item) {

                var key = item.getAttribute('snb-key');

                if (item.hasAttribute('snb-editor-index')) {
                    jsonMapping[key] = shinobi.mapping
                        .getValueShinobiEditor(item, {
                            container: elem
                        });

                } else {
                    var getValueMappingNormalTagOption = {
                        container: elem,
                        listRadioNameHasGetValue: listRadioNameHasGetValue,
                    };
                    if (option && option.hasOwnProperty('getHtml') && option.getHtml) {
                        getValueMappingNormalTagOption.getHtml = true;
                    }
                    if (option && option.hasOwnProperty('getText') && option.getText) {
                        getValueMappingNormalTagOption.getText = true;
                    }
                    jsonMapping[key] = shinobi.mapping
                        .getValueMappingNormalTag(
                            item, getValueMappingNormalTagOption
                        )
                }

                shinobi.mapping.handleOptionMapping(item, jsonMapping,
                    option);
            });

        if (typeof callback == 'function') {
            callback(jsonMapping);
        }
    },

    handleOptionMapping: function (item, jsonMapping, option) {
        if (option) {
            var tagName = item.tagName;
            var key = item.getAttribute('snb-key');

            if (option.hasOwnProperty('checkEmpty')) {
                var isEmpty = (jsonMapping[key] == '') ? true : false;
                if (!item.classList.contains('disable-checkempty')) {


                    switch (tagName) {
                        case 'INPUT':
                        case 'TEXTAREA':
                            (isEmpty) ? item.classList.add('is-danger') : item.classList.remove('is-danger');
                            break;
                        case 'SELECT':
                            (isEmpty) ? item.parentElement.classList.add('is-danger') : item.parentElement.classList.remove('is-danger');
                            break;
                        default:
                            break;
                    }
                }

                if (item.hasAttribute('snb-editor-index')) {
                    var editorItem = CKEDITOR.instances[item.getAttribute('id')].container.$;
                    if (isEmpty) {
                        editorItem.classList.add('input');
                        editorItem.classList.add('is-danger');
                    } else {
                        editorItem.classList.remove('input');
                        editorItem.classList.remove('is-danger');
                    }

                }

                if (tagName == 'INPUT' && item.getAttribute('type') == 'file') {
                    var fileParentInput = shinobi.util.getParentElementHasAttribute(item, {
                        type: 'class',
                        value: 'file',
                    });



                    (isEmpty) ? fileParentInput.classList.add('is-danger') : fileParentInput.classList.remove('is-danger');
                }

                if (tagName == 'INPUT' && item.hasAttribute('snb-date-filter')) {
                    (isEmpty) ? item.parentElement.classList.add('has-border-danger') : item.parentElement.classList.remove('has-border-danger');
                }

            }
        }
    },

    getValueMappingNormalTag: function (item, option) {
        var returnValue;
        var listRadioNameHasGetValue = option['listRadioNameHasGetValue'];
        var tagName = item.tagName;
        switch (tagName) {
            case 'INPUT':
                var type = (item.hasAttribute('type')) ? item.getAttribute('type') :
                    'text';

                switch (type) {

                    case 'radio':
                        var name = item.getAttribute('name');
                        if (name) {
                            listRadioNameHasGetValue.push(name);
                            var checkedValue = document
                                .querySelector('input[type="radio"][name="' + name +
                                    '"]:checked');
                            returnValue = (checkedValue) ? checkedValue
                                .getAttribute('radio-value') : false;

                        } else {
                            returnValue = item.checked;
                        }
                        break;
                    case 'file':
                        returnValue = (item.hasAttribute('image-url')) ? item
                            .getAttribute('image-url') : item.value;
                        break;
                    case 'tags':
                        var tagInput = shinobi.util.getTagInputMappingElem(item);
                        if (tagInput) {
                            returnValue = tagInput.tags.toString();
                        }
                        break;
                    case 'checkbox':
                        returnValue = item.checked;
                        break;
                    case 'text':
                    default:
                        returnValue = item.value.trim();
                        break;
                }
                break;
            case 'SELECT':
            case 'TEXTAREA':
                returnValue = item.value.trim();
                break;
            default:

                if (option && option.hasOwnProperty('getHtml') && option.getHtml) {
                    returnValue = item.innerHTML.trim();
                }
                if (option && option.hasOwnProperty('getText') && option.getText) {
                    returnValue = item.innerText.trim();
                }
                break;
        }

        returnValue = shinobi.mapping.checkPreProcess(item, {
            container: option['container'],
            returnValue: returnValue,
        });

        return returnValue;
    },

    replaceFormWithLabel: function (selector) {
        shinobi.mapping.replaceFormWithLabelElement(document.querySelector(selector));
    },

    replaceFormWithLabelElement: function (elem) {
        var listSnb = elem.querySelectorAll('[snb-key]');
        for (var i = 0; i < listSnb.length; i++) {
            shinobi.mapping.replaceFormWithLabelSnbKey(listSnb[i]);
        }
    },

    replaceFormWithLabelSnbKey: function (item) {
        var tagName = item.tagName;
        var label = document.createElement('p');
        var value = item.value;
        label.setAttribute('class', 'is-italic');
        console.log(item);
        if (['INPUT', 'SELECT', 'TEXTAREA'].includes(tagName)) {

            switch (tagName) {
                case 'SELECT':
                    var content = (item.selectedIndex > 0) ? item.options[item.selectedIndex].text : '';
                    label.innerHTML = content;
                    item.parentElement.parentElement.replaceChild(label, item.parentElement);
                    break;
                case 'TEXTAREA':
                case 'INPUT':
                default:
                    label.innerHTML = value;
                    item.parentElement.replaceChild(label, item);
                    break;

            }

        }
    },

    checkPreProcess: function (item, option) {
        var inputValue = option['returnValue'];
        var container = option['container'];
        var outputValue = inputValue;

        if (item.hasAttribute('snb-preprocess')) {
            outputValue = eval(item.getAttribute("snb-preprocess"))(inputValue, {
                elem: item,
                container: container,
            })
        }

        if (item.getAttribute("snb-datatype")) {
            var newValueWithDatatype = JSON.parse(outputValue);
            outputValue = (newValueWithDatatype) ? newValueWithDatatype :
                outputValue;
        }

        return outputValue;
    },

    getValueShinobiEditor: function (item, option) {
        var returnValue;
        if (typeof shinobiEditors == 'object') {
            returnValue = shinobiEditors[item.getAttribute("snb-editor-index")]
                .getData();
        } else {
            if (typeof CKEDITOR == 'object' && item.hasAttribute('id')) {
                returnValue = (CKEDITOR.instances.hasOwnProperty(item.id)) ? CKEDITOR.instances[item.id]
                    .getData() :
                    '';

            } else {
                returnValue = '';
            }
        }

        returnValue = shinobi.mapping.checkPreProcess(item, {
            container: option['container'],
            returnValue: returnValue,
        });

        return returnValue;
    },
    clear: function (selector, callback, option) {
        var elem = document.querySelector(selector);
        shinobi.mapping.clearElement(elem, callback, option);
    },

    clearElement: function (elem, callback, option) {
        var listSnb = elem.querySelectorAll('[snb-key]');
        listSnb.forEach(function (item) {
            var tagName = item.tagName;
            switch (tagName) {
                case 'INPUT':
                    var type = item.type;
                    switch (type) {
                        case 'checkbox':
                        case 'radio':
                            item.checked = false;
                            break;
                        case 'file':
                            (item.hasAttribute('image-url')) ? item
                                .removeAttribute('image-url') : item.value = '';
                            var name = item.parentElement.querySelector('.file-name');
                            if (name) {
                                name.innerHTML = '';
                            }
                            var parent = shinobi.util.getParentElementHasAttribute(item, {
                                type: 'class',
                                value: 'field'
                            })

                            if (parent) {
                                var info = parent.querySelector('.image-info');
                                if (info) {
                                    info.remove();
                                }
                            }
                            break;
                        case 'text':
                        default:
                            item.value = '';
                            break;
                    }
                    break;
                case 'SELECT':
                case 'TEXTAREA':
                    item.value = '';
                    break;
                default:
                    break;
            }

            var attributes = item.attributes;

            for (var i = attributes.length - 1; i >= 0; i--) {
                var attributeName = attributes[i].name;

                var index = attributeName.search("snb-key-");
                if (index >= 0) {
                    var ref = attributeName.substring(8);

                    switch (ref) {
                        case 'value':
                            item.value = '';
                            item.removeAttribute(ref);
                            break;
                        case 'innerhtml':
                            item.innerHTML = '';
                            break;
                        default:
                            item.removeAttribute(ref);
                            break;
                    }
                }
            }
        });

        if (typeof callback == 'function') {
            callback();
        }
    },
};shinobi.menu = {

	'moduleTable': '',

	'tableId': 'dataTable',

	'previewPatern': '#previewContainer',

	'build': function () {

		shinobi.menu.renderListModule();

		shinobi.menu.addEventAddSubMenu();

		shinobi.menu.addEventIconPicker();
	},

	'addEventIconPicker': function () {

		if (!shinobi.initbulma) {
			bulmaIconpicker.attach();
		}

		setTimeout(function () {

			var iconpickerModal = document
				.getElementsByClassName('iconpicker-modal')[0];

			iconpickerModal.classList.add('is-medium');

		}, 2000);

	},

	'addEventAddSubMenu': function () {

		var createSubmenuButton = document
			.getElementById('createSubmenuButton');
		createSubmenuButton.onclick = function () {

			var previewContainer = document.getElementById('previewContainer');

			var parentMenuData = {};
			// parentMenuData.menuparent = null;
			parentMenuData.modulename = previewContainer.getAttribute('value');

			shinobi.menu
				.activeMenuItemInfomationModal(
					parentMenuData,
					function (menuData) {
						shinobi.menu
							.createAndInsertMenuItemChildNode(menuData);
					});
		}

	},
	'renderListModule': function () {

		shinobi.menu.moduleTable = new shinobi.table(shinobi.menu.tableId);
		// table1.viewDetailPanelId = "detailpanel";

		var colNames = shinobi.menu.moduleTable
			.getColnames(shinobi.menu.tableId);

		var renders = [];
		renders[0] = shinobi.menu.viewMenuStructure;
		// renders[1] = table1.numberFormatRender;
		// renders[2] = erLib.renderUserTypeTable;
		// renders[3] = table1.inputableRender;

		var request = {};
		request.recordPerPage = shinobi.util
			.getRecordNumber(shinobi.menu.tableId);

		var filter = {};
		filter.colname = "id";
		filter.operator = ">";
		filter.value = 0;

		shinobi.menu.moduleTable.staticfilters[0] = filter;

		var sort = {};
		sort.colname = "id";
		sort.value = "desc";

		shinobi.menu.moduleTable.sorts[0] = sort;

		shinobi.menu.moduleTable
			.initLoadApi("/authenapi/ModuleApi/findDataList", request,
				colNames, renders);

	},

	'viewMenuStructure': function (elem, row, col) {

		var moduleName = elem.innerHTML;

		elem.innerHTML = '<a class="button is-small is-icon is-info"><span class="icon"><i class="fal fa-search"></i></span></a>';

		elem.onclick = function () {

			shinobi.util.removeClass('menuButtonGroup', 'is-hidden');

			shinobi.menu.createStructure(moduleName);

		}
	},

	'createStructure': function (moduleName) {

		shinobi.menu.getModuleMenuData(moduleName, function (menuData) {

			var previewContainer = document.getElementById('previewContainer');
			previewContainer.innerHTML = '';

			previewContainer.setAttribute('value', moduleName);

			shinobi.menurender.build(shinobi.menu.previewPatern, menuData);

			shinobi.menurender.showAllMenu(shinobi.menu.previewPatern);

			setTimeout(function () {

				shinobi.menurender.showAllMenu(shinobi.menu.previewPatern);
			}, 1000);

			shinobi.menu.addEventInsertChildNode(shinobi.menu.previewPatern);

			shinobi.menu.addEventDeleteMenuItem(shinobi.menu.previewPatern);

			shinobi.menu.addEventUpdateMenuItem(shinobi.menu.previewPatern);

			shinobi.menu.addEventMoveUpMenuItem(shinobi.menu.previewPatern);

			shinobi.menu.addEventMoveDownMenuItem(shinobi.menu.previewPatern);

		});

	},

	'addEventMoveDownMenuItem': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var listMenuItem = container.getElementsByClassName('shinobimenu-item');

		for (var i = 0; i < listMenuItem.length; i++) {

			shinobi.menu.addMoveDownItemButton(listMenuItem, i);

		}
	},

	'addMoveDownItemButton': function (listMenuItem, i) {

		var span = document.createElement('span');
		span.setAttribute('class', 'icon tooltip');
		span.setAttribute('data-tooltip', 'Chuyển xuống');
		span.innerHTML = '<i class="fal fa-arrow-down"></i>';

		var item = listMenuItem[i];

		if (item.parentNode.nextElementSibling) {

			// item.insertBefore(span, item.firstChild);
			item.appendChild(span);

			span.onclick = function () {

				var parentMenuData = shinobi.menu.getParentMenuData(this);

				parentMenuData.menucode = parentMenuData.menuparent;

				shinobi.menu.callApiUpdateMenu(
					'/authenapi/MenuApi/moveMenuDown', parentMenuData);

			}
		}

	},

	'addEventMoveUpMenuItem': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var listMenuItem = container.getElementsByClassName('shinobimenu-item');

		for (var i = 0; i < listMenuItem.length; i++) {

			shinobi.menu.addMoveUpItemButton(listMenuItem, i);

		}
	},

	'addMoveUpItemButton': function (listMenuItem, i) {

		var span = document.createElement('span');
		span.setAttribute('class', 'icon tooltip');
		span.setAttribute('data-tooltip', 'Chuyển lên');
		span.innerHTML = '<i class="fal fa-arrow-up"></i>';

		var item = listMenuItem[i];

		if (item.parentNode.previousElementSibling) {

			// item.insertBefore(span, item.firstChild);
			item.appendChild(span);

			span.onclick = function () {

				var parentMenuData = shinobi.menu.getParentMenuData(this);

				parentMenuData.menucode = parentMenuData.menuparent;

				shinobi.menu.callApiUpdateMenu('/authenapi/MenuApi/moveMenuUp',
					parentMenuData);

			}
		}
	},

	'callApiUpdateMenu': function (api, parentMenuData) {
		shinobi.notification.notification.loading();
		shinobi.api.request(api, JSON.stringify(parentMenuData), function (
			response) {

			if (response == 'update success') {

				shinobi.notification.notification.info('Cập nhật thành công');
				setTimeout(function () {
					shinobi.menu.createStructure(parentMenuData.modulename);
				}, 1000)
			}
		})
	},

	'addEventUpdateMenuItem': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var listMenuItem = container.getElementsByClassName('shinobimenu-item');

		for (var i = 0; i < listMenuItem.length; i++) {

			shinobi.menu.addUpdateItemButton(listMenuItem, i);

		}
	},

	'addUpdateItemButton': function (listMenuItem, i) {

		var span = document.createElement('span');
		span.setAttribute('class', 'icon has-text-info tooltip');
		span.setAttribute('data-tooltip', 'Chỉnh sửa');
		span.innerHTML = '<i class="fal fa-pen"></i>';

		var item = listMenuItem[i];

		// item.insertBefore(span, item.firstChild);
		item.appendChild(span);

		span.onclick = function () {

			var parentMenuData = shinobi.menu.getParentMenuData(this);
			var aTag = item.getElementsByTagName('a')[0];
			parentMenuData.menudes = aTag.getAttribute('title');
			parentMenuData.menucode = aTag.getAttribute('id');
			parentMenuData.menuicon = aTag.getAttribute('icon-class');
			parentMenuData.menuname = aTag.innerHTML;
			parentMenuData.menuurl = aTag.getAttribute('href');
			shinobi.menu
				.activeMenuItemInfomationModal(
					parentMenuData,
					function (menuData) {

						menuData.menucode = parentMenuData.menucode;

						shinobi.api
							.request(
								'/authenapi/MenuApi/updateMenu',
								JSON.stringify(menuData),
								function (response) {

									if (response == 'update success') {

										shinobi.notification.notification
											.info('Cập nhật thành công');
										setTimeout(
											function () {
												shinobi.menu
													.createStructure(parentMenuData.modulename);
											}, 1000)
									}
								});
					});

		}

	},

	'addEventDeleteMenuItem': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var listMenuItem = container.getElementsByClassName('shinobimenu-item');

		for (var i = 0; i < listMenuItem.length; i++) {

			shinobi.menu.addDeleteItemButton(listMenuItem, i);

		}
	},

	'addDeleteItemButton': function (listMenuItem, i) {

		var span = document.createElement('span');
		span.setAttribute('class', 'icon has-text-danger tooltip');
		span.setAttribute('data-tooltip', 'Xóa');
		span.innerHTML = '<i class="fal fa-times"></i>';

		var item = listMenuItem[i];

		// item.insertBefore(span, item.firstChild);
		item.appendChild(span);

		span.onclick = function () {

			var parentMenuData = shinobi.menu.getParentMenuData(this);

			var confirmRemoveMenuItemModal = document
				.getElementById('confirmRemoveMenuItemModal');
			confirmRemoveMenuItemModal.classList.add('is-active');

			var acceptRemoveMenuItemModal = document
				.getElementById('acceptRemoveMenuItemModal');

			acceptRemoveMenuItemModal.onclick = function () {

				parentMenuData.menucode = parentMenuData.menuparent;

				delete parentMenuData.menuparent;

				shinobi.api
					.request(
						'/authenapi/MenuApi/deleteMenu',
						JSON.stringify(parentMenuData),
						function (response) {

							if (response == 'update success') {

								shinobi.notification.notification
									.info('Xóa thành công');
								setTimeout(
									function () {
										shinobi.menu
											.createStructure(parentMenuData.modulename);
									}, 1000)
							}
						})

				confirmRemoveMenuItemModal.classList.remove('is-active');

			}

		}

	},

	'activeMenuItemInfomationModal': function (parentMenuData, callback) {

		if (!parentMenuData.menudes) {

			parentMenuData.menudes = '';
		}
		if (!parentMenuData.menuicon) {

			parentMenuData.menuicon = shinobi.menurender.defaultIcon;
		}
		if (!parentMenuData.menuname) {

			parentMenuData.menuname = '';
		}
		if (!parentMenuData.menuurl) {

			parentMenuData.menuurl = '';
		}

		var menuItemInfomationModal = document
			.getElementById('menuItemInfomationModal');

		if (!parentMenuData.menuparent) {

			menuItemInfomationModal.querySelectorAll('[snb-key=menuparent]')[0]
				.removeAttribute('value');
		}
		var previewIcon = menuItemInfomationModal
			.getElementsByClassName('iconpicker-preview')[0];

		previewIcon.innerHTML = '<i snb-key="menuicon" snb-key-class="menuicon" class="iconpicker-icon-preview icon-menu"></i>';

		menuItemInfomationModal.classList.add('is-active');

		shinobi.mapping.render('#menuItemInfomationModal', JSON
			.stringify(parentMenuData));

		var acceptModalButton = document.getElementById('acceptModalButton');

		acceptModalButton.onclick = function () {

			var menuData = shinobi.menu.getModalInput();

			callback(menuData);

			menuItemInfomationModal.classList.remove('is-active');

		}
	},

	'addEventInsertChildNode': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var listMenuItem = container.getElementsByClassName('shinobimenu-item');

		for (var i = 0; i < listMenuItem.length; i++) {

			shinobi.menu.addInsertItemButton(listMenuItem, i);

		}

	},
	'addInsertItemButton': function (listMenuItem, i) {

		var span = document.createElement('span');
		span.setAttribute('class', 'icon has-text-success tooltip');
		span.setAttribute('data-tooltip', 'Thêm menu con');
		span.innerHTML = '<i class="fal fa-plus"></i>';

		var item = listMenuItem[i];

		// item.insertBefore(span, item.firstChild);
		item.appendChild(span);

		span.onclick = function () {

			var parentMenuData = shinobi.menu.getParentMenuData(this);

			shinobi.menu
				.activeMenuItemInfomationModal(
					parentMenuData,
					function (menuData) {
						shinobi.menu
							.createAndInsertMenuItemChildNode(menuData);
					});

		}

		// remove event toggle
		item.onclick = function () {

		}
	},

	'createAndInsertMenuItemChildNode': function (menuData) {

		shinobi.notification.notification.loading();

		shinobi.api.request('/authenapi/MenuApi/createMenu', JSON
			.stringify(menuData), function (response) {

				if (response == 'update success') {

					shinobi.notification.notification.info('Tạo mới thành công');

					setTimeout(function () {
						shinobi.menu.createStructure(menuData.modulename);
					}, 1000)

				}
			})

	},
	'getParentMenuData': function (iconElem) {

		var menuItem = iconElem.parentNode;

		var aTag = menuItem.getElementsByTagName('a')[0];

		var previewContainer = document.getElementById('previewContainer');

		var object = {};

		object.menuparent = aTag.getAttribute('id');
		object.modulename = previewContainer.getAttribute('value');

		return object;

	},

	'getModalInput': function () {

		var menuItemInfomationModal = document
			.getElementById('menuItemInfomationModal');

		var listSnbKey = menuItemInfomationModal.querySelectorAll('[snb-key]');

		var object = {};

		for (var i = 0; i < listSnbKey.length; i++) {

			var snbKey = listSnbKey[i].getAttribute('snb-key');

			var value = listSnbKey[i].value;

			if (value != '') {

				object[snbKey] = value;
			}

		}

		var iconpickerPreview = document
			.getElementsByClassName('iconpicker-preview')[0];
		var iconClass = iconpickerPreview.getElementsByTagName('i')[0]
			.getAttribute('class');
		object.menuicon = iconClass;
		return object;
	},
	'getModuleMenuData': function (moduleName, callback) {

		var request = {};
		request.modulename = moduleName;
		console.log(window.localStorage.getItem("currentModule"));
		console.log(moduleName);
		shinobi.notification.notification.loading();

		shinobi.api.request('/authenapi/MenuApi/getListMenu', JSON
			.stringify(request), function (response) {

				var jsonArr = JSON.parse(response);
				shinobi.notification.notification.loaded();

				callback(jsonArr);
			});
	},

};shinobi.menumodule = {

	'currentModule': '',

	'patern': '',

	'container': '',

	'build': function (patern, option) {

		shinobi.menumodule.patern = patern;

		var container = document.querySelectorAll(patern)[0];

		shinobi.menumodule.container = container;

		shinobi.menumodule.render(option);

	},

	'activeCurrentTab': function (container, option) {
		var shinobimenu = container;
		var hrefList = shinobimenu.querySelectorAll('[href]');

		for (var j = 0; j < hrefList.length; j++) {
			var pathname = window.location.pathname;
			var href = hrefList[j].getAttribute('href');
			if (option && option.hasOwnProperty('includesSearch')) {
				if (option.includesSearch) {
					pathname = pathname + window.location.search;
				}
			}

			if (option && option.hasOwnProperty('notCareSearch')) {
				if (option.notCareSearch) {
					pathname = window.location.pathname;
					href = (href.indexOf('?')) ? href.slice(0, href.indexOf('?')) : href;
				}
			}
			if (href == pathname) {

				hrefList[j].parentNode.classList.add('is-active');

				shinobi.menumodule
					.openParentNode(hrefList[j].parentNode.parentNode);

			}
		}
	},

	'renderMenuModuleSelectHeader': function (query) {

		var currentModule = window.localStorage.getItem('currentModule');
		if (!currentModule || currentModule == '') {
			shinobi.menumodule.setDefaultModule(function () {
				shinobi.menumodule.buildHeaderSelectMenuModule(query);
			});
		} else {
			shinobi.menumodule.buildHeaderSelectMenuModule(query);
		}

	},

	buildHeaderSelectMenuModule: function (query) {
		var container = document.querySelector(query);

		container
			.setAttribute('class', 'navbar-item has-dropdown is-hoverable');

		var a = document.createElement('a');
		a.setAttribute('class', 'navbar-link');
		a.innerHTML = '<span class="icon"><i class="fal fa-cog"></i></span> <span>' + window.localStorage.getItem('currentModule') + '</span>';

		container.appendChild(a);

		shinobi.menumodule.getListModule(function (listMenu) {

			var listMenuData = JSON.parse(listMenu);

			var menuContainer = document.createElement('div');

			menuContainer.setAttribute('class', 'navbar-dropdown is-right');

			container.appendChild(menuContainer);

			for (var i = 0; i < listMenuData.length; i++) {

				shinobi.menumodule.buildHeaderMenuModuleItem(menuContainer,
					listMenuData, i);
			}

		})
	},

	'buildHeaderMenuModuleItem': function (menuContainer, listMenuData, i) {

		var item = document.createElement('a');
		item.setAttribute('class', 'navbar-item');
		item.innerHTML = listMenuData[i];
		menuContainer.appendChild(item);

		item.onclick = function () {
			var value = this.innerHTML;
			window.localStorage.setItem('currentModule', value);
			shinobi.menumodule.getListMenuModule(value, function (data) {
				if (data.length > 0) {
					window.location.href = data[0].menuurl;
				} else {
					location.reload();
				}
			});
		}

	},

	'setDefaultModule': function (callback) {

		shinobi.menumodule.getListModule(function (listMenuData) {

			var data = JSON.parse(listMenuData);

			if (data[0]) {

				// if (!window.localStorage.getItem('currentModule')) {

				window.localStorage.setItem('currentModule', data[0]);

				// }

				if (typeof callback == 'function') {

					callback()
				}

			}

		});
	},

	'getListModule': function (callback) {

		var request = {};
		shinobi.cacheapi.request('/authenapi/ModuleApi/getUserModules', JSON
			.stringify(request), function (response) {
				callback(response);
			})

	},

	'openParentNode': function (currentItem, container) {

		setTimeout(function () {

			// menuParent.scrollIntoView();

			var menu = container;
			var item = currentItem.getElementsByTagName('a')[0].parentNode;
			var a = Number(item + (5 * 17));
			if (container) {
				if (container.hasOwnProperty('scrollTop')) {
					container.scrollTop = item.offsetTop;
				}
			}

		}, 1000)

		var menuParent = currentItem.parentNode;

		if (menuParent.getAttribute('class')
			&& menuParent.getAttribute('class').includes('ul-submenu')) {

			menuParent.previousElementSibling.click();

			shinobi.menumodule.openParentNode(menuParent.parentNode, container);

		}
	},

	'render': function (option) {
		if (window.localStorage.getItem('currentModule')) {
			var modulename = window.localStorage.getItem('currentModule');

			shinobi.menumodule.getListMenuModule(modulename, function (jsonArr) {
				var data = jsonArr;
				shinobi.menurender.build(shinobi.menumodule.patern, data);

				shinobi.menumodule.activeCurrentTab(shinobi.menumodule.container);

				if (option && option.hasOwnProperty('callback')) {
					option.callback();
				}
			})
		} else {
			setTimeout(function () {
				shinobi.menumodule.render(option);
			}, 200)
		}
	},

	getListMenuModule: function (modulename, callback) {
		var request = {};
		request.modulename = modulename;
		shinobi.cacheapi.request('/authenapi/MenuApi/getListMenu', JSON
			.stringify(request), function (response) {
				var jsonArr = JSON.parse(response);

				callback(jsonArr);
			});
	}
};shinobi.menurender = {

	'patern': '',
	'data': '',
	'container': '',
	'dangerStyle': 'color: rgb(241, 70, 104) !important;',

	'defaultIcon': 'iconpicker-icon-preview icon-menu',

	'build': function (patern, data, callback) {

		shinobi.menurender.patern = patern;

		shinobi.menurender.data = data;

		var container = document.querySelectorAll(patern)[0];

		shinobi.menurender.container = container;

		shinobi.menurender.render(container, data);

		if (typeof callback == 'function') {

			callback();
		}

	},

	'showAllMenu': function (patern) {

		var container = document.querySelectorAll(patern)[0];

		var arrowDown = container.getElementsByClassName('shinobi-arrow');

		for (var j = 0; j < arrowDown.length; j++) {

			arrowDown[j].classList.add('arrow-down');

			var hiddenElem = container.getElementsByClassName('is-hidden');

			for (var i = 0; i < hiddenElem.length; i++) {

				hiddenElem[i].classList.remove('is-hidden');
			}
		}

	},

	'render': function (container, data) {

		if (container) {

			container.classList.add('shinobimenu');

			var ul = document.createElement('ul');
			container.appendChild(ul);

			shinobi.menurender.addEventToggleSubMenu(ul);

			data.sort(function (a, b) {
				if (a.menucode.includes('_') && b.menucode.includes('_')) {
					return Number(a.menucode.split('_')[1]) - (b.menucode.split('_')[1]);
				} else {
					return 1;
				}
			});

			for (var i = 0; i < data.length; i++) {

				shinobi.menurender.buildBlockMenu(ul, data, i);

			}
		}

	},

	'addEventToggleSubMenu': function (ul) {

		if (ul.previousElementSibling) {

			var preElem = ul.previousElementSibling;

			var classList = preElem.getAttribute('class');

			if (classList.includes('has-submenu')) {

				ul.classList.add('is-hidden');
				ul.classList.toggle('ul-submenu');
				preElem.onclick = function () {

					ul.classList.toggle('is-hidden');

					var arrow = preElem.getElementsByClassName('shinobi-arrow')[0];
					arrow.classList.toggle('arrow-down');
				}

			}
		}
	},

	'buildBlockMenu': function (ul, data, index) {

		var currentData = data[index];

		var li = document.createElement('li');
		ul.appendChild(li);

		var div = document.createElement('div');
		div.setAttribute('class', 'shinobimenu-item');
		li.appendChild(div);

		var spanIcon = document.createElement('span');
		// spanIcon.setAttribute('class', 'icon');
		div.appendChild(spanIcon);

		var icon = document.createElement('i');
		icon.setAttribute('class', shinobi.menurender.defaultIcon);
		spanIcon.appendChild(icon);

		if (currentData.menuicon) {

			icon.setAttribute('class', currentData.menuicon);
		}

		var a = document.createElement('a');
		a.innerHTML = currentData.menuname;
		div.appendChild(a);

		if (currentData.menucode) {

			a.id = currentData.menucode;
		}

		if (currentData.menuurl) {

			a.href = shinobi.util.decodeValue(currentData.menuurl);
		}

		if (currentData.menudes) {

			a.title = currentData.menudes;
		}

		if (currentData.menuicon) {

			a.setAttribute('icon-class', currentData.menuicon);
		} else {

			a.setAttribute('icon-class', shinobi.menurender.defaultIcon);
		}

		if (currentData.menuchildren) {

			if (currentData.menuchildren.length != 0) {

				div.classList.add('has-submenu');

				shinobi.menurender.createArrowSpan(div);

				shinobi.menurender.render(li, currentData.menuchildren);
			}

		}

		if (currentData.hasOwnProperty('menudes')) {
			if (currentData.menudes.toLowerCase().includes('(nguy hiểm)') || currentData.menudes.toLowerCase().includes('(danger)')) {
				icon.setAttribute('style', shinobi.menurender.dangerStyle);
				a.setAttribute('style', shinobi.menurender.dangerStyle);
			}
		}
	},

	'createArrowSpan': function (div) {
		var arrowIconSpan = document.createElement('span');
		arrowIconSpan.setAttribute('class', 'is-right-align shinobi-arrow');
		div.appendChild(arrowIconSpan);

	}
};shinobi.multivalueinput = (function() {
    var constructor = function(selector, options) {
        this.multivalueinput = "";
        this.input = "";
        this.inputSearch = "";
        this.selector = selector;
        this.idSearchInputTag = 'selectorInputSearch';
        this.result = [];
        this.updateInputValue = function() {
            var objectTaginput = this;
            objectTaginput.input.value = objectTaginput.result;
        };


        this.renderItem = function(result) {
            try {
                result = JSON.parse(result);
                return result;
            } catch (e) {
                return result;
            }

        };
        this.getListResult = '';

        this.setListResult = '';


        this.getResultValue = '';


        this.options = options;


        this.buildSearch = function(object) {
            shinobi.util.addEventEnter(object.inputSearch, function() {

                var returnInput = object.onSubmit(object.inputSearch.value.trim());

                object.appendChildItem(returnInput, object);
                object.inputSearch.value = '';
            });
        };

        this.onSubmit = function(result, object) {
            return result;
        };

        this.appendChildItem = function(result, objectTaginput) {

            if (result) {
                result = JSON.stringify(result);
                var indexResult = objectTaginput.result.indexOf(result);
                if (indexResult == -1) {

                    objectTaginput.result.push(result);
                    objectTaginput.updateInputValue();
                    objectTaginput.insertBeforeSearch(result, objectTaginput);

                }
            }
        };
        this.insertBeforeSearch = function(result, objectTaginput) {
            var children = document.createElement('div');
            children.classList.add('tag', 'is-3', 'is-medium');

            children.innerHTML = objectTaginput.renderItem(result);

            var buttonClose = document.createElement('button');
            buttonClose.classList.add('is-small', 'is-danger', 'delete', "has-background-danger", "has-text-white");
            buttonClose.addEventListener('click', function() {
                children.remove();
                var index = objectTaginput.result.indexOf(result);
                if (index > -1) {
                    objectTaginput.result.splice(index, 1);
                }
                objectTaginput.updateInputValue();
            });
            children.appendChild(buttonClose);

            var container = document.querySelector('#tagstaginput');
            var tagsearch = document.getElementById('tagsearch');

            container.insertBefore(children, tagsearch);
        };
        this.loadOptions = function() {
            var object = this;
            if (options.hasOwnProperty("buildSearch")) {
                object.buildSearch = options.buildSearch;
            }

            if (options.hasOwnProperty("onSubmit")) {
                object.onSubmit = options.onSubmit;
            }
            if (options.hasOwnProperty("renderItem")) {
                object.renderItem = options.renderItem;
            }
            if (options.hasOwnProperty("getListResult")) {
                object.getListResult = options.getListResult;
            }
            if (options.hasOwnProperty("setListResult")) {
                object.setListResult = options.setListResult;
            }
        };

        this.createStructure = function(callback) {
            var object = this;
            var oldtag = document.getElementById('tagstaginput');
            if (oldtag) {
                while (oldtag.firstChild.classList.contains('tag')) {
                    oldtag.firstChild.remove();
                }
            }

            // 
            object.input = document.querySelector(this.selector);
            object.input.classList.add('is-hidden');

            var elem = document.createElement('div');
            elem.style.padding = '1rem';
            elem.style.border = '1px solid #ddd';
            elem.style.borderRadius = '10px';
            elem.classList.add('box');
            //
            var tags = document.createElement('div');
            tags.setAttribute('class', 'tags is-multiline');
            tags.setAttribute('id', 'tagstaginput');
            //
            var node = document.createElement('div');
            node.setAttribute('class', 'is-5');
            node.setAttribute('id', 'tagsearch');
            //
            var children = document.createElement('input');
            children.setAttribute('class', 'input is-bordered');
            children.setAttribute('id', this.idSearchInputTag);
            //
            node.appendChild(children);
            tags.appendChild(node);
            elem.appendChild(tags);

            object.inputSearch = children;


            object.input.parentElement.replaceChild(elem, object.input);

            elem.insertBefore(object.input, elem.firstElementChild);
            elem.appendChild(object.input);
            //
            callback();
        };
        this.createObject = function() {
            var object = this;

            object.buildSearch(object);

            if (typeof object.setListResult === 'function') {

                var listItem = object.setListResult(object.input);

                listItem.forEach(result => {
                    object.appendChildItem(result, object);
                });

            }
            if (typeof object.getListResult === 'function') {

                getListResult(object.result);

            }
        };


        this.loadAll = function() {
            var object = this;
            this.loadOptions();
            this.createStructure(function() {
                object.createObject();
            });
        };

        this.loadAll();
    };

    // public static method
    constructor.staticmethod = {
        hello: function() {},
    };

    return constructor;
})();shinobi.notification = {
  config: {
    modalSize: "is-small",
  },
  modal: {
    modalId: "confirmPanel",
    isInitLoad: false,
    isAccept: false,
    confirm: function (callback) {
      var modal = document.getElementById(this.modalId);

      modal.classList.add("is-active");

      if (!this.isInitLoad) {
        this.registerButton();
      }

      this.isInitLoad = true;
      this.isAccept = false;

      this.doAccept = callback;
    },
    registerButton: function () {
      var modal = document.getElementById(this.modalId);

      var closeButton = modal.getElementsByClassName("delete")[0];

      closeButton.addEventListener("click", function () {
        modal.classList.remove("is-active");
      });

      var cancelButton = modal.getElementsByClassName("cancel")[0];

      cancelButton.addEventListener("click", function () {
        modal.classList.remove("is-active");
      });

      var yesButton = modal.getElementsByClassName("yes")[0];

      var modalObject = this;

      yesButton.addEventListener("click", function () {
        modal.classList.remove("is-active");

        modalObject.isAccept = true;

        modalObject.doAccept();
      });
    },
    doAccep: function () {},
  },
  notification: {
    notificationId: "shinobinotification",
    isInitLoad: false,
    isLoading: true,
    show: function (type, content) {
      var notification = document.getElementById(this.notificationId);
      var notificationcontent = notification.getElementsByClassName("notificationcontent")[0];
      notificationcontent.innerHTML = content;
      if (shinobi.hasOwnProperty("language")) {
        shinobi.language.renderContainer(notificationcontent);
      }
      if ("info" === type) {
        notification.classList.add("info-message");
        notification.classList.remove("error-message");
        notification.classList.remove("loading-message");

        setTimeout(function () {
          notification.classList.remove("info-message");
        }, 3000);
      } else {
        notification.classList.remove("info-message");
        notification.classList.add("error-message");
        notification.classList.remove("loading-message");
      }

      this.registerButton();
      this.isInitLoad = true;
    },
    info: function (content) {
      this.show("info", content);
    },
    error: function (content) {
      this.show("error", content);
    },
    loading: function () {
      var notification = document.getElementById(this.notificationId);

      this.isInitLoad = true;

      notification.getElementsByClassName("delete")[0].classList.add("is-hidden");

      notification.classList.add("info-message");
      notification.classList.add("loading-message");
      notification.classList.remove("error-message");

      var notificationcontent = notification.getElementsByClassName("notificationcontent")[0];
      notificationcontent.innerHTML =
        '<div class="columns is-vcentered"> <a class="button is-text  is-loading column is-1"></a> <div class="column" snb-lang="PAGECODE_LOADING">Đang xử lý</div> </div>';
      if (shinobi.hasOwnProperty("language")) {
        shinobi.language.renderContainer(notificationcontent);
      }
    },
    loaded: function () {
      this.isInitLoad = false;

      var notification = document.getElementById(this.notificationId);

      notification.classList.remove("info-message");
      notification.classList.remove("loading-message");
    },
    registerButton: function () {
      var notification = document.getElementById(this.notificationId);

      var closeButton = notification.getElementsByClassName("delete")[0];
      closeButton.classList.remove("is-hidden");
      closeButton.addEventListener("click", function () {
        notification.classList.remove("info-message");
        notification.classList.remove("error-message");
        closeButton.classList.add("is-hidden");
      });
    },
  },
  confirm: function (callback, options) {
    if (shinobi.hasOwnProperty("notificationconfig")) {
      shinobi.notificationconfig.init();
    }
    var confirmPanel = document.getElementById("confirmPanel");
    shinobi.util.modalEventListener(confirmPanel);
    if (options) {
      if (options.title) {
        confirmPanel.getElementsByClassName("modal-card-title")[0].innerHTML = options.title;
      }
      if (options.content) {
        confirmPanel.getElementsByClassName("modal-card-body")[0].innerHTML = options.content;
      }
      if (options.yescontent) {
        confirmPanel.getElementsByClassName("yes")[0].innerHTML = options.yescontent;
      }
      if (options.nocontent) {
        confirmPanel.getElementsByClassName("cancel")[0].innerHTML = options.nocontent;
      }
      confirmPanel.classList.remove("is-small");
      confirmPanel.classList.remove("is-medium");
      confirmPanel.classList.remove("is-large");
      if (options.modalsize) {
        confirmPanel.classList.add(options.modalsize);
      } else {
        confirmPanel.classList.add(shinobi.notification.config.modalSize);
      }
      if (shinobi.notification.config.hasOwnProperty("modalFontSize")) {
        confirmPanel.classList.add(shinobi.notification.config.modalFontSize);
      }
      if (options.initfunction) {
        options.initfunction(confirmPanel);
      }
      if (options.ishiddenfooter) {
        confirmPanel.getElementsByClassName("modal-card-foot")[0].classList.add("is-hidden");
      } else {
        confirmPanel.getElementsByClassName("modal-card-foot")[0].classList.remove("is-hidden");
      }
    } else {
      confirmPanel.getElementsByClassName("modal-card-title")[0].innerHTML = "Cảnh báo";
      confirmPanel.getElementsByClassName("modal-card-body")[0].innerHTML = "Bạn chắc chắn?";

      confirmPanel.setAttribute("snb-lang", "PAGECODE_ARE_YOU_SURE");
      confirmPanel.getElementsByClassName("yes")[0].innerHTML = "Xác nhận";
      confirmPanel.getElementsByClassName("cancel")[0].innerHTML = "Hủy";
      confirmPanel.classList.remove("is-medium");
      confirmPanel.classList.remove("is-large");
      confirmPanel.classList.add("is-small");
      confirmPanel.classList.add(shinobi.notification.config.modalSize);
      if (shinobi.notification.config.hasOwnProperty("modalFontSize")) {
        confirmPanel.classList.add(shinobi.notification.config.modalFontSize);
      }
      confirmPanel.getElementsByClassName("modal-card-foot")[0].classList.remove("is-hidden");
    }
    confirmPanel.classList.add("is-active");
    var yes = confirmPanel.getElementsByClassName("yes")[0];
    yes.focus();
    yes.onclick = function () {
      if (typeof callback == "function") {
        if (options) {
          if (!(options.hasOwnProperty("notclosewhenacceft") && options["notclosewhenacceft"])) {
            confirmPanel.classList.remove("is-active");
          }
        } else {
          confirmPanel.classList.remove("is-active");
        }

        callback();
      }
    };
  },
  image: function (url, options) {
    var modal = document.getElementById("imageModal");
    if (modal) {
      var modalContent = modal.querySelector(".modal-content");
      modalContent.innerHTML = `
			<p class="image">
				<img sizes="(min-width: 576px) 540px, 100vw" src="${url}"> 
			</p>
			`;
      shinobi.initbulma.modalOpen(modal);
    } else {
      var modalNode = shinobi.util.convertTextToElement(shinobi.notification.iamgeModalContent);
      document.body.appendChild(modalNode);
      shinobi.initbulma.modalEventListener(modalNode);
      shinobi.notification.image(url, options);
    }
  },
  iamgeModalContent: `<div id="imageModal" class="modal">
					<div class="modal-background"></div>
					<div class="modal-content">
					
					</div>
					<button class="modal-close is-large" aria-label="close"></button>
				</div>`,
};
shinobi.render = {
  renderDownloadButtonTable: function (cell, row, col, all) {
    cell.innerHTML = `<a class="button is-small is-link" href="${all[row]["fileurl"]}" download><span class="icon"><i class="fa fa-file"></i></span><span>Tải file</span></a>`;
  },
  renderFormatNumber: function (elem, value, all) {
    var renderValue = shinobi.util.formatNumber(value);
    if (["INPUT", "SELECT", "TEXTAREA"].includes(elem.tagName)) {
      elem.value = renderValue;
    } else {
      elem.innerHTML = renderValue;
      if (["TD", "TH"].includes(elem.tagName)) {
        elem.classList.add("has-text-right");
      }
    }
  },
  showParentNode: function (elem, value, all) {
    elem.innerHTML = value;
    elem.parentNode.classList.remove("is-hidden");
  },
  hiddenParentNode: function (elem, value, all) {
    elem.innerHTML = value;
    elem.parentNode.classList.add("is-hidden");
  },

  renderChangeAvatarImageContainer: function (elem, value, all) {
    all.hasOwnProperty("avatarlink") ? elem.classList.remove("is-hidden") : elem.classList.add("is-hidden");
  },
  renderImageFileInput: function (element, value, all) {
    if (value.trim() != "" && value.trim() != "null") {
      var url = value;

      element.setAttribute("image-url", url);

      var filename = url.split("/")[url.split("/").length - 1];

      var fileContainer = shinobi.util.getParentElementHasAttribute(element, {
        type: "class",
        value: "file",
      });

      var field = shinobi.util.getParentElementHasAttribute(element, {
        type: "class",
        value: "field",
      });

      var fileNameContainer = fileContainer.getElementsByClassName("file-name")[0];
      fileNameContainer.innerHTML = filename;

      field.classList.add("is-grouped");

      var control = field.querySelector(".control.image-info");
      if (control) {
        control.remove();
      }
      control = document.createElement("div");
      control.setAttribute("class", "control image-info");
      var button = document.createElement("a");
      button.setAttribute("class", "button is-primary is-icon");
      button.innerHTML = '<span class="icon"><i class="fal fa-image"></i></span>';
      control.appendChild(button);
      field.appendChild(control);

      button.onclick = function () {
        shinobi.notification.image(element.getAttribute("image-url"));
      };
    }
  },
  renderRatioTable: function (cell, row, col, all) {
    shinobi.render.renderRatio(cell, cell.innerHTML, all[row]);
  },
  renderRatio: function (elem, value, all) {
    elem.innerHTML = value + "%";
  },
  renderPercent: function (elem, value, all) {
    elem.value = (Number(value) * 100) + "%";
  },
  getRatio: function (value, option) {
    return value.replace("%", "");
  },
  renderFullNameTable: function (cell, row, col, all) {
    shinobi.render.renderFullName(cell, cell.innerHTML, all[row]);
  },

  renderFullName: function (elem, value, all) {
    elem.innerHTML = all["lastname"] + " " + all["firstname"];
  },
  enumMapping: {
    SETTLE: "Hoàn tất",
    INPROCESS: "Đang xử lý",
    WAITING_FOR_CHEQUE: "Đợi thanh toán",
    EXPIRED: "Đã hết hạn",
    DELETED: "Đã xóa",
    ACCEPTED: "Chấp nhận",
    REJECTED: "Từ chối",
    WAITING_FOR_TRANFER: "Đang xử lý",
    CANCEL: "Đã hủy",
    WAITING_FOR_AUDIT: "Chờ xử lý",
    DEPOSIT: "Nạp tiền",
    DEPOSIT_DEAL: "Đơn nạp tiền",
    WITHDRAWAL: "Rút tiền",
    TRADING_DEAL: "Mua hàng",
    WINNING_LOTTERY: "Thắng cược",
    WITHDRAW: "Rút tiền",
    CANCEL_REQUEST: "Hủy yêu cầu",
    SEND_REQUEST: "Gửi yêu cầu",
    ACCEPTED_BY_ADMIN: "Admin đồng ý",
    MARK_AS_INPROCESS_BY_ADMIN: "Admin chuyển sang đang xử lý",
    REJECTED_BY_ADMIN: "Admin từ chối",
    MARK_AS_TRANFER_BY_ADMIN: "Admin chuyển sang chờ chuyển",
    WAITING_FOR_EMAIL_VERIFY: "Đợi xác nhận email",
  },

  enumMappingResultStatus: {
    NOT_YET: "Chưa đến lượt",
    ON_WAITING: "Chờ xổ",
    COMPLETE: "Đã xổ xong",
    IN_PROCESS: "Đang xổ",
  },

  enumMappingWithdrawalRequestActionType: {
    ADD_BY_ADMIN: "Admin nạp tiền",
    ACCEPTED_BY_ADMIN: "Đang xử lý",
    REJECTED_BY_ADMIN: "Từ chối",
    SEND_REQUEST: "Gửi yêu cầu",
    MARK_AS_TRANFER_BY_ADMIN: "Admin xác nhận hoàn tất",
    MARK_AS_INPROCESS_BY_ADMIN: "Admin chuyển qua đang xử lý",
    CANCEL_REQUEST: "Hủy yêu cầu",
  },

  enumMappingDepositRequestActionType: {
    ADD_BY_ADMIN: "Admin nạp tiền",
    ACCEPTED_BY_ADMIN: "Admin hoàn tất",
    REJECTED_BY_ADMIN: "Admin từ chối",
    SEND_REQUEST: "Gửi yêu cầu",
    MARK_AS_TRANFER_BY_ADMIN: "Admin xác nhận đã chuyển",
    MARK_AS_INPROCESS_BY_ADMIN: "Admin chuyển qua đang xử lý",
    CANCEL_REQUEST: "Hủy yêu cầu",
  },

  renderEnumActionWithdrawalDepositTable: function (cell, row, col, all) {
    shinobi.render.renderEnumActionWithdrawalDeposit(cell, cell.innerHTML, all[row]);
  },

  renderEnumActionWithdrawalDeposit: function (elem, value, all) {
    var enumList =
      all.actiontype == "DEPOSIT" || all.requesttype == "DEPOSIT"
        ? shinobi.render.enumMappingDepositRequestActionType
        : shinobi.render.enumMappingWithdrawalRequestActionType;
    var returnValue = enumList.hasOwnProperty(value) ? enumList[value] : value;
    elem.innerHTML = returnValue;
  },

  renderRandomColor: function (elem, value, all) {
    var list = ["white", "black", "light", "dark", "primary", "link", "info", "success", "warning", "danger"];
    var randomValue = list[Math.floor(Math.random() * list.length)];
    var attribute = elem.hasAttribute("snb-color-attribute")
      ? elem.getAttribute("snb-color-attribute")
      : "has-background-";
    elem.classList.add(attribute + randomValue);
  },

  renderLotteryResultStatus: function (elem, value, all) {
    var returnValue = shinobi.render.enumMappingResultStatus.hasOwnProperty(value)
      ? shinobi.render.enumMappingResultStatus[value]
      : value;
    elem.innerHTML = returnValue;
    if (value == "ON_WAITING") {
      elem.classList.add("has-text-primary");
    }
  },

  renderEnum: function (elem, value, all) {
    var returnValue = shinobi.render.enumMapping.hasOwnProperty(value) ? shinobi.render.enumMapping[value] : value;
    elem.innerHTML = returnValue;
  },

  renderEnumTable: function (cell, row, col, all) {
    shinobi.render.renderEnum(cell, cell.innerHTML);
  },

  removeFormatNumber: function (value, option) {
    var formatCharacter = shinobi.util.getFormatCharacters();
    var numberFormatCharacter = formatCharacter.numberFormatCharacter;
    return value.replace(new RegExp("\\" + numberFormatCharacter, "g"), "");
  },

  getBulmaCalendarValue: function (value, option) {
    var returnValue = {};
    if (value == "") {
      return value;
    } else {
      option["elem"].parentNode.classList.remove("has-border-danger");
      if (option["elem"].hasAttribute("data-is-range") && option["elem"].getAttribute("data-is-range") == "true") {
        var valueSplit = value.split("-");
        var optionDate = {
          format: "yyyy-MM-dd",
        };
        returnValue["beginDate"] = valueSplit[0] ? valueSplit[0].trim() : "";
        returnValue["endDate"] = valueSplit[1] ? valueSplit[1].trim() : "";

        return returnValue;
      }
      return value;
    }
  },

  getBulmaCalendarValueFormat: function (value, option) {
    var returnValue = value;
    if (value != "") {
      returnValue = shinobi.util.reverseFormatDate(value, {
        reverseFormat: "dd/MM/yyyy",
        format: "yyyy-MM-dd",
      });
    }
    return returnValue;
  },

  getFilterSelect: function (th, options) {
    var select = th.querySelector('select');
    console.log(select.value);
    return {
      colname: th.getAttribute('snb-colname'),
      operator: (select.value == '') ? 'like' : '=',
      value: select.value
    };
  },

  buildFilterSelect: function (th, options) {
    var listOption = JSON.parse(th.getAttribute('snb-filter-list-option'));
    if (th.querySelector('.table-filter')) {
      var preFilter = th.querySelector('.table-filter');
      preFilter.remove();
      options['tableObject'].reloadApi(1);
    } else {
      var container = document.createElement('div');
      container.setAttribute('class', 'field table-filter has-addons');
      container.innerHTML = `
        <div class="select is-small">
            <select></select>
        </div>
        `;
      var select = container.querySelector('select');
      select.onchange = function () {
        options['tableObject'].reloadApi(1);
      }

      listOption.forEach(function (item) {
        var option = document.createElement('option');
        option.setAttribute('value', item["value"]);
        option.innerHTML = item["name"];
        select.appendChild(option);
      });

      th.appendChild(container);
      select.value = '';
    }
  },

  renderFormatNumberTable: function (cell, row, col, all) {
    shinobi.render.renderFormatNumber(cell, cell.innerHTML, all);
  },

  renderUserBalance: function (elem, value, all) {
    shinobi.render.addLoading(elem);
    shinobi.cacheapi.request(shinobi.coreapi.bankAccountApi + "getAccountBalance", "{}", function (response) {
      var jsonArr = JSON.parse(response);
      elem.innerHTML = jsonArr.hasOwnProperty("currentcash")
        ? shinobi.util.formatNumber(jsonArr["currentcash"])
        : "Đang xử lý";
    });
  },

  getFileName: function (elem, value, all) {
    var linkFile = value;
    var linkFileSplit = linkFile.split("/");

    elem.innerHTML = linkFileSplit[linkFileSplit.length - 1];
  },

  renderDownloadFile: function (elem, value, all) {
    var linkFile = value;

    elem.setAttribute("href", value);

    setTimeout(function () {
      elem.focus();
    }, 200);

    elem.onclick = function () {
      var modalId = elem.getAttribute("modal-parent");

      var modal = document.getElementById(modalId);
      modal.classList.remove("is-active");
    };
  },

  addLoading: function (elem, value, all) {
    elem.innerHTML = '<a class="button is-small is-borderless is-paddingless is-icon is-transparent  is-loading"></a>';
  },

  renderTagInputValue: function (elem, value, all) {
    if (typeof shinobi.initbulma.tagsInput == "object") {
      shinobi.initbulma.tagsInput.forEach(function (item) {
        if (item["element"] == elem) {
          item.reset();
          item.input.setAttribute("style", "");
          item.element.value = "";
          var listOption = item.container.querySelectorAll("[data-tag]");

          for (var i = 0; i < listOption.length; i++) {
            listOption[i].remove();
          }
          var listTagValue = value.split(",");
          listTagValue.forEach(function (valueItem) {
            if (valueItem.trim() != "") {
              item.addTag(valueItem.trim());
            }
          });

          item.element.value = value;
        }
      });
    }
  },

  renderFormatDate: function (elem, value, all) {
    var format = elem.hasAttribute("snb-date-format") ? elem.getAttribute("snb-date-format") : "dd-MM-yyyy";
    elem.innerHTML = shinobi.util.getFormatDate(value, {
      format: format,
    });
  },

  renderFormatNumberFloat: function (elem, value, all) {
    var floatValue = Number.parseFloat(value);
    shinobi.render.renderFormatNumber(elem, floatValue, all);
  },

  renderFormatNumberInt: function (elem, value, all) {
    var intValue = Number.parseInt(value);
    shinobi.render.renderFormatNumber(elem, intValue, all);
  },

  renderTotalPrice: function (elem, value, all) {
    var total = all["quantity"] * all["price"];
    elem.innerHTML = shinobi.util.formatNumber(total);
  },
  renderChangeColor: function (elem, value, all) {
    if (Number(value) > 0 || value.trim().toString().startsWith('+')) {
      elem.style.color = 'rgb(0, 255, 0)';
    }

    if (Number(value) < 0 || value.trim().toString().startsWith('-')) {
      elem.style.color = 'rgb(255, 0, 0)';
    }
  },
  renderChangePercentColor: function (elem, value, all) {
    var number = Number(value.replace('%', ''));
    if (number > 0 || value.trim().toString().startsWith('+')) {
      elem.style.color = 'rgb(0, 255, 0)';
    }

    if (number < 0 || value.trim().toString().startsWith('-')) {
      elem.style.color = 'rgb(255, 0, 0)';
    }
  },
  renderChangeAvatarButton: function (elem, value, all) {
    shinobi.fileupload.registerElement(
      elem,
      "change",
      "uploadavatar",
      function () {
        return 0;
      },
      function (upfileResponse) {
        var jsonArr = upfileResponse;

        if (jsonArr.result == "success") {
          var url = jsonArr.content.url;

          var updateAvatarRequest = {};

          var avatarLink = url + "?" + new Date().getTime();

          updateAvatarRequest.avatarlink = avatarLink;

          shinobi.api.request(
            shinobi.coreapi.loggedUserApi + "updateAvatarLink",
            JSON.stringify(updateAvatarRequest),
            function (response) {
              if (response == "update success") {
                shinobi.notification.notification.info("Cập nhật thành công!");

                setTimeout(function () {
                  location.reload();
                }, 1000);
              }
            }
          );
        } else {
          shinobi.notification.notification.error("Xảy ra lỗi vui lòng thử lại!");

          return;
        }
      }
    );
  },
  renderGenderTable: function (cell, row, col, all) {
    shinobi.render.renderGender(cell, cell.innerHTML, all[row]);
  },
  renderGender: function (elem, value, all) {
    var returnValue;
    switch (value) {
      case "MR":
        returnValue = "Nam";
        break;
      case "MS":
        returnValue = "Nữ";
        break;
      default:
        returnValue = value;
        break;
    }
    elem.innerHTML = returnValue;
  },

  filterGender: function (value, option) {
    var returnValue;
    switch (value) {
      case "Nam":
        returnValue = "MR";
        break;
      case "Nữ":
        returnValue = "MS";
        break;
      default:
        returnValue = value;
        break;
    }
    return returnValue;
  },

  renderPhoneNumberWithPhoneReligion: function (elem, value, all) {
    elem.value = value;
    if (elem.hasAttribute("render-target") && all.hasOwnProperty("country")) {
      var target = elem.getAttribute("render-target");
      eval(target).setCountry(all["country"]);
    }
  },

  getNumberCleaveInput: function (value, option) {
    return shinobi.util.getValueNumberCleaveFormat(option.elem);
  },

  renderTextCenterTable: function (cell, row, col, all) {
    shinobi.render.renderTextCenterDatalist(cell, cell.innerHTML, all[row]);
  },

  renderTextCenterDatalist: function (elem, value, all) {
    elem.classList.add('has-text-centered');
  },
  renderTextLeftTable: function (cell, row, col, all) {
    shinobi.render.renderTextLeftDatalist(cell, cell.innerHTML, all[row]);
  },

  renderTextLeftDatalist: function (elem, value, all) {
    elem.classList.add('has-text-left');
  },
  renderTextRightTable: function (cell, row, col, all) {
    shinobi.render.renderTextRightDatalist(cell, cell.innerHTML, all[row]);
  },

  renderTextRightDatalist: function (elem, value, all) {
    elem.classList.add('has-text-right');
  },
};
shinobi.scroll = {
    defaultOption: {
        scrolldelay: 50,
        delayReScroll: 4000,
        delayStartScrollWhenReScroll: 2000,
        pauseOnHover: true
    },
    init: function (selector, option) {
        var elemList = document.querySelectorAll(selector);
        for (var i = 0; i < elemList.length; i++) {
            var elem = elemList[i];
            shinobi.scroll.initElement(elemList, i, option);
        }
    },
    initElement: function (elemList, i, option) {
        var elem = elemList[i];
        var newOption;
        if (!option) {
            newOption = JSON.parse(JSON.stringify(shinobi.scroll.defaultOption));
        } else {
            newOption = option;
        }

        shinobi.scroll.scrollProcess(elem, newOption);
    },

    scrollProcess: function (elem, option) {
        // shinobi.scroll.state = 'scroll';
        var currentScrollHeight = elem.scrollTop + elem.clientHeight;
        var scrollHeight = elem.scrollHeight;
        shinobi.scroll.clear(elem, option, function (afterOption) {
            shinobi.scroll.addEventHover(elem, afterOption);
            if (currentScrollHeight < scrollHeight) {
                afterOption.scrollInterval = setTimeout(function () {
                    elem.scrollBy(0, 1);
                    shinobi.scroll.scrollProcess(elem, afterOption);
                }, afterOption['scrolldelay']);

            } else {
                afterOption.reScrollInterval = setTimeout(function () {
                    elem.scrollTo(0, 0);
                    setTimeout(function () {
                        shinobi.scroll.scrollProcess(elem, afterOption);
                    }, afterOption['delayStartScrollWhenReScroll'])
                }, afterOption['delayReScroll']);

            }
        });

    },

    addEventHover: function (elem, option) {
        if (option.hasOwnProperty('pauseOnHover')) {
            if (option['pauseOnHover']) {
                elem.onmouseover = function () {
                    shinobi.scroll.clear(elem, option);
                }
                elem.onmouseout = function () {
                    shinobi.scroll.scrollProcess(elem, option);
                }
            }
        }
    },
    clear: function (elem, option, callback) {
        if (option.hasOwnProperty('scrollInterval')) {
            clearTimeout(option['scrollInterval']);
        }
        if (option.hasOwnProperty('reScrollInterval')) {
            clearTimeout(option['reScrollInterval']);
        }
        if (typeof callback == 'function') {
            callback(option);
        }
    },

};shinobi.seorender = {

	'gaid' : 'UA-138668527-1',

	'json' : [
			{
				'pageurl' : '/page/index',
				'pagename' : 'Aladin | Nền tảng kết nối cộng đồng nhà đầu tư chứng khoán chuyên nghiệp',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/traderlisting',
				'pagename' : 'Nhà tư vấn',
				'pagerender' : 'shinobi.seorender.listingPageRender'
			}, {
				'pageurl' : '/page/investorlisting',
				'pagename' : 'Nhà đầu tư',
				'pagerender' : 'shinobi.seorender.listingPageRender'
			}, {
				'pageurl' : '/page/blogoverview',
				'pagename' : 'Blog đầu tư',
				'pagerender' : 'shinobi.seorender.blogOverviewRender'
			}, {
				'pageurl' : '/page/blogpost/',
				'pagename' : 'Bài viết',
				'pagerender' : 'shinobi.seorender.blogPostRender'
			}, {
				'pageurl' : '/page/tradinginstruction',
				'pagename' : 'Hướng dẫn nhà đầu tư',

			}, {
				'pageurl' : '/page/account',
				'pagename' : 'Trang cá nhân',
				'pagerender' : 'shinobi.seorender.renderPublicUserProfilePage'
			}, {
				'pageurl' : '/page/traderaccount',
				'pagename' : 'Nhà tư vấn',
				'pagerender' : 'shinobi.seorender.renderPublicUserProfilePage'
			}, {
				'pageurl' : '/page/investoraccount',
				'pagename' : 'Nhà đầu tư',
				'pagerender' : 'shinobi.seorender.renderPublicUserProfilePage'
			}, {
				'pageurl' : '/page/traderguide',
				'pagename' : 'Hướng dẫn Nhà tư vấn',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/question',
				'pagename' : 'Các câu hỏi thường gặp',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/aboutus',
				'pagename' : 'Về Chúng tôi',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/job',
				'pagename' : 'Nghề nghiệp',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/privacypolicy',
				'pagename' : 'Chính sách Bảo mật',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/denyrisk',
				'pagename' : 'Khước từ rủi ro',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/investorserviceterms',
				'pagename' : 'Điều khoản NĐT',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/traderserviceterms',
				'pagename' : 'Điều khoản NTV',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/contact',
				'pagename' : 'Liên hệ',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/investwithaladin',
				'pagename' : 'Đầu tư cùng Aladin',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/traderintroduction',
				'pagename' : 'Hợp tác cùng Nhà tư vấn',
				'pagerender' : ''
			}, {
				'pageurl' : '/page/investorregistration',
				'pagename' : 'Đăng kí',
				'pagerender' : ''
			} ],

	'build' : function(callback) {

		shinobi.seorender.renderPageSeo(callback);
	},

	'renderPublicUserProfilePage' : function(item) {

		var pathName = window.location.pathname;

		var pathNameSplit = pathName.split('/');

		var pageUrl = pathNameSplit[pathNameSplit.length - 1];

		var request = {};
		request.pageurl = pageUrl;

		shinobi.api.request('/api/UserApi/getUsernameFromHomePage', JSON
				.stringify(request), function(response) {

			shinobi.api.request('/api/UserApi/getAllUserInfo', response,
					function(userInfo) {

						var userInfoObject = JSON.parse(userInfo);

						var fullName = userInfoObject.firstname + ' '
								+ userInfoObject.lastname;

						// document.title = fullName;

						var headContent = document.head.innerHTML;
						headContent = '<title>' + fullName + '</title>'
								+ headContent;
						document.head.innerHTML = headContent;
					});
		});
	},

	'blogPostRender' : function(item) {

		var request = {};

		var pathName = window.location.pathname;

		var pathNameSplit = pathName.split('/');

		var postUrl = pathNameSplit[pathNameSplit.length - 1];

		request.posturl = blogPostPageUrl + postUrl;

		shinobi.api.request('/api/BlogOverviewApi/getPreViewContent', JSON
				.stringify(request), function(response) {

			var jsonArr = JSON.parse(response);

			document.title = jsonArr.posttitle;

			var markup = '  <meta property="og:url" content="'
					+ window.location.href + '" />';
			markup = markup + ' <meta property="og:type" content="website" />';
			markup = markup + ' <meta property="og:title" content="'
					+ jsonArr.posttitle + '" />';

			// if (jsonArr.previewcontent) {
			//
			// markup = markup + ' <meta property="og:description" content="'
			// + jsonArr.previewcontent.replace('/(<([^>]+)>)/ig', '')
			// + '" />';
			// } else {
			// markup = markup + ' <meta property="og:description" content="'
			// + jsonArr.title + '" />';
			//			}

			markup = markup + '<meta property="og:image" content="'
					+ jsonArr.thumpnailurl + '" />';
			var headContent = document.head.innerHTML;
			headContent = markup + headContent;
			document.head.innerHTML = headContent;

		});

	},

	'blogOverviewRender' : function(item) {

		var pathName = window.location.pathname;

		var pathNameSplit = pathName.split('/');

		var postType = pathNameSplit[pathNameSplit.length - 2];

		var postFilter = pathNameSplit[pathNameSplit.length - 1];

		var title = er.postFiterConvert(postFilter)
				+ ' '
				+ shinobi.aladinUtil.convertPostTypeToVn(postType)
						.toLowerCase();

		var pageTitle = item.pagename + ': ' + title;

		// var headContent = document.head.innerHTML;
		// headContent = '<title>' + pageTitle + '</title>' + headContent;
		// document.head.innerHTML = headContent;

		document.title = pageTitle;

	},

	'listingPageRender' : function(item) {

		var pathName = window.location.pathname;

		var timeFrame;

		if (item.pageurl == pathName) {

			timeFrame = shinobi.investortraderlistingcontentheaderrender.defaultTimeFrame;

		} else {

			var pathNameSplit = pathName.split('/');

			timeFrame = pathNameSplit[pathNameSplit.length - 1];
		}

		// document.title = item.pagename + ': ' +
		// er.listingTimeFrame(timeFrame);

		var pageTitle = item.pagename + ': ' + er.listingTimeFrame(timeFrame);

		// var headContent = document.head.innerHTML;
		// headContent = '<title>' + pageTitle + '</title>' + headContent;
		// document.head.innerHTML = headContent;

		document.title = pageTitle;

	},

	'defaultRender' : function(item) {

		// var headContent = document.head.innerHTML;
		// headContent = '<title>' + item.pagename + '</title>' + headContent;
		// document.head.innerHTML = headContent;

		document.title = item.pagename;

	},

	'addGA' : function() {
		ga("create", shinobi.seorender.gaid, "auto");
		ga("send", "pageview");
	},

	'renderPageSeo' : function(callback) {

		var jsonArr = shinobi.seorender.json;

		var pathName = window.location.pathname;

		for (var i = 0; i < jsonArr.length; i++) {

			var item = jsonArr[i];

			// var pageUrlRegex = new RegExp(item.pageurl, "igs");

			// if (pageUrlRegex.test(pathName)) {

			if (pathName.includes(item.pageurl)) {
				if (!item.pagerender || item.pagerender == ''
						|| item.pagerender == null) {

					shinobi.seorender.defaultRender(item);
				} else {

					eval(item.pagerender)(item);
				}

				setTimeout(function() {

					callback(true);
				}, 2000);

				return;
			}
		}

		callback(false);
	},

};shinobi.socket = (function () {
  // constructor
  var constructor = function (option) {
    this.url = "";
    this.option = option;
    this.socket = {};
    this.msgid = "";
    this.onOpen = null;
    this.onOpenOverrideFunction = null;
    this.onMessage = null;
    this.onMessageOverrideFunction = null;
    this.onSendOverrideFunction = null;
    this.onError = null;
    this.onClose = null;
    this.onAjax = null;

    this.init = function () {
      this.setupOption();

      this.connect();
    };

    this.connect = function () {
      var socketObject = this;

      this.socket = new WebSocket(socketObject.url);

      this.socket.addEventListener("open", function (event) {
        if (typeof socketObject.onOpenOverrideFunction == "function") {
          socketObject.onOpenOverrideFunction(socketObject);
        } else {
          var message = {
            type: "register",
            command: "init",
            msgid: 0,
            data: [],
          };
          this.send(JSON.stringify(message));

          if (typeof socketObject.onOpen == "function") {
            socketObject.onOpen(socketObject);
          }
        }
      });

      this.socket.addEventListener("message", function (event) {
        if (typeof socketObject.onMessageOverrideFunction == "function") {
          socketObject.onMessageOverrideFunction(event.data);
        } else {
          var data = JSON.parse(event.data);

          // if (socketObject.msgid == '') {

          // 	socketObject.msgid = data.msgid;

          // } else {

          if (typeof socketObject.onMessage == "function") {
            socketObject.onMessage(data);
          }

          // }
        }
      });

      this.socket.addEventListener("close", function () {
        console.log("connection closed");
        if (typeof socketObject.onClose == "function") {
          socketObject.onClose(socketObject);
        } else {
          setTimeout(socketObject.connect(socketObject.url), 1000);
        }
      });
    };

    this.setupOption = function () {
      var socketObject = this;

      socketObject["url"] = option["url"];

      if (option["onOpen"]) {
        socketObject["onOpen"] = option["onOpen"];
      }
      if (option["onClose"]) {
        socketObject["onClose"] = option["onClose"];
      }
      if (option["onMessage"]) {
        socketObject["onMessage"] = option["onMessage"];
      }
      if (option["onError"]) {
        socketObject["onError"] = option["onError"];
      }
      if (option["onAjax"]) {
        socketObject["onAjax"] = option["onAjax"];
      }
      if (option["onOpenOverrideFunction"]) {
        socketObject["onOpenOverrideFunction"] =
          option["onOpenOverrideFunction"];
      }
      if (option["onMessageOverrideFunction"]) {
        socketObject["onMessageOverrideFunction"] =
          option["onMessageOverrideFunction"];
      }
      if (option["onSendOverrideFunction"]) {
        socketObject["onSendOverrideFunction"] =
          option["onSendOverrideFunction"];
      }
    };

    this.send = function (sendData, callback) {
      var socketObject = this;

      var interval = setInterval(function () {
        if (socketObject.socket.readyState == 1) {
          if (typeof socketObject.onSendOverrideFunction == "function") {
            socketObject.onSendOverrideFunction(socketObject, sendData);
          } else {
            var content = {
              command: "request",
              msgid: socketObject.msgid,
              data: sendData,
            };

            socketObject.socket.send(JSON.stringify(content));
          }

          if (typeof callback == "function") {
            callback();
          }

          clearInterval(interval);
        }
      }, 10);
    };

    this.init();
  }; // end constructor

  return constructor;
})();
shinobi.message = {
	'socket': '',
	'url': "",
	'chatInqueue': [],
	'notificationInqueue': [],
	'sessionid': "",
	'readyToSend': false,
	'option': null,
	'connect': function (url, callback, option) {

		this.url = url;
		this.option = option;
		// if (typeof shinobi.message.socket == 'object' && shinobi.message.socket.close == 'function') {
		// 	shinobi.message.socket.close();
		// }
		shinobi.message.socket = new WebSocket(shinobi.message.url);
		// if (option && option.hasOwnProperty('sendInit')) {
		// 	var message = {};
		// 	message.type = "register";
		// 	message.content = shinobi.message.sessionid;
		// 	shinobi.message.socket.send(JSON.stringify(message));
		// 	console.log("send register message");

		// 	shinobi.message.socket.readyToSend = true;

		// 	setTimeout(function () {
		// 		if (typeof callback == 'function') {

		// 			callback();
		// 		}

		// 	}, 1000);
		// }

		this.socket.addEventListener('open', function (event) {
			console.log("open connection");
			var object = this;
			var message = {};
			message.type = "register";
			if (shinobi.message.sessionid == '') {
				shinobi.message.connectSocketServer(callback);
			} else {

				message.content = shinobi.message.sessionid;
				object.send(JSON.stringify(message));
				console.log("send register message");

				object.readyToSend = true;

				setTimeout(function () {
					if (typeof callback == 'function') {

						callback();
					}

				}, 1000);

			}

		});

		this.socket.addEventListener('message', function (event) {
			shinobi.message.inputMessageHandler(event);
		});

		this.socket.addEventListener('close', function () {
			console.log("connection closed");
			setTimeout(shinobi.message.connect(shinobi.message.url), 1000);
		});

	},
	'connectSocketServer': function (callback) {
		var requestSessonId = {};

		shinobi.api.request("/authenapi/UserInfoApi/getSessionid", JSON
			.stringify(requestSessonId), function (response) {

				var jsonResponse = JSON.parse(response);

				var sessionId = jsonResponse.sessionid;

				shinobi.message.sessionid = sessionId;

				if (callback) {
					// shinobi.message.socket.close();

					// shinobi.message.connect(shinobi.config.current.imserver);
					console.log("connect socket server success");

					callback();
				}

			});

	},
	'inputMessageHandler': function (event) {

		var response = event.data;
		var data = JSON.parse(response);

		shinobi.socketmanager.socketMessage.private.push(data);

	},
	'sendMessage': function (message) {
		this.socket.send(message);
	},
};
Number.prototype.format = function (n, x, s, c) {
  var re = "\\d(?=(\\d{" + (x || 3) + "})+" + (n > 0 ? "\\D" : "$") + ")",
    num = this.toFixed(Math.max(0, ~~n));

  return (c ? num.replace(".", c) : num).replace(new RegExp(re, "g"), "$&" + (s || ","));
};

shinobi.tableHelper = {
  mappingRender: {
    renderFirstNameLastName: {
      functionName: "getfullname",
      param: "this",
    },
  },
  colnameAttribute: "snb-colname",
  renderAttribute: "snb-render",
  colcontrolAttribute: "snb-header-control",
  sortAttribute: "snb-sort",
  sortIcon: "<i class='fas fa-sort'></i>",
  sortDescIcon: "<i class='fas fa-sort-down'></i>",
  sortAscIcon: "<i class='fas fa-sort-up'></i>",

  getRender: function (tableId) {
    var table = document.getElementById(tableId);

    var colnameAttributeQuery = "[" + shinobi.tableHelper.colnameAttribute + "]";

    var tHead = table.tHead;
    var listColumnHasColname = tHead.querySelectorAll(colnameAttributeQuery);

    var render = [];
    for (var i = 0; i < listColumnHasColname.length; i++) {
      var item = listColumnHasColname[i];
      if (item.hasAttribute(shinobi.tableHelper.renderAttribute)) {
        var renderFunction = item.getAttribute(shinobi.tableHelper.renderAttribute);

        render[item.cellIndex] = renderFunction;
      }
    }

    return render;
  },

  addAttributeColname: function (colElem) {
    if (colElem.hasAttribute(shinobi.tableHelper.colcontrolAttribute)) {
      var sortElem = colElem.querySelector("[snb-sort]");

      if (!sortElem) {
        var span = document.createElement("span");
        span.setAttribute(shinobi.tableHelper.sortAttribute, "");

        span.innerHTML = shinobi.tableHelper.sortIcon;

        colElem.appendChild(span);
      }

      if (colElem.getAttribute(shinobi.tableHelper.colcontrolAttribute).includes("2")) {
        var filter = document.createElement("span");
        filter.setAttribute("snb-filter", "");
        var filterIcon = document.createElement("i");
        filterIcon.setAttribute("class", "fal fa-sm fa-filter");
        filter.appendChild(filterIcon);
        colElem.appendChild(filter);
      }
    }
  },

  getColname: function (tableId) {
    var table = document.getElementById(tableId);

    var headerColnames = [];

    var listTr = table.tHead.rows;
    for (var indexTr = 0; indexTr < listTr.length; indexTr++) {
      var tr = listTr[indexTr];
      var listTh = tr.cells;
      for (let th of listTh) {
        var key;
        var colspan = th.colSpan;
        if (th.hasAttribute(shinobi.tableHelper.colnameAttribute)) {
          key = th.getAttribute(shinobi.tableHelper.colnameAttribute);
          shinobi.tableHelper.addAttributeColname(th);
        } else {
          key = null;
        }
        if (indexTr == 0) {
          for (var i = 0; i < colspan; i++) {
            headerColnames.push(key);
          }
        } else {
          for (var j = 0; j < colspan; j++) {
            headerColnames[headerColnames.indexOf(null) + j] = key;
          }
        }
      }
    }

    return headerColnames;
  },

  buildSort: function (table) {
    var staticSort = table.staticsorts;
    table.getSorts();

    var sort = table.sorts;

    var listKey = [];

    for (var i = 0; i < sort.length; i++) {
      listKey.push(sort[i].colname);
    }

    var allSort = sort;

    for (var j = 0; j < staticSort.length; j++) {
      if (!listKey.includes(staticSort[j].colname)) {
        allSort.push(staticSort[j]);
      }
    }

    return allSort;
  },

  changeSortIconHeader: function (table) {
    for (var i = 0; i < table.allSorts.length; i++) {
      var key = table.allSorts[i].colname;

      var colnameAttributeQuery =
        "[" + shinobi.tableHelper.colnameAttribute + "=" + key + "]>[" + shinobi.tableHelper.sortAttribute + "]";

      var listHeaderSortIcon = table.tableNode.tHead.querySelectorAll(colnameAttributeQuery);

      for (var j = 0; j < listHeaderSortIcon.length; j++) {
        listHeaderSortIcon[j].classList.add("is-visible");
        listHeaderSortIcon[j].setAttribute("snb-sort", table.allSorts[i].value);

        if (table.allSorts[i].value == "asc") {
          listHeaderSortIcon[j].innerHTML = shinobi.tableHelper.sortAscIcon;
        }
        if (table.allSorts[i].value == "desc") {
          listHeaderSortIcon[j].innerHTML = shinobi.tableHelper.sortDescIcon;
        }
      }
    }
  },
  getRenderExcelFunction: function (cellHeader) {
    var renderName = cellHeader.getAttribute(shinobi.tableHelper.renderAttribute);

    var allFunction = shinobi.tableHelper.mappingRender;

    var functionObject = allFunction[renderName.toString()];

    var returnObject = {};

    if (functionObject) {
      returnObject.result = true;

      if (functionObject.param == "this") {
        var content = {};
        content.rendername = functionObject.functionName;
        content.inputlist = [];
        content.inputlist.push(cellHeader.getAttribute(shinobi.tableHelper.colnameAttribute));

        returnObject.content = content;
      }
    } else {
      returnObject.result = false;
    }

    return returnObject;
  },
};

shinobi.table = (function () {
  // private static variable
  var count = 0;
  var paginationClass = ".table-pagination";
  var prevPaginationClass = ".shinobi-pagination-prev";
  var curPagePaginationClass = ".shinobi-pagination-curpage";
  var nextPaginationClass = ".shinobi-pagination-next";
  var pageTotalClass = ".shinobi-page-total";
  var recordPerPageClass = ".shinobi-recordperpage";
  var detailIdKey = "snb-detailid";
  var colnameAttribute = "snb-colname";
  var colcontrolAttribute = "snb-header-control";
  var sortAttribute = "snb-sort";
  var exportExcelAttribute = "snb-export-excel";

  var sortDescIcon = "<i class='fas fa-sort-down'></i>";
  var sortAscIcon = "<i class='fas fa-sort-up'></i>";
  var sortIcon = "<i class='fas fa-sort'></i>";

  // constructor
  var constructor = function (tableid) {
    this.url = "";

    this.colNames = [];

    this.filters = [];

    this.staticfilters = [];

    this.sorts = [];

    this.allSorts = [];

    this.staticsorts = [];

    this.paramsRequestList = {};

    this.renders = [];

    this.tableRows = [];

    this.pageNum = 1;

    this.recordPerPage = 10;

    this.pageTotal = 10;

    this.rowTotal = 10;

    this.currentId = -1;

    this.lastRequest = {};

    this.exportExcel = false;

    this.options = null;

    this.tableNode = document.getElementById(tableid);

    this.tableContainerNode = this.tableNode.parentNode;

    this.pageNumNode = this.tableContainerNode.querySelector(curPagePaginationClass);

    this.recordPerPageNode = this.tableContainerNode.querySelector(recordPerPageClass);

    this.apiName = "";

    this.getColnames = function () {
      var table = document.getElementById(tableid);

      var headerColnames = [];

      var listTr = table.tHead.rows;
      for (var indexTr = 0; indexTr < listTr.length; indexTr++) {
        var tr = listTr[indexTr];
        var listTh = tr.cells;

        for (var indexTh = 0; indexTh < listTh.length; indexTh++) {
          var th = listTh[indexTh];
          var key;

          var colspan = th.colSpan;

          if (th.hasAttribute(colnameAttribute)) {
            key = th.getAttribute(colnameAttribute);
          } else {
            key = null;
          }

          if (indexTr == 0) {
            for (var i = 0; i < colspan; i++) {
              headerColnames.push(key);
            }
          } else {
            for (var j = 0; j < colspan; j++) {
              headerColnames[headerColnames.indexOf(null) + j] = key;
            }
          }
        }
      }

      return headerColnames;
    };

    this.registerSorts = function () {
      var sortElems = this.tableNode.querySelectorAll("[" + sortAttribute + "]");

      for (var i = 0; i < sortElems.length; i++) {
        var sortElem = sortElems[i];

        this.registerSort(sortElem);
      }
    };

    this.registerSort = function (sortElem) {
      var table = this;

      sortElem.addEventListener("click", function () {
        var currentSortValue = this.getAttribute(sortAttribute);

        var colName = this.parentNode.getAttribute(colnameAttribute);

        if ("" === currentSortValue) {
          this.setAttribute(sortAttribute, "asc");
          this.innerHTML = sortAscIcon;
          this.classList.add("is-visible");
        } else if ("asc" === currentSortValue) {
          this.setAttribute(sortAttribute, "desc");
          this.innerHTML = sortDescIcon;
          this.classList.add("is-visible");
        } else {
          this.setAttribute(sortAttribute, "");
          this.innerHTML = sortIcon;
          this.classList.remove("is-visible");
        }

        table.reloadApi(table.pageNum);
      });
    };

    this.getSorts = function () {
      this.sorts = [];

      // this.sorts = this.sorts.concat(this.staticsorts);

      var sortElems = this.tableNode.querySelectorAll("[" + sortAttribute + "]");

      for (var i = 0; i < sortElems.length; i++) {
        var sortElem = sortElems[i];

        var colName = sortElem.parentNode.getAttribute(colnameAttribute);
        var currentSortValue = sortElem.getAttribute(sortAttribute);

        if ("" !== currentSortValue) {
          var sort = {};
          sort.colname = colName;
          sort.value = currentSortValue;

          this.sorts.push(sort);
        }
      }
    };

    this.registerHeaders = function () {
      var tableElem = document.getElementById(tableid);
      var headers = tableElem.querySelectorAll("[" + colcontrolAttribute + "]");
      var object = this;
      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (header.getAttribute(colcontrolAttribute).includes("2")) {
          object.registerHeader(header);
        }
      }
    };

    this.registerHeader = function (header) {
      var title = header.innerHTML;

      var table = this;

      header.addEventListener("dblclick", function () {
        table.addEventFilterHeader(table, header);
      });

      var filter = header.querySelector("[snb-filter]");

      if (filter) {
        filter.onclick = function () {
          table.addEventFilterHeader(table, header);
        };
      }

      header.addEventListener("keyup", function (event) {
        if (event.keyCode === 13) {
          var currentvalue = this.querySelector("input").value;

          if (currentvalue && currentvalue == "") {
            // this.innerHTML = title;
            table.removeFilterControls(this);
          }

          table.resetPageNum();

          table.reloadApi(table.pageNum);
        }
      });
    };

    this.addEventFilterHeader = function (table, th) {
      //sử dụng snb-filter-builder để custom input filter - có 2 biến đầu vào của hàm th và options
      //sử dung snb-filter-get-value để lấy dữ liệu custom - có 2 biến đầu vào của hàm th và options
      if (th.hasAttribute('snb-filter-builder')) {
        eval(th.getAttribute('snb-filter-builder'))(th, {
          tableObject: table
        });
      } else {
        var childNode = th.childNodes[0];

        if (childNode.nodeType == 3) {
          if (th.querySelector("input") !== null) {
            // this.innerHTML = title;
            table.removeFilterControls(th);

            table.resetPageNum();

            table.reloadApi(table.pageNum);

            return;
          }

          var select = document.createElement("select");
          table.addFilterToElement(select, th);

          var input = document.createElement("input");
          input.setAttribute("class", "input is-small");
          th.hasAttribute("snb-datatype") && th.getAttribute("snb-datatype") == "date"
            ? input.setAttribute("type", "date")
            : input.setAttribute("type", "text");
          input.setAttribute("value", "");
          // input.style.width = th.offsetWidth + "px";

          var div = document.createElement("div");
          div.setAttribute("class", "select is-small");

          // this.removeChild(this.childNodes[0]);
          th.appendChild(document.createElement("br"));
          div.appendChild(select);
          var field = document.createElement("div");
          field.setAttribute("class", "field table-filter has-addons");
          var control1 = document.createElement("div");
          control1.setAttribute("class", "control");
          control1.appendChild(div);
          var control2 = document.createElement("div");
          control2.setAttribute("class", "control");
          control2.appendChild(input);
          field.appendChild(control1);
          field.appendChild(control2);
          th.appendChild(field);
        }
      }
    };

    this.createExportExcelButton = function () {
      var button = document.createElement("span");
      button.setAttribute("class", "button is-small is-light has-text-success is-pulled-right	");
      button.innerHTML = '<span class="icon"><i class="fa fa-file-excel"></i></span><span>Excel</span>';

      var lastTh = this.tableNode.tHead.lastElementChild.lastElementChild;

      lastTh.appendChild(button);

      this.exportExcelButton = button;
    };

    this.getMappingExcelColumn = function () {
      var listNode = this.listHeaderExportExcel;

      var mappingObject = {};

      for (var i = 0; i < listNode.length; i++) {
        var excelColumnName = listNode[i].getAttribute(exportExcelAttribute);

        var colName = listNode[i].getAttribute("snb-colname");

        if (!excelColumnName || excelColumnName.trim() == "") {
          mappingObject[colName] = listNode[i].innerText.trim();
        } else {
          mappingObject[colName] = excelColumnName.trim();
        }
      }
      return mappingObject;
    };

    this.getMappingExcelRenderColumn = function () {
      var listNode = this.listHeaderExportExcel;

      var mappingObject = {};

      for (var i = 0; i < listNode.length; i++) {
        if (listNode[i].hasAttribute("snb-render")) {
          var colName = listNode[i].getAttribute("snb-colname");
          var renderFunction = listNode[i].getAttribute("snb-render");

          if (renderFunction.trim() != "" && colName.trim() != "") {
            var renderExcelFunctionObject = shinobi.tableHelper.getRenderExcelFunction(listNode[i]);

            if (renderExcelFunctionObject.result) {
              mappingObject[colName] = renderExcelFunctionObject.content;
            }
          }
        }
      }

      return mappingObject;
    };

    this.addEventExportExcel = function () {
      var button = this.exportExcelButton;

      var table = this;

      if (this.listHeaderExportExcel.length == 0) {
        button.classList.add("is-hidden");
      }

      button.onclick = function () {
        shinobi.notification.notification.loading();

        // er.showDownloadFileModal();

        var request = {};
        request.filters = table.filters;
        request.sorts = table.allSorts;
        request.mappingcolumns = table.getMappingExcelColumn();
        request.rendercolumns = table.getMappingExcelRenderColumn();

        var urlSplit = table.url.split("/");
        var apiName = urlSplit[2];

        var url = "/exportfile/excel/" + apiName;

        shinobi.exportfile.request(url, JSON.stringify(request), "xlsx", function () {
          shinobi.notification.notification.loaded();
        });
      };
    };

    this.registerExportExcel = function () {
      var tableElem = document.getElementById(tableid);
      var listHeaderExportExcel = tableElem.querySelectorAll("[" + exportExcelAttribute + "]");
      if (listHeaderExportExcel && this.exportExcel) {
        this.listHeaderExportExcel = listHeaderExportExcel;

        this.createExportExcelButton();

        this.addEventExportExcel();
      }
    };

    this.removeFilterControls = function (elem) {
      var br = elem.querySelector("br");
      // var select = elem.querySelector(".select");
      // var input = elem.querySelector(".input");
      var field = elem.querySelector(".field.table-filter");
      elem.removeChild(br);
      // elem.removeChild(select);
      // elem.removeChild(input);
      elem.removeChild(field);
    };

    this.resetPageNum = function () {
      this.pageNum = 1;
      this.pageNumNode.value = 1;
    };

    this.addFilterToElement = function (select, node) {
      var datatype = node.getAttribute("snb-datatype");

      select.classList.add('default-filter-select-operator');

      var textArr = [];
      var valueArr = [];

      if (["number", "date"].includes(datatype)) {
        textArr = ["=", ">", ">=", "<", "<="];
        valueArr = ["equal", ">", ">=", "<", "<="];
      } else if (datatype === "boolean") {
        textArr = ["="];
        valueArr = ["equal"];
      } else {
        textArr = ["like", "="];
        valueArr = ["like", "equal"];
      }

      for (var i = 0; i < textArr.length; i++) {
        var option = document.createElement("option");
        option.text = textArr[i];
        option.value = valueArr[i];
        select.appendChild(option);
      }
    };

    this.registerRecordPerPage = function () {
      var table = this;

      var copyNode = this.recordPerPageNode.cloneNode(true);

      this.recordPerPageNode.parentNode.replaceChild(copyNode, this.recordPerPageNode);

      this.recordPerPageNode = copyNode;

      this.recordPerPageNode.addEventListener("change", function () {
        table.resetPageNum();
        table.reloadApi(table.pageNum);
      });
    };

    this.registerPagination = function () {
      var parentNode = this.tableNode.parentNode;

      this.paginationContainer = parentNode.querySelector(paginationClass);
    };

    this.updatePagination = function (data) {
      var content = JSON.parse(data);

      var table = this;

      table.rowTotal = content.rowTotal;
      table.pageNum = content.pageNum;
      table.recordPerPage = content.recordPerPage;
      table.pageTotal = content.pageTotal;

      shinobi.mapping.renderElement(this.paginationContainer, JSON.parse(data));

      if (JSON.parse(data).pageNum) {
        var currentPage = this.paginationContainer.querySelectorAll(curPagePaginationClass)[0];
        if (JSON.parse(data).pageTotal == 0) {
          currentPage.value = 0;
        } else {
          currentPage.value = JSON.parse(data).pageNum;
        }
      }
    };

    this.registerPrevPagination = function () {
      var parentNode = this.tableNode.parentNode;

      var prevPagination = parentNode.querySelector(prevPaginationClass);

      var copyNode = prevPagination.cloneNode(true);

      prevPagination.parentNode.replaceChild(copyNode, prevPagination);

      var table = this;

      copyNode.addEventListener("click", function () {
        var currentPageNode = parentNode.querySelector(curPagePaginationClass);
        var currentPage = currentPageNode.value;

        if (currentPage > 1) {
          var pageNum = currentPage - 1;

          currentPageNode.value = pageNum;

          table.reloadApi(pageNum);
        }
      });
    };

    this.registerNextPagination = function () {
      var parentNode = this.tableNode.parentNode;

      var nextPagination = parentNode.querySelector(nextPaginationClass);

      var copyNode = nextPagination.cloneNode(true);

      nextPagination.parentNode.replaceChild(copyNode, nextPagination);

      var table = this;

      copyNode.addEventListener("click", function () {
        var currentPageNode = parentNode.querySelector(curPagePaginationClass);
        var currentPage = Number(currentPageNode.value);

        if (currentPage < table.pageTotal) {
          var pageNum = currentPage + 1;
          currentPageNode.value = pageNum;

          table.reloadApi(pageNum);
        }
      });
    };

    this.registerCurrentPageEvent = function () {
      var parentNode = this.tableNode.parentNode;

      var currentPageNode = parentNode.querySelector(curPagePaginationClass);

      var copyNode = currentPageNode.cloneNode(true);

      currentPageNode.parentNode.replaceChild(copyNode, currentPageNode);

      var table = this;
      copyNode.addEventListener("keyup", function (event) {
        if (event.keyCode === 13) {
          var curPageNum = Number(copyNode.value);

          if (curPageNum > 0 && curPageNum <= table.pageTotal) {
            table.reloadApi(curPageNum);
          }
        }
      });
    };

    this.registerHeaders();
    this.registerPagination();
    this.registerCurrentPageEvent();
    this.registerPrevPagination();
    this.registerNextPagination();
    this.registerRecordPerPage();
    this.registerSorts();
    this.registerExportExcel();

    this.viewDetailPanelId = "";

    // public instance method
    this.renderTable = function (colnames, inputjson, render) {
      var table = document.getElementById(tableid);
      var tbody = table.getElementsByTagName("tbody")[0];

      // var rowArray = JSON.parse(inputjson);
      var rowArray = inputjson;

      this.tableRows = rowArray;

      for (var rowindex = 0; rowindex < rowArray.length; rowindex++) {
        var rowObject = rowArray[rowindex];
        var row = tbody.insertRow();

        if (this.viewDetailPanelId !== "") {
          row.setAttribute(detailIdKey, this.viewDetailPanelId);
        }

        for (var colindex in colnames) {
          var cell = row.insertCell(colindex);
          var value = rowObject[colnames[colindex]];

          if (typeof value != "undefined") {
            cell.innerHTML = value;
          }

          cell.setAttribute("rowid", rowindex);

          if (typeof render[colindex] != "undefined") {
            if (typeof render[colindex] == "function") {
              render[colindex](cell, rowindex, colindex, this.tableRows);
            }

            if (typeof render[colindex] == "string") {
              var option = {
                type: "table",
              };
              eval(render[colindex])(cell, rowindex, colindex, this.tableRows, option);
            }
          }
        }
      }
      var object = this;
      if (
        object.options != null &&
        object.options.hasOwnProperty("isFillBlankCell") &&
        object.options["isFillBlankCell"] == true
      ) {
        var blankRowCount = object.recordPerPage - object.tableRows.length;
        for (var j = 0; j < blankRowCount; j++) {
          let blankRow = tbody.insertRow();
          for (colindex in colnames) {
            var blankCell = blankRow.insertCell(colindex);
            blankCell.setAttribute("rowid", object.tableRows.length + j);
          }
        }
      }

      // this.updatePageTotal();

      if (object.options && object.options.hasOwnProperty("loadDataCallback")) {
        object.options.loadDataCallback();
      }
    };

    this.getCurrentPage = function () {
      var parentNode = this.tableNode.parentNode;

      var currentPageNode = parentNode.querySelector(curPagePaginationClass);
      var currentPage = Number(currentPageNode.value);

      return currentPage;
    };

    this.initLoadApi = function (url, request, colNames, renders, option) {
      // this.sorts = this.sorts.concat(this.staticsorts);

      var table = this;
      this.options = option;


      this.getTableFilters();

      this.filters = this.filters.concat(this.staticfilters);

      this.allSorts = shinobi.tableHelper.buildSort(this);
      this.sorts = [];
      // request.sorts = this.sorts;

      if (table.options && table.options.hasOwnProperty('beforeCallApiCallback')) {
        table.options.beforeCallApiCallback(table);
      }
      request.pageNum = 1;
      request.filters = this.filters;
      request.sorts = this.allSorts;
      Object.entries(table.paramsRequestList).forEach(function (entry) {
        request[entry[0]] = entry[1];
      });
      shinobi.api.request(url, JSON.stringify(request), function (data) {
        var content = JSON.parse(data);
        table.lastRequest.url = url;
        table.lastRequest.request = request;
        table.lastRequest.response = data;

        var tableContent = content.data;

        table.url = url;
        //
        // table.rowTotal = content.rowTotal;
        // table.pageNum = content.pageNum;
        // table.recordPerPage = content.recordPerPage;
        // table.pageTotal = content.pageTotal;

        table.colNames = colNames;
        table.renders = renders;

        shinobi.tableHelper.changeSortIconHeader(table);

        table.clear();
        table.updatePagination(data);
        table.renderTable(colNames, tableContent, renders);

        if (option && option.hasOwnProperty("callback")) {
          option.callback();
        }

        table.updatePagination(data);
      });
    };

    this.reloadApi = function (pageNum, reloadApiOptions) {
      if (!(reloadApiOptions && reloadApiOptions.hasOwnProperty("loading") && !reloadApiOptions["loading"])) {
        shinobi.notification.notification.loading();
      }
      var table = this;

      this.getTableFilters();
      this.getSorts();

      this.recordPerPage = this.recordPerPageNode.value;

      if (this.sorts.length == 0) {
        var sort = {};
        sort.colname = "id";
        sort.value = "desc";

        this.sorts[0] = sort;
      }

      var request = {};
      Object.entries(table.paramsRequestList).forEach(function (entry) {
        request[entry[0]] = entry[1];
      });
      request.recordPerPage = this.recordPerPage;

      if (pageNum) {
        request.pageNum = pageNum;
      } else {
        request.pageNum = this.getCurrentPage();
      }

      // check page number == 0
      if (request.pageNum == 0) {
        request.pageNum = 1;
      }


      this.allSorts = shinobi.tableHelper.buildSort(this);
      this.sorts = [];
      // request.sorts = this.sorts;
      if (table.options && table.options.hasOwnProperty('beforeCallApiCallback')) {
        table.options.beforeCallApiCallback(table);
      }
      request.filters = this.filters;
      request.sorts = this.allSorts;
      shinobi.api.request(this.url, JSON.stringify(request), function (data) {
        table.lastRequest.url = table.url;
        table.lastRequest.request = request;
        table.lastRequest.response = data;
        var content = JSON.parse(data);

        var tableContent = content.data;

        table.rowTotal = content.rowTotal;
        table.pageNum = content.pageNum;
        table.recordPerPage = content.recordPerPage;
        table.pageTotal = content.pageTotal;

        table.clear();
        table.updatePagination(data);
        table.renderTable(table.colNames, tableContent, table.renders);
        if (!(reloadApiOptions && reloadApiOptions.hasOwnProperty("loading") && !reloadApiOptions["loading"])) {
          shinobi.notification.notification.loaded();
        }
        if (reloadApiOptions && reloadApiOptions.hasOwnProperty("callback")) {
          reloadApiOptions.callback();
        }
      });
    };

    this.callApi = function (callback, pageNum, reloadApiOptions) {
      var table = this;

      this.getTableFilters();
      this.getSorts();

      this.recordPerPage = this.recordPerPageNode.value;

      if (this.sorts.length == 0) {
        var sort = {};
        sort.colname = "id";
        sort.value = "desc";

        this.sorts[0] = sort;
      }

      var request = {};
      Object.entries(table.paramsRequestList).forEach(function (entry) {
        request[entry[0]] = entry[1];
      });
      request.recordPerPage = this.recordPerPage;

      if (pageNum) {
        request.pageNum = pageNum;
      } else {
        request.pageNum = this.getCurrentPage();
      }

      // check page number == 0
      if (request.pageNum == 0) {
        request.pageNum = 1;
      }

      request.filters = this.filters;

      this.allSorts = shinobi.tableHelper.buildSort(this);
      this.sorts = [];
      // request.sorts = this.sorts;
      request.sorts = this.allSorts;

      shinobi.api.request(this.url, JSON.stringify(request), function (data) {
        var content = JSON.parse(data);
        callback(content);
      });
    };

    // public instance method
    this.clear = function () {
      var tableElem = document.getElementById(tableid);
      var tbody = tableElem.getElementsByTagName("tbody")[0];

      while (tbody.firstChild) {
        tbody.removeChild(tbody.firstChild);
      }
    };

    this.updatePageTotal = function () {
      var parentNode = this.tableNode.parentNode;
      var pageTotalNode = parentNode.querySelector(pageTotalClass);

      pageTotalNode.innerHTML = this.pageTotal;

      if (this.pageNum > this.pageTotal) {
        this.pageNum = this.pageTotal;

        var pageNumNode = parentNode.querySelector(curPagePaginationClass);
        pageNumNode.value = this.pageNum;
      }
    };
    // public instance method
    this.getRowObject = function (rowid) {
      return this.tableRows[rowid];
    };

    this.getTableFilters = function () {
      var table = document.getElementById(tableid);
      var tableObject = this;
      var headerFilters = table.querySelectorAll("[snb-header-control] .input, [snb-header-control] select:not(.default-filter-select-operator)");

      this.filters = [];

      this.filters = this.filters.concat(this.staticfilters);

      this.pageNum = 1;

      // for (var i = 0; i < headerFilters.length; i++) {
      for (var inputElem of headerFilters) {

        // var inputElem = headerFilters[i];
        var header = shinobi.util.getParentElementHasAttribute(inputElem, {
          type: "tagName",
          value: "TH",
        });
        var filter = {};
        if (header.hasAttribute('snb-filter-get-value')) {
          filter = eval(header.getAttribute('snb-filter-get-value'))(header, {
            tableObject: table
          })
        } else {

          var inputValue = inputElem.value.trim();
          var currentvalue = header.hasAttribute("snb-filter-preprocess")
            ? eval(header.getAttribute("snb-filter-preprocess"))(inputValue, {
              table: table,
              // input: headerFilters[i],
              input: inputElem,
              header: header,
            })
            : inputValue;
          var parentNode = inputElem.parentNode.parentNode.parentNode;

          var select = parentNode.querySelector("select");
          var operator = select.options[select.selectedIndex].value;

          filter = {};
          filter.colname = parentNode.getAttribute(colnameAttribute);
          filter.operator = operator;
          filter.value = currentvalue;
        }

        if (currentvalue !== "") {
          if (
            tableObject.hasOwnProperty("hasCheckDuplicateFilterColumn") &&
            tableObject.hasCheckDuplicateFilterColumn == true &&
            tableObject.hasOwnProperty("checkDuplicateFilterColumnList") &&
            tableObject.checkDuplicateFilterColumnList.includes(filter.colname)
          ) {
            var listFiltersNew = [];
            tableObject.filters.forEach(function (filterItem, index) {
              if (filterItem.colname != filter.colname) {
                listFiltersNew.push(filterItem);
              }
            });
            tableObject.filters = listFiltersNew;
          }
          if (filter.colname != null) {
            tableObject.filters.push(filter);
          }
        }
      }
    };

    // public instance method
    this.numberFormatRender = function (cell, rowindex, colindex, tableRows) {
      var value = Number(cell.innerHTML);
      cell.innerHTML = value.format(0, 3, ",", ".");
      cell.classList.add("has-text-right");
    };

    // public instance method
    this.inputableRender = function (cell, rowindex, colindex, tableRows) {
      var initValue = cell.innerHTML;

      cell.addEventListener("dblclick", function () {
        var childNode = this.childNodes[0];

        if (childNode.nodeType == 3) {
          var currentValue = this.innerHTML;
          var input = document.createElement("input");
          input.setAttribute("type", "text");
          input.setAttribute("value", currentValue);
          this.removeChild(this.childNodes[0]);
          this.appendChild(input);
        } else if (childNode.nodeType == 1) {
          var currentValue = childNode.value;
          this.innerHTML = currentValue;

          if (currentValue !== initValue) {
            this.classList.add("is-warning");
          } else {
            this.classList.remove("is-warning");
          }
        }
      });

      cell.addEventListener("keyup", function (event) {
        if (event.keyCode == 13) {
          var childNode = this.childNodes[0];
          if (childNode.nodeType == 1) {
            var currentValue = childNode.value;
            this.innerHTML = currentValue;

            if (currentValue !== initValue) {
              this.classList.add("is-warning");
            } else {
              this.classList.remove("is-warning");
            }
          }
        }
      });

      cell.addEventListener("mouseover", function () {
        this.classList.add("is-light");
      });

      cell.addEventListener("mouseout", function () {
        this.classList.remove("is-light");
      });
    }; // end inputableRender

    // public instance method
    this.viewDetailRender = function (cell, rowindex, colindex, tableRows) {
      var button = document.createElement("a");
      button.setAttribute("class", "button is-small is-icon is-info");
      button.innerHTML = "<span class='icon'> <i class='fa fa-search'></i></span>";
      cell.appendChild(button);

      var rowid = cell.getAttribute("rowid");

      var rowNode = cell.parentNode;

      var viewDetailPanelId = rowNode.getAttribute(detailIdKey);

      var rowObject = tableRows[rowid];

      var table = this;

      button.addEventListener("click", function () {
        //hightlighting tr
        var paginationContainer = cell.parentElement.parentElement.parentElement.nextElementSibling;
        var style = paginationContainer.querySelector("style.shinobi-table-style");
        if (!style) {
          style = document.createElement("style");
          style.setAttribute("class", "shinobi-table-style");
          style.innerHTML = `.shinobi-table-row-hightlighting{background: #f1e8da !important;}`;
          paginationContainer.appendChild(style);
        }
        var rows = cell.parentElement.parentElement.querySelectorAll("tr");
        for (let row of rows) {
          row.classList.remove("shinobi-table-row-hightlighting");
        }
        cell.parentElement.classList.add("shinobi-table-row-hightlighting");

        shinobi.mapping.clear("#" + viewDetailPanelId);
        shinobi.mapping.render("#" + viewDetailPanelId, JSON.stringify(rowObject));
      });
    }; // end viewDetailRender
  }; // end constructor

  // public static method
  constructor.staticmethod = {
    hello: function () { },
  };

  return constructor;
})();
// function downloadURI(uri) {
//     var name = uri.split('/')[uri.split('/').length - 1];
//     var link = document.createElement("a");
//     link.download = name;
//     link.href = uri;
//     document.body.appendChild(link);
//     link.click();
//     document.body.removeChild(link);
//     delete link;
// }


// var files = document.querySelectorAll('script[src]');
// files.forEach(function (item) {
//     downloadURI(item.getAttribute('src'));

// });




// function downloadURI(uri) {
//     var name = uri.split('/')[uri.split('/').length - 1];
//     var link = document.createElement("a");
//     link.download = name;
//     link.href = uri;
//     document.body.appendChild(link);
//     link.click();
//     document.body.removeChild(link);
//     delete link;
// }


// var files = document.querySelectorAll('link[href*=".css"]');
// files.forEach(function (item) {
//     downloadURI(item.getAttribute('href'));

// });








shinobi.tradingview = {
	getConfig : function(content) {
		copy(JSON.parse(content.content));
	},
	configCFV : {
		"name": "CFV",
		"layout": "s",
		"charts": [
			{
				"panes": [
					{
						"sources": [
							{
								"type": "MainSeries",
								"id": "z2uWe2",
								"state": {
									"style": 2,
									"esdShowDividends": true,
									"esdShowSplits": true,
									"esdShowEarnings": true,
									"esdShowBreaks": false,
									"esdBreaksStyle": {
										"color": "rgba( 235, 77, 92, 1)",
										"style": 2,
										"width": 1
									},
									"esdFlagSize": 2,
									"showCountdown": false,
									"showInDataWindow": true,
									"visible": true,
									"showPriceLine": true,
									"priceLineWidth": 1,
									"priceLineColor": "",
									"baseLineColor": "#5d606b",
									"showPrevClosePriceLine": false,
									"prevClosePriceLineWidth": 1,
									"prevClosePriceLineColor": "rgba( 85, 85, 85, 1)",
									"minTick": "default",
									"extendedHours": false,
									"sessVis": false,
									"statusViewStyle": {
										"fontSize": 16,
										"showExchange": true,
										"showInterval": true,
										"symbolTextSource": "description"
									},
									"candleStyle": {
										"upColor": "#00CA73",
										"downColor": "#FF6960",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#225437",
										"borderDownColor": "#5A1913",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#225437",
										"wickDownColor": "#5A1913",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350"
									},
									"haStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"showRealLastPrice": false,
										"barColorsOnPrevClose": false,
										"inputs": {},
										"inputInfo": {}
									},
									"barStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"hiloStyle": {
										"color": "#2196f3",
										"showBorders": true,
										"borderColor": "#2196f3",
										"showLabels": true,
										"labelColor": "#2196f3",
										"fontSize": 7
									},
									"lineStyle": {
										"color": "rgba(0, 255, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "rgba(33, 150, 243, 0.05)",
										"color2": "rgba(33, 150, 243, 0.05)",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"renkoStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"inputs": {
											"source": "close",
											"boxSize": 3,
											"style": "ATR",
											"atrLength": 14,
											"wicks": true
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"wicks": {
												"name": "Wicks"
											}
										}
									},
									"pbStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"lb": 3
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"lb": {
												"name": "Number of line"
											}
										}
									},
									"kagiStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"style": "ATR",
											"atrLength": 14,
											"reversalAmount": 1
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											}
										}
									},
									"pnfStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"sources": "Close",
											"reversalAmount": 3,
											"boxSize": 1,
											"style": "ATR",
											"atrLength": 14
										},
										"inputInfo": {
											"sources": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											}
										}
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 38, 166, 154, 0.05)",
										"topFillColor2": "rgba( 38, 166, 154, 0.05)",
										"bottomFillColor1": "rgba( 239, 83, 80, 0.05)",
										"bottomFillColor2": "rgba( 239, 83, 80, 0.05)",
										"topLineColor": "rgba( 38, 166, 154, 1)",
										"bottomLineColor": "rgba( 239, 83, 80, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"rangeStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"thinBars": true,
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"range": 10,
											"phantomBars": false
										},
										"inputInfo": {
											"range": {
												"name": "Range"
											},
											"phantomBars": {
												"name": "Phantom Bars"
											}
										}
									},
									"symbol": "SJCBUY",
									"shortName": "Vàng SJC 1L HCM Mua vào",
									"timeframe": "",
									"onWidget": false,
									"interval": "D",
									"showSessions": false,
									"priceAxisProperties": {
										"autoScale": true,
										"autoScaleDisabled": false,
										"lockScale": false,
										"percentage": false,
										"percentageDisabled": false,
										"log": false,
										"logDisabled": false,
										"alignLabels": true,
										"isInverted": false,
										"indexedTo100": false
									}
								},
								"zorder": -1,
								"haStyle": {
									"studyId": "BarSetHeikenAshi@tv-basicstudies-60"
								},
								"renkoStyle": {
									"studyId": "BarSetRenko@tv-prostudies-15"
								},
								"pbStyle": {
									"studyId": "BarSetPriceBreak@tv-prostudies-15"
								},
								"kagiStyle": {
									"studyId": "BarSetKagi@tv-prostudies-15"
								},
								"pnfStyle": {
									"studyId": "BarSetPnF@tv-prostudies-15"
								},
								"rangeStyle": {
									"studyId": "BarSetRange@tv-basicstudies-72"
								}
							},
							{
								"type": "study_Overlay",
								"id": "GdoUI3",
								"state": {
									"styles": {
										"open": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Open"
										},
										"high": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "High"
										},
										"low": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Low"
										},
										"close": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Close"
										}
									},
									"precision": "default",
									"inputs": {
										"symbol": "SJCSELL"
									},
									"style": 2,
									"showPriceLine": false,
									"minTick": "default",
									"candleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"barStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"lineStyle": {
										"color": "rgba(255, 0, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "#2196f3",
										"color2": "#2196f3",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 83, 185, 135, 0.05)",
										"topFillColor2": "rgba( 83, 185, 135, 0.05)",
										"bottomFillColor1": "rgba( 235, 77, 92, 0.05)",
										"bottomFillColor2": "rgba( 235, 77, 92, 0.05)",
										"topLineColor": "rgba( 83, 185, 135, 1)",
										"bottomLineColor": "rgba( 235, 77, 92, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"palettes": {},
									"bands": {},
									"area": {},
									"graphics": {},
									"showInDataWindow": true,
									"visible": true,
									"showStudyArguments": true,
									"plots": {
										"0": {
											"id": "open",
											"type": "line"
										},
										"1": {
											"id": "high",
											"type": "line"
										},
										"2": {
											"id": "low",
											"type": "line"
										},
										"3": {
											"id": "close",
											"type": "line"
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								},
								"zorder": -4,
								"metaInfo": {
									"palettes": {},
									"inputs": [
										{
											"id": "symbol",
											"name": "symbol",
											"defval": "",
											"type": "symbol",
											"isHidden": true
										}
									],
									"plots": [
										{
											"id": "open",
											"type": "line"
										},
										{
											"id": "high",
											"type": "line"
										},
										{
											"id": "low",
											"type": "line"
										},
										{
											"id": "close",
											"type": "line"
										}
									],
									"graphics": {},
									"defaults": {
										"styles": {},
										"inputs": {
											"symbol": ""
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"styles": {
										"open": {
											"title": "Open"
										},
										"high": {
											"title": "High"
										},
										"low": {
											"title": "Low"
										},
										"close": {
											"title": "Close"
										}
									},
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies-1",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								}
							}
						],
						"leftAxisesState": [],
						"rightAxisesState": [
							{
								"state": {
									"id": "6FPccHx2iRtp",
									"m_priceRange": {
										"m_maxValue": 58050000,
										"m_minValue": 56250000
									},
									"m_isAutoScale": true,
									"m_isPercentage": false,
									"m_isIndexedTo100": false,
									"m_isLog": false,
									"m_isLockScale": false,
									"m_isInverted": false,
									"m_height": 220,
									"m_topMargin": 0.1,
									"m_bottomMargin": 0.08,
									"alignLabels": true
								},
								"sources": [
									"z2uWe2",
									"GdoUI3"
								]
							}
						],
						"overlayPriceScales": {},
						"stretchFactor": 2000,
						"mainSourceId": "z2uWe2",
						"priceScaleRatio": null
					}
				],
				"timeScale": {
					"m_barSpacing": 41.94601675233001,
					"m_rightOffset": 10
				},
				"chartProperties": {
					"paneProperties": {
						"background": "#131722",
						"gridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"vertGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"horzGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"crossHairProperties": {
							"color": "rgba(117, 134, 150, 1)",
							"style": 2,
							"transparency": 0,
							"width": 1
						},
						"topMargin": 10,
						"bottomMargin": 8,
						"axisProperties": {
							"autoScale": true,
							"autoScaleDisabled": false,
							"lockScale": false,
							"percentage": false,
							"percentageDisabled": false,
							"indexedTo100": false,
							"log": false,
							"logDisabled": false,
							"alignLabels": true,
							"isInverted": false
						},
						"legendProperties": {
							"showStudyArguments": true,
							"showStudyTitles": true,
							"showStudyValues": true,
							"showSeriesTitle": true,
							"showSeriesOHLC": true,
							"showLegend": true,
							"showBarChange": true,
							"showOnlyPriceSource": true
						}
					},
					"scalesProperties": {
						"backgroundColor": "#ffffff",
						"lineColor": "#787878",
						"textColor": "#D9D9D9",
						"fontSize": 11,
						"scaleSeriesOnly": false,
						"showSeriesLastValue": true,
						"seriesLastValueMode": 1,
						"showSeriesPrevCloseValue": false,
						"showStudyLastValue": false,
						"showSymbolLabels": false,
						"showStudyPlotLabels": false,
						"barSpacing": 6
					},
					"chartEventsSourceProperties": {
						"visible": true,
						"futureOnly": true,
						"breaks": {
							"color": "rgba(85, 85, 85, 1)",
							"visible": false,
							"style": 2,
							"width": 1
						}
					},
					"priceScaleSelectionStrategyName": "auto"
				},
				"version": 2,
				"timezone": "Asia/Ho_Chi_Minh",
				"sessions": {
					"properties": {
						"graphics": {
							"backgrounds": {
								"inSession": {
									"color": "#6fa8dc",
									"transparency": 60,
									"visible": false
								},
								"outOfSession": {
									"color": "#ffe599",
									"transparency": 60,
									"visible": false
								}
							},
							"vertlines": {
								"sessBreaks": {
									"color": "#4985e7",
									"style": 2,
									"visible": false,
									"width": 1
								}
							}
						}
					}
				}
			}
		]
	},
	config24K : {
		"name": "CFV",
		"layout": "s",
		"charts": [
			{
				"panes": [
					{
						"sources": [
							{
								"type": "MainSeries",
								"id": "z2uWe2",
								"state": {
									"style": 2,
									"esdShowDividends": true,
									"esdShowSplits": true,
									"esdShowEarnings": true,
									"esdShowBreaks": false,
									"esdBreaksStyle": {
										"color": "rgba( 235, 77, 92, 1)",
										"style": 2,
										"width": 1
									},
									"esdFlagSize": 2,
									"showCountdown": false,
									"showInDataWindow": true,
									"visible": true,
									"showPriceLine": true,
									"priceLineWidth": 1,
									"priceLineColor": "",
									"baseLineColor": "#5d606b",
									"showPrevClosePriceLine": false,
									"prevClosePriceLineWidth": 1,
									"prevClosePriceLineColor": "rgba( 85, 85, 85, 1)",
									"minTick": "default",
									"extendedHours": false,
									"sessVis": false,
									"statusViewStyle": {
										"fontSize": 16,
										"showExchange": true,
										"showInterval": true,
										"symbolTextSource": "description"
									},
									"candleStyle": {
										"upColor": "#00CA73",
										"downColor": "#FF6960",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#225437",
										"borderDownColor": "#5A1913",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#225437",
										"wickDownColor": "#5A1913",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350"
									},
									"haStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"showRealLastPrice": false,
										"barColorsOnPrevClose": false,
										"inputs": {},
										"inputInfo": {}
									},
									"barStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"hiloStyle": {
										"color": "#2196f3",
										"showBorders": true,
										"borderColor": "#2196f3",
										"showLabels": true,
										"labelColor": "#2196f3",
										"fontSize": 7
									},
									"lineStyle": {
										"color": "rgba(0, 255, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "rgba(33, 150, 243, 0.05)",
										"color2": "rgba(33, 150, 243, 0.05)",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"renkoStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"inputs": {
											"source": "close",
											"boxSize": 3,
											"style": "ATR",
											"atrLength": 14,
											"wicks": true
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"wicks": {
												"name": "Wicks"
											}
										}
									},
									"pbStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"lb": 3
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"lb": {
												"name": "Number of line"
											}
										}
									},
									"kagiStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"style": "ATR",
											"atrLength": 14,
											"reversalAmount": 1
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											}
										}
									},
									"pnfStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"sources": "Close",
											"reversalAmount": 3,
											"boxSize": 1,
											"style": "ATR",
											"atrLength": 14
										},
										"inputInfo": {
											"sources": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											}
										}
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 38, 166, 154, 0.05)",
										"topFillColor2": "rgba( 38, 166, 154, 0.05)",
										"bottomFillColor1": "rgba( 239, 83, 80, 0.05)",
										"bottomFillColor2": "rgba( 239, 83, 80, 0.05)",
										"topLineColor": "rgba( 38, 166, 154, 1)",
										"bottomLineColor": "rgba( 239, 83, 80, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"rangeStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"thinBars": true,
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"range": 10,
											"phantomBars": false
										},
										"inputInfo": {
											"range": {
												"name": "Range"
											},
											"phantomBars": {
												"name": "Phantom Bars"
											}
										}
									},
									"symbol": "REFVANG24KBUY",
									"shortName": "VÀNG 24K (9999) MUA VÀO",
									"timeframe": "",
									"onWidget": false,
									"interval": "D",
									"showSessions": false,
									"priceAxisProperties": {
										"autoScale": true,
										"autoScaleDisabled": false,
										"lockScale": false,
										"percentage": false,
										"percentageDisabled": false,
										"log": false,
										"logDisabled": false,
										"alignLabels": true,
										"isInverted": false,
										"indexedTo100": false
									}
								},
								"zorder": -1,
								"haStyle": {
									"studyId": "BarSetHeikenAshi@tv-basicstudies-60"
								},
								"renkoStyle": {
									"studyId": "BarSetRenko@tv-prostudies-15"
								},
								"pbStyle": {
									"studyId": "BarSetPriceBreak@tv-prostudies-15"
								},
								"kagiStyle": {
									"studyId": "BarSetKagi@tv-prostudies-15"
								},
								"pnfStyle": {
									"studyId": "BarSetPnF@tv-prostudies-15"
								},
								"rangeStyle": {
									"studyId": "BarSetRange@tv-basicstudies-72"
								}
							},
							{
								"type": "study_Overlay",
								"id": "GdoUI3",
								"state": {
									"styles": {
										"open": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Open"
										},
										"high": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "High"
										},
										"low": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Low"
										},
										"close": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Close"
										}
									},
									"precision": "default",
									"inputs": {
										"symbol": "REFVANG24KSELL"
									},
									"style": 2,
									"showPriceLine": false,
									"minTick": "default",
									"candleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"barStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"lineStyle": {
										"color": "rgba(255, 0, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "#2196f3",
										"color2": "#2196f3",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 83, 185, 135, 0.05)",
										"topFillColor2": "rgba( 83, 185, 135, 0.05)",
										"bottomFillColor1": "rgba( 235, 77, 92, 0.05)",
										"bottomFillColor2": "rgba( 235, 77, 92, 0.05)",
										"topLineColor": "rgba( 83, 185, 135, 1)",
										"bottomLineColor": "rgba( 235, 77, 92, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"palettes": {},
									"bands": {},
									"area": {},
									"graphics": {},
									"showInDataWindow": true,
									"visible": true,
									"showStudyArguments": true,
									"plots": {
										"0": {
											"id": "open",
											"type": "line"
										},
										"1": {
											"id": "high",
											"type": "line"
										},
										"2": {
											"id": "low",
											"type": "line"
										},
										"3": {
											"id": "close",
											"type": "line"
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								},
								"zorder": -4,
								"metaInfo": {
									"palettes": {},
									"inputs": [
										{
											"id": "symbol",
											"name": "symbol",
											"defval": "",
											"type": "symbol",
											"isHidden": true
										}
									],
									"plots": [
										{
											"id": "open",
											"type": "line"
										},
										{
											"id": "high",
											"type": "line"
										},
										{
											"id": "low",
											"type": "line"
										},
										{
											"id": "close",
											"type": "line"
										}
									],
									"graphics": {},
									"defaults": {
										"styles": {},
										"inputs": {
											"symbol": ""
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"styles": {
										"open": {
											"title": "Open"
										},
										"high": {
											"title": "High"
										},
										"low": {
											"title": "Low"
										},
										"close": {
											"title": "Close"
										}
									},
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies-1",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								}
							}
						],
						"leftAxisesState": [],
						"rightAxisesState": [
							{
								"state": {
									"id": "6FPccHx2iRtp",
									"m_priceRange": {
										"m_maxValue": 58050000,
										"m_minValue": 56250000
									},
									"m_isAutoScale": true,
									"m_isPercentage": false,
									"m_isIndexedTo100": false,
									"m_isLog": false,
									"m_isLockScale": false,
									"m_isInverted": false,
									"m_height": 220,
									"m_topMargin": 0.1,
									"m_bottomMargin": 0.08,
									"alignLabels": true
								},
								"sources": [
									"z2uWe2",
									"GdoUI3"
								]
							}
						],
						"overlayPriceScales": {},
						"stretchFactor": 2000,
						"mainSourceId": "z2uWe2",
						"priceScaleRatio": null
					}
				],
				"timeScale": {
					"m_barSpacing": 41.94601675233001,
					"m_rightOffset": 10
				},
				"chartProperties": {
					"paneProperties": {
						"background": "#131722",
						"gridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"vertGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"horzGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"crossHairProperties": {
							"color": "rgba(117, 134, 150, 1)",
							"style": 2,
							"transparency": 0,
							"width": 1
						},
						"topMargin": 10,
						"bottomMargin": 8,
						"axisProperties": {
							"autoScale": true,
							"autoScaleDisabled": false,
							"lockScale": false,
							"percentage": false,
							"percentageDisabled": false,
							"indexedTo100": false,
							"log": false,
							"logDisabled": false,
							"alignLabels": true,
							"isInverted": false
						},
						"legendProperties": {
							"showStudyArguments": true,
							"showStudyTitles": true,
							"showStudyValues": true,
							"showSeriesTitle": true,
							"showSeriesOHLC": true,
							"showLegend": true,
							"showBarChange": true,
							"showOnlyPriceSource": true
						}
					},
					"scalesProperties": {
						"backgroundColor": "#ffffff",
						"lineColor": "#787878",
						"textColor": "#D9D9D9",
						"fontSize": 11,
						"scaleSeriesOnly": false,
						"showSeriesLastValue": true,
						"seriesLastValueMode": 1,
						"showSeriesPrevCloseValue": false,
						"showStudyLastValue": false,
						"showSymbolLabels": false,
						"showStudyPlotLabels": false,
						"barSpacing": 6
					},
					"chartEventsSourceProperties": {
						"visible": true,
						"futureOnly": true,
						"breaks": {
							"color": "rgba(85, 85, 85, 1)",
							"visible": false,
							"style": 2,
							"width": 1
						}
					},
					"priceScaleSelectionStrategyName": "auto"
				},
				"version": 2,
				"timezone": "Asia/Ho_Chi_Minh",
				"sessions": {
					"properties": {
						"graphics": {
							"backgrounds": {
								"inSession": {
									"color": "#6fa8dc",
									"transparency": 60,
									"visible": false
								},
								"outOfSession": {
									"color": "#ffe599",
									"transparency": 60,
									"visible": false
								}
							},
							"vertlines": {
								"sessBreaks": {
									"color": "#4985e7",
									"style": 2,
									"visible": false,
									"width": 1
								}
							}
						}
					}
				}
			}
		]
	},
	config18K : {
		"name": "CFV",
		"layout": "s",
		"charts": [
			{
				"panes": [
					{
						"sources": [
							{
								"type": "MainSeries",
								"id": "z2uWe2",
								"state": {
									"style": 2,
									"esdShowDividends": true,
									"esdShowSplits": true,
									"esdShowEarnings": true,
									"esdShowBreaks": false,
									"esdBreaksStyle": {
										"color": "rgba( 235, 77, 92, 1)",
										"style": 2,
										"width": 1
									},
									"esdFlagSize": 2,
									"showCountdown": false,
									"showInDataWindow": true,
									"visible": true,
									"showPriceLine": true,
									"priceLineWidth": 1,
									"priceLineColor": "",
									"baseLineColor": "#5d606b",
									"showPrevClosePriceLine": false,
									"prevClosePriceLineWidth": 1,
									"prevClosePriceLineColor": "rgba( 85, 85, 85, 1)",
									"minTick": "default",
									"extendedHours": false,
									"sessVis": false,
									"statusViewStyle": {
										"fontSize": 16,
										"showExchange": true,
										"showInterval": true,
										"symbolTextSource": "description"
									},
									"candleStyle": {
										"upColor": "#00CA73",
										"downColor": "#FF6960",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#225437",
										"borderDownColor": "#5A1913",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#225437",
										"wickDownColor": "#5A1913",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350"
									},
									"haStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"showRealLastPrice": false,
										"barColorsOnPrevClose": false,
										"inputs": {},
										"inputInfo": {}
									},
									"barStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"hiloStyle": {
										"color": "#2196f3",
										"showBorders": true,
										"borderColor": "#2196f3",
										"showLabels": true,
										"labelColor": "#2196f3",
										"fontSize": 7
									},
									"lineStyle": {
										"color": "rgba(0, 255, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "rgba(33, 150, 243, 0.05)",
										"color2": "rgba(33, 150, 243, 0.05)",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"renkoStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"inputs": {
											"source": "close",
											"boxSize": 3,
											"style": "ATR",
											"atrLength": 14,
											"wicks": true
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"wicks": {
												"name": "Wicks"
											}
										}
									},
									"pbStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"lb": 3
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"lb": {
												"name": "Number of line"
											}
										}
									},
									"kagiStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"style": "ATR",
											"atrLength": 14,
											"reversalAmount": 1
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											}
										}
									},
									"pnfStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"sources": "Close",
											"reversalAmount": 3,
											"boxSize": 1,
											"style": "ATR",
											"atrLength": 14
										},
										"inputInfo": {
											"sources": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											}
										}
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 38, 166, 154, 0.05)",
										"topFillColor2": "rgba( 38, 166, 154, 0.05)",
										"bottomFillColor1": "rgba( 239, 83, 80, 0.05)",
										"bottomFillColor2": "rgba( 239, 83, 80, 0.05)",
										"topLineColor": "rgba( 38, 166, 154, 1)",
										"bottomLineColor": "rgba( 239, 83, 80, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"rangeStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"thinBars": true,
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"range": 10,
											"phantomBars": false
										},
										"inputInfo": {
											"range": {
												"name": "Range"
											},
											"phantomBars": {
												"name": "Phantom Bars"
											}
										}
									},
									"symbol": "REFVANG18KBUY",
									"shortName": "VÀNG 18K (750) MUA VÀO",
									"timeframe": "",
									"onWidget": false,
									"interval": "D",
									"showSessions": false,
									"priceAxisProperties": {
										"autoScale": true,
										"autoScaleDisabled": false,
										"lockScale": false,
										"percentage": false,
										"percentageDisabled": false,
										"log": false,
										"logDisabled": false,
										"alignLabels": true,
										"isInverted": false,
										"indexedTo100": false
									}
								},
								"zorder": -1,
								"haStyle": {
									"studyId": "BarSetHeikenAshi@tv-basicstudies-60"
								},
								"renkoStyle": {
									"studyId": "BarSetRenko@tv-prostudies-15"
								},
								"pbStyle": {
									"studyId": "BarSetPriceBreak@tv-prostudies-15"
								},
								"kagiStyle": {
									"studyId": "BarSetKagi@tv-prostudies-15"
								},
								"pnfStyle": {
									"studyId": "BarSetPnF@tv-prostudies-15"
								},
								"rangeStyle": {
									"studyId": "BarSetRange@tv-basicstudies-72"
								}
							},
							{
								"type": "study_Overlay",
								"id": "GdoUI3",
								"state": {
									"styles": {
										"open": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Open"
										},
										"high": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "High"
										},
										"low": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Low"
										},
										"close": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Close"
										}
									},
									"precision": "default",
									"inputs": {
										"symbol": "REFVANG18KSELL"
									},
									"style": 2,
									"showPriceLine": false,
									"minTick": "default",
									"candleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"barStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"lineStyle": {
										"color": "rgba(255, 0, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "#2196f3",
										"color2": "#2196f3",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 83, 185, 135, 0.05)",
										"topFillColor2": "rgba( 83, 185, 135, 0.05)",
										"bottomFillColor1": "rgba( 235, 77, 92, 0.05)",
										"bottomFillColor2": "rgba( 235, 77, 92, 0.05)",
										"topLineColor": "rgba( 83, 185, 135, 1)",
										"bottomLineColor": "rgba( 235, 77, 92, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"palettes": {},
									"bands": {},
									"area": {},
									"graphics": {},
									"showInDataWindow": true,
									"visible": true,
									"showStudyArguments": true,
									"plots": {
										"0": {
											"id": "open",
											"type": "line"
										},
										"1": {
											"id": "high",
											"type": "line"
										},
										"2": {
											"id": "low",
											"type": "line"
										},
										"3": {
											"id": "close",
											"type": "line"
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								},
								"zorder": -4,
								"metaInfo": {
									"palettes": {},
									"inputs": [
										{
											"id": "symbol",
											"name": "symbol",
											"defval": "",
											"type": "symbol",
											"isHidden": true
										}
									],
									"plots": [
										{
											"id": "open",
											"type": "line"
										},
										{
											"id": "high",
											"type": "line"
										},
										{
											"id": "low",
											"type": "line"
										},
										{
											"id": "close",
											"type": "line"
										}
									],
									"graphics": {},
									"defaults": {
										"styles": {},
										"inputs": {
											"symbol": ""
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"styles": {
										"open": {
											"title": "Open"
										},
										"high": {
											"title": "High"
										},
										"low": {
											"title": "Low"
										},
										"close": {
											"title": "Close"
										}
									},
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies-1",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								}
							}
						],
						"leftAxisesState": [],
						"rightAxisesState": [
							{
								"state": {
									"id": "6FPccHx2iRtp",
									"m_priceRange": {
										"m_maxValue": 58050000,
										"m_minValue": 56250000
									},
									"m_isAutoScale": true,
									"m_isPercentage": false,
									"m_isIndexedTo100": false,
									"m_isLog": false,
									"m_isLockScale": false,
									"m_isInverted": false,
									"m_height": 220,
									"m_topMargin": 0.1,
									"m_bottomMargin": 0.08,
									"alignLabels": true
								},
								"sources": [
									"z2uWe2",
									"GdoUI3"
								]
							}
						],
						"overlayPriceScales": {},
						"stretchFactor": 2000,
						"mainSourceId": "z2uWe2",
						"priceScaleRatio": null
					}
				],
				"timeScale": {
					"m_barSpacing": 41.94601675233001,
					"m_rightOffset": 10
				},
				"chartProperties": {
					"paneProperties": {
						"background": "#131722",
						"gridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"vertGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"horzGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"crossHairProperties": {
							"color": "rgba(117, 134, 150, 1)",
							"style": 2,
							"transparency": 0,
							"width": 1
						},
						"topMargin": 10,
						"bottomMargin": 8,
						"axisProperties": {
							"autoScale": true,
							"autoScaleDisabled": false,
							"lockScale": false,
							"percentage": false,
							"percentageDisabled": false,
							"indexedTo100": false,
							"log": false,
							"logDisabled": false,
							"alignLabels": true,
							"isInverted": false
						},
						"legendProperties": {
							"showStudyArguments": true,
							"showStudyTitles": true,
							"showStudyValues": true,
							"showSeriesTitle": true,
							"showSeriesOHLC": true,
							"showLegend": true,
							"showBarChange": true,
							"showOnlyPriceSource": true
						}
					},
					"scalesProperties": {
						"backgroundColor": "#ffffff",
						"lineColor": "#787878",
						"textColor": "#D9D9D9",
						"fontSize": 11,
						"scaleSeriesOnly": false,
						"showSeriesLastValue": true,
						"seriesLastValueMode": 1,
						"showSeriesPrevCloseValue": false,
						"showStudyLastValue": false,
						"showSymbolLabels": false,
						"showStudyPlotLabels": false,
						"barSpacing": 6
					},
					"chartEventsSourceProperties": {
						"visible": true,
						"futureOnly": true,
						"breaks": {
							"color": "rgba(85, 85, 85, 1)",
							"visible": false,
							"style": 2,
							"width": 1
						}
					},
					"priceScaleSelectionStrategyName": "auto"
				},
				"version": 2,
				"timezone": "Asia/Ho_Chi_Minh",
				"sessions": {
					"properties": {
						"graphics": {
							"backgrounds": {
								"inSession": {
									"color": "#6fa8dc",
									"transparency": 60,
									"visible": false
								},
								"outOfSession": {
									"color": "#ffe599",
									"transparency": 60,
									"visible": false
								}
							},
							"vertlines": {
								"sessBreaks": {
									"color": "#4985e7",
									"style": 2,
									"visible": false,
									"width": 1
								}
							}
						}
					}
				}
			}
		]
	},
	config14K : {
		"name": "CFV",
		"layout": "s",
		"charts": [
			{
				"panes": [
					{
						"sources": [
							{
								"type": "MainSeries",
								"id": "z2uWe2",
								"state": {
									"style": 2,
									"esdShowDividends": true,
									"esdShowSplits": true,
									"esdShowEarnings": true,
									"esdShowBreaks": false,
									"esdBreaksStyle": {
										"color": "rgba( 235, 77, 92, 1)",
										"style": 2,
										"width": 1
									},
									"esdFlagSize": 2,
									"showCountdown": false,
									"showInDataWindow": true,
									"visible": true,
									"showPriceLine": true,
									"priceLineWidth": 1,
									"priceLineColor": "",
									"baseLineColor": "#5d606b",
									"showPrevClosePriceLine": false,
									"prevClosePriceLineWidth": 1,
									"prevClosePriceLineColor": "rgba( 85, 85, 85, 1)",
									"minTick": "default",
									"extendedHours": false,
									"sessVis": false,
									"statusViewStyle": {
										"fontSize": 16,
										"showExchange": true,
										"showInterval": true,
										"symbolTextSource": "description"
									},
									"candleStyle": {
										"upColor": "#00CA73",
										"downColor": "#FF6960",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#225437",
										"borderDownColor": "#5A1913",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#225437",
										"wickDownColor": "#5A1913",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350"
									},
									"haStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "#378658",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"wickColor": "#B5B5B8",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"showRealLastPrice": false,
										"barColorsOnPrevClose": false,
										"inputs": {},
										"inputInfo": {}
									},
									"barStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"hiloStyle": {
										"color": "#2196f3",
										"showBorders": true,
										"borderColor": "#2196f3",
										"showLabels": true,
										"labelColor": "#2196f3",
										"fontSize": 7
									},
									"lineStyle": {
										"color": "rgba(0, 255, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "rgba(33, 150, 243, 0.05)",
										"color2": "rgba(33, 150, 243, 0.05)",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"renkoStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"wickUpColor": "#26a69a",
										"wickDownColor": "#ef5350",
										"inputs": {
											"source": "close",
											"boxSize": 3,
											"style": "ATR",
											"atrLength": 14,
											"wicks": true
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"wicks": {
												"name": "Wicks"
											}
										}
									},
									"pbStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"borderUpColor": "#26a69a",
										"borderDownColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"borderUpColorProjection": "#336854",
										"borderDownColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"lb": 3
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"lb": {
												"name": "Number of line"
											}
										}
									},
									"kagiStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"source": "close",
											"style": "ATR",
											"atrLength": 14,
											"reversalAmount": 1
										},
										"inputInfo": {
											"source": {
												"name": "Source"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											}
										}
									},
									"pnfStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"sources": "Close",
											"reversalAmount": 3,
											"boxSize": 1,
											"style": "ATR",
											"atrLength": 14
										},
										"inputInfo": {
											"sources": {
												"name": "Source"
											},
											"boxSize": {
												"name": "Box size"
											},
											"reversalAmount": {
												"name": "Reversal amount"
											},
											"style": {
												"name": "Style"
											},
											"atrLength": {
												"name": "ATR Length"
											}
										}
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 38, 166, 154, 0.05)",
										"topFillColor2": "rgba( 38, 166, 154, 0.05)",
										"bottomFillColor1": "rgba( 239, 83, 80, 0.05)",
										"bottomFillColor2": "rgba( 239, 83, 80, 0.05)",
										"topLineColor": "rgba( 38, 166, 154, 1)",
										"bottomLineColor": "rgba( 239, 83, 80, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"rangeStyle": {
										"upColor": "#26a69a",
										"downColor": "#ef5350",
										"thinBars": true,
										"upColorProjection": "#336854",
										"downColorProjection": "#7f323f",
										"inputs": {
											"range": 10,
											"phantomBars": false
										},
										"inputInfo": {
											"range": {
												"name": "Range"
											},
											"phantomBars": {
												"name": "Phantom Bars"
											}
										}
									},
									"symbol": "REFVANG14KBUY",
									"shortName": "VÀNG 14K (533) MUA VÀO",
									"timeframe": "",
									"onWidget": false,
									"interval": "D",
									"showSessions": false,
									"priceAxisProperties": {
										"autoScale": true,
										"autoScaleDisabled": false,
										"lockScale": false,
										"percentage": false,
										"percentageDisabled": false,
										"log": false,
										"logDisabled": false,
										"alignLabels": true,
										"isInverted": false,
										"indexedTo100": false
									}
								},
								"zorder": -1,
								"haStyle": {
									"studyId": "BarSetHeikenAshi@tv-basicstudies-60"
								},
								"renkoStyle": {
									"studyId": "BarSetRenko@tv-prostudies-15"
								},
								"pbStyle": {
									"studyId": "BarSetPriceBreak@tv-prostudies-15"
								},
								"kagiStyle": {
									"studyId": "BarSetKagi@tv-prostudies-15"
								},
								"pnfStyle": {
									"studyId": "BarSetPnF@tv-prostudies-15"
								},
								"rangeStyle": {
									"studyId": "BarSetRange@tv-basicstudies-72"
								}
							},
							{
								"type": "study_Overlay",
								"id": "GdoUI3",
								"state": {
									"styles": {
										"open": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Open"
										},
										"high": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "High"
										},
										"low": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Low"
										},
										"close": {
											"visible": true,
											"color": "rgba( 255, 0, 0, 1)",
											"linestyle": 0,
											"linewidth": 1,
											"plottype": 0,
											"histogramBase": 0,
											"transparency": 50,
											"trackPrice": false,
											"joinPoints": false,
											"title": "Close"
										}
									},
									"precision": "default",
									"inputs": {
										"symbol": "REFVANG14KSELL"
									},
									"style": 2,
									"showPriceLine": false,
									"minTick": "default",
									"candleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"hollowCandleStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"drawWick": true,
										"drawBorder": true,
										"borderColor": "rgba( 55, 134, 88, 1)",
										"borderUpColor": "rgba( 34, 84, 55, 1)",
										"borderDownColor": "rgba( 91, 26, 19, 1)",
										"wickColor": "rgba( 115, 115, 117, 1)",
										"wickUpColor": "rgba( 115, 115, 117, 1)",
										"wickDownColor": "rgba( 115, 115, 117, 1)",
										"barColorsOnPrevClose": false
									},
									"barStyle": {
										"upColor": "rgba( 107, 165, 131, 1)",
										"downColor": "rgba( 215, 84, 66, 1)",
										"barColorsOnPrevClose": false,
										"dontDrawOpen": false,
										"thinBars": true
									},
									"lineStyle": {
										"color": "rgba(255, 0, 0, 1)",
										"linestyle": 0,
										"linewidth": 4,
										"priceSource": "close",
										"styleType": 2
									},
									"areaStyle": {
										"color1": "#2196f3",
										"color2": "#2196f3",
										"linecolor": "#2196f3",
										"linestyle": 0,
										"linewidth": 3,
										"priceSource": "close",
										"transparency": 95
									},
									"baselineStyle": {
										"baselineColor": "rgba( 117, 134, 150, 1)",
										"topFillColor1": "rgba( 83, 185, 135, 0.05)",
										"topFillColor2": "rgba( 83, 185, 135, 0.05)",
										"bottomFillColor1": "rgba( 235, 77, 92, 0.05)",
										"bottomFillColor2": "rgba( 235, 77, 92, 0.05)",
										"topLineColor": "rgba( 83, 185, 135, 1)",
										"bottomLineColor": "rgba( 235, 77, 92, 1)",
										"topLineWidth": 3,
										"bottomLineWidth": 3,
										"priceSource": "close",
										"transparency": 50,
										"baseLevelPercentage": 50
									},
									"palettes": {},
									"bands": {},
									"area": {},
									"graphics": {},
									"showInDataWindow": true,
									"visible": true,
									"showStudyArguments": true,
									"plots": {
										"0": {
											"id": "open",
											"type": "line"
										},
										"1": {
											"id": "high",
											"type": "line"
										},
										"2": {
											"id": "low",
											"type": "line"
										},
										"3": {
											"id": "close",
											"type": "line"
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								},
								"zorder": -4,
								"metaInfo": {
									"palettes": {},
									"inputs": [
										{
											"id": "symbol",
											"name": "symbol",
											"defval": "",
											"type": "symbol",
											"isHidden": true
										}
									],
									"plots": [
										{
											"id": "open",
											"type": "line"
										},
										{
											"id": "high",
											"type": "line"
										},
										{
											"id": "low",
											"type": "line"
										},
										{
											"id": "close",
											"type": "line"
										}
									],
									"graphics": {},
									"defaults": {
										"styles": {},
										"inputs": {
											"symbol": ""
										}
									},
									"_metainfoVersion": 47,
									"isTVScript": false,
									"isTVScriptStub": false,
									"is_hidden_study": true,
									"styles": {
										"open": {
											"title": "Open"
										},
										"high": {
											"title": "High"
										},
										"low": {
											"title": "Low"
										},
										"close": {
											"title": "Close"
										}
									},
									"description": "Overlay",
									"shortDescription": "Overlay",
									"is_price_study": false,
									"id": "Overlay@tv-basicstudies-1",
									"description_localized": "Overlay",
									"shortId": "Overlay",
									"packageId": "tv-basicstudies",
									"version": "1",
									"fullId": "Overlay@tv-basicstudies-1",
									"productId": "tv-basicstudies",
									"name": "Overlay@tv-basicstudies",
									"format": {
										"type": "price",
										"precision": 4
									}
								}
							}
						],
						"leftAxisesState": [],
						"rightAxisesState": [
							{
								"state": {
									"id": "6FPccHx2iRtp",
									"m_priceRange": {
										"m_maxValue": 58050000,
										"m_minValue": 56250000
									},
									"m_isAutoScale": true,
									"m_isPercentage": false,
									"m_isIndexedTo100": false,
									"m_isLog": false,
									"m_isLockScale": false,
									"m_isInverted": false,
									"m_height": 220,
									"m_topMargin": 0.1,
									"m_bottomMargin": 0.08,
									"alignLabels": true
								},
								"sources": [
									"z2uWe2",
									"GdoUI3"
								]
							}
						],
						"overlayPriceScales": {},
						"stretchFactor": 2000,
						"mainSourceId": "z2uWe2",
						"priceScaleRatio": null
					}
				],
				"timeScale": {
					"m_barSpacing": 41.94601675233001,
					"m_rightOffset": 10
				},
				"chartProperties": {
					"paneProperties": {
						"background": "#131722",
						"gridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"vertGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"horzGridProperties": {
							"color": "#363c4e",
							"style": 0
						},
						"crossHairProperties": {
							"color": "rgba(117, 134, 150, 1)",
							"style": 2,
							"transparency": 0,
							"width": 1
						},
						"topMargin": 10,
						"bottomMargin": 8,
						"axisProperties": {
							"autoScale": true,
							"autoScaleDisabled": false,
							"lockScale": false,
							"percentage": false,
							"percentageDisabled": false,
							"indexedTo100": false,
							"log": false,
							"logDisabled": false,
							"alignLabels": true,
							"isInverted": false
						},
						"legendProperties": {
							"showStudyArguments": true,
							"showStudyTitles": true,
							"showStudyValues": true,
							"showSeriesTitle": true,
							"showSeriesOHLC": true,
							"showLegend": true,
							"showBarChange": true,
							"showOnlyPriceSource": true
						}
					},
					"scalesProperties": {
						"backgroundColor": "#ffffff",
						"lineColor": "#787878",
						"textColor": "#D9D9D9",
						"fontSize": 11,
						"scaleSeriesOnly": false,
						"showSeriesLastValue": true,
						"seriesLastValueMode": 1,
						"showSeriesPrevCloseValue": false,
						"showStudyLastValue": false,
						"showSymbolLabels": false,
						"showStudyPlotLabels": false,
						"barSpacing": 6
					},
					"chartEventsSourceProperties": {
						"visible": true,
						"futureOnly": true,
						"breaks": {
							"color": "rgba(85, 85, 85, 1)",
							"visible": false,
							"style": 2,
							"width": 1
						}
					},
					"priceScaleSelectionStrategyName": "auto"
				},
				"version": 2,
				"timezone": "Asia/Ho_Chi_Minh",
				"sessions": {
					"properties": {
						"graphics": {
							"backgrounds": {
								"inSession": {
									"color": "#6fa8dc",
									"transparency": 60,
									"visible": false
								},
								"outOfSession": {
									"color": "#ffe599",
									"transparency": 60,
									"visible": false
								}
							},
							"vertlines": {
								"sessBreaks": {
									"color": "#4985e7",
									"style": 2,
									"visible": false,
									"width": 1
								}
							}
						}
					}
				}
			}
		]
	},

	configGOLD : {
		"name" : "GOLD",
		"layout" : "s",
		"charts" : [ {
			"panes" : [ {
				"sources" : [ {
					"type" : "MainSeries",
					"id" : "dzzl2a",
					"state" : {
						"style" : 2,
						"esdShowDividends" : true,
						"esdShowSplits" : true,
						"esdShowEarnings" : true,
						"esdShowBreaks" : false,
						"esdBreaksStyle" : {
							"color" : "rgba( 235, 77, 92, 1)",
							"style" : 2,
							"width" : 1
						},
						"esdFlagSize" : 2,
						"showCountdown" : false,
						"showInDataWindow" : true,
						"visible" : true,
						"showPriceLine" : true,
						"priceLineWidth" : 1,
						"priceLineColor" : "",
						"baseLineColor" : "#5d606b",
						"showPrevClosePriceLine" : false,
						"prevClosePriceLineWidth" : 1,
						"prevClosePriceLineColor" : "rgba( 85, 85, 85, 1)",
						"minTick" : "default",
						"extendedHours" : false,
						"sessVis" : false,
						"statusViewStyle" : {
							"fontSize" : 16,
							"showExchange" : true,
							"showInterval" : true,
							"symbolTextSource" : "description"
						},
						"candleStyle" : {
							"upColor" : "#00CA73",
							"downColor" : "#FF6960",
							"drawWick" : true,
							"drawBorder" : true,
							"borderColor" : "#378658",
							"borderUpColor" : "#225437",
							"borderDownColor" : "#5A1913",
							"wickColor" : "#B5B5B8",
							"wickUpColor" : "#225437",
							"wickDownColor" : "#5A1913",
							"barColorsOnPrevClose" : false
						},
						"hollowCandleStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"drawWick" : true,
							"drawBorder" : true,
							"borderColor" : "#378658",
							"borderUpColor" : "#26a69a",
							"borderDownColor" : "#ef5350",
							"wickColor" : "#B5B5B8",
							"wickUpColor" : "#26a69a",
							"wickDownColor" : "#ef5350"
						},
						"haStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"drawWick" : true,
							"drawBorder" : true,
							"borderColor" : "#378658",
							"borderUpColor" : "#26a69a",
							"borderDownColor" : "#ef5350",
							"wickColor" : "#B5B5B8",
							"wickUpColor" : "#26a69a",
							"wickDownColor" : "#ef5350",
							"showRealLastPrice" : false,
							"barColorsOnPrevClose" : false,
							"inputs" : {},
							"inputInfo" : {}
						},
						"barStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"barColorsOnPrevClose" : false,
							"dontDrawOpen" : false,
							"thinBars" : true
						},
						"hiloStyle" : {
							"color" : "#2196f3",
							"showBorders" : true,
							"borderColor" : "#2196f3",
							"showLabels" : true,
							"labelColor" : "#2196f3",
							"fontSize" : 7
						},
						"lineStyle" : {
							"color" : "#2196f3",
							"linestyle" : 0,
							"linewidth" : 3,
							"priceSource" : "close",
							"styleType" : 2
						},
						"areaStyle" : {
							"color1" : "#2196f3",
							"color2" : "#2196f3",
							"linecolor" : "#2196f3",
							"linestyle" : 0,
							"linewidth" : 3,
							"priceSource" : "close",
							"transparency" : 95
						},
						"renkoStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"borderUpColor" : "#26a69a",
							"borderDownColor" : "#ef5350",
							"upColorProjection" : "#336854",
							"downColorProjection" : "#7f323f",
							"borderUpColorProjection" : "#336854",
							"borderDownColorProjection" : "#7f323f",
							"wickUpColor" : "#26a69a",
							"wickDownColor" : "#ef5350",
							"inputs" : {
								"source" : "close",
								"boxSize" : 3,
								"style" : "ATR",
								"atrLength" : 14,
								"wicks" : true
							},
							"inputInfo" : {
								"source" : {
									"name" : "Source"
								},
								"boxSize" : {
									"name" : "Box size"
								},
								"style" : {
									"name" : "Style"
								},
								"atrLength" : {
									"name" : "ATR Length"
								},
								"wicks" : {
									"name" : "Wicks"
								}
							}
						},
						"pbStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"borderUpColor" : "#26a69a",
							"borderDownColor" : "#ef5350",
							"upColorProjection" : "#336854",
							"downColorProjection" : "#7f323f",
							"borderUpColorProjection" : "#336854",
							"borderDownColorProjection" : "#7f323f",
							"inputs" : {
								"source" : "close",
								"lb" : 3
							},
							"inputInfo" : {
								"source" : {
									"name" : "Source"
								},
								"lb" : {
									"name" : "Number of line"
								}
							}
						},
						"kagiStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"upColorProjection" : "#336854",
							"downColorProjection" : "#7f323f",
							"inputs" : {
								"source" : "close",
								"style" : "ATR",
								"atrLength" : 14,
								"reversalAmount" : 1
							},
							"inputInfo" : {
								"source" : {
									"name" : "Source"
								},
								"style" : {
									"name" : "Style"
								},
								"atrLength" : {
									"name" : "ATR Length"
								},
								"reversalAmount" : {
									"name" : "Reversal amount"
								}
							}
						},
						"pnfStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"upColorProjection" : "#336854",
							"downColorProjection" : "#7f323f",
							"inputs" : {
								"sources" : "Close",
								"reversalAmount" : 3,
								"boxSize" : 1,
								"style" : "ATR",
								"atrLength" : 14
							},
							"inputInfo" : {
								"sources" : {
									"name" : "Source"
								},
								"boxSize" : {
									"name" : "Box size"
								},
								"reversalAmount" : {
									"name" : "Reversal amount"
								},
								"style" : {
									"name" : "Style"
								},
								"atrLength" : {
									"name" : "ATR Length"
								}
							}
						},
						"baselineStyle" : {
							"baselineColor" : "rgba( 117, 134, 150, 1)",
							"topFillColor1" : "rgba( 38, 166, 154, 0.05)",
							"topFillColor2" : "rgba( 38, 166, 154, 0.05)",
							"bottomFillColor1" : "rgba( 239, 83, 80, 0.05)",
							"bottomFillColor2" : "rgba( 239, 83, 80, 0.05)",
							"topLineColor" : "rgba( 38, 166, 154, 1)",
							"bottomLineColor" : "rgba( 239, 83, 80, 1)",
							"topLineWidth" : 3,
							"bottomLineWidth" : 3,
							"priceSource" : "close",
							"transparency" : 50,
							"baseLevelPercentage" : 50
						},
						"rangeStyle" : {
							"upColor" : "#26a69a",
							"downColor" : "#ef5350",
							"thinBars" : true,
							"upColorProjection" : "#336854",
							"downColorProjection" : "#7f323f",
							"inputs" : {
								"range" : 10,
								"phantomBars" : false
							},
							"inputInfo" : {
								"range" : {
									"name" : "Range"
								},
								"phantomBars" : {
									"name" : "Phantom Bars"
								}
							}
						},
						"symbol" : "WORLDGOLD",
						"shortName" : "Vàng Thế giới",
						"timeframe" : "",
						"onWidget" : false,
						// "interval": "5",
						"priceAxisProperties" : {
							"autoScale" : true,
							"autoScaleDisabled" : false,
							"lockScale" : false,
							"percentage" : false,
							"percentageDisabled" : false,
							"log" : false,
							"logDisabled" : false,
							"alignLabels" : true,
							"isInverted" : false,
							"indexedTo100" : false
						}
					},
					"zorder" : -1,
					"haStyle" : {
						"studyId" : "BarSetHeikenAshi@tv-basicstudies-60"
					},
					"renkoStyle" : {
						"studyId" : "BarSetRenko@tv-prostudies-15"
					},
					"pbStyle" : {
						"studyId" : "BarSetPriceBreak@tv-prostudies-15"
					},
					"kagiStyle" : {
						"studyId" : "BarSetKagi@tv-prostudies-15"
					},
					"pnfStyle" : {
						"studyId" : "BarSetPnF@tv-prostudies-15"
					},
					"rangeStyle" : {
						"studyId" : "BarSetRange@tv-basicstudies-72"
					}
				} ],
				"leftAxisesState" : [],
				"rightAxisesState" : [ {
					"state" : {
						"id" : "rRfOPrPWyH3u",
						"m_priceRange" : {
							"m_maxValue" : 1931.9,
							"m_minValue" : 1196.6
						},
						"m_isAutoScale" : true,
						"m_isPercentage" : false,
						"m_isIndexedTo100" : false,
						"m_isLog" : false,
						"m_isLockScale" : false,
						"m_isInverted" : false,
						"m_height" : 301,
						"m_topMargin" : 0.1,
						"m_bottomMargin" : 0.08,
						"alignLabels" : true
					},
					"sources" : [ "dzzl2a" ]
				} ],
				"overlayPriceScales" : {},
				"stretchFactor" : 2000,
				"mainSourceId" : "dzzl2a",
				"priceScaleRatio" : null
			} ],
			"timeScale" : {
				"m_barSpacing" : 50,
				"m_rightOffset" : 10
			},
			"chartProperties" : {
				"paneProperties" : {
					"background" : "#131722",
					"gridProperties" : {
						"color" : "#363c4e",
						"style" : 0
					},
					"vertGridProperties" : {
						"color" : "#363c4e",
						"style" : 0
					},
					"horzGridProperties" : {
						"color" : "#363c4e",
						"style" : 0
					},
					"crossHairProperties" : {
						"color" : "#758696",
						"style" : 2,
						"transparency" : 0,
						"width" : 1
					},
					"topMargin" : 10,
					"bottomMargin" : 8,
					"axisProperties" : {
						"autoScale" : true,
						"autoScaleDisabled" : false,
						"lockScale" : false,
						"percentage" : false,
						"percentageDisabled" : false,
						"indexedTo100" : false,
						"log" : false,
						"logDisabled" : false,
						"alignLabels" : true,
						"isInverted" : false
					},
					"legendProperties" : {
						"showStudyArguments" : true,
						"showStudyTitles" : true,
						"showStudyValues" : true,
						"showSeriesTitle" : true,
						"showSeriesOHLC" : true,
						"showLegend" : true,
						"showBarChange" : true,
						"showOnlyPriceSource" : true
					}
				},
				"scalesProperties" : {
					"backgroundColor" : "#ffffff",
					"lineColor" : "#787878",
					"textColor" : "#D9D9D9",
					"fontSize" : 11,
					"scaleSeriesOnly" : false,
					"showSeriesLastValue" : true,
					"seriesLastValueMode" : 1,
					"showSeriesPrevCloseValue" : false,
					"showStudyLastValue" : false,
					"showSymbolLabels" : false,
					"showStudyPlotLabels" : false,
					"barSpacing" : 6
				},
				"chartEventsSourceProperties" : {
					"visible" : true,
					"futureOnly" : true,
					"breaks" : {
						"color" : "rgba(85, 85, 85, 1)",
						"visible" : false,
						"style" : 2,
						"width" : 1
					}
				},
				"priceScaleSelectionStrategyName" : "auto"
			},
			"version" : 2,
			"timezone" : "Asia/Bangkok",
			"sessions" : {
				"properties" : {
					"graphics" : {
						"backgrounds" : {
							"inSession" : {
								"color" : "#6fa8dc",
								"transparency" : 60,
								"visible" : false
							},
							"outOfSession" : {
								"color" : "#ffe599",
								"transparency" : 60,
								"visible" : false
							}
						},
						"vertlines" : {
							"sessBreaks" : {
								"color" : "#4985e7",
								"style" : 2,
								"visible" : false,
								"width" : 1
							}
						}
					}
				}
			}
		} ]
	}

};shinobi.userstatus = {
    userStatusMap: {},
    userStatusWidgets: {},
    updateUserStatusProcess: function (item) {
        var data = JSON.parse(item.data);
        Object.keys(data).forEach(function (key) {
            shinobi.userstatus.userStatusMap[key] = data[key];
            shinobi.userstatus.updateUserStatusWidgets(key);
        });
    },
    updateUserStatusWidgets: function (username) {
        if (shinobi.userstatus.userStatusWidgets.hasOwnProperty(username)) {
            shinobi.userstatus.userStatusWidgets[username].forEach(function (widget) {
                var color = shinobi.userstatus.getCurrentStatusColor(username);
                widget.classList.remove('has-text-success');
                widget.classList.remove('has-text-grey');
                widget.classList.add(color);
            })
        }
    },
    renderUserStatusTable: function (cell, row, col, all) {
        var value = cell.innerHTML;
        cell.innerHTML = '';
        shinobi.userstatus.renderUserStatus(cell, value, all[row]);
    },
    renderUserStatus: function (elem, value, all) {
        var username = value;
        if (shinobi.userstatus.userStatusMap.hasOwnProperty(username)) {
            shinobi.userstatus.renderUserStatusWidget(elem, username, all);
        } else {
            shinobi.api.request('/authenapi/UserOnlineStatusApi/getUserOnlineStatus', JSON.stringify({ "username": username }), function (response) {
                shinobi.userstatus.userStatusMap[username] = JSON.parse(response);
                shinobi.userstatus.renderUserStatusWidget(elem, username, all);
            })
        }
    },
    renderUserStatusWidget: function (elem, username, all) {
        var color = shinobi.userstatus.getCurrentStatusColor(username);
        elem.innerHTML = `
            <div class="user-status-container ${color}"><span class="icon"><i class="fa fa-circle"></i></span></div>
        `;
        if (!shinobi.userstatus.userStatusWidgets.hasOwnProperty(username)) {
            shinobi.userstatus.userStatusWidgets[username] = [];
        }
        shinobi.userstatus.userStatusWidgets[username].push(elem.querySelector('.user-status-container'));
    },
    getCurrentStatusColor: function (username) {
        var status = shinobi.userstatus.userStatusMap[username];
        var color = (status) ? 'has-text-success' : 'has-text-grey';
        return color;
    }
};Number.prototype.format = function(n, x, s, c) {
    var re = "\\d(?=(\\d{" + (x || 3) + "})+" + (n > 0 ? "\\D" : "$") + ")",
        num = this.toFixed(Math.max(0, ~~n));

    return (c ? num.replace(".", c) : num).replace(new RegExp(re, "g"), "$&" + (s || ","));
};
shinobi.util = {

    internetConnection: true,
    addEventInternetConnection: function() {
        var container;
        if (!document.querySelector('#connectingNetworkContainer')) {
            container = document.createElement('div');
            container.setAttribute('class', 'connecting-network');
            container.setAttribute('id', 'connectingNetworkContainer');

            container.innerHTML = `
            <style>
                .connecting-network{
                    position: fixed;
                    z-index: 100;
                    width: 15rem;
                    height: 4rem;
                    bottom: 1rem;
                    left: 1rem;
                    background: white;
                    display: none;
                    border-radius: 6px;
                    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 10%), 0 1px 2px 0 rgb(0 0 0 / 6%);
                }
                .connecting-network.is-active{
                    display: block;
                }
                .spinner {
                    top: calc( 50% - 0.75rem );
                    left: 50%;
                    text-align: center;
                    position: absolute;
                    transform: translate(-50%, -50%);
                }
                .spinner-content{
                    top: calc( 50% + 0.75rem );
                    left: 50%;
                    text-align: center;
                    position: absolute;
                    transform: translate(-50%, -50%);
                    color: #504f4f;
                    font-size: 1rem;
                }

                .spinner > div {
                    width: 0.75rem;
                    height: 0.75rem;
                    background-color: #504f4f;
                    border-radius: 100%;
                    display: inline-block;
                    -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;
                    animation: sk-bouncedelay 1.4s infinite ease-in-out both;
                }

                .spinner .bounce1 {
                -webkit-animation-delay: -0.32s;
                animation-delay: -0.32s;
                }

                .spinner .bounce2 {
                -webkit-animation-delay: -0.16s;
                animation-delay: -0.16s;
                }

                @-webkit-keyframes sk-bouncedelay {
                0%, 80%, 100% { -webkit-transform: scale(0) }
                40% { -webkit-transform: scale(1.0) }
                }

                @keyframes sk-bouncedelay {
                0%, 80%, 100% { 
                    -webkit-transform: scale(0);
                    transform: scale(0);
                } 40% { 
                    -webkit-transform: scale(1.0);
                    transform: scale(1.0);
                }
                }
            </style>
            <div class=" spinner">
                <div class="bounce1"></div>
                <div class="bounce2"></div>
                <div class="bounce3"></div>
            </div>
            <div class=" spinner-content">
                Đang kết nối
            </div>
            </div>
         `;
            document.body.appendChild(container);
        } else {
            container = document.querySelector('#connectingNetworkContainer');
        }
        window.addEventListener('online', function() {
            console.log('Became online');
            shinobi.util.internetConnection = true;
            container.classList.remove('is-active');
        });
        window.addEventListener('offline', function() {
            console.log('Became offline');
            shinobi.util.internetConnection = false;
            container.classList.add('is-active');
        });
        return container;
    },
    hiddenModifyAvatarLinkButton: function(selector) {
        var fileLabel = document.querySelector(selector + " .file-label");
        fileLabel.querySelector(".button").classList.add("is-hidden");
    },
    renderUnEscap: function(elem, value, all) {

        elem.innerHTML = shinobi.util.renderUncapContent(value);
    },
    renderUncapContent: function(data) {
        return String(data).replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '"');
    },
    convertEscap: function(data) {
        var elemPost = document.createElement('div');
        elemPost.innerHTML = data;
        var listImg = elemPost.querySelectorAll('img');
        listImg.forEach(img=>{
            console.log('img',img);
            var src = img.src;
            var imgNew = document.createElement('img');
            imgNew.setAttribute('src',src);
            img.replaceWith(imgNew);

        })
        var content = elemPost.innerHTML;
        return String(content).replace(/\.\s/g, '.').replace(/alt\=\"([A-Za-z0-9 _]*)\"/g, "").replace(/width\=\"([A-Za-z0-9 _]*)\"/g, "").replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').trim();

    },
    showAvatarLinkAndPreventModify: function(selector, json) {
        var data = JSON.parse(json);

        var img = document.querySelector(selector + ' [snb-render="shinobi.render.renderChangeAvatarImageContainer"]');
        var fileLabel = document.querySelector(selector + " .file-label");
        var modifyButton = fileLabel.querySelector(".button");

        if (data.hasOwnProperty("avatarlink") && data.avatarlink != null && data.avatarlink != "") {
            img.classList.remove("is-hidden");
            modifyButton.classList.add("is-hidden");
        } else {
            img.classList.add("is-hidden");
            modifyButton.classList.remove("is-hidden");
        }
    },
    getAvatarLink: function(container) {
        return container.querySelector('[snb-key="avatarlink"]').src;
    },

    hiddenModalFooter: function(selector) {
        var confirmPanel = document.querySelector(selector);
        confirmPanel.querySelector(".modal-card-foot").classList.add("is-hidden");
    },

    renderCollapseButton: function(callback) {
        var pageTitle = document.querySelector(".section-title");

        pageTitle.classList = [];

        pageTitle.innerHTML =
            `
		<div class="level panel-heading has-background-white-bis">
			<div class="level-left">
				<div class="level-item"><button class="button is-primary is-collapse-button">
						<i class="fa fa-list-ul"></i>
					</button></div>
				<div class="level-item"><p class=" title is-4 section-title">` +
            pageTitle.innerText +
            `</p></div>
			</div>
			<div class="level-right">
			</div>
		</div>`;

        callback();
    },

    addCollapseButtonEvent: function(callback) {
        var collapseButton = document.querySelector(".is-collapse-button");
        collapseButton.onclick = function() {
            var panel = document.querySelectorAll(".panel");

            var firstPanel = panel[0].parentElement;
            if (firstPanel.classList.contains("is-hidden")) {
                firstPanel.classList.remove("is-hidden");
            } else {
                firstPanel.classList.add("is-hidden");
            }

            var secondPanel = panel[1].parentElement;
            if (!secondPanel.classList.contains("is-12")) {
                secondPanel.classList.remove("is-8");
                secondPanel.classList.add("is-12");
            } else {
                secondPanel.classList.add("is-8");
                secondPanel.classList.remove("is-12");
            }
        };
        callback();
    },

    abledInput: function(selector) {
        var input = document.querySelector(selector);
        input.removeAttribute("disabled");
    },

    disableAllInput: function(selector) {
        var container = document.querySelector(selector);
        var allInputs = container.querySelectorAll(".input");
        allInputs.forEach(function(input) {
            input.setAttribute("disabled", "");
        });
        var allTextArea = container.querySelectorAll(".textarea");
        allTextArea.forEach(function(input) {
            input.setAttribute("disabled", "");
        });
    },

    hiddenUploadFileInDetailForm: function(selector) {
        var container = document.querySelector(selector);
        var upfileList = container.querySelectorAll(".file-cta");
        for (var i = 0; i < upfileList.length; i++) {
            upfileList[i].classList.add("is-hidden");
        }
    },

    disabledAllUserInfoInput: function() {
        var userInfoSection = document.getElementById("userInfoSection");
        var allInput = userInfoSection.querySelectorAll(".input");
        allInput.forEach(function(input) {
            input.setAttribute("disabled", "");
        });
    },

    disabledAllBankInfoInput: function() {
        var userBankInfoSection = document.getElementById("userBankInfoSection");
        var allInput = userBankInfoSection.querySelectorAll(".input");
        allInput.forEach(function(input) {
            input.setAttribute("disabled", "");
        });
    },

    showIdentityLabel: function(selector) {
        var container = document.querySelector(selector);
        var frontIdentity = container.querySelector('[snb-key="frontidentity"]');
        frontIdentity.parentElement.parentElement.parentElement.parentElement.previousElementSibling.classList.remove(
            "is-hidden"
        );
        var backidentity = container.querySelector('[snb-key="backidentity"]');
        backidentity.parentElement.parentElement.parentElement.parentElement.previousElementSibling.classList.remove(
            "is-hidden"
        );
    },

    getCurrentSystemModule: function() {
        var menuModuleHeader = document.querySelector("#menuModuleHeader");
        return menuModuleHeader.querySelector(".navbar-link").lastElementChild.innerText;
    },

    renderReadMoneyAmountInVietnamese: function(selector) {
        var infoContainer = document.querySelector(selector);
        var amount = infoContainer.querySelector('[snb-key="amount"]');
        amount.addEventListener("input", function() {
            shinobi.mapping.getValue(selector, function(json) {
                var numInString = docso(json.amount).trim();
                infoContainer.querySelector('[snb-key="vietnamesemoneyinput"]').innerText =
                    numInString.charAt(0).toUpperCase() + numInString.slice(1) + " đồng";
            });
        });
    },

    buildSearchUserRecommendFieldElement: function(field, option) {
        if (option.hasOwnProperty("callback")) {
            shinobi.util.addCallbackEvent(field, option);
        }

        if (option.hasOwnProperty("buttonSearchEvent")) {
            shinobi.util.addButtonSearchEvent(field, option);
        }

        if (option.hasOwnProperty("selectItem")) {
            shinobi.util.addSelectItemEvent(field, option);
        }
    },

    addCallbackEvent: function(field, option) {
        var input = field.querySelector(".input");

        input.addEventListener("input", function() {
            var input = field.querySelector(".input");
            var searchKey = input.value.trim();
            if (searchKey != "") {
                var request = {
                    searchkey: searchKey,
                };

                if (option.showloadingnotification) {
                    shinobi.notification.notification.loading();
                }

                shinobi.api.request(shinobi.coreapi.loggedUserApi + "searchUser", JSON.stringify(request), function(response) {
                    if (option.showloadingnotification) {
                        shinobi.notification.notification.loaded();
                    }
                    option.callback(response);
                });
            }
        });
    },

    addSelectItemEvent: function(field, option) {
        var input = field.querySelector(".input");

        input.addEventListener("change", function() {
            var input = field.querySelector(".input");
            var searchKey = input.value.trim();
            if (searchKey != "") {
                var request = {
                    searchkey: searchKey,
                    type: "=",
                };

                if (option.showloadingnotification) {
                    shinobi.notification.notification.loading();
                }

                shinobi.api.request(shinobi.coreapi.loggedUserApi + "searchUser", JSON.stringify(request), function(response) {
                    if (option.showloadingnotification) {
                        shinobi.notification.notification.loaded();
                    }

                    option.selectItem(response);
                });
            }
        });
    },

    addButtonSearchEvent: function(field, option) {
        var button = field.querySelector(".button.is-search");

        button.addEventListener("click", function() {
            var input = field.querySelector(".input");
            var searchKey = input.value.trim();
            if (searchKey != "") {
                var request = {
                    searchkey: searchKey,
                    type: "=",
                };

                if (option.showloadingnotification) {
                    shinobi.notification.notification.loading();
                }

                shinobi.api.request(shinobi.coreapi.loggedUserApi + "searchUser", JSON.stringify(request), function(response) {
                    if (option.showloadingnotification) {
                        shinobi.notification.notification.loaded();
                    }

                    option.buttonSearchEvent(response);
                });
            }
        });
    },

    hexEncode: function(str) {
        var hex, i;

        var result = "";
        for (i = 0; i < str.length; i++) {
            hex = str.charCodeAt(i).toString(16);
            result += ("000" + hex).slice(-4);
        }

        return result;
    },

    hexDecode: function(str) {
        var j;
        var hexes = str.match(/.{1,4}/g) || [];
        var back = "";
        for (j = 0; j < hexes.length; j++) {
            back += String.fromCharCode(parseInt(hexes[j], 16));
        }

        return back;
    },

    onScreenDisable: function(callback) {
        var preStatus = false;
        var currentStatus = false;
        setInterval(function() {
            preStatus = currentStatus;
            currentStatus = document.hidden;

            if (currentStatus == false && preStatus == true) {
                if (typeof callback == "function") {
                    callback();
                }
            }
        }, 1000);
    },

    sumAllDataAndKeyJson: function(result, json) {
        var entriesResult = Object.entries(result);
        var entriesJson = Object.entries(json);
        entriesJson.forEach(function(entriesJsonItem) {
            if (result.hasOwnProperty(entriesJsonItem[0])) {
                if (!isNaN(result[entriesJsonItem[1]])) {
                    result[entriesJsonItem[0]] += entriesJsonItem[1];
                }
            } else {
                result[entriesJsonItem[0]] = entriesJsonItem[1];
            }
        });
    },
    checkMobile: function() {
        const toMatch = [/Android/i, /webOS/i, /iPhone/i, /iPad/i, /iPod/i, /BlackBerry/i, /Windows Phone/i];

        return toMatch.some((toMatchItem) => {
            return navigator.userAgent.match(toMatchItem);
        });
    },

    countNumberInInput: function(input) {
        if (input.match(/\d/g) == null) {
            return 0;
        } else {
            var numbers = input.match(/\d/g).map(Number);

            return numbers.length;
        }
    },
    countTextCharacterInInput: function(input) {
        if (input.match(/[a-zA-Z]/g) == null) {
            return 0;
        } else {
            var textCharaters = input.match(/[a-zA-Z]/g).map(String);

            return textCharaters.length;
        }
    },

    countSpecialCharacterInInput: function(input) {
        if (input.match(/[^0-9a-zA-Z]/g) == null) {
            return 0;
        } else {
            var specialCharaters = input.match(/[^0-9a-zA-Z]/g).map(String);

            return specialCharaters.length;
        }
    },

    hasSendRequestToAdmin: function(response, callback) {
        if (response == "update success") {
            shinobi.notification.notification.info("Đã tiếp nhận yêu cầu. Vui lòng đợi kiểm duyệt.");
            if (typeof callback == "function") {
                callback();
            }
        }
    },

    getCurrentDate: function(option) {
        var date = new Date();
        return shinobi.util.formatDate(date, option);
    },

    getFormatDate: function(dateInput, option) {
        dateInput = shinobi.util.preProcessDateInput(dateInput);
        var date = new Date(dateInput);
        return shinobi.util.formatDate(date, option);
    },

    preProcessDateInput: function(dateInput) {
        if (typeof dateInput == "string") {
            dateInput = dateInput.replace(/-/g, "/");
        }
        return dateInput;
    },

    addLoopAnimate: function(option) {
        var listElem = document.querySelectorAll("[animate-loop]");
        for (var i = 0; i < listElem.length; i++) {
            shinobi.util.addLoopAnimateProcess(listElem[i], option);
        }
    },

    getRandomInt: function(max) {
        return Math.floor(Math.random() * Math.floor(max));
    },

    addLoopAnimateProcess: function(elem, option) {
        if (!(elem.hasAttribute("stop-animate") && elem.getAttribute("stop-animate") == "true")) {
            var classList = elem.getAttribute("animate-loop").split(" ");
            var className = shinobi.util.randomInList(classList);
            elem.classList.add(className);
            elem.classList.add("animate__animated");
            setTimeout(function() {
                elem.classList.remove(className);
                setTimeout(function() {
                    shinobi.util.addLoopAnimateProcess(elem, option);
                }, 200);
            }, 1000);
        } else {
            setTimeout(function() {
                shinobi.util.addLoopAnimateProcess(elem, option);
            }, 1000);
        }
    },

    addAnimate: function(selector, option) {
        var itemList = document.querySelectorAll(selector);
        for (var i = 0; i < itemList.length; i++) {
            shinobi.util.addAnimateProcess(itemList[i], option);
        }
    },
    addAnimateProcess: function(item, option) {
        var listClassAppend = ["animated", "inifinite"];
        var classItem = option.hasOwnProperty("classItem") ? option["classItem"] : "bounce";
        listClassAppend.push(classItem);
        listClassAppend.forEach(function(itemClass) {
            item.classList.add(itemClass);
        });

        if (option.hasOwnProperty("infinity")) {
            setTimeout(function() {
                listClassAppend.forEach(function(itemClass) {
                    item.classList.remove(itemClass);
                });
                setTimeout(function() {
                    shinobi.util.addAnimateProcess(item, option);
                }, 2000);
            }, 2000);
        }
    },

    reverseFormatDate: function(dateInput, option) {
        var reverseFormat = option["reverseFormat"];
        var dd = dateInput.slice(reverseFormat.indexOf("dd"), reverseFormat.lastIndexOf("dd") + 2);
        var MM = dateInput.slice(reverseFormat.indexOf("MM"), reverseFormat.lastIndexOf("MM") + 2);
        var yyyy = dateInput.slice(reverseFormat.indexOf("yyyy"), reverseFormat.lastIndexOf("yyyy") + 4);
        var dateString = yyyy + "/" + MM + "/" + dd;
        var date = new Date(dateString);
        return shinobi.util.formatDate(date, option);
    },
    formatDate: function(date, options) {
        var dd = shinobi.util.getTwoDigit(date.getDate());
        var MM = shinobi.util.getTwoDigit(date.getMonth() + 1);
        var yyyy = date.getFullYear();
        var hh = shinobi.util.getTwoDigit(date.getHours());
        var mm = shinobi.util.getTwoDigit(date.getMinutes());
        var ss = shinobi.util.getTwoDigit(date.getSeconds());
        var dayOfWeek = shinobi.util.getDayOfWeek(date, options);
        var dayOfWeekShort = shinobi.util.getDayOfWeekShort(date, options);

        var returnValue = options && options.hasOwnProperty("format") ? options["format"] : "yyyy-MM-dd";
        returnValue = returnValue
            .replace("yyyy", yyyy)
            .replace("MM", MM)
            .replace("dd", dd)
            .replace("hh", hh)
            .replace("mm", mm)
            .replace("ss", ss)
            .replace("dayOfWeekShort", dayOfWeekShort).replace("dayOfWeek", dayOfWeek);
        return returnValue;
    },

    getDayOfWeek: function(date, options) {
        var lang = options && options.hasOwnProperty("language") ? options["language"] : "vn";
        var mapping = {
            vn: ["Chủ nhật", "Thứ hai", "Thứ ba", "Thứ tư", "Thứ năm", "Thứ sáu", "Thứ bảy"],
            en: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        };
        var day = date.getDay();
        return mapping[lang][day];
    },
    getDayOfWeekShort: function(date, options) {
        var lang = options && options.hasOwnProperty("language") ? options["language"] : "vn";
        var mapping = {
            vn: ["CN", "Thứ 2", "Thứ 3", "Thứ 4", "Thứ 5", "Thứ 6", "Thứ 7"],
            en: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        };
        var day = date.getDay();
        return mapping[lang][day];
    },

    getTagInputMappingElem: function(elem) {
        var returnElem;
        if (typeof shinobi.initbulma.tagsInput == "object") {
            shinobi.initbulma.tagsInput.forEach(function(item) {
                if (item["element"] == elem) {
                    returnElem = item;
                }
            });
        }
        return returnElem;
    },

    addEventEnter: function(elem, callback) {
        elem.addEventListener("keypress", function(e) {
            var key = e.which || e.keyCode;
            if (key === 13) {
                e.preventDefault();
                callback();
            }
        });
        var isMobile = shinobi.util.checkMobile();
        if (isMobile) {
            elem.addEventListener("focusout", function(e) {
                callback();
            });
        }
    },

    jsonToSearchParam: function(json) {
        var search = "";
        for (let key in json) {
            search += `&${key}=${json[key]}`;
        }

        return "?" + search.slice(1, search.length);
    },

    getCalendarMappingElem: function(elem) {
        var returnElem;
        if (typeof shinobi.initbulma.calendars == "object") {
            shinobi.initbulma.calendars.forEach(function(item) {
                if (item["element"] == elem) {
                    returnElem = item;
                }
            });
        }
        return returnElem;
    },

    getDateAfterCurrentDate: function(numberDate, elementAfter) {
        var currentDate = new Date();

        switch (elementAfter) {
            case "day":
                currentDate.setDate(currentDate.getDate() + numberDate);
                break;

            case "month":
                currentDate.setMonth(currentDate.getMonth() + numberDate);
                break;

            case "year":
                currentDate.setFullYear(currentDate.setFullYear() + numberDate);
                break;

            default:
                break;
        }

        var year = currentDate.getFullYear();
        var month = shinobi.util.getTwoDigit(currentDate.getMonth() + 1);
        var day = shinobi.util.getTwoDigit(currentDate.getDate());

        return year + "-" + month + "-" + day;
    },

    getDateAfterDate: function(date, numberDate, elementAfter) {
        date = shinobi.util.preProcessDateInput(date);
        var currentDate = new Date(date);

        switch (elementAfter) {
            case "day":
                currentDate.setDate(currentDate.getDate() + numberDate);
                break;

            case "month":
                currentDate.setMonth(currentDate.getMonth() + numberDate);
                break;

            case "year":
                currentDate.setFullYear(currentDate.setFullYear() + numberDate);
                break;

            default:
                break;
        }

        var year = currentDate.getFullYear();
        var month = shinobi.util.getTwoDigit(currentDate.getMonth() + 1);
        var day = shinobi.util.getTwoDigit(currentDate.getDate());

        return year + "-" + month + "-" + day;
    },

    getSearchKey: function(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    },

    getSearchParam: function(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    },

    renderUserInfo: function(selector) {
        var elem = document.querySelector(selector);
        shinobi.util.renderUserInfoElement(elem);
    },

    renderUserInfoElement: function(elem) {
        shinobi.coreapi.getLoggedUserInfo(function(response) {
            var jsonArr = JSON.parse(response);
            shinobi.mapping.renderElement(elem, jsonArr);
        });
    },

    buildSearchUserField: function(selector, option) {
        var field = document.querySelector(selector);
        shinobi.util.buildSearchUserFieldElement(field, option);
    },

    isEmpty: function(object) {
        return Object.keys(object).length === 0 && object.constructor === Object ? true : false;
    },

    uniqueArray: function(a) {
        return a.sort().filter(function(item, pos, ary) {
            return !pos || item != ary[pos - 1];
        });
    },
    buildUpfileButton: function(selector, option) {
        var element = document.querySelector(selector);
        var uploadUrl = option && option.hasOwnProperty("uploadUrl") ? option.uploadUrl : "uploadfile";
        shinobi.fileupload.registerElement(
            element,
            "change",
            uploadUrl,
            function() {
                return 0;
            },
            function(jsonResponse) {
                if (jsonResponse.result == "success") {
                    shinobi.notification.notification.info("Upload thành công");
                    var url = jsonResponse.content.url;
                    shinobi.render.renderImageFileInput(element, url, {});

                    // var link = document.getElementById('link');
                    // link.innerHTML = url;
                } else {
                    shinobi.notification.notification.error("Có lỗi vui lòng thử lại");
                }
            },
            option
        );
    },

    checkEmptyJson: function(json, callback, option) {
        if (option) {
            var entries = Object.entries(json);
            var listNotEmpty = option.hasOwnProperty("listNotEmpty") ? option.listNotEmpty : Object.keys(json);
            var listEmpty = option.hasOwnProperty("listEmpty") ? option.listEmpty : [];
            var hasEmpty = false;
            for (var i = 0; i < entries.length; i++) {
                var item = entries[i];
                if (!listEmpty.includes(item[0])) {
                    if (listNotEmpty.includes(item[0]) && item[1] == "") {
                        hasEmpty = true;
                    }
                }
            }
            hasEmpty ? shinobi.util.fillInputMessage() : callback();
        } else {
            Object.values(json).includes("") ? shinobi.util.fillInputMessage() : callback();
        }
    },

    getParentElementHasAttribute: function(item, option) {
        var parentNode = item.parentNode;
        var isFound = false;
        var returnElement = null;
        var type = option["type"];
        var value = option["value"];
        switch (type) {
            case "class":
                if (parentNode.classList.contains(value)) {
                    isFound = true;
                    returnElement = parentNode;
                }
                break;
            case "id":
                if (parentNode.id == value) {
                    isFound = true;
                    returnElement = parentNode;
                }
                break;
            case "tagName":
                if (parentNode.tagName == value) {
                    isFound = true;
                    returnElement = parentNode;
                }

            default:
                break;
        }

        if (parentNode.tagName == "BODY") {
            return returnElement;
        } else {
            return isFound ? returnElement : shinobi.util.getParentElementHasAttribute(parentNode, option);
        }
    },

    buildSearchUserFieldElement: function(field, option) {
        var input = field.querySelector(".input");
        var button = field.querySelector(".button");
        button.onclick = function() {
            var searchKey = input.value.trim();
            if (searchKey == "") {
                input.classList.add("is-danger");
                shinobi.util.fillInputMessage();
            } else {
                input.classList.remove("is-danger");
                var request = {
                    searchkey: searchKey,
                };
                shinobi.notification.notification.loading();
                shinobi.api.request(shinobi.coreapi.loggedUserApi + "searchUser", JSON.stringify(request), function(response) {
                    shinobi.notification.notification.loaded();
                    if (option.hasOwnProperty("callback")) {
                        option.callback(response);
                    }
                });
            }
        };
    },

    buildAutoSuggestProvince: function(selector, submitFunction) {
        var inputElem = document.querySelector(selector);

        if (inputElem.hasAttribute("build-autocomplete")) {
            inputElem.nextElementSibling.remove();

            var newInput = document.createElement("input");
            newInput.setAttribute("id", inputElem.id);
            newInput.setAttribute("class", "input");
            inputElem.parentNode.replaceChild(newInput, inputElem);
            inputElem = newInput;
        }

        inputElem.classList.add("select-symbol-input");
        inputElem.classList.add("autocomplete-input");
        inputElem.setAttribute("placeholder", "Tỉnh/Thành phố");
        inputElem.setAttribute("build-autocomplete", "true");
        var parentNode = inputElem.parentNode;
        parentNode.classList.add("autocomplete");

        var ul = document.createElement("ul");
        ul.setAttribute("class", "autocomplete-result-list ");
        shinobi.util.insertAfterElem(ul, inputElem);

        shinobi.cacheapi.request(shinobi.coreapi.locationApi + "getAllVietNamProvince", "{}", function(response) {
            var jsonData = JSON.parse(response);

            var data = [];

            jsonData.forEach(function(json) {
                data.push(json["provincename"]);
            });

            var selectSymbolObject = new Autocomplete(parentNode, {
                search: function(input) {
                    var result = [];
                    if (input.length > 0) {
                        result = data.filter(function(item) {
                            return item.toUpperCase().includes(input.toUpperCase());
                        });
                    }

                    return result;
                },
                onSubmit: function(value) {
                    shinobi.a = selectSymbolObject;
                    if (typeof submitFunction == "function") {
                        submitFunction(value, selectSymbolObject);
                    }
                },
                autoSelect: true,
            });

            return selectSymbolObject;
        });
    },

    convertTextToElement: function(text) {
        var div = document.createElement("div");
        div.innerHTML = text;
        var content = div.firstElementChild;
        return content;
    },
    buildAutoSuggestBankName: function(selector, submitFunction) {
        var inputElem = document.querySelector(selector);

        if (inputElem.hasAttribute("build-autocomplete")) {
            inputElem.nextElementSibling.remove();

            var newInput = document.createElement("input");
            newInput.setAttribute("id", inputElem.id);
            newInput.setAttribute("class", "input");
            inputElem.parentNode.replaceChild(newInput, inputElem);
            inputElem = newInput;
        }

        inputElem.classList.add("autocomplete-input");
        inputElem.setAttribute("placeholder", "Ngân hàng");
        inputElem.setAttribute("build-autocomplete", "true");
        var parentNode = inputElem.parentNode;
        parentNode.classList.add("autocomplete");

        var ul = document.createElement("ul");
        ul.setAttribute("class", "autocomplete-result-list ");
        shinobi.util.insertAfterElem(ul, inputElem);

        shinobi.cacheapi.request(shinobi.coreapi.locationApi + "getAllBankName", "{}", function(response) {
            var jsonData = JSON.parse(response);

            var data = [];

            jsonData.forEach(function(json) {
                data.push(json["bankfullname"]);
            });

            var selectSymbolObject = new Autocomplete(parentNode, {
                search: function(input) {
                    var result = [];
                    if (input.length > 0) {
                        result = data.filter(function(item) {
                            return item.toUpperCase().includes(input.toUpperCase());
                        });
                    }

                    return result;
                },
                onSubmit: function(value) {
                    shinobi.a = selectSymbolObject;
                    if (typeof submitFunction == "function") {
                        submitFunction(value, selectSymbolObject);
                    }
                },
                autoSelect: true,
            });

            return selectSymbolObject;
        });
    },

    addClass: function(locationId, className) {
        var location = document.getElementById(locationId);
        location.classList.add(className);
    },
    removeClass: function(locationId, className) {
        var location = document.getElementById(locationId);
        location.classList.remove(className);
    },

    removeClassOfList: function(listId, className) {
        listId.forEach(function(itemId) {
            shinobi.aladinUtil.removeClass(itemId, className);
        });
    },

    getAllSearchInPath: function() {
        const params = {};
        document.location.search
            .substr(1)
            .split("&")
            .forEach((pair) => {
                [key, value] = pair.split("=");
                params[key] = value;
            });
        return params;
    },

    swapKeyAndValueJson: function(json) {
        var ret = {};
        for (var key in json) {
            ret[json[key]] = key;
        }
        return ret;
    },

    addClassOfList: function(listId, className) {
        listId.forEach(function(itemId) {
            shinobi.aladinUtil.addClass(itemId, className);
        });
    },

    addClassOfListClass: function(classNameOfListClass, className) {
        var listElem = document.getElementsByClassName(classNameOfListClass);

        for (var i = 0; i < listElem.length; i++) {
            var item = listElem[i];

            item.classList.add(className);
        }
    },
    removeClassOfListClass: function(classNameOfListClass, className) {
        var listElem = document.getElementsByClassName(classNameOfListClass);

        for (var i = 0; i < listElem.length; i++) {
            var item = listElem[i];

            item.classList.remove(className);
        }
    },
    removeAllClass: function(locationId, classNameLocation, className) {
        var location = document.getElementById(locationId);
        var listClassLocation = location.getElementsByClassName(classNameLocation);

        var length = listClassLocation.length;
        for (var i = 0; i < length; i++) {
            listClassLocation[i].classList.remove(className);
        }
    },

    decodeValue: function(input) {
        var txt = document.createElement("textarea");
        txt.innerHTML = input;
        return txt.value;
    },

    loadListAds: function(option) {
        var request = option["request"];
        shinobi.cacheapi.request("/api/UserRankingOverviewApi/getListAds", JSON.stringify(request), function(response) {
            var array = JSON.parse(response);
            if (array) {
                option.callback(array);
            }
        });
    },

    convertCSVToArray: function(strData, strDelimiter) {
        // Check to see if the delimiter is defined. If not,
        // then default to comma.
        strDelimiter = strDelimiter || ",";

        // Create a regular expression to parse the CSV values.
        var objPattern = new RegExp(
            // Delimiters.
            "(\\" +
            strDelimiter +
            "|\\r?\\n|\\r|^)" +
            // Quoted fields.
            '(?:"([^"]*(?:""[^"]*)*)"|' +
            // Standard fields.
            '([^"\\' +
            strDelimiter +
            "\\r\\n]*))",
            "gi"
        );

        // Create an array to hold our data. Give the array
        // a default empty first row.
        var arrData = [
            []
        ];

        // Create an array to hold our individual pattern
        // matching groups.
        var arrMatches = null;

        // Keep looping over the regular expression matches
        // until we can no longer find a match.
        while ((arrMatches = objPattern.exec(strData))) {
            // Get the delimiter that was found.
            var strMatchedDelimiter = arrMatches[1];

            // Check to see if the given delimiter has a length
            // (is not the start of string) and if it matches
            // field delimiter. If id does not, then we know
            // that this delimiter is a row delimiter.
            if (strMatchedDelimiter.length && strMatchedDelimiter !== strDelimiter) {
                // Since we have reached a new row of data,
                // add an empty row to our data array.
                arrData.push([]);
            }

            var strMatchedValue;

            // Now that we have our delimiter out of the way,
            // let's check to see which kind of value we
            // captured (quoted or unquoted).
            if (arrMatches[2]) {
                // We found a quoted value. When we capture
                // this value, unescape any double quotes.
                strMatchedValue = arrMatches[2].replace(new RegExp('""', "g"), '"');
            } else {
                // We found a non-quoted value.
                strMatchedValue = arrMatches[3];
            }

            // Now that we have our value string, let's add
            // it to the data array.
            arrData[arrData.length - 1].push(strMatchedValue);
        }

        // Return the parsed data.
        return arrData;
    },

    insertAfterElem: function(newElem, elem) {
        elem.parentNode.insertBefore(newElem, elem.nextSibling);
    },

    createNumberCleaveInput: function(selector, options) {
        var formatCharacter = shinobi.util.getFormatCharacters();
        var numberFormatCharacter = formatCharacter.numberFormatCharacter;
        var decimalFormatCharacter = formatCharacter.decimalFormatCharacter;
        var optionsCleave = Object.assign({
                numeral: true,
                numeralDecimalMark: decimalFormatCharacter,
                delimiter: numberFormatCharacter,
            },
            options
        );
        return new Cleave(selector, optionsCleave);
    },
    getValueNumberCleaveFormat: function(elem) {
        return shinobi.render.removeFormatNumber(elem.value.trim());
    },

    getRecordNumber: function(paginationContainerId) {
        var containerId;
        var paginationContainer;
        if (paginationContainerId) {
            var container = document.getElementById(paginationContainerId);
            paginationContainer = container.nextElementSibling.classList.contains("table-pagination") ?
                container.nextElementSibling :
                container.nextElementSibling.getElementsByClassName("table-pagination")[0];
        } else {
            containerId = "table-pagination";
            paginationContainer = document.getElementById(containerId);
        }
        var parentNodePaginationContainer = paginationContainer.parentElement;
        var recordNum;
        var recodeNumAttr = "record-num";
        if (parentNodePaginationContainer.hasAttribute(recodeNumAttr)) {
            recordNum = parentNodePaginationContainer.getAttribute(recodeNumAttr);
        } else {
            var recordNumSelect = paginationContainer.getElementsByClassName("shinobi-recordperpage")[0];
            recordNum = recordNumSelect.value;
        }
        shinobi.util.customRecordPerPagePagination(paginationContainer, recordNum);
        return recordNum;
    },
    customRecordPerPagePagination: function(container, recordNum) {
        var selectRecordNum = container.getElementsByClassName("shinobi-recordperpage")[0];
        var listOptionSelect = selectRecordNum.getElementsByTagName("option");
        for (var i = 0; i < listOptionSelect.length; i++) {
            var j = parseInt(i) + 1;
            var currentPageNum = j * recordNum;
            listOptionSelect[i].innerHTML = currentPageNum;
            listOptionSelect[i].value = currentPageNum;
        }
    },

    updateSuccess: function(callback) {
        shinobi.notification.notification.info("Cập nhật thành công");
        if (typeof callback == "function") {
            callback();
        }
    },

    fillInputMessage: function(callback) {
        shinobi.notification.notification.error("Vui lòng nhập đầy đủ thông tin");
        if (typeof callback == "function") {
            callback();
        }
    },

    checkValueEmpty: function(json, callback) {
        var values = Object.values(json);
        if (!values.includes("")) {
            if (typeof callback == "function") {
                callback();
            }
        } else {
            shinobi.util.fillInputMessage();
        }
    },

    getLoggedUser: function() {
        shinobi.util.checkAuthen();
    },
    checkAuthen: function(callback) {
        var request = {};
        shinobi.cacheapi.request(shinobi.coreapi.userApi + "checkAuthen", JSON.stringify(request), function(response) {
            var data = JSON.parse(response);

            if (typeof callback == "function") {
                data ? callback(data["username"]) : callback(false);
            }
        });
    },

    requestAuthen: function(callback) {
        shinobi.coreapi.checkAuthen(function(username) {
            if (typeof callback == "function") {
                username ? callback(username) : shinobi.notification.notification.error("Vui lòng đăng nhập để thao tác");
            }
        });
    },
    reCheckAuthen: function(callback) {
        var key = shinobi.coreapi.userApi + "checkAuthen";
        if (typeof shinobi.cacheapi.cache == "object") {
            shinobi.cacheapi.clearKey(key);
        }
        shinobi.util.checkAuthen(callback);
    },
    getSessionId: function(callback) {
        var request = {};
        shinobi.api.request(shinobi.coreapi.systemUserApi + "getSessionId", JSON.stringify(request), function(response) {
            if (typeof callback == "function") {
                var data = JSON.parse(response);
                if (data.hasOwnProperty("sessionid")) {
                    data["sessionid"] != -1 ? callback(data["sessionid"]) : callback(false);
                } else {
                    callback(false);
                }
            }
        });
    },
    getUserInfo: function(callback, option) {
        var userInfoRequest;
        if (!option) {
            shinobi.util.checkAuthen(function(username) {
                userInfoRequest = {
                    username: username,
                };
                shinobi.cacheapi.request(
                    shinobi.coreapi.userApi + "getAllUserInfo",
                    JSON.stringify(userInfoRequest),
                    function(response) {
                        if (typeof callback == "function") {
                            callback(response);
                        }
                    }
                );
            });
        } else {
            if (option.hasOwnProperty("username")) {
                userInfoRequest = {
                    username: option.username,
                };
                shinobi.cacheapi.request(
                    shinobi.coreapi.loggedUserApi + "getUserInfo",
                    JSON.stringify(userInfoRequest),
                    function(response) {
                        if (typeof callback == "function") {
                            callback(response);
                        }
                    }
                );
            }
        }
    },
    getLoggedUserInfo: function(callback) {
        shinobi.util.checkAuthen(function(username) {
            var userInfoRequest = {
                username: username,
            };
            shinobi.cacheapi.request(
                shinobi.coreapi.loggedUserApi + "getAllUserInfo",
                JSON.stringify(userInfoRequest),
                function(response) {
                    if (typeof callback == "function") {
                        callback(response);
                    }
                }
            );
        });
    },

    checkUpdateSuccess: function(response, callback, option) {
        if (["insert success", "update success"].includes(response)) {
            if (!(option && !option["showNotification"])) {
                var showContent =
                    option && option.hasOwnProperty("showContent") ? option["showContent"] : "Cập nhật thành công";
                shinobi.notification.notification.info(showContent);
            }

            if (typeof callback == "function") {
                callback();
            }
        }
    },

    getFormatCharacters: function() {
        var numberFormatCharacter = ",";
        var decimalFormatCharacter = ".";

        if (typeof shinobi.utilconfig == "object") {
            if (shinobi.utilconfig.hasOwnProperty("numberFormatCharacter")) {
                if (shinobi.utilconfig.numberFormatCharacter.hasOwnProperty("numberCharacter")) {
                    numberFormatCharacter = shinobi.utilconfig.numberFormatCharacter.numberCharacter;
                }
                if (shinobi.utilconfig.numberFormatCharacter.hasOwnProperty("numberCharacter")) {
                    decimalFormatCharacter = shinobi.utilconfig.numberFormatCharacter.decimalCharacter;
                }
            }
        }

        return {
            numberFormatCharacter: numberFormatCharacter,
            decimalFormatCharacter: decimalFormatCharacter,
        };
    },

    getAllStorage: function() {
        var entries = Object.entries(window.localStorage);
        var result = {};
        entries.forEach(function(item) {
            result[item[0]] = item[1];
        });
        return result;
    },

    setAllStorage: function(json) {
        var entries = Object.entries(json);
        entries.forEach(function(item) {
            window.localStorage.setItem(item[0], item[1]);
        });
    },
    formatNumber: function(value) {
        var formatCharacter = shinobi.util.getFormatCharacters();
        var numberFormatCharacter = formatCharacter.numberFormatCharacter;
        var decimalFormatCharacter = formatCharacter.decimalFormatCharacter;
        return Number(value).format(0, 3, numberFormatCharacter, decimalFormatCharacter);
    },

    getContentIframe: function(selector) {
        shinobi.util.getContentIframeElement(document.querySelector(selector));
    },

    getContentIframeElement: function(iframe) {
        var content = iframe.contentDocument || iframe.contentWindow.document;
        return content;
    },
    getTwoDigit: function(number) {
        return (number < 10 ? "0" : "") + number;
    },

    getInternationalTelephoneCode: function(intlTelInput) {
        var data = intlTelInput.getSelectedCountryData();
        return data["dialCode"];
    },
    getInternationalTelephoneCountry: function(intlTelInput) {
        var data = intlTelInput.getSelectedCountryData();
        return data["iso2"];
    },
    setRangeCalendar: function(selector, start, end) {
        var calendar = shinobi.util.getCalendarMappingElem(document.querySelector(selector));
        calendar.datePicker.start = start;
        calendar.datePicker.end = end;
        calendar.save();
    },
    addEventJumpToId: function() {
        var jumpId = shinobi.util.getSearch("jumpid");
        if (jumpId) {
            var elem = document.getElementById(jumpId);
            var newOffset = elem.offsetTop - Number(shinobi.util.getFontSize()) * 4;
            var offset = newOffset > 0 ? newOffset : 0;
            document.body.scrollTop = offset;
            document.documentElement.scrollTop = offset;
        }
    },

    randomInList: function(list) {
        return list[Math.floor(Math.random() * list.length)];
    },

    jumpTo: function(selector) {
        var elem = document.querySelector(selector);
        shinobi.util.jumpToElement(elem);
    },

    jumpToElement: function(elem) {
        if (elem) {
            var newOffset = elem.offsetTop - Number(shinobi.util.getFontSize()) * 4;
            var offset = newOffset > 0 ? newOffset : 0;
            document.body.scrollTop = offset;
            document.documentElement.scrollTop = offset;
        }
    },
    getStorage: function(key, option) {
        var storage = window.localStorage.getItem(key);
        var nullValue = "";
        return storage ? storage : nullValue;
    },
    setStorage: function(key, value, option) {
        window.localStorage.setItem(key, value);
    },

    getLoggedName: function(callback) {
        shinobi.util.getUserInfo(function(response) {
            var data = JSON.parse(response);
            var loggedName = "";
            if (data) {
                if (data.hasOwnProperty("firstname") && data.hasOwnProperty("lastname")) {
                    loggedName = data["firstname"] + " " + data["lastname"];
                }

                if (typeof callback == "function") {
                    callback(loggedName);
                }
            }
        });
    },

    getSearch: function(searchKey) {
        var search = window.location.search;
        var split = search.split("?");
        var value = null;
        var searchPatern = searchKey + "=";
        split.forEach(function(searchItem) {
            value = searchItem.includes(searchPatern) ? searchItem.replace(searchPatern, "") : value;
        });
        return value;
    },

    getFontSize: function(elem) {
        return shinobi.util.getComputedProperty(elem, "font-size").replace("px", "");
    },

    getComputedProperty: function(elem, property) {
        return elem ?
            window.getComputedStyle(elem, null).getPropertyValue(property) :
            window.getComputedStyle(document.body, null).getPropertyValue(property);
    },

    getValueInput: function(elem) {
        var type = elem.getAttribute("type");
        var value;
        switch (type) {
            case "checkbox":
                value = elem.checked;
                break;
            case "text":
            case "password":
            default:
                value = elem.value.trim();
                break;
        }

        value = elem.hasAttribute("snb-preprocess") ? eval(elem.getAttribute("snb-preprocess"))(value) : value;
        return value;
    },
    sha256: function(ascii) {
        var mathPow = Math.pow;
        var maxWord = mathPow(2, 32);
        var lengthProperty = "length";
        var i, j; // Used as a counter across the whole file
        var result = "";

        var words = [];
        var asciiBitLength = ascii[lengthProperty] * 8;

        var hash = (shinobi.util.sha256.h = shinobi.util.sha256.h || []);

        var k = (shinobi.util.sha256.k = shinobi.util.sha256.k || []);
        var primeCounter = k[lengthProperty];

        var isComposite = {};
        for (var candidate = 2; primeCounter < 64; candidate++) {
            if (!isComposite[candidate]) {
                for (i = 0; i < 313; i += candidate) {
                    isComposite[i] = candidate;
                }
                hash[primeCounter] = (mathPow(candidate, 0.5) * maxWord) | 0;
                k[primeCounter++] = (mathPow(candidate, 1 / 3) * maxWord) | 0;
            }
        }

        ascii += "\x80"; // Append Ƈ' bit (plus zero padding)
        while ((ascii[lengthProperty] % 64) - 56) ascii += "\x00"; // More zero
        // padding
        for (i = 0; i < ascii[lengthProperty]; i++) {
            j = ascii.charCodeAt(i);
            if (j >> 8) return; // ASCII check: only accept characters in
            // range 0-255
            words[i >> 2] |= j << (((3 - i) % 4) * 8);
        }
        words[words[lengthProperty]] = (asciiBitLength / maxWord) | 0;
        words[words[lengthProperty]] = asciiBitLength;

        // process each chunk
        for (j = 0; j < words[lengthProperty];) {
            var w = words.slice(j, (j += 16)); // The message is expanded
            // into 64 words as part of
            // the iteration
            var oldHash = hash;
            // This is now the undefinedworking hash", often labelled as
            // variables a...g
            // (we have to truncate as well, otherwise extra entries at the
            // end accumulate
            hash = hash.slice(0, 8);

            for (i = 0; i < 64; i++) {
                var i2 = i + j;
                // Expand the message into 64 words
                // Used below if
                var w15 = w[i - 15],
                    w2 = w[i - 2];

                // Iterate
                var a = hash[0],
                    e = hash[4];
                var temp1 =
                    hash[7] +
                    (shinobi.util.rightRotate(e, 6) ^ shinobi.util.rightRotate(e, 11) ^ shinobi.util.rightRotate(e, 25)) + // S1
                    ((e & hash[5]) ^ (~e & hash[6])) + // ch
                    k[i] +
                    // Expand the message schedule if needed
                    (w[i] =
                        i < 16 ?
                        w[i] :
                        (w[i - 16] +
                            (shinobi.util.rightRotate(w15, 7) ^ shinobi.util.rightRotate(w15, 18) ^ (w15 >>> 3)) + // s0
                            w[i - 7] +
                            (shinobi.util.rightRotate(w2, 17) ^ shinobi.util.rightRotate(w2, 19) ^ (w2 >>> 10))) | // s1
                        0);
                // This is only used once, so *could* be moved below, but it
                // only saves 4 bytes and makes things unreadble
                var temp2 =
                    (shinobi.util.rightRotate(a, 2) ^ shinobi.util.rightRotate(a, 13) ^ shinobi.util.rightRotate(a, 22)) + // S0
                    ((a & hash[1]) ^ (a & hash[2]) ^ (hash[1] & hash[2])); // maj

                hash = [(temp1 + temp2) | 0].concat(hash); // We don't

                hash[4] = (hash[4] + temp1) | 0;
            }

            for (i = 0; i < 8; i++) {
                hash[i] = (hash[i] + oldHash[i]) | 0;
            }
        }

        for (i = 0; i < 8; i++) {
            for (j = 3; j + 1; j--) {
                var b = (hash[i] >> (j * 8)) & 255;
                result += (b < 16 ? 0 : "") + b.toString(16);
            }
        }
        return result;
    },
    rightRotate: function(value, amount) {
        return (value >>> amount) | (value << (32 - amount));
    },
    removeUnicode: function(str) {
        return shinobi.util.remove_unicode(str);
    },

    listAudio: {},

    playAudio: function(url) {
        var snd = shinobi.util.listAudio.hasOwnProperty(url) ? shinobi.util.listAudio[url] : new Audio(url);
        snd.play();
        shinobi.util.listAudio[url] = snd;
    },

    remove_unicode: function remove_unicode(str) {
        str = str.toLowerCase();
        str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, "a");
        str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, "e");
        str = str.replace(/ì|í|ị|ỉ|ĩ/g, "i");
        str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, "o");
        str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, "u");
        str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, "y");
        str = str.replace(/đ/g, "d");
        str = str.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'| |\"|\&|\#|\[|\]|~|$|_/g, "-");

        str = str.replace(/-+-/g, "-");
        str = str.replace(/^\-+|\-+$/g, "");

        return str;
    },

    changeActiveElement: function(generalId, differentEleList, activeClass, eleActiveId) {
        for (var i = 0; i < differentEleList.length; i++) {
            var eleId = generalId + differentEleList[i];
            if (eleId == eleActiveId) {
                document.getElementById(eleId).classList.add(activeClass);
            } else {
                document.getElementById(eleId).classList.remove(activeClass);
            }
        }
    },
    modalEventListener: function(modal) {
        var closeButtonList = modal.getElementsByClassName("delete");
        var closeButton = closeButtonList[0];
        if (closeButton) {
            closeButton.onclick = function() {
                modal.classList.toggle("is-active");
            };
        }

        var cancelModalButtonList = modal.getElementsByClassName("cancel-modal-button");
        if (cancelModalButtonList) {
            for (var i = 0; i < cancelModalButtonList.length; i++) {
                cancelModalButtonList[i].onclick = function() {
                    modal.classList.toggle("is-active");
                };
            }
        }

        var modalBackground = modal.getElementsByClassName("modal-background");

        for (var j = 0; j < modalBackground.length; j++) {
            modalBackground[j].onclick = function() {
                modal.classList.toggle("is-active");
            };
        }

        window.addEventListener(
            "keydown",
            function(event) {
                if (event.key == "Escape") {
                    modal.classList.remove("is-active");
                }
            },
            true
        );

        var footer = modal.getElementsByTagName("footer")[0];

        if (footer) {
            var buttonFooterList = footer.getElementsByTagName("button");

            for (var j in buttonFooterList) {
                buttonFooterList[j].onclick = function() {
                    modal.classList.toggle("is-active");
                };
            }
        }

        if (modal.hasAttribute("control-button-list")) {
            var controlButtonList = modal.getAttribute("control-button-list").split("|");

            for (var k = 0; k < controlButtonList.length; k++) {
                var item = document.getElementById(controlButtonList[k]);

                item.onclick = function() {
                    modal.classList.add("is-active");

                    if (item.hasAttribute("snb-render")) {
                        var value = item.getAttribute("snb-key");

                        var render = item.getAttribute("snb-render");

                        eval(render)(item, value);
                    }
                };
            }
        }
    },

    createFireWork: function(option) {
        // Options
        var options = {
            /* Which hue should be used for the first batch of rockets? */
            startingHue: 120,
            /*
             * How many ticks the script should wait before a new firework gets
             * spawned, if the user is holding down his mouse button.
             */
            clickLimiter: 5,
            /* How fast the rockets should automatically spawn, based on ticks */
            // timerInterval: 40,
            timerInterval: 20,
            /* Show pulsing circles marking the targets? */
            // showTargets: true,
            showTargets: false,
            /* Rocket movement options, should be self-explanatory */
            rocketSpeed: 4,
            rocketAcceleration: 1.03,
            /* Particle movement options, should be self-explanatory */
            particleFriction: 0.95,
            particleGravity: 1,
            /* Minimum and maximum amount of particle spawns per rocket */
            particleMinCount: 25,
            particleMaxCount: 40,
            /* Minimum and maximum radius of a particle */
            particleMinRadius: 3,
            particleMaxRadius: 5,
        };

        // Local variables
        var fireworks = [];
        var particles = [];
        var mouse = { down: false, x: 0, y: 0 };
        var currentHue = options.startingHue;
        var clickLimiterTick = 0;
        var timerTick = 0;
        var cntRocketsLaunched = 0;

        // Helper function for canvas animations
        window.requestAnimFrame = (function() {
            return (
                window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                function(cb) {
                    window.setTimeout(callback, 1000 / 60);
                }
            );
        })();

        // Helper function to return random numbers within a specified range
        function random(min, max) {
            return Math.random() * (max - min) + min;
        }

        // Helper function to calculate the distance between 2 points
        function calculateDistance(p1x, p1y, p2x, p2y) {
            var xDistance = p1x - p2x;
            var yDistance = p1y - p2y;
            return Math.sqrt(Math.pow(xDistance, 2) + Math.pow(yDistance, 2));
        }

        // Setup some basic variables
        // var canvas = document.getElementById('canvas');
        var canvas = document.createElement("canvas");
        var canvasContainer = option && option.hasOwnProperty("container") ? option["container"] : document.body;
        canvasContainer.appendChild(canvas);
        var canvasCtx = canvas.getContext("2d");
        var canvasWidth = window.innerWidth;
        var canvasHeight = window.innerHeight;

        // Resize canvas
        canvas.width = canvasWidth;
        canvas.height = canvasHeight;

        // Firework class
        function Firework(sx, sy, tx, ty) {
            // Set coordinates (x/y = actual, sx/sy = starting, tx/ty = target)
            this.x = this.sx = sx;
            this.y = this.sy = sy;
            this.tx = tx;
            this.ty = ty;

            // Calculate distance between starting and target point
            this.distanceToTarget = calculateDistance(sx, sy, tx, ty);
            this.distanceTraveled = 0;

            // To simulate a trail effect, the last few coordinates will be
            // stored
            this.coordinates = [];
            this.coordinateCount = 3;

            // Populate coordinate array with initial data
            while (this.coordinateCount--) {
                this.coordinates.push([this.x, this.y]);
            }

            // Some settings, you can adjust them if you'd like to do so.
            this.angle = Math.atan2(ty - sy, tx - sx);
            this.speed = options.rocketSpeed;
            this.acceleration = options.rocketAcceleration;
            this.brightness = random(50, 80);
            this.hue = currentHue;
            this.targetRadius = 1;
            this.targetDirection = false; // false = Radius is getting bigger,
            // true = Radius is getting smaller

            // Increase the rockets launched counter
            cntRocketsLaunched++;
        }

        // This method should be called each frame to update the firework
        Firework.prototype.update = function(index) {
            // Update the coordinates array
            this.coordinates.pop();
            this.coordinates.unshift([this.x, this.y]);

            // Cycle the target radius (used for the pulsing target circle)
            if (!this.targetDirection) {
                if (this.targetRadius < 8) this.targetRadius += 0.15;
                else this.targetDirection = true;
            } else {
                if (this.targetRadius > 1) this.targetRadius -= 0.15;
                else this.targetDirection = false;
            }

            // Speed up the firework (could possibly travel faster than the
            // speed of light)
            this.speed *= this.acceleration;

            // Calculate the distance the firework has travelled so far (based
            // on velocities)
            var vx = Math.cos(this.angle) * this.speed;
            var vy = Math.sin(this.angle) * this.speed;
            this.distanceTraveled = calculateDistance(this.sx, this.sy, this.x + vx, this.y + vy);

            // If the distance traveled (including velocities) is greater than
            // the initial distance
            // to the target, then the target has been reached. If that's not
            // the case, keep traveling.
            if (this.distanceTraveled >= this.distanceToTarget) {
                createParticles(this.tx, this.ty);
                fireworks.splice(index, 1);
            } else {
                this.x += vx;
                this.y += vy;
            }
        };

        // Draws the firework
        Firework.prototype.draw = function() {
            var lastCoordinate = this.coordinates[this.coordinates.length - 1];

            // Draw the rocket
            canvasCtx.beginPath();
            canvasCtx.moveTo(lastCoordinate[0], lastCoordinate[1]);
            canvasCtx.lineTo(this.x, this.y);
            canvasCtx.strokeStyle = "hsl(" + this.hue + ",100%," + this.brightness + "%)";
            canvasCtx.stroke();

            // Draw the target (pulsing circle)
            if (options.showTargets) {
                canvasCtx.beginPath();
                canvasCtx.arc(this.tx, this.ty, this.targetRadius, 0, Math.PI * 2);
                canvasCtx.stroke();
            }
        };

        // Particle class
        function Particle(x, y) {
            // Set the starting point
            this.x = x;
            this.y = y;

            // To simulate a trail effect, the last few coordinates will be
            // stored
            this.coordinates = [];
            this.coordinateCount = 5;

            // Populate coordinate array with initial data
            while (this.coordinateCount--) {
                this.coordinates.push([this.x, this.y]);
            }

            // Set a random angle in all possible directions (radians)
            this.angle = random(0, Math.PI * 2);
            this.speed = random(1, 10);

            // Add some friction and gravity to the particle
            this.friction = options.particleFriction;
            this.gravity = options.particleGravity;

            // Change the hue to a random number
            this.hue = random(currentHue - 20, currentHue + 20);
            this.brightness = random(50, 80);
            this.alpha = 1;

            // Set how fast the particles decay
            this.decay = random(0.01, 0.03);
        }

        // Updates the particle, should be called each frame
        Particle.prototype.update = function(index) {
            // Update the coordinates array
            this.coordinates.pop();
            this.coordinates.unshift([this.x, this.y]);

            // Slow it down (based on friction)
            this.speed *= this.friction;

            // Apply velocity to the particle
            this.x += Math.cos(this.angle) * this.speed;
            this.y += Math.sin(this.angle) * this.speed + this.gravity;

            // Fade out the particle, and remove it if alpha is low enough
            this.alpha -= this.decay;
            if (this.alpha <= this.decay) {
                particles.splice(index, 1);
            }
        };

        // Draws the particle
        Particle.prototype.draw = function() {
            var lastCoordinate = this.coordinates[this.coordinates.length - 1];
            var radius = Math.round(random(options.particleMinRadius, options.particleMaxRadius));

            // Create a new shiny gradient
            var gradient = canvasCtx.createRadialGradient(this.x, this.y, 0, this.x, this.y, radius);
            gradient.addColorStop(0.0, "white");
            gradient.addColorStop(0.1, "white");
            gradient.addColorStop(0.1, "hsla(" + this.hue + ",100%," + this.brightness + "%," + this.alpha + ")");
            gradient.addColorStop(1.0, "black");

            // Draw the gradient
            canvasCtx.beginPath();
            canvasCtx.fillStyle = gradient;
            canvasCtx.arc(this.x, this.y, radius, Math.PI * 2, false);
            canvasCtx.fill();
        };

        // Create a bunch of particles at the given position
        function createParticles(x, y) {
            var particleCount = Math.round(random(options.particleMinCount, options.particleMaxCount));
            while (particleCount--) {
                particles.push(new Particle(x, y));
            }
        }

        // Add an event listener to the window so we're able to react to size
        // changes
        window.addEventListener("resize", function(e) {
            canvas.width = canvasWidth = window.innerWidth;
            canvas.height = canvasHeight = window.innerHeight;
        });

        // Add event listeners to the canvas to handle mouse interactions
        canvas.addEventListener("mousemove", function(e) {
            e.preventDefault();
            mouse.x = e.pageX - canvas.offsetLeft;
            mouse.y = e.pageY - canvas.offsetTop;
        });

        canvas.addEventListener("mousedown", function(e) {
            e.preventDefault();
            mouse.down = true;
        });

        canvas.addEventListener("mouseup", function(e) {
            e.preventDefault();
            mouse.down = false;
        });

        // Main application / script, called when the window is loaded
        function gameLoop() {
            // This function will rund endlessly by using requestAnimationFrame
            // (or fallback to setInterval)
            requestAnimFrame(gameLoop);

            // Increase the hue to get different colored fireworks over time
            currentHue += 0.5;

            // 'Clear' the canvas at a specific opacity, by using
            // 'destination-out'. This will create a trailing effect.
            canvasCtx.globalCompositeOperation = "destination-out";
            canvasCtx.fillStyle = "rgba(0, 0, 0, 0.5)";
            canvasCtx.fillRect(0, 0, canvasWidth, canvasHeight);
            canvasCtx.globalCompositeOperation = "lighter";

            // Loop over all existing fireworks (they should be updated & drawn)
            var i = fireworks.length;
            while (i--) {
                fireworks[i].draw();
                fireworks[i].update(i);
            }

            // Loop over all existing particles (they should be updated & drawn)
            var i = particles.length;
            while (i--) {
                particles[i].draw();
                particles[i].update(i);
            }

            // Draw some text
            // canvasCtx.fillStyle = 'white';
            // canvasCtx.font = '14px Arial';
            // canvasCtx.fillText('Rockets launched: ' + cntRocketsLaunched, 10,
            // 24);

            // Launch fireworks automatically to random coordinates, if the user
            // does not interact with the scene
            if (timerTick >= options.timerInterval) {
                if (!mouse.down) {
                    fireworks.push(
                        new Firework(canvasWidth / 2, canvasHeight, random(0, canvasWidth), random(0, canvasHeight / 2))
                    );
                    timerTick = 0;
                }
            } else {
                timerTick++;
            }

            // Limit the rate at which fireworks can be spawned by mouse
            if (clickLimiterTick >= options.clickLimiter) {
                if (mouse.down) {
                    fireworks.push(new Firework(canvasWidth / 2, canvasHeight, mouse.x, mouse.y));
                    clickLimiterTick = 0;
                }
            } else {
                clickLimiterTick++;
            }
        }
        canvas.setAttribute("style", "position: fixed;top: 0;left: 0;");
        if (option && option.hasOwnProperty("onClick")) {
            if (typeof option.onClick == "function") {
                canvas.onclick = function() {
                    option.onClick();
                };
            }
        } else {
            if (option && option.hasOwnProperty("href")) {
                canvas.classList.add("has-cursor-pointer");
                canvas.onclick = function() {
                    window.location.href = option.href;
                };
            }
        }

        window.onload = gameLoop();
        return canvas;
    },

    createCoinFall: function(option) {
        var container = option.container;

        // var exists = document.getElementsByClassName('coinContainer')[0];
        // if (exists) {
        // exists.parentNode.removeChild(exists);
        // return false;
        // }

        var element = document.createElement("div");
        element.setAttribute("style", "position: fixed;");
        container.appendChild(element);
        var canvas = document.createElement("canvas"),
            ctx = canvas.getContext("2d"),
            focused = false;

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        canvas.id = "gimmick";

        var coin = new Image();
        coin.src = option.hasOwnProperty("imageSrc") ? option.imageSrc : "http://i.imgur.com/5ZW2MT3.png";
        // 440 wide, 40 high, 10 states
        coin.onload = function() {
            element.appendChild(canvas);
            focused = true;
            drawloop();
        };
        var coins = [];

        function drawloop() {
            if (focused) {
                requestAnimationFrame(drawloop);
            }

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (Math.random() < 0.3) {
                coins.push({
                    x: (Math.random() * canvas.width) | 0,
                    y: -50,
                    dy: 3,
                    s: 0.5 + Math.random(),
                    state: (Math.random() * 10) | 0,
                });
            }
            var i = coins.length;
            while (i--) {
                var x = coins[i].x;
                var y = coins[i].y;
                var s = coins[i].s;
                var state = coins[i].state;
                coins[i].state = state > 9 ? 0 : state + 0.1;
                coins[i].dy += 0.3;
                coins[i].y += coins[i].dy;

                ctx.drawImage(coin, 44 * Math.floor(state), 0, 44, 40, x, y, 44 * s, 40 * s);

                if (y > canvas.height) {
                    coins.splice(i, 1);
                }
            }
        }

        return element;
    },
    renderListPost: function(id, typepost = "news") {
        var dataList = null;
        if (id) {
            var parentID = id;
            var url = shinobi.coreapi.blogOverviewApi + "findDataList";
            var request = {
                recordPerPage: shinobi.util.getRecordNumber(parentID),
            };

            // shinobi.newspagerender.dataList = new
            // shinobi.datalist(parentID);
            // shinobi.newspagerender.dataList.staticfilters = [{ "colname":
            // "posttype", "operator": "like", "value": typepost }];
            // shinobi.newspagerender.dataList.staticsorts = [{ "colname":
            // "id", "value": "desc" }];
            // shinobi.newspagerender.dataList.initLoadApi(url, request);
            dataList = new shinobi.datalist(parentID);
            dataList.staticfilters = [{ colname: "posttype", operator: "like", value: typepost }];
            dataList.staticsorts = [{ colname: "id", value: "desc" }];
            dataList.initLoadApi(url, request);
        }
        return dataList;
    },
};shinobi.xhradapter = {
	'getResource' : function(url, callback) {
		this.accessResource("GET", url, callback);
	},
	'accessResource' : function(method, url, callback) {
		var xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				callback(xhttp.responseText);
			}
		};
		xhttp.open(method, url, true);
		xhttp.send();
	},
	'login' : function(username, password, callback) {
		var xhttp = new XMLHttpRequest();

		xhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				callback(xhttp.responseText);
			}
		};

		xhttp.open("POST", "/login", true);
		xhttp.setRequestHeader('username', username);
		xhttp.setRequestHeader('password', password);
		xhttp.send();
	}
};
shinobi.fileuploadconfig = {
  uploadDomainProcess: function () {
    var hostname = window.location.hostname;
    var uploadFileUrl;
    switch (hostname) {
      case "golddemo.hanzo.finance":
        uploadFileUrl = "https://golddemouploadfile.hanzo.finance/";
        break;
      case "gold.hanzo.finance":
        uploadFileUrl = "https://golduploadfile.hanzo.finance/";
        break;
      case "localhost":
      default:
        uploadFileUrl = "http://localhost:10000/";
        break;
    }
    return uploadFileUrl;
  },
};
shinobi.notificationconfig = {
  config: {
    modalSize: "is-medium",
    modalFontSize: "is-size-4",
  },
  init: function () {
    shinobi.notification.config = shinobi.notificationconfig.config;
  },
};
shinobi.config = {
  current: {
    imserver: "ws://localhost:8081/authensocket",
    publicWebSocketUrl: "ws://localhost:8182/publicwebsocket",
  },
  getConfig: function () {
    var hostname = window.location.hostname;
    switch (hostname) {
      case "golddemo.hanzo.finance":
        shinobi.config.current.imserver =
          "wss://golddemoprivatesocket.hanzo.finance/authensocket";
        shinobi.config.current.publicWebSocketUrl =
          "wss://golddemopublicsocket.hanzo.finance/publicwebsocket";
        break;
      case "gold.hanzo.finance":
        shinobi.config.current.imserver =
          "wss://goldprivatesocket.hanzo.finance/authensocket";
        shinobi.config.current.publicWebSocketUrl =
          "wss://goldpublicsocket.hanzo.finance/publicwebsocket";
        break;
      case "localhost":
      default:
        shinobi.config.current.imserver = "ws://localhost:8081/authensocket";
        shinobi.config.current.publicWebSocketUrl =
          "ws://localhost:8182/publicwebsocket";
        // shinobi.config.current.publicWebSocketUrl =
        // "wss://golddemopublicsocket.hanzo.finance/publicwebsocket";
        break;
    }
  },
};
shinobi.accountefficiencyuserrender = {
    build: function (systemsubaccount) {
        var object = this;
        object.renderAccountEfficiencyUser(systemsubaccount);
    },

    renderAccountEfficiencyUser: function (valueAccount) {
        var datalistId = "tableaccountefficiency";

        var colNames = shinobi.tableHelper.getColname(datalistId);
        var renders = shinobi.tableHelper.getRender(datalistId);

        if (!shinobi.accountefficiencyuserrender.tableaccountefficiency) {
            shinobi.accountefficiencyuserrender.tableaccountefficiency = new shinobi.table(datalistId);
        }

        var url = '/authenapi/SystemUserApi/getInvestmentEfficiency';
        var request = { "allocationaccount": valueAccount };

        shinobi.notification.notification.loading();
        shinobi.api.request(url, JSON.stringify(request), function (res) {
            shinobi.notification.notification.loaded();
            shinobi.accountefficiencyuserrender.tableaccountefficiency.clear();
            data = JSON.parse(res);
            shinobi.accountefficiencyuserrender.tableaccountefficiency.renderTable(colNames, data, renders);
        });
    },
};shinobi.accountmanagementdetailrender = {
    table: '',
    build: function () {
        var object = this;
        object.createStruct(function (search) {
            object.getinfoUserAccount(search);
            object.loadData(search);
        });
        shinobi.selfemployedaccountrender.createMultivalueStructure();
    },
    loadData: function (systemsubaccount) {
        var object = this;
        var datalistId = 'linkedpmaccounttable';
        var url = "/authenapi/ClientAccountDetailApi/findDataList";
        var request = {
            recordPerPage: shinobi.util.getRecordNumber(datalistId),
        }
        var colNames = shinobi.tableHelper.getColname(datalistId);
        var renders = shinobi.tableHelper.getRender(datalistId);

        object.table = new shinobi.table(datalistId);
        object.table.staticfilters = [{
            'colname': 'systemsubaccount',
            'operator': '=',
            'value': systemsubaccount
        }];
        object.table.initLoadApi(url, request, colNames, renders);

        if (!systemsubaccount) {
            object.openModalWarning(object.configSystemSubAccount, "Người dùng chưa cấu hình tài khoản giao dịch.", "");
        }
    },
    createStruct: function (callback) {
        var search = shinobi.util.getAllSearchInPath();
        var systemSubaccount = search.systemsubaccount;
        document.getElementById('accountmanagement').classList.add('is-active');
        if (callback) {
            callback(systemSubaccount);
        }
    },
    getinfoUserAccount: function (subAccount) {
        var url = '/authenapi/StockComAccountApi/getStockComAccountInfo';
        var request = {
            "recordPerPage": "10", "pageNum": 1,
            systemsubaccount: subAccount,
        };
        shinobi.api.request(url, JSON.stringify(request), function (res) {
            res = JSON.parse(res);
            console.log("getinfoUserAccount", res);
            var elem = document.getElementById('nameuser');
            shinobi.mapping.renderElement(elem, res);
        });
    },

    checkConfigClientAccount: function (cell, row, col, all) {
        var object = shinobi.accountmanagementdetailrender;
        var value = cell.innerHTML;
        // if (!all[row].hasOwnProperty("systemsubaccount")) {
        //     var config = object.configSystemSubAccount;
        //     var warning = `Tài khoản ${all[row].fullname} chưa cấu hình tài khoản giao dịch.`

        //     shinobi.accountmanagementdetailrender.openModalWarning(config, warning, all[row]);
        // } else {
        if (!all[row].hasOwnProperty("enddate")) {
            var config = object.configAllocationCustomer;
            var warning = `Tài khoản ${all[row].fullname} chưa được phân bổ.`
            shinobi.accountmanagementdetailrender.openModalWarning(config, warning, all[row]);
        }
        // }
    },

    openModalWarning: function (configModal, warningNotification, data) {
        var warningContainer = document.getElementById("warningNotification");
        warningContainer.innerHTML = `
            <div>
                <div class="has-text-danger is-italic">${warningNotification}</div>
                <div class="has-text-danger has-text-weight-bold">Vui lòng cấu hình tài khoản</div>
            </div>
        `

        var modal = document.getElementById("warningConfigModal");
        modal.classList.add("is-active");
        button = modal.querySelector(".confirmConfig");
        button.onclick = function () {
            modal.classList.remove("is-active");
            configModal(data);
        }
    },

    configSystemSubAccount: function (data) {
        console.log("configSystemSubAccount");

        var systemaccountDomain = shinobi.util.getAllSearchInPath().systemaccount;

        shinobi.accountmanagementdetailrender.getInfoClientAccount(function (clientInfoList) {
            console.log("clientInfoList", clientInfoList);
            clientInfoList.forEach(clientInfo => {
                console.log("clientInfo", clientInfo);
                if (clientInfo.systemaccount == systemaccountDomain) {
                    shinobi.selfemployedaccountrender.checkChildAccount(systemaccountDomain, clientInfo, function (systemsubaccount) {
                        setTimeout(function () {
                            window.onbeforeunload = null;
                            window.location.href = '/private/accountmanagementdetail?' + 'systemsubaccount='
                                + systemsubaccount + "&systemaccount=" + systemaccountDomain;
                        }, 500);
                    }
                        , 'disableReload');
                }
            })
        });


    },

    getInfoClientAccount: function (callback) {
        var url = "/authenapi/ClientStockComAccountManagementApi/findDataList";
        var request = {}
        shinobi.api.request(url, JSON.stringify(request), function (res) {
            res = JSON.parse(res);
            data = res.data;

            if (callback) {
                callback(data);
            }
        });
    },

    configAllocationCustomer: function (data) {
        console.log("configAllocationCustomer");
        shinobi.accountmanagementrender.activeThirdModel('', data.systemsubaccount);
    },

    renderUpdateVolumeStock: function (cell, row, col, all) {
        var value = cell.innerHTML;
        cell.classList.add('has-text-right');
        cell.innerHTML = `
            ${shinobi.util.formatNumber(value)} 
            <p class="icon has-text-link confirm" data-tooltip="Xác nhận tiền về">
            <i class="fal fa-search-dollar"></i>
        `;

        var button = cell.querySelector('.confirm');

        button.onclick = function () {
            var username = value;
            var fullname = all[row].fullname;
            var stock = all[row].stock;
            stock = "TTF";
            shinobi.accountmanagementdetailrender.updateVolumeBuy(username, fullname, stock, all[row]);
        };

    },

    updateVolumeBuy: function (username, fullname, stock, fulldata) {
        var url = '';
        shinobi.notification.confirm(function () {
            shinobi.mapping.getValue("#modalFlexible", function (data) {
                console.log('data send', data, 'username', username);
                var request = data;
                // shinobi.api.request(url, JSON.stringify(request), function () {
                //     setTimeout(function () {
                //         shinobi.accountmanagementdetailrender.table.reloadApi();
                //     }, 2000);
                // })

            });
        }, {
            title: "Xác nhận tiền về",
            content: `
            <div  class="level is-size-6 mb-2">
                <div class="level-item">
                    <span>Tên KH: </span> <span class="font-weight-bold">${fullname} </span>
                </div>
            <div class="level-item">
                <span class"pl-4">Mã CK: </span> <span class="font-weight-bold">${stock} </span>    
            </div>
           
            </div>
            <div class="field">
             <label for="" class="label">Số tiền: ${fulldata.cash}</label>
        </div>
            `,
        });
    },

    renderOtherOptionsLinkedPMTable: function (cell, row, col, all) {
        var value = cell.innerHTML;
        cell.innerHTML = `
        <div class="has-text-centered">       
            <div class="dropdown is-up is-right more-button">
                <div class="dropdown-trigger">
                    <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                        <span><i class="fas fa-ellipsis-v"></i></span>
                    </button>
                </div>
                <div class="dropdown-menu" id="dropdown-menu" role="menu">
                    <div class="dropdown-content">
                        <a class="dropdown-item pr-4">
                            Tạm ngắt kết nối
                        </a>
                        <a class="dropdown-item pr-4">
                            Ngắt kết nối và tất toán
                        </a>
                    </div>
                </div>
            </div>
        </div>`

        var dropdown = cell.querySelector('.dropdown');
        dropdown.onclick = function () {
            dropdown.classList.toggle('is-active');
        }
    },
};shinobi.accountmanagementrender = {
  build: function () {
    var object = this;
    object.changeNameCreateButton();
    object.addEventActiveModal();
    shinobi.fragmentfindandaddaccountmanagementrender.build();

    object.renderDataCustomerTable();
    object.activeFirstModal();

    shinobi.selfemployedaccountrender.createMultivalueStructure();
  },
  stopReload: function () {
    window.onbeforeunload = function (event) {
      event.returnValue = "";
    };
  },
  addEventActiveModal: function () {
    var object = this;
    var buttonAddUser = document.getElementById('addAccountButton');
    buttonAddUser.onclick = function () {
      var firstModal = document.getElementById('addAccountUserModal');
      firstModal.classList.add('is-active');
      object.activeFirstModal();
    };
  },
  setupPassword: function () {
    var inputLoginPassword = document.querySelector("#addAccountUserModal #loginPassword input");
    var inputOrderPassword = document.querySelector("#addAccountUserModal #orderPassword input");
    var buttonLoginPassword = document.querySelector("#addAccountUserModal #loginPassword .button");
    var buttonOrderPassword = document.querySelector("#addAccountUserModal #orderPassword .button");
    shinobi.fragmentfindandaddaccountmanagementrender.showPassword(buttonLoginPassword, inputLoginPassword);
    shinobi.fragmentfindandaddaccountmanagementrender.showPassword(buttonOrderPassword, inputOrderPassword);
  },
  activeFirstModal: function () {
    var object = this;
    var firstModal = document.getElementById('addAccountUserModal');
    var buttonCreate = firstModal.querySelector('.button.create');
    shinobi.selfemployedaccountrender.renderCompanySelect('companyNameaccount');

    shinobi.accountmanagementrender.setupPassword();
    var callback = function (request) {
      var urlCreate = "/authenapi/StockComAccountRegistrationApi/createStockComAccount";
      console.log("request client", request);
      shinobi.api.request(urlCreate, JSON.stringify(request), function (res) {
        res = JSON.parse(res);
        console.log("create json", res);
        setTimeout(function () {
          shinobi.notification.notification.loaded();
          if (firstModal.classList.contains('is-active')) {
            firstModal.classList.remove('is-active');
          }
          object.stopReload();
          shinobi.selfemployedaccountrender.checkChildAccount(res, request, function (systemsubaccount) {
            console.log("request", request)
            setTimeout(function () {
              object.activeThirdModel(res, systemsubaccount);
            }, 1000);

          }, 'disableReload');
        }, 2000);

      });
    };
    buttonCreate.onclick = function () {
      shinobi.notification.notification.loading();
      shinobi.mapping.getValueElement(firstModal, function (json) {
        var request = {
          "stockcom": json.stockcom,
          "account": json.usernameaccount,
          "username": json.usernameaccount,
          "password": json.password,
          "pincode": json.pincode,
          "name": json.name
        }
        var requestMachine = request;
        delete requestMachine['pincode'];
        console.log(json, requestMachine);
        !Object.values(requestMachine).includes("") ? callback(request) : shinobi.util.fillInputMessage();
      }, {
        checkEmpty: true
      });
    }


  },
  activeThirdModel: function (account, systemsubaccount) {
    var object = this;
    var urlSubmit = "/authenapi/AllocationManagementApi/setClientAllocation";
    var thirdModal = document.getElementById('addAccountAllocationModal');
    var selectPm = 'listpmusernameallocation';
    var subAccount = shinobi.selfemployedaccountrender.systemsubaccount;
    var systemSubAccount = subAccount;
    if (!subAccount) {
      systemSubAccount = systemsubaccount;
    }

    if (window.onbeforeunload == null) {
      object.stopReload();
    }

    var buttonCreate = thirdModal.querySelector('.button.create');

    thirdModal.classList.add('is-active');
    shinobi.selfemployedaccountrender.stopOutModal(thirdModal);
    shinobi.fragmentfindandaddaccountmanagementrender.getListPMAllotment(selectPm);
    buttonCreate.onclick = function () {

      shinobi.mapping.getValueElement(thirdModal, function (json) {
        var request = {};
        request.systemsubaccount = systemSubAccount;
        request.startdate = json.startdate;
        request.enddate = json.enddate;
        request.profitcommisionratio = Number(json.profitcommisionratio) / 100;
        request.managementfeeratio = Number(json.managementfeeratio) / 100;
        if (json.pmusername != 'admin') {
          request.pmusername = json.pmusername;
          request.allocationratio = Number(json.allocationratio) / 100;
        }
        console.log(request);
        shinobi.api.request(urlSubmit, JSON.stringify(request), function (res) {
          shinobi.notification.notification.info('Cập nhật thành công !');
          window.onbeforeunload = null;
          setTimeout(function () {
            window.location.reload();
          }, 2000)
        })
      })
    }


  },

  renderMoreButton: function (cell, row, col, all) {
    var value = cell.innerHTML;

    cell.innerHTML = `
      <div class="has-text-centered">       
        <div class="dropdown is-up is-right more-button">
          <div class="dropdown-trigger">
            <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
              <span><i class="fas fa-ellipsis-v"></i></span>
            </button>
          </div>
          <div class="dropdown-menu" id="dropdown-menu" role="menu">
            <div class="dropdown-content">
              <a class="dropdown-item pr-4">
                Gia hạn đầu tư
              </a>
              <a  class="dropdown-item pr-4 select-value" >
                Xem chi tiết
              </a>
              <a class="dropdown-item pr-4">
                Xoá
              </a>
            </div>
          </div>
        </div>
      </div>`
    var select = cell.querySelector('.select-value');
    shinobi.accountmanagementrender.sethrefSeeDetailAccount(select, value, all[row]);
    var dropdown = cell.querySelector('.dropdown');
    dropdown.onclick = function () {
      dropdown.classList.toggle('is-active');
    }
  },
  sethrefSeeDetailAccount: function (elem, systemsubaccount, all) {
    var href = '/private/accountmanagementdetail?' + 'systemsubaccount=' + systemsubaccount + "&systemaccount=" + all.systemaccount;
    elem.setAttribute('href', href);
  },

  changeNameCreateButton: function () {
    var createButton = document.querySelector("#addAccountButton");
    createButton.innerText = "Thêm tài khoản KH";
  },

  renderDataCustomerTable: function (systemsubaccount) {
    var datalistId = "dataCustomerTable";
    var url = "/authenapi/ClientStockComAccountManagementApi/findDataList";

    var colNames = shinobi.tableHelper.getColname(datalistId);
    var renders = shinobi.tableHelper.getRender(datalistId);

    if (!shinobi.accountmanagementrender.dataCustomerTable) {
      var datalist = new shinobi.table(datalistId);
      shinobi.accountmanagementrender.dataCustomerTable = datalist;
    }

    // datalist.staticsorts = sortDefault;
    // datalist.staticfilters = filterDefault;

    var request = {
      recordPerPage: shinobi.util.getRecordNumber(datalistId),
    }

    shinobi.accountmanagementrender.dataCustomerTable.initLoadApi(url, request, colNames, renders);
  },

  createMultivalueStructure: function () {
    shinobi.selfemployedaccountrender.multivalueinput = new shinobi.multivalueinput(
      'input[snb-key="bancode"]', {
      buildSearch: function (object) {
        object.inputSearch.setAttribute('placeholder', 'Thêm mã');
        object.inputSearch.setAttribute('type', 'text');
        new shinobi.autocomplete('#selectorInputSearch', {
          onSearch: (input, resolve) => {
            input = input.toUpperCase();
            var inputContainer = document.getElementById("selectorInputSearch");
            inputContainer.value = inputContainer.value.toUpperCase();

            if (input.length < 1) { resolve([]) }
            var url = "/api/PriceBoardApi/findDataList";
            var request = {
              "recordPerPage": "20",
              "pageNum": 1,
              "filters": [{ 'colname': 'stocksymbol', 'operator': 'like', 'value': input }]
            }

            shinobi.api.request(url, JSON.stringify(request), function (res) {
              var array = JSON.parse(res).data;
              resolve(array);
            });


          },
          autoSelect: true,
          getResultValue: result => {
            return result.stocksymbol.toUpperCase();
          },
          onSubmit: (result) => {
            object.appendChildItem(result, object);
            object.inputSearch.value = '';
          },
          renderResult: (result, props) => {
            return `
                      <li ${props}>
                          <div class="title has-text-primary is-size-5">
                         ${result.stocksymbol}
                          </div>
                          <div class="subtitle">${result.securityname}</div>
                      </li>`
          },
        });
      },
      renderItem: function (result) {
        result = JSON.parse(result).stocksymbol;
        return result;
      },
    });
  },

  appendChildItem: function (object) {
    var result = object.inputSearch.value.trim();
    if (result.length >= 3) {
      object.appendChildItem(result, object);
      object.inputSearch.value = '';
    }
  },

  getStockList: function (input) {
    if (input.trim() == '') {
      return [];
    } else {
      var list = input.split(',');
      list.forEach(function (item, index) {
        list[index] = item.substring(1, item.length - 1);
      })
      return list;
    }
  },

  renderListInput: function (elem, value, all) {
    var object = shinobi.selfemployedaccountrender.multivalueinput;
    elem.value = value;
    var listItem = value;
    shinobi.selfemployedaccountrender.resetElemMultivalue();

    listItem.forEach(result => {
      shinobi.selfemployedaccountrender.multivalueinput.appendChildItem(result, object);
    });
  },

  getBanCode: function () {
    var arrayResult = [];
    var result = shinobi.selfemployedaccountrender.multivalueinput.result;
    result.forEach(elem => {
      try {
        elem = JSON.parse(elem);
        elem = elem.stocksymbol
        arrayResult.push(elem);
      } catch (e) { }
    });
    return arrayResult;
  },

  checkConfigClientAccount: function (cell, row, col, all) {
    if (!all[row].hasOwnProperty("systemsubaccount")) {
      cell.innerHTML = `
      <div class="">
        <span class="has-text-danger has-text-weight-bold is-italic">Chưa cấu hình TK giao dịch</span> 
      </div>
      `
    } else if (!all[row].hasOwnProperty("enddate")) {
      cell.innerHTML = `
        <div class="">
          <span class="has-text-danger has-text-weight-bold is-italic">Chưa phân bổ TK</span> 
        </div>
        `
    } else {
      cell.innerHTML = `
      <div class="">
        <span class="has-text-success is-italic">Đã thiết lập</span> 
      </div>
      `
    }
  },
};
shinobi.admindividendstockmanagementrender = {
    table: '',
    build: function () {
        var object = this;
        object.loadTable();
    },
    renderListStock: function (cell, row, col, all) {
        var username = cell.innerHTML;
        var idTable = `tablestockcom${row}${col}`;
        cell.innerHTML = "";
        // var listStock = all[row].liststock;
        var listStock = ['ACB', 'VNM', 'TTF', 'ANV'];
        cell.innerHTML = listStock.toString();
        var dropdown = document.createElement('div');
        dropdown.setAttribute('class', 'button-eye-fixed');
        dropdown.innerHTML = `  
        <div class="dropdown ">
        <div class="dropdown-trigger">
            <button class="button  is-borderless" aria-haspopup="true"
                aria-controls="dropdown-menu3">
                <p class="icon " data-tooltip="Xem chi tiết">
                    <i class="far fa-eye"></i>

                </p>
            </button>
        </div>
        <div class="dropdown-menu min-width-table">
            <div class="dropdown-content">
                <table id="${idTable}" class="table is-fullwidth">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th> Mã CP </th>
                            <th>KL</th>
                            <th>Ngày phát sinh</th>
                        </tr>
                    </thead>
                    <tr>
                        <td>1</td>
                        <td>ACB</td>
                        <td>10,000</td>
                        <td>29-12-2022 13:59</td>
                    </tr>
                </table>
            </div>
        </div>`
        cell.appendChild(dropdown);
        shinobi.initbulma.addEventDropdown();
    },
    loadTable: function (systemsubaccount) {
        var object = this;
        var datalistId = 'tablestockmanagement';
        var url = "/authenapi/ClientAccountDetailApi/findDataList";
        var request = {
            recordPerPage: shinobi.util.getRecordNumber(datalistId),
        }
        var colNames = shinobi.tableHelper.getColname(datalistId);
        var renders = shinobi.tableHelper.getRender(datalistId);

        object.table = new shinobi.table(datalistId);
        object.table.staticfilters = [];
        object.table.initLoadApi(url, request, colNames, renders);
    },
    renderButtonExecute: function (cell, row, col, all) {
        var value = cell.innerHTML;
        cell.innerHTML = `
            <div>
                <button class="button is-small is-link">Xử lý</button>
            </div>
        `
    }
};shinobi.adminlistuserreceivedividendsrender = {
    table: '',
    build: function () {
        var object = this;
        object.activeTabs();
        object.activeFullFilters();
        object.loadData();
        object.setUpCalenderDate();
        getListStockSymbol('#autocomplete');
        object.filterDividendsStock();
    },
    activeFullFilters: function () {
        var container = document.getElementById("searchingByFilter");
        var accountSearch = container.querySelector("#searchByAccount");
        accountSearch.classList.remove("is-hidden");
    },
    activeTabs: function () {
        var tab = document.getElementById('adminlistuserreceivedividends');
        tab.classList.add('is-active');
        document.querySelector('[href="/private/dividendmanagement"]').classList.add('is-active');
    },
    renderUpdateVolumeStock: function (cell, row, col, all) {
        var value = cell.innerHTML;
        cell.classList.add('has-text-right');
        cell.innerHTML = `
        ${shinobi.util.formatNumber(value)} <p class="icon has-text-link update" data-tooltip="Cập nhật"><i
                                class="fal fa-sync"></i></p>`;
        var button = cell.querySelector('.update');

        button.onclick = function () {
            var username = value;
            var fullname = all[row].fullname;
            var stock = all[row].stock;
            stock = "TTF";
            shinobi.adminlistuserreceivedividendsrender.updateVolumeBuy(username, fullname, stock);
        };

    },
    updateVolumeBuy: function (username, fullname, stock) {
        var url = '';
        shinobi.notification.confirm(function () {
            shinobi.mapping.getValue("#modalFlexible", function (data) {
                console.log('data send', data, 'username', username);
                var request = data;
                // shinobi.api.request(url, JSON.stringify(request), function () {
                //     setTimeout(function () {
                //         shinobi.adminlistuserreceivedividendsrender.table.reloadApi();
                //     }, 2000);
                // })

            });
        }, {
            title: "Cập nhật CP thực hiện quyền",
            content: `
            <div  class="level is-size-6 mb-2">
                <div class="level-item">
                    <span>Tên KH: </span> <span class="font-weight-bold">${fullname} </span>
                </div>
            <div class="level-item">
                <span class"pl-4">Mã CK: </span> <span class="font-weight-bold">${stock} </span>    
            </div>
           
           
            </div>
            <div id="modalFlexible" class="field">
             <label for="" class="label">Số cổ phiếu:</label>
             <div class="control">
                <input snb-key="volume" value="0" type="text" class="input" snb-preprocess="shinobi.render.getNumberCleaveInput">
             </div>
        </div>
            `,
        });
        shinobi.util.createNumberCleaveInput("#modalFlexible input");
    },
    loadData: function (systemsubaccount) {
        var object = this;
        var datalistId = 'tabledividend';
        var url = "/authenapi/ClientAccountDetailApi/findDataList";
        var request = {
            recordPerPage: shinobi.util.getRecordNumber(datalistId),
        }
        var colNames = shinobi.tableHelper.getColname(datalistId);
        var renders = shinobi.tableHelper.getRender(datalistId);

        object.table = new shinobi.table(datalistId);
        object.table.staticfilters = [];
        object.table.initLoadApi(url, request, colNames, renders);
    },

    setUpCalenderDate: function () {
        var object = this;
        object.setLabelCalendarPicker("#searchingByFilter #searchinghistory input")
    },

    setLabelCalendarPicker: function (selector) {
        var object = this;
        var data = {
            start: `2000/1/1`,
            end: `${new Date().getFullYear()}/${new Date().getMonth() + 1}/${new Date().getDate()}`
        };
        object.calendar = bulmaCalendar.attach(selector,
            {
                'dateFormat': 'DD/MM/YYYY',
                'displayMode': 'dialog',
                closeOnOverlayClick: false,
                'startDate': new Date(data.start),
                'endDate': new Date(data.end),
            });

        // shinobi.util.setRangeCalendar('[snb-key="date"]', new Date(data.start), new Date(data.end));
    },

    filterDividendsStock: function () {
        var idContainer = '#searchingByFilter';
        var buttonFilter = document.getElementById('searchOrderCommand');
        buttonFilter.onclick = function () {
            shinobi.mapping.getValue(idContainer, function (data) {
                console.log('data', data);
                var dataFilters = [];
                if (data.stocksymbol) {
                    dataFilters.push({
                        "colname": "stockcode", "operator": "=", "value": data.stocksymbol
                    });

                    if (data.date.beginDate) {
                        dataFilters.push({
                            "colname": "detectdate", "operator": ">=", "value": data.date.beginDate
                        });
                        if (data.date.endDate != 'NaN-NaN-NaN') {
                            dataFilters.push({
                                "colname": "detectdate", "operator": "<=", "value": data.date.endDate
                            });
                        }
                    }
                    if (data.account) {
                        dataFilters.push({
                            "colname": "fullname", "operator": "=", "value": data.account
                        });
                    }
                    console.log('dataFilters', dataFilters);
                    shinobi.dividendmanagementrender.filterAndReloadTwoTable(dataFilters);
                    shinobi.operationsmanagementrender.renderFilterButton(true);
                } else {
                    shinobi.notification.notification.error("Vui lòng nhập mã cần tìm kiếm!");
                }
            })
        }
    },

    reloadApiFilterButton: function () {
        var cancelFilter = document.getElementById("cancelfilter");
        cancelFilter.onclick = function () {
            var dataFilters = [];
            shinobi.dividendmanagementrender.filterAndReloadTwoTable(dataFilters);

            shinobi.operationsmanagementrender.renderFilterButton(false);
        };
    },

    filterAndReloadTwoTable: function (dataFilters) {
        shinobi.dividendmanagementrender.configgedTable.staticfilters = dataFilters;
        shinobi.dividendmanagementrender.nonConfigTable.staticfilters = dataFilters;

        shinobi.dividendmanagementrender.configgedTable.reloadApi();
        shinobi.dividendmanagementrender.nonConfigTable.reloadApi();
    },
};shinobi.assetuserrender = {
    portfolioTable: '',
    build: function (systemsubaccount) {
        var object = this;
        shinobi.assetuserrender.renderTableAssetUser(systemsubaccount);
        object.getAssetUser(systemsubaccount);
        object.addEventReloadAssetButton(systemsubaccount);

    },

    addEventReloadAssetButton(allocationAccount) {
        let button = document.getElementById('updateAllocationAccountAssetButton');
        button.onclick = function () {
            allocationAccount = document.getElementById("selectPM").value;
            shinobi.assetuserrender.getAssetUser(allocationAccount);
            shinobi.assetuserrender.renderTableAssetUser(allocationAccount);
        }
    },
    getAssetUser: function (value) {
        var url = '/authenapi/SystemUserApi/getAssetInfo';
        var asset = '#assetvalue'
        var request = { "allocationaccount": value };
        shinobi.notification.notification.loading();
        shinobi.api.request(url, JSON.stringify(request), function (res) {
            shinobi.mapping.clear(asset);
            shinobi.notification.notification.loaded();
            shinobi.mapping.render(asset, res);

        });
    },

    renderTableAssetUser: function (valueAccount) {
        var datalistId = "tableassetorder";
        // var url = "/authenapi/SystemUserApi/getUserStockProfolio";

        var colNames = shinobi.tableHelper.getColname(datalistId);
        var renders = shinobi.tableHelper.getRender(datalistId);

        if (!shinobi.assetuserrender.portfolioTable.hasOwnProperty('reloadApi')) {
            shinobi.assetuserrender.portfolioTable = new shinobi.table(datalistId);
        }
        // datalist.staticsorts = sortDefault;
        // datalist.staticfilters = filterDefault;

        // var request = {
        //     "account": valueAccount,
        //     recordPerPage: shinobi.util.getRecordNumber(datalistId),
        // }
        // datalist.initLoadApi(url, request, colNames, renders);

        var url = '/authenapi/SystemUserApi/getAssetInfo';
        var request = { "allocationaccount": valueAccount };

        shinobi.notification.notification.loading();
        shinobi.api.request(url, JSON.stringify(request), function (res) {
            shinobi.notification.notification.loaded();
            shinobi.assetuserrender.portfolioTable.clear();
            let portfolio = JSON.parse(res)['portfolio'];
            shinobi.assetuserrender.portfolioTable.renderTable(colNames, portfolio, renders);
        });
    },

    snbRenderButton: function (cell, row, col, all) {

        cell.innerHTML = `
        <div class="has-text-centered">
            <div class="buttons are-small is-centered">
                <div class="button is-danger has-bsd is-borderless is-size-7">Bán</div>
            </div>
        </div>
        `
    },
};shinobi.cashmanagementrender = {
    build: function () {
        var object = this;

    },

    renderTable: function () {
        var tableId = "tablestockmanagement"
        var url = "";

        var colNames = shinobi.tableHelper.getColname(tableId);
        var renders = shinobi.tableHelper.getRender(tableId);

        if (!shinobi.cashmanagementrender.cashManagementTable) {
            shinobi.cashmanagementrender.cashManagementTable = new shinobi.table(tableId);
        }

        var request = {
            recordPerPage: shinobi.util.getRecordNumber(tableId),
        }

        shinobi.cashmanagementrender.cashManagementTable.initLoadApi(url, request, colNames, renders);
    },

    renderOptionsButton: function (cell, row, col, all) {
        cell.innerHTML = `
        <div class="has-text-centered">
            <div class="button is-secondary addCash">Nạp tiền</div>
            <div class="button is-primary cashDividend">Cổ tức tiền mặt</div>
        </div>
        `;

        var buttonCashDividend = cell.querySelector(".cashDividend");
        buttonCashDividend.onclick = function () {
            console.log("switch url transfer page");
            window.location.href =
                `/private/accountmanagementdetail?systemsubaccount=${all[row].systemsubaccount}&systemaccount=${all[row].systemaccount}`;
        };
    },
};shinobi.confirmemailregistrationrender = {
  build: function () {
    shinobi.confirmemailregistrationrender.sendRequestConfirmRegistration();
  },

  sendRequestConfirmRegistration: function () {
    var pathName = window.location.pathname;

    var pathNameSplit = pathName.split("/");

    var validationcode = pathNameSplit[pathNameSplit.length - 1];
    var requestid = pathNameSplit[pathNameSplit.length - 2];

    var request = {};
    request.requestid = requestid;
    request.validationcode = validationcode;

    shinobi.api.request(
      shinobi.coreapi.userApi + "validateAccount",
      JSON.stringify(request),
      function (response) {
        console.log(response);
        if (response == "update success") {
          var confirmPanel = document.getElementById("confirmPanel");
          shinobi.util.modalEventListener(confirmPanel);

          confirmPanel.getElementsByClassName("modal-card-title")[0].innerHTML =
            "Thông báo";
          confirmPanel.getElementsByClassName("modal-card-body")[0].innerHTML =
            "Xác nhận email <b>thành công</b>.<br>Yêu cầu tạo tài khoản đang được xử lý và CFV sẽ liên hệ lại để cung cấp tài khoản.";
          confirmPanel
            .getElementsByClassName("yes")[0]
            .classList.add("is-primary");
          confirmPanel.getElementsByClassName("yes")[0].innerHTML =
            "Về trang chủ";

          confirmPanel.classList.remove("is-medium");
          confirmPanel.classList.remove("is-large");

          confirmPanel
            .getElementsByClassName("modal-card-foot")[0]
            .classList.remove("is-hidden");

          var yes = confirmPanel.getElementsByClassName("yes")[0];
          var cancel = confirmPanel.getElementsByClassName("cancel")[0];
          cancel.classList.add("is-hidden");

          confirmPanel.classList.add("is-active");

          yes.focus();
          yes.onclick = function () {
            // shinobi.loginrender.gotoLoginPage();
            window.location.href = "/";
          };
        }
      }
    );
  },
};
shinobi.dividendmanagementrender = {
    build: function () {
        var object = this;
        object.activeTab();
        object.setUpCalenderDate();
        object.renderAutocompleteStockSearchingBar();
        // object.renderAutocompleteAccountSearchingBar();
        object.filterDividendsStock();
        object.reloadApiFilterButton();

        object.getValueConfigOnModal();
        object.renderShowOrHiddenCheckBox();
        object.renderTableNonConfig();
        object.renderTableConfigged();
    },

    activeTab: function () {
        var pathname = window.location.pathname;
        var tab = document.querySelector(`.tabs-portfolio [href="${pathname}"]`);
        tab.parentNode.classList.add("is-active");

        document.querySelector("#searchingByFilter").setAttribute("style", "border-top-left-radius: 0;");
    },

    openConfigStockModal: function (data) {
        var modal = document.getElementById("configStockModal");
        modal.classList.add("is-active");

        var header = modal.querySelector(".modal-card-title");
        header.innerHTML = `Cấu hình mã cổ phiếu ${data.stockcode}`
        header.setAttribute("value", data.stockcode);
    },

    openConfigAgainStockModal: function (data) {
        var modal = document.getElementById("configStockModal");
        modal.classList.add("is-active");

        var header = modal.querySelector(".modal-card-title");
        header.innerHTML = `Cấu hình lại mã cổ phiếu ${data.stockcode}`
        header.setAttribute("value", data.stockcode);
    },

    renderConfigButtonForNotConfigTable: function (cell, row, col, all) {
        cell.classList.add("has-text-right");
        cell.innerHTML = `
            <div class="button has-bsd  is-small is-link mr-5">Cấu hình</div>
        `;

        var button = cell.querySelector(".button");
        button.onclick = function () {
            shinobi.dividendmanagementrender.openConfigStockModal(all[row]);
        };
    },

    renderConfigButtonForConfiggedTable: function (cell, row, col, all) {
        cell.classList.add("has-text-centered");
        cell.innerHTML = `
            <div class="button has-bsd  is-small is-link">Cấu hình lại</div>
        `;

        var button = cell.querySelector(".button");
        button.onclick = function () {
            shinobi.dividendmanagementrender.openConfigAgainStockModal(all[row]);
        };
    },

    setUpCalenderDate: function () {
        var object = this;
        object.setLabelCalendarPicker("#dividendConfig #searchinghistory input")
    },

    setLabelCalendarPicker: function (selector) {
        var object = this;
        var data = {
            start: `2000/1/1`,
            end: `${new Date().getFullYear()}/${new Date().getMonth() + 1}/${new Date().getDate()}`
        };
        object.calendar = bulmaCalendar.attach(selector,
            {
                'dateFormat': 'DD/MM/YYYY',
                'displayMode': 'dialog',
                closeOnOverlayClick: false,
                'startDate': new Date(data.start),
                'endDate': new Date(data.end),
            });

        // shinobi.util.setRangeCalendar('[snb-key="date"]', new Date(data.start), new Date(data.end));
    },

    renderAutocompleteStockSearchingBar: function () {
        new shinobi.autocomplete('#stockListSearch #autocomplete', {
            onSearch: (input, resolve) => {
                input = input.toUpperCase();

                if (input.length < 1) { resolve([]) }
                var url = "/api/PriceBoardApi/findDataList";
                var request = {
                    "filters": [{ 'colname': 'stocksymbol', 'operator': 'like', 'value': input }]
                }

                shinobi.api.request(url, JSON.stringify(request), function (res) {
                    var array = JSON.parse(res).data;
                    resolve(array);
                });
            },
            autoSelect: true,
            getResultValue: result => {
                return result.stocksymbol
            },
            onSubmit: (result) => {
                document.querySelector("#stockListSearch #autocomplete").value = result.stocksymbol;
            },
            renderResult: (result, props) => {
                return `
                      <li ${props}>
                          <div class="title has-text-primary is-size-5">
                         ${result.stocksymbol}
                          </div>
                          <div class="subtitle">${result.securityname}</div>
                      </li>`
            },
        });
    },

    getValueConfigOnModal: function () {
        var url = "/authenapi/DividendApi/configDividend";
        var request = {};

        var button = document.querySelector("#configStockModal #saveConfigModal");
        button.onclick = function () {
            var jsonCheckbox = shinobi.dividendmanagementrender.checkConfigCheckBox();
            if (Object.keys(jsonCheckbox).length) {
                shinobi.dividendmanagementrender.getValueConfig("#configStockModal #requiredContent", function (json) {
                    shinobi.notification.notification.loading();
                    var configData = Object.assign({}, jsonCheckbox, json);
                    var valueStockCode = document.querySelector("#configStockModal .modal-card-title").getAttribute("value");
                    configData.stockcode = valueStockCode;

                    //SET DEFAULT 
                    configData.cashratio = "1";

                    console.log("configData", configData);
                    request = configData;

                    shinobi.api.request(url, JSON.stringify(request), function (res) {
                        if (res == "update success") {
                            shinobi.notification.notification.info("Cấu hình thành công!");
                            setTimeout(function () {
                                window.location.reload();
                            }, 2000)
                        } else {
                            shinobi.notification.notification.error("Cấu hình thất bại!");
                        }
                    })
                });
            } else {
                shinobi.notification.notification.error("Vui lòng chọn Loại sự kiện!");
            };
        };
    },

    checkConfigCheckBox: function () {
        var returnJson = {};
        var list = document.querySelectorAll(".checkbox.configdividend input");
        list.forEach(elem => {
            if (elem.checked) {
                var value = elem.getAttribute("value");
                var parent = document.querySelector(`.${value}`);
                returnJson[`${value}`] = true;

                var inputChildList = parent.querySelectorAll("[snb-key]");
                inputChildList.forEach(input => {
                    var key = input.getAttribute("snb-key");
                    var valueInput = input.value;
                    returnJson[`${key}`] = valueInput;
                });
            };
        });
        console.log("returnJson", returnJson);
        return returnJson;
    },

    getValueConfig: function (selector, callback) {
        shinobi.mapping.getValue(selector, function (request) {
            !Object.values(request).includes("") ? callback(request) : shinobi.util.fillInputMessage();
        }, {
            checkEmpty: true,
        })
    },

    renderShowOrHiddenCheckBox: function () {
        var list = document.querySelectorAll(".checkbox.configdividend input");
        list.forEach(elem => {
            elem.onclick = function () {
                var value = elem.getAttribute("value");
                if (elem.checked) {
                    var listInputContainer = document.querySelectorAll(`.input${value}`);
                    listInputContainer.forEach(elemInput => {
                        elemInput.classList.remove("is-hidden");
                    });
                } else {
                    var listInputContainer = document.querySelectorAll(`.input${value}`);
                    listInputContainer.forEach(elemInput => {
                        elemInput.classList.add("is-hidden");
                    });
                }
            }
        });
    },

    renderTableNonConfig: function () {
        var tableId = "dividendNotConfigTable"
        var url = "/authenapi/DividendApi/getNoneConfiguredList";

        var colNames = shinobi.tableHelper.getColname(tableId);
        var renders = shinobi.tableHelper.getRender(tableId);

        if (!shinobi.dividendmanagementrender.nonConfigTable) {
            shinobi.dividendmanagementrender.nonConfigTable = new shinobi.table(tableId);
        }

        var request = {
            recordPerPage: shinobi.util.getRecordNumber(tableId),
        }

        shinobi.dividendmanagementrender.nonConfigTable.initLoadApi(url, request, colNames, renders);
    },

    renderTableConfigged: function () {
        var tableId = "dividendConfiggedTable"
        var url = "/authenapi/DividendApi/getAlreadyConfigList";

        var colNames = shinobi.tableHelper.getColname(tableId);
        var renders = shinobi.tableHelper.getRender(tableId);

        if (!shinobi.dividendmanagementrender.configgedTable) {
            shinobi.dividendmanagementrender.configgedTable = new shinobi.table(tableId);
        }

        var request = {
            recordPerPage: shinobi.util.getRecordNumber(tableId),
        }

        shinobi.dividendmanagementrender.configgedTable.initLoadApi(url, request, colNames, renders);
    },

    renderCashDividendDescription: function (cell, row, col, all) {
        var value = cell.innerHTML;
        cell.classList.add("has-text-right");

        if (all[row].cashdividend || all[row].cashdividend == "true") {
            cell.innerHTML = `${JSON.parse(value).ratio}`;
        }
    },

    renderStockdividendDescription: function (cell, row, col, all) {
        var value = cell.innerHTML;
        cell.classList.add("has-text-right");

        if (all[row].stockdividend || all[row].stockdividend == "true") {
            cell.innerHTML = `${JSON.parse(value).stockDividendBasis} Cổ : ${JSON.parse(value).stockDividendReward} Cổ`;
        }
    },

    renderCallOptiondDescription: function (cell, row, col, all) {
        var value = cell.innerHTML;
        cell.classList.add("has-text-right");

        if (all[row].calloption || all[row].calloption == "true") {
            cell.innerHTML = `${JSON.parse(value).callOptionsBasis} Cổ : ${JSON.parse(value).callOptionsReward} Cổ`;
        }
    },

    filterDividendsStock: function () {
        var idContainer = '#searchingByFilter';
        var buttonFilter = document.getElementById('searchOrderCommand');
        buttonFilter.onclick = function () {
            shinobi.mapping.getValue(idContainer, function (data) {
                console.log('data', data);
                var dataFilters = [];
                if (data.stocksymbol) {
                    dataFilters.push({
                        "colname": "stockcode", "operator": "=", "value": data.stocksymbol
                    });

                    if (data.date.beginDate) {
                        dataFilters.push({
                            "colname": "detectdate", "operator": ">=", "value": data.date.beginDate
                        });
                        if (data.date.endDate != 'NaN-NaN-NaN') {
                            dataFilters.push({
                                "colname": "detectdate", "operator": "<=", "value": data.date.endDate
                            });
                        }
                    }
                    console.log('dataFilters', dataFilters);
                    shinobi.dividendmanagementrender.filterAndReloadTwoTable(dataFilters);
                    shinobi.operationsmanagementrender.renderFilterButton(true);
                } else {
                    shinobi.notification.notification.error("Vui lòng nhập mã cần tìm kiếm!");
                }
            })
        }
    },

    reloadApiFilterButton: function () {
        var cancelFilter = document.getElementById("cancelfilter");
        cancelFilter.onclick = function () {
            var dataFilters = [];
            shinobi.dividendmanagementrender.filterAndReloadTwoTable(dataFilters);

            shinobi.operationsmanagementrender.renderFilterButton(false);
        };
    },

    filterAndReloadTwoTable: function (dataFilters) {
        shinobi.dividendmanagementrender.configgedTable.staticfilters = dataFilters;
        shinobi.dividendmanagementrender.nonConfigTable.staticfilters = dataFilters;

        shinobi.dividendmanagementrender.configgedTable.reloadApi();
        shinobi.dividendmanagementrender.nonConfigTable.reloadApi();
    },
};shinobi.exportexcelrender = {
	containerId : 'adminDepositRequestContainer',
	title:'DEPOSIT',
	exportExcelApi : shinobi.coreapi.systemDepositApi + 'exportExcel',
	/*exportCurrentApi : shinobi.coreapi.depositRequestReportToExcelReportApi + 'doRenderDepositRequestReport',
	exportAllApi : shinobi.coreapi.depositRequestReportToExcelReportApi + 'doRenderDepositRequestReportAll',*/
	
	'init' : function() {
		/*shinobi.exportexceldepositrequestrender.addExportExcelCurrentPage();
		shinobi.exportexcelrender.addExportExcelAllPages();*/
		shinobi.exportexcelrender.addExportExcel();
		
	},
	addExportExcel : function(){
		var container = document.getElementById(shinobi.exportexcelrender.containerId);
		var button = container.querySelector('.export-excel');
		
		button.addEventListener("click", function(){			
			var excelUrl = shinobi.exportexcelrender.exportExcelApi;
			
			console.log(excelUrl);
			
			shinobi.exportfile.exportFile(excelUrl, {}, {});
			
		});
		
	},
	/*addExportExcelCurrentPage : function(callback) {
		var container = document.getElementById(shinobi.exportexcelrender.containerId);
		var button = container.querySelector('.export-current-page');
		var excelUrl = shinobi.exportexcelrender.exportCurrentApi;
		
		var activeTab = container.querySelector('.tabs').querySelector('.is-active');
		
		button.onclick = function() {
			
			var request = {
				tabname : shinobi.exportexcelrender.title + '_' + shinobi.util.getSearchParam('status'),
				tabcode : shinobi.util.getSearchParam('status')
			};
			
			shinobi.exportfile.exportFile(excelUrl, request, {});
		}
	},
	
	addExportExcelAllPages : function(callback){
		var container = document.getElementById(shinobi.exportexcelrender.containerId);
		var button = container.querySelector('.export-all-page');
		var excelUrl = shinobi.exportexcelrender.exportAllApi;
		
		var tabs = container.querySelector('.tabs').querySelectorAll('li');
		
		var reportRequestList = [];
		for (var i = 0 ; i < tabs.length; i++){
			var tab = tabs[i];
			
			var href = window.location.origin + tab.querySelector('a').getAttribute('href');
			var url = new URL(href);
			var tabCode = url.searchParams.get("status");
			
			if (JSON.stringify(tabCode) !== ''){
				var tabInfo = {
						tabname : shinobi.exportexcelrender.title + "_" +tabCode,
						tabcode : tabCode
					};
				reportRequestList.push(tabInfo);
			}
		}
		var request = {reportRequestList};
		
		button.onclick = function() {
			shinobi.exportfile.exportFile(excelUrl, request, {});
		}
	},*/
	
};shinobi.forgotpasswordrender = {
	
	submitButtonSelector : '#submit',
	containerSelector : '.is-forgot-password',
	
	'init' : function(){
		shinobi.forgotpasswordrender.addEventSubmit();
	},	
	
	'addEventSubmit' : function() {
		var submitButton = document.querySelector(shinobi.forgotpasswordrender.submitButtonSelector);
		shinobi.forgotpasswordrender.addEventWhenClick(submitButton);
		shinobi.forgotpasswordrender.addEventWhenEnter(submitButton);
	},

	'addEventWhenClick' : function(elem) {
		elem.onclick = function() {
			shinobi.forgotpasswordrender.request();
		}
	},

	'addEventWhenEnter' : function(elem) {
		elem.addEventListener('keypress', function(e) {
			var key = e.which || e.keyCode;
			if (key === 13) {
				shinobi.forgotpasswordrender.request();
			}
		});
	},

	'request' : function() {
		var emailInput = document.querySelector('input[snb-key="email"]');
		if (emailInput.value.trim() == "") {
			shinobi.notification.notification.error("Nhập đầy đủ thông tin!");
			return;
		} else {
			var request = {};
			request.email = emailInput.value.trim();
			shinobi.notification.notification.loading();
			shinobi.api.request(shinobi.coreapi.userApi
					+ 'sendForGetPasswordEmail', JSON.stringify(request),
					function(data) {
						if (data == "update success") {
							shinobi.notification.notification.loaded();
							shinobi.mapping.renderElement(document
									.querySelector(shinobi.forgotpasswordrender.containerSelector),
									request);
						}
					});
		}
	},
	
	'showNoteField' : function(elem, value, all) {
		elem.classList.remove('is-hidden');
	},

	'disableInputAndButton' : function(elem, value, all) {
		elem.setAttribute('disabled', true);
		var submitButton = document.querySelector(shinobi.forgotpasswordrender.submitButtonSelector);
		submitButton.setAttribute('disabled', true);
	},
};shinobi.fragmentfindandaddaccountmanagementrender = {
    build: function () {
        // shinobi.fragmentfindandaddaccountmanagementrender.activeModal();
        shinobi.fragmentfindandaddaccountmanagementrender.activeTab();
        shinobi.fragmentfindandaddaccountmanagementrender.activeMenu();
        shinobi.fragmentfindandaddaccountmanagementrender.renderEventCreateButton();
        shinobi.fragmentfindandaddaccountmanagementrender.renderEventSaveButton();
        shinobi.fragmentfindandaddaccountmanagementrender.renderAutocompleteSearchingBar();
    }, getListPMAllotment: function (id = 'listpmusername') {
        var url = "/authenapi/PmManagementApi/findDataList";
        var idDatalist = id;
        var request = {
            recordPerPage: getRecordNumber(idDatalist),
        }
        var datalist = new shinobi.datalist(idDatalist);
        // datalist.staticfilters = [
        //     {
        //         "colname": "systemsubaccount", "operator": "=", "value": allocationaccount
        //     }]
        datalist.initLoadApi(url, request, function () {
            var select = document.getElementById(idDatalist);
            var option = document.createElement('option');
            option.setAttribute('value', 'admin');
            option.innerHTML = "Không có";
            option.selected = true;
            select.insertBefore(option, select.firstChild);
        });
    },
    renderFullnameAllocation: function (elem, value, all) {
        elem.setAttribute("value", value);
        elem.innerHTML = all.firstname + " " + all.lastname
    },

    activeModal: function () {
        var button = document.querySelector("#addAccountButton");
        button.onclick = function () {
            shinobi.selfemployedaccountrender.renderCompanySelect();
            var modal = document.querySelector("#addAccountModal");
            modal.classList.add("is-active");
            shinobi.fragmentfindandaddaccountmanagementrender.getListPMAllotment();
            shinobi.fragmentfindandaddaccountmanagementrender.settingCreateAccountModal();
            shinobi.fragmentfindandaddaccountmanagementrender.setUpPasswordInput();
        }
    },

    settingCreateAccountModal: function () {
        var buttonCreate = document.querySelector("#addAccountModal #createModal");
        var buttonSave = document.querySelector("#addAccountModal #saveModal");

        buttonCreate.style.display = "block";
        buttonSave.style.display = "none";

        var title = document.querySelector("#addAccountModal .modal-card-title");
        title.innerText = "Thêm tài khoản Khách hàng";
    },

    activeTab: function () {
        var pathname = window.location.pathname;
        var tab = document.querySelector(`.tabs-portfolio [href="${pathname}"]`);
        tab.parentNode.classList.add("is-active");
    },

    activeMenu: function () {
        var menu = document.querySelector(".menu-left .menu-list .is-active");
        if (menu) {
            menu.classList.remove("is-active");
        }

        var activeMenu = document.querySelector(`.menu-left .menu-list [href="/private/accountmanagement"]`);
        activeMenu.classList.add("is-active");
    },

    setUpPasswordInput: function () {
        var inputLoginPassword = document.querySelector("#addAccountModal #loginPassword input");
        var inputOrderPassword = document.querySelector("#addAccountModal #orderPassword input");
        var buttonLoginPassword = document.querySelector("#addAccountModal #loginPassword .button");
        var buttonOrderPassword = document.querySelector("#addAccountModal #orderPassword .button");

        shinobi.fragmentfindandaddaccountmanagementrender.showPassword(buttonLoginPassword, inputLoginPassword);
        shinobi.fragmentfindandaddaccountmanagementrender.showPassword(buttonOrderPassword, inputOrderPassword);
    },

    showPassword: function (showButton, input) {
        input.setAttribute("type", "password");
        showButton.innerHTML = `<i class="fas fa-eye-slash"></i>`;

        showButton.onclick = function () {
            var value = input.getAttribute("type");
            if (value == "password") {
                input.setAttribute("type", "text");
                showButton.innerHTML = `<i class="fas fa-eye"></i>`;
            } else {
                input.setAttribute("type", "password");
                showButton.innerHTML = `<i class="fas fa-eye-slash"></i>`;
            }
        };
    },

    getValue: function (selector, callback) {

        shinobi.mapping.getValue(selector, function (request) {
            console.log('allocationratio', request);
            var json = request;
            delete json['pincode'];
            delete json['allocationratio'];

            !Object.values(json).includes("") ? callback(request) : shinobi.util.fillInputMessage();
        }, {
            checkEmpty: true,
        })
    },

    renderEventCreateButton: function () {
        var object = this;
        var create = document.querySelector("#addAccountModal #createModal");
        create.onclick = function () {
            object.getValue("#addAccountModal", function (json) {
                console.log(json);
                object.createAccount(json, function () {
                    object.addAllocationAccount(json);
                });

            });
        };
    },
    createAccount: function (json, callback) {
        var url = "/authenapi/StockComAccountRegistrationApi/createStockComAccount";
        var request = {
            "stockcom": json.stockcom,
            "account": json.usernameaccount,
            "username": json.usernameaccount,
            "password": json.password,
            "pincode": json.pincode,
            // "userid": json.stockcom,
            "name": json.name,
            "identitynumber": json.identitynumber,
            "email": json.email,
            "phonenumber": json.phonenumber,
        };
        shinobi.api.request(url, JSON.stringify(request), function (res) {
            if (callback) {
                // callback();
                console.log('callback')
            }
        })
    },
    addAllocationAccount: function (json) {
        var url = "/authenapi/StockComAccountRegistrationApi/createStockComAccount";
        var request = {
            "stockcom": json.stockcom,
            "account": json.username,
            "username": json.username,
            "password": json.password,
            "pincode": json.pincode,
            // "userid": json.stockcom,
            "name": json.name,
            "identitynumber": json.identitynumber,
            "email": json.email,
            "phonenumber": json.phonenumber,
        }
        console.log(request);
    },

    renderEventSaveButton: function () {
        var create = document.querySelector("#addAccountModal #saveModal");
        create.onclick = function () {
            shinobi.fragmentfindandaddaccountmanagementrender.getValue("#addAccountModal", function (json) {
                console.log(json);
            });
        };
    },

    renderAutocompleteSearchingBar: function () {
        // var accounts = [
        //     { id: '1333', username: 'PM1', createddate: '10/02/2022' },
        //     { id: '1222', username: 'PM2', createddate: '10/02/2022' },
        //     { id: '3111', username: 'PM3', createddate: '10/02/2022' },
        // ];

        new shinobi.autocomplete('#searchpmuser', {
            onSearch: (input, resolve) => {

                console.log('search');
                if (input.length < 1) { return [] }

                var request = {
                    "filters": [{
                        "colname": "account",
                        "operator": "like",
                        "value": input,
                    }],
                    "sorts": [],
                }
                shinobi.api.request("/authenapi/ClientStockComAccountManagementApi/findDataList", JSON.stringify(request), function (res) {
                    console.log(JSON.parse(res));
                    data = JSON.parse(res).data;
                    resolve(data);
                });
                // var arr = [];
                // accounts.forEach(item => {
                //     if ((item.username.toLowerCase().startsWith(input.toLowerCase()))
                //         || ((item.id.toLowerCase().startsWith(input.toLowerCase())))) {
                //         arr.push(item);
                //     }
                // })
                // resolve(arr);
            },
            renderResult: (result, props) => {
                return `
                <li ${props}>
                    <div class="is-flex">
                        <div>#${result.account}</div>
                    </div>
                </li>`
            },
            onSubmit: (result) => {
                var input = document.getElementById("searchpmuser");
                input.value = result.account;

                shinobi.accountmanagementrender.dataCustomerTable.staticfilters = [{
                    "colname": "account",
                    "operator": "=",
                    "value": result.account,
                }];

                shinobi.accountmanagementrender.dataCustomerTable.reloadApi();
            },
        });
    },
};
shinobi.fragmentfindandaddpmmanagementrender = {
    build: function () {
        shinobi.fragmentfindandaddpmmanagementrender.activeModal();
        shinobi.fragmentfindandaddpmmanagementrender.activeTab();
        shinobi.fragmentfindandaddpmmanagementrender.activeMenu();
        shinobi.fragmentfindandaddpmmanagementrender.renderEventCreateButton();
        shinobi.fragmentfindandaddpmmanagementrender.renderEventSaveButton();
        shinobi.fragmentfindandaddpmmanagementrender.renderAutocompleteSearchingBar();

        var inputLoginPassword = document.querySelector("#addAccountModal #loginPassword input");
        var buttonLoginPassword = document.querySelector("#addAccountModal #loginPassword .button");
        shinobi.fragmentfindandaddaccountmanagementrender.showPassword(buttonLoginPassword, inputLoginPassword);
    },

    activeModal: function () {
        var button = document.querySelector("#addAccountButton");
        button.onclick = function () {
            var modal = document.querySelector("#addAccountModal");
            modal.classList.add("is-active");
            shinobi.fragmentfindandaddpmmanagementrender.settingCreateAccountModal();
        }
    },

    settingCreateAccountModal: function () {
        var buttonCreate = document.querySelector("#addAccountModal #createModal");
        var buttonSave = document.querySelector("#addAccountModal #saveModal");

        buttonCreate.style.display = "block";
        buttonSave.style.display = "none";

        var title = document.querySelector("#addAccountModal .modal-card-title");
        title.innerText = "Thêm tài khoản PM";
    },

    activeTab: function () {
        var pathname = window.location.pathname;
        var tab = document.querySelector(`.tabs-portfolio [href="${pathname}"]`);
        tab.parentNode.classList.add("is-active");
    },

    activeMenu: function () {
        var menu = document.querySelector(".menu-left .menu-list .is-active");
        if (menu) {
            menu.classList.remove("is-active");
        }

        var activeMenu = document.querySelector(`.menu-left .menu-list [href="/private/accountmanagement"]`);
        activeMenu.classList.add("is-active");
    },

    getValue: function (selector, callback) {
        shinobi.mapping.getValue(selector, function (request) {
            var invitedby = request.invitedby;
            // var json = request;
            delete request['invitedby'];
            var callbackFnc = function (data) {
                if (invitedby) {
                    data.invitedby = invitedby;
                }
                callback(data);
            };
            !Object.values(request).includes("") ? callbackFnc(request) : shinobi.util.fillInputMessage();

        }, {
            checkEmpty: true,
        })
    },

    renderEventCreateButton: function () {
        var object = this;
        var url = "/authenapi/PmManagementApi/createPmUser";
        var create = document.querySelector("#addAccountModal #createModal");
        create.onclick = function () {
            shinobi.fragmentfindandaddpmmanagementrender.getValue("#addAccountModal", function (json) {
                json.isvalidated = 'true';
                console.log(json);
                shinobi.api.request(url, JSON.stringify(json), function (res) {
                    shinobi.notification.notification.info('Tạo tài khoản PM thành công !');
                    setTimeout(function () {
                        window.location.reload();
                    }, 3000);
                });
            });
        };
    },


    renderEventSaveButton: function () {
        var create = document.querySelector("#addAccountModal #saveModal");
        create.onclick = function () {
            shinobi.fragmentfindandaddpmmanagementrender.getValue("#addAccountModal", function (json) {
                console.log(json);
            });
        };
    },

    renderAutocompleteSearchingBar: function () {
        new shinobi.autocomplete('#autocomplete', {
            onSearch: (input, resolve) => {

                console.log('search');
                if (input.length < 1) { return [] }

                var request = {
                    "filters": [{
                        "colname": "loginusername",
                        "operator": "like",
                        "value": input,
                    }],
                    "sorts": [],
                }
                shinobi.api.request("/authenapi/PmManagementApi/findDataList", JSON.stringify(request), function (res) {
                    data = JSON.parse(res).data;
                    resolve(data);

                });
            },
            renderResult: (result, props) => {
                return `
                <li ${props}>
                    <div class="is-flex">
                        <div>#${result.loginusername}</div>
                        <div><${result.firstname} ${result.lastname}></div>
                    </div>
                </li>`
            },
            onSubmit: (result) => {
                var input = document.getElementById("autocomplete");
                input.value = result.loginusername;

                shinobi.pmmanagementrender.pmmanagementboard.staticfilters = [{
                    "colname": "loginusername",
                    "operator": "=",
                    "value": result.loginusername,
                }];

                shinobi.pmmanagementrender.pmmanagementboard.reloadApi();
            },
        });
    },
};
shinobi.fragmentpermissionrender = {

	'build' : function() {

		var pathName = window.location.pathname;
		var pathNameSplit = pathName.split('/');

		console.log(pathNameSplit.length)

		if (pathNameSplit.length > 3) {

			var notificationContent = '';

			for (var i = 3; i < pathNameSplit.length; i++) {

				notificationContent += '/' + pathNameSplit[i];

				console.log(notificationContent)
			}

			var messageContent = document
					.getElementById('messageContentPermissionId');
			messageContent.innerHTML = ' ' + notificationContent;
		}
	}

};shinobi.holidaymanagementrender = {
    multivalueinput: '',
    init: function () {
        shinobi.holidaymanagementrender.createStructure(function () {
            shinobi.holidaymanagementrender.confirmOffDate();
            shinobi.holidaymanagementrender.activeTab();
        });
    },

    activeTab: function () {
        getUserInfo(function (response) {
            var infoUser = response;
            var usertype = infoUser.usertype;
            var tab = document.querySelector(`#menuleft [value="${usertype}"] a[href="/private/holidaymanagement"`);
            tab.classList.add("is-active");
        });
    },

    createStructure: function (callback) {
        shinobi.holidaymanagementrender.getDayoffList(function (response) {
            shinobi.holidaymanagementrender.multivalueinput = new shinobi.multivalueinput(
                'input[snb-key="datelist"]', {
                buildSearch: function (object) {

                    object.inputSearch.setAttribute('placeholder', 'Thêm ngày');
                    object.inputSearch.setAttribute('type', 'date');

                    shinobi.util.addEventEnter(object.inputSearch, function () {
                        shinobi.holidaymanagementrender.appendChildItem(object);
                    });
                    object.inputSearch.onblur = function () {
                        shinobi.holidaymanagementrender.appendChildItem(object);
                    };
                },
                renderItem: function (result) {
                    return shinobi.util.reverseFormatDate(result.substring(1, result.length - 1), {
                        format: 'dd/MM/yyyy',
                        reverseFormat: 'yyyy-MM-dd'
                    });
                },
                setListResult: function (input) {
                    var dateoffList = response;
                    return dateoffList;
                }
            });
        });

        if (callback) {
            callback();
        }
    },

    getDayoffList: function (callback) {
        shinobi.api.request("/authenapi/SystemConfigApi/getTradingOffDate", '{}', function (res) {
            res = JSON.parse(res);
            dateoff = JSON.parse(res).dateoff;

            if (callback) {
                callback(dateoff);
            }
        });
    },

    appendChildItem: function (object) {
        var result = object.inputSearch.value.trim();
        if (result.length >= 10) {
            object.appendChildItem(result, object);
            object.inputSearch.value = '';
        }
    },

    getDateList: function (input) {
        if (input.trim() == '') {
            return [];
        } else {
            var list = input.split(',');
            list.forEach(function (item, index) {
                console.log(item);
                list[index] = item.substring(1, item.length - 1);
            })
            return list;
        }
    },

    renderListInput: function (elem, value, all) {
        var object = shinobi.holidaymanagementrender.multivalueinput;
        elem.value = value;
        var listItem = value;
        shinobi.holidaymanagementrender.resetElemMultivalue();

        listItem.forEach(result => {
            shinobi.holidaymanagementrender.multivalueinput.appendChildItem(result, object);
        });

    },

    confirmOffDate: function () {
        var button = document.getElementById("confirm");
        button.onclick = function () {
            var result = shinobi.holidaymanagementrender.multivalueinput.result;
            var dateList = [];
            result.forEach(date => {
                date = JSON.parse(date);
                dateList.push(date);
            });

            var url = "/authenapi/SystemConfigApi/updateTradingOffDate";
            var request = {
                "tradingDateOffString": JSON.stringify(dateList),
            };

            shinobi.notification.notification.loading();
            if (request.tradingDateOffString != '[]') {
                shinobi.api.request(url, JSON.stringify(request), function (res) {
                    console.log(res);

                    if (res == 'update success') {
                        shinobi.notification.notification.loaded();
                        shinobi.notification.notification.info("Cập nhật thành công");
                        setTimeout(function () {
                            window.location.reload();
                        }, 1500)
                    }
                })
            } else {
                shinobi.notification.notification.error("Ngày không hợp lệ!");
            }
        }
    },
};shinobi.loginrender = {
	init : function() {
		shinobi.loginrender.redirectIndex();
	},
	redirectIndex : function(){
		window.location.href = '/';
	},
	gotoLoginPage : function(){
		window.location.href = '/page/login';
	},
};shinobi.logintemplate = {
    build: function () {
        // autoRedirectMobile();
        shinobi.logintemplate.redirectDashboardWhenLogged();
        // shinobi.logintemplate.redirectDownloadAppMobile();
        shinobi.logintemplate.checkHasNoti();
        var submit = document.getElementById("submit");

        submit.addEventListener("click", function () {
            shinobi.logintemplate.login();
        });

        shinobi.logintemplate.autoCompleteWhenNewAccount();
        shinobi.logintemplate.sendOTPCode();
        document.querySelector('#ipUsername').addEventListener('keypress',
            function (e) {
                var key = e.which || e.keyCode;
                if (key === 13) {
                    shinobi.logintemplate.login();
                }
            });
        document.querySelector('#ipPassword').addEventListener('keypress',
            function (e) {
                var key = e.which || e.keyCode;
                if (key === 13) {
                    shinobi.logintemplate.login();
                }
            });
        document.querySelector('#ipOtpCode').addEventListener('keypress',
            function (e) {
                var key = e.which || e.keyCode;
                if (key === 13) {
                    shinobi.logintemplate.login();
                }
            });



    },
    autoCompleteWhenNewAccount: function () {
        var search = shinobi.util.getAllSearchInPath();
        var username = document.getElementById('ipUsername');
        var password = document.getElementById('ipPassword');

        if (search.hasOwnProperty('loginname')) {

            username.value = search.loginname;

        }
    },
    'redirectDownloadAppMobile': function () {
        var userAgent = navigator.userAgent || navigator.vendor || window.opera;
        // Windows Phone must come first because its UA also contains
        // "Android"
        if (/android/i.test(userAgent)) {
            window.location.href = "https://play.google.com/store/apps/details?id=com.aladinmobile.aladin";
        }
        // iOS detection from: http://stackoverflow.com/a/9039885/177710
        if (/iPhone|iPod/.test(userAgent) && !window.MSStream) {
            window.location.href = "https://apps.apple.com/app/id1474783146";
        }
    },
    'checkHasNoti': function () {
        var search = window.location.search.split('?');
        for (var i = 0; i < search.length; i++) {
            var key = 'noti=';
            if (search[i].includes(key)) {
                var content = search[i].replace(key, '');
                if (content == 'registrationsuccess') {
                    shinobi.notification.notification
                        .info('Mở tài khoản thành công. Vui lòng đăng nhập lại. ');
                }
            }
        }
    },
    'redirectDashboardWhenLogged': function () {
        shinobi.coreapi
            .checkNotCacheAuthen(function (response) {
                // console.log(response);

                if (response) {
                    shinobi.logintemplate.redirectAffterLogin();
                }
            });
    },
    redirectAffterLogin: function () {
        getUserInfo(function (res) {
            if (res.usertype == "SUPERADMIN") {
                window.location.pathname = "/private/selfemployedaccount";
            } else {
                if (res.usertype == "PM") {
                    window.location.pathname = "/private/tradingsystem";
                } else {
                    if (res.usertype == "PMALADIN") {
                        window.location.pathname = "/private/tradingsystem";
                    }

                }

            }
        })
    },
    login: function () {
        var username = document.getElementById('ipUsername');
        var password = document.getElementById('ipPassword');
        var otpcode = document.getElementById('ipOtpCode');

        if (username.value.trim() == "" || password.value.trim() == "" || otpcode.value.trim() == "") {
            [
                {
                    input: username,
                    name: 'Tên đăng nhập'
                },
                {
                    input: password,
                    name: 'Mật khẩu'
                },
                {
                    input: otpcode,
                    name: 'OTP'
                },
            ].forEach((item) => {
                if (item.input.value.trim() == "") {
                    shinobi.notification.notification
                        .error(`Vui lòng nhập đầy đủ thông tin ${item.name}!!`);
                }
            })
            return;
        } else {
            var login = {};
            login.username = username.value.trim();
            login.password = shinobi.util.sha256(password.value.trim());
            login.secureinfo = otpcode.value.trim();
            shinobi.notification.notification.loading();
            shinobi.logintemplate.requestLogin(login, "/login");
        }
    },
    requestLogin: function (login, loginurl) {

        shinobi.api
            .request(
                loginurl,
                JSON.stringify(login),
                function (data) {
                    if (data == "authen success") {
                        var request = {};
                        shinobi.logintemplate.redirectAffterLogin();
                    } else {
                        shinobi.notification.notification
                            .error("Tài khoản hoặc mật khẩu sai!!!");
                        return;
                    }
                });

    },
    sendOTPCode: function () {
        var sendButton = document.getElementById("sendOTPLogin");
        sendButton.onclick = function () {
            var username = document.getElementById("ipUsername").value;
            if (username) {
                var url = "/api/AuthenLoginByOptEmailApi/sendOtp"
                var request = {
                    "username": username,
                }
                shinobi.api.request(url, JSON.stringify(request), function (res) {
                    console.log(res);
                    shinobi.notification.notification.info("Gửi thành công!")
                });
            } else {
                shinobi.notification.notification.error("Cần nhập tên đăng nhập để gửi mã OTP!")
            }
        };
    },
};shinobi.notificationdetailrender = {
    init: function() {
        shinobi.notificationdetailrender.renderNotiContent();
    },
    renderNotiContent: function() {
        console.log('render');

    }
};shinobi.operationsmanagementrender = {
    build: function () {
        var object = this;
        object.activeTab();
        object.renderOperationsList();
        object.renderTypeSelector();
        object.renderSearchingButton();
        object.setLabelCalendarPicker();
        object.reloadApiFilterButton();
    },

    activeTab: function () {
        getUserInfo(function (response) {
            var infoUser = response;
            var usertype = infoUser.usertype;
            var tab = document.querySelector(`#menuleft [value="${usertype}"] a[href="/private/operationsmanagement"`);
            tab.classList.add("is-active");
        });
    },

    renderOperationsList: function () {
        let idTable = "dataContainer";
        var url = "/authenapi/UserAcivityApi/findDataList";

        var colNames = shinobi.tableHelper.getColname(idTable);
        var renders = shinobi.tableHelper.getRender(idTable);

        var request = {
            recordPerPage: shinobi.util.getRecordNumber(idTable),
        };

        if (!shinobi.operationsmanagementrender.dataContainer) {
            shinobi.operationsmanagementrender.dataContainer = new shinobi.table(idTable);
        };

        shinobi.operationsmanagementrender.dataContainer.staticsorts = [{
            colname: "createddate",
            value: "desc",
        }];

        // shinobi.operationsmanagementrender.dataContainer.initLoadApi(url, request); // use for datalist
        shinobi.operationsmanagementrender.dataContainer.initLoadApi(url, request, colNames, renders);

        // shinobi.api.request(url, JSON.stringify(request), function (res) {
        //     res = JSON.parse(res);
        //     console.log(res);
        //     var data = res.data;

        //     // //CREATE VALUE TO FILTER DATE
        //     // var date = [];
        //     // var check;
        //     // data.forEach(elem => {
        //     //     var dayList = {
        //     //         createddate: `${new Date(elem.createddate).getDate()}/${new Date(elem.createddate).getMonth() + 1}/${new Date(elem.createddate).getFullYear()}`,
        //     //         outputdate: `${new Date(elem.createddate).getDate()} Tháng ${new Date(elem.createddate).getMonth() + 1}, ${new Date(elem.createddate).getFullYear()}`,
        //     //     };
        //     //     if (!check) {
        //     //         check = dayList.createddate;
        //     //         date.push(dayList);
        //     //     } else {
        //     //         if (check != dayList.createddate) {
        //     //             check = dayList.createddate;
        //     //             date.push(dayList);
        //     //         } else {

        //     //         };
        //     //     };
        //     // });
        //     // shinobi.operationsmanagementrender.dataContainer.renderTable(date);
        // });
    },

    renderNameOperations: function (cell, row, col, all) {
        value = cell.innerHTML;
        if (shinobi.operationsmanagementrender.titleOperation.hasOwnProperty(value)) {
            cell.innerHTML = shinobi.operationsmanagementrender.titleOperation[value];
        };

    },

    titleOperation: {
        "ALL": 'TẤT CẢ',
        "LOGIN": "ĐĂNG NHẬP",
        "LOGOUT": "ĐĂNG XUẤT",
        "SYSTEM_FORCE_LOGOUT_ALL": "ĐĂNG XUẤT TẤT CẢ",
        "CREATE_USER": "TẠO TÀI KHOẢN",
        "CREATE_STOCK_COM_ACCOUNT": "TẠO TÀI KHOẢN TỰ DOANH",
        "CONFIG_CLIENT_ALLOCATION": "CẤU HÌNH PHÂN BỔ KHÁCH HÀNG",
        "CONFIG_ORIGIN_ALLOCATION": "CẤU HÌNH PHÂN BỔ TỰ DOANH",
        "FOLLOW_TRADING": "THEO DÕI ĐẶT LỆNH",
        "UNFOLLOW_TRADING": "BỎ THEO DÕI ĐẶT LỆNH",
        "PLACE_ORIGINAL_SIGNAL": "ĐẶT LỆNH",
        "CANCEL_ORIGINAL_SIGNAL": "HỦY LỆNH",
        "FOLLOW_SIGNAL": "THEO TÍN HIỆU",
        "FOLLOW_CANCEL_SIGNAL": "THEO TÍN HIỆU HUỶ",
        "VPS_PAYMENT_AUDIT": "KIỂM TOÁN THANH TOÁN VPS",
        "CONFIG_INCREASE_ALLOCATION_AMOUNT_BY_CASH": "CẤU HÌNH TĂNG VỐN PHÂN BỔ CHO TIỂU KHOẢN",
        "INCREASE_ALLOCATION_AMOUNT_BY_CASH": "TĂNG VỐN PHÂN BỔ CHO TIỂU KHOẢN",
    },

    renderTypeSelector: function () {
        let datalistId = "titleoperationsselector";

        if (!shinobi.operationsmanagementrender.titleoperationsselector) {
            shinobi.operationsmanagementrender.titleoperationsselector = new shinobi.datalist(datalistId);
        };

        var listKeys = Object.entries(shinobi.operationsmanagementrender.titleOperation);
        for (var index = 0; index < listKeys.length; index++) {
            listKeys[index] = {
                value: listKeys[index][0],
                name: listKeys[index][1],
            };
        }

        shinobi.operationsmanagementrender.titleoperationsselector.renderTable(listKeys);
    },

    renderEachElemSelector: function (elem, value, all) {
        elem.innerHTML = all.name;
        elem.setAttribute('value', all.value);
    },

    renderSearchingButton: function () {
        var button = document.getElementById("searchingButton");
        button.onclick = function () {
            var selector = document.getElementById("titleoperationsselector").value;
            var historydate;

            if (selector) {
                try {
                    shinobi.mapping.getValue("#searchinghistory", function (res) {
                        historydate = res.date;
                        historydate.beginDate = shinobi.util.reverseFormatDate(historydate.beginDate, {
                            reverseFormat: "dd/MM/yyyy",
                            format: "yyyy-MM-dd",
                        });

                        historydate.endDate = shinobi.util.reverseFormatDate(historydate.endDate, {
                            reverseFormat: "dd/MM/yyyy",
                            format: "yyyy-MM-dd",
                        });
                    });
                } catch (e) {
                    historydate = {};
                }

                var dataFilters = [];
                if (selector != "ALL") {
                    dataFilters.push({
                        "colname": "name",
                        "operator": "=",
                        "value": selector,
                    });
                }
                if (historydate.beginDate) {
                    dataFilters.push({
                        "colname": "createddate",
                        "operator": ">=",
                        "value": historydate.beginDate,
                    });
                    if (historydate.endDate != 'NaN-NaN-NaN') {
                        dataFilters.push({
                            "colname": "createddate",
                            "operator": "<=",
                            "value": historydate.endDate,
                        });
                    };
                };
                console.log("dataFilters", dataFilters);
                shinobi.operationsmanagementrender.dataContainer.staticfilters = dataFilters;
                shinobi.operationsmanagementrender.dataContainer.reloadApi();
                shinobi.operationsmanagementrender.renderFilterButton(true);
            }
        };
    },

    setLabelCalendarPicker: function () {
        var object = this;
        var data = {
            start: `2000/1/1`,
            end: `${new Date().getFullYear()}/${new Date().getMonth() + 1}/${new Date().getDate()}`
        };
        object.calendar = bulmaCalendar.attach('[type="date"]',
            {
                'dateFormat': 'DD/MM/YYYY',
                'displayMode': 'dialog',
                closeOnOverlayClick: false,
                'startDate': new Date(data.start),
                'endDate': new Date(data.end),
            });

        // shinobi.util.setRangeCalendar('[snb-key="date"]', new Date(data.start), new Date(data.end));
    },


    renderFilterButton: function (show) {
        var cancelFilter = document.getElementById("cancelfilter");
        if (show) {
            cancelFilter.classList.remove("is-hidden");
        } else {
            cancelFilter.classList.add("is-hidden");
        }
    },

    reloadApiFilterButton: function () {
        var cancelFilter = document.getElementById("cancelfilter");
        cancelFilter.onclick = function () {
            shinobi.operationsmanagementrender.dataContainer.staticfilters = [];

            document.getElementById("titleoperationsselector").value = "ALL";

            shinobi.operationsmanagementrender.dataContainer.reloadApi();

            shinobi.operationsmanagementrender.renderFilterButton(false);
        };
    },
};shinobi.ordercommandmanagementrender = {
    calendar: '',
    build: function () {
        shinobi.ordercommandmanagementrender.activeTab();

        // erase 
        // shinobi.ordercommandmanagementrender.renderMoreButton();
        // shinobi.ordercommandmanagementrender.renderChildOrderCommand();
        shinobi.ordercommandmanagementrender.renderOrderCommandTable();
        shinobi.ordercommandmanagementrender.renderSelfEmployedSelector();
        // shinobi.ordercommandmanagementrender.renderPmSelector();
        shinobi.ordercommandmanagementrender.renderSearchingButton();
        shinobi.ordercommandmanagementrender.setLabelCalendarPicker();
        shinobi.ordercommandmanagementrender.renderAutocompleteSearchingBar();
        shinobi.ordercommandmanagementrender.reloadApiFilterButton();
    },

    activeTab: function () {
        getUserInfo(function (response) {
            var infoUser = response;
            var usertype = infoUser.usertype;
            var tab = document.querySelector(`#menuleft [value="${usertype}"] a[href="/private/ordercommandmanagement"`);
            tab.classList.add("is-active");
        });
    },

    renderMoreButton: function (cell, row, col, all) {
        var seeDetailOrderButton =
            `
        <a class="dropdown-item see-detail-order pr-4">
            Chi tiết lệnh
        </a>
        `

        cell.innerHTML = `
              <div class="has-text-centered">    
                <div class="dropdown is-right more-button">
                  <div class="dropdown-trigger">
                    <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                        <span><i class="fas fa-ellipsis-v"></i></span>
                    </button>
                </div>
                <div class="dropdown-menu" id="dropdown-menu" role="menu">
                    <div class="dropdown-content">
                        <a class="dropdown-item pr-4" onclick="shinobi.ordercommandmodal.openModalAddChildCommand()">
                            Thêm lệnh
                        </a>
                        ${seeDetailOrderButton}
                        <a class="dropdown-item pr-4">
                            Xoá
                        </a>
                    </div>
                  </div>
                </div>
            </div>`

        var button = cell.querySelector(".see-detail-order");
        button.onclick = function () {
            shinobi.ordercommandmanagementrender.modalSeeDetailOrderCommand(all[row]);
        };

        var dropdown = cell.querySelector('.dropdown');
        dropdown.onclick = function () {
            dropdown.classList.toggle('is-active');
        };
    },

    renderChildOrderCommand: function (cell, row, col, all) {
        cell.innerHTML = `
            <div class="button is-borderless has-background-transparent is-fullwidth level">
                <div class="has-margin-block-auto">${all[row].fullname}</div>
                <div class="has-margin-block-auto pl-2" value="closed">               
                    <i class="fal fa-angle-down"></i>
                </div>
            </div>
        `
        shinobi.ordercommandmanagementrender.renderChildDetailButton(cell, row, col, all);
    },

    renderSeeDetail: function (elem) {

    },

    renderOrderCommandTable: function () {
        var idTable = "linkedpmaccounttable";

        var colNames = shinobi.tableHelper.getColname(idTable);
        var renders = shinobi.tableHelper.getRender(idTable);

        url = "/authenapi/OriginalSignalHistoryApi/findDataList";
        var request = {
            recordPerPage: shinobi.util.getRecordNumber(idTable),
        };

        if (!shinobi.ordercommandmanagementrender.ordercommandTable) {
            var table = new shinobi.table(idTable);
            shinobi.ordercommandmanagementrender.ordercommandTable = table;
        }

        shinobi.ordercommandmanagementrender.ordercommandTable.staticsorts = [{
            "colname": "createddate",
            "value": "desc"
        }];

        shinobi.ordercommandmanagementrender.ordercommandTable.initLoadApi(url, request, colNames, renders);
    },

    renderChildDetailButton: function (cell, row, col, all) {
        var button = cell.children[0];
        button.onclick = function () {
            var icon = button.children[1];
            var type = icon.getAttribute("value");
            if (type == 'closed') {
                icon.innerHTML = `<i class="fal fa-angle-up"></i>`;
                icon.setAttribute("value", "opened");

                var parent = cell.parentNode;
                parent.classList.add("is-active");

                shinobi.ordercommandmanagementrender.renderChildDetailBar(cell, row, col, all);
            } else {
                icon.innerHTML = `<i class="fal fa-angle-down"></i>`;
                icon.setAttribute("value", "closed");
                var parent = cell.parentNode;
                parent.classList.remove("is-active");
                shinobi.ordercommandmanagementrender.renderChildDetailBar(cell, row, col, all);
            };
        };
    },

    setValueForEachTrTable: function () {
        var trList = document.querySelectorAll("#linkedpmaccounttable tr");
        for (var n = 0; n < trList.length; n++) {
            trList[n].setAttribute("value", n);
        };
    },

    getDataForChildButton: function (cell, row, col, all, options) {
        var url = "/authenapi/SignalListApi/getSignalList";
        var request = {
            "filters": [{
                "colname": "originalsignalid",
                "operator": "=",
                "value": all[row].originalsignalid
            }],
            "sorts": [],
        }
        shinobi.api.request(url, JSON.stringify(request), function (res) {
            res = JSON.parse(res);
            var data = res.data;
            if (data.length) {
                if (options == "actived") {
                    shinobi.ordercommandmanagementrender.renderDataForChildTable(cell, cell.parentNode.parentNode, data);
                } else {
                    shinobi.ordercommandmanagementrender.deleteChildData(cell, data);
                };
            } else {
                console.log("Data is null");
            };
        });
    },

    renderChildDetailBar: function (cell, row, col, all) {
        var parent = cell.parentNode;
        var check = parent.classList.contains("is-active");
        if (check) {
            shinobi.ordercommandmanagementrender.getDataForChildButton(cell, row, col, all, "actived");
        } else {
            shinobi.ordercommandmanagementrender.getDataForChildButton(cell, row, col, all, "");
        };
    },

    renderDataForChildTable: function (cell, tbody, data) {
        for (var index = 0; index < data.length; index++) {
            var tr = document.createElement("tr");
            tr.setAttribute("class", "child-container");
            tr.innerHTML = `
                <td snb-key="fullname" snb-render="shinobi.ordercommandmanagementrender.renderChildChildFullName">                </td>
                <td snb-key="createddate" snb-render="shinobi.roottemplate.renderElemTextCentered">             </td>
                <td snb-key="allocationaccount" snb-render="shinobi.roottemplate.renderElemTextCentered">       </td>
                <td snb-key="allocationratio" snb-render="shinobi.roottemplate.renderElemTextCentered">         </td>
                <td snb-key="orderid" snb-render="shinobi.roottemplate.renderElemTextCentered">                 </td>
                <td snb-key="stockcode" snb-render="shinobi.roottemplate.renderElemTextCentered">               </td>
                <td snb-key="price" snb-render="shinobi.roottemplate.renderElemTextCentered">                   </td>
                <td snb-key="volume" snb-render="shinobi.roottemplate.renderElemTextCentered">                  </td>
                <td class="has-text-centered" snb-key="status" snb-render="shinobi.ordercommandmanagementrender.renderStatusChildSetting">                  </td>
                <td snb-key="description" snb-render="shinobi.ordercommandmanagementrender.formatDescription">        </td>
                <td snb-key="allocationaccount" snb-render="shinobi.ordercommandmanagementrender.renderMoreChildButton"></td>`;
            tbody.appendChild(tr);
            shinobi.mapping.renderElement(tr, data[index]);
            cell.parentNode.parentNode.insertBefore(tr, cell.parentNode.nextSibling);
        };
    },

    renderChildChildFullName(elem, value, all) {
        elem.innerHTML = `<div class="button is-borderless has-background-transparent is-fullwidth level has-padding-left-2rem">
                        ${value}
                        </div>`
    },

    formatDescription: function (elem, value, all) {
        value = shinobi.ordercommandmanagementrender.renderNoticeSub(value);

        elem.innerHTML = `<div class="order-command-notice is-italic"> ${value} </div>`;
    },

    renderMoreChildButton: function (elem, value, all) {
        getUserInfo(function (response) {
            var infoUser = response;
            var usertype = infoUser.usertype;
            var seeDetail = `<a class="container-href is-hidden"></a>`;

            if (usertype == "PMALADIN") {
                seeDetail = `
                <a class="dropdown-item pr-4 container-href">
                    Xem thêm
                </a>`
            };

            var seeDetailOrderButton =
                `
            <a class="dropdown-item see-detail-order pr-4">
                Chi tiết lệnh
            </a>
            `;

            elem.innerHTML = `
            <div class="has-text-centered">    
              <div class="dropdown is-up is-right more-button">
                <div class="dropdown-trigger">
                  <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                      <span><i class="fas fa-ellipsis-v"></i></span>
                  </button>
              </div>
              <div class="dropdown-menu" id="dropdown-menu" role="menu">
                  <div class="dropdown-content">
                        <a class="dropdown-item pr-4" onclick="shinobi.ordercommandmodal.ModifyModalAddChildCommand()">
                          Chỉnh sửa
                        </a>
                        ${seeDetailOrderButton}
                        ${seeDetail}
                        <a class="dropdown-item pr-4">
                          Xoá
                        </a>
                    </div>
                </div>
              </div>
            </div>`

            var setHref = elem.querySelector(".container-href");
            console.log(setHref);

            var button = elem.querySelector(".see-detail-order");
            button.onclick = function () {
                shinobi.ordercommandmanagementrender.modalSeeDetailOrderCommand(all);
            };

            setHref.onclick = function () {
                shinobi.ordercommandmanagementrender.transferTradingPage(all.allocationaccount);
            };

            var dropdown = elem.querySelector('.dropdown');
            dropdown.onclick = function () {
                dropdown.classList.toggle('is-active');
            };

            console.log("usertype", usertype, "seeDetail", seeDetail);
        });
    },

    transferTradingPage: function (allocationaccount) {
        window.location.href = `/private/tradingsystem?allocationaccount=${allocationaccount}`;
    },

    deleteChildData: function (cell, data) {
        var parent = cell.parentNode;

        for (var index = 0; index < data.length; index++) {
            var nextRow = parent.nextSibling;
            var check = nextRow.classList.contains("child-container");
            if (check) {
                nextRow.remove();
            };
        };
    },

    renderSelfEmployedSelector: function () {
        var datalistId = "selfemplyedaccountselection";
        var url = "/authenapi/StockComAccountApi/getListOriginStockComAccount";
        var request = {
            recordPerPage: shinobi.util.getRecordNumber(datalistId),
        };
        var datalist = new shinobi.datalist(datalistId);

        shinobi.api.request(url, JSON.stringify(request), function (res) {
            res = JSON.parse(res);
            datalist.renderTable(res);
        });
    },

    renderPmSelector: function () {
        var datalistId = "pmaccountselection";
        var url = "/authenapi/SystemUserApi/getUserInfo";
        var request = {
            recordPerPage: shinobi.util.getRecordNumber(datalistId),
        };
        var datalist = new shinobi.datalist(datalistId);

        shinobi.api.request(url, JSON.stringify(request), function (res) {
            res = JSON.parse(res);
            datalist.renderTable(res.data);
        });
    },

    renderFullname: function (elem, value, all) {
        elem.setAttribute("value", value);
        elem.innerHTML = all.fullname;
    },

    renderName: function (elem, value, all) {
        elem.setAttribute("value", value);
        elem.innerHTML = all.name;
    },

    setLabelCalendarPicker: function () {
        var object = this;
        var data = {
            start: `2000/1/1`,
            end: `${new Date().getFullYear()}/${new Date().getMonth() + 1}/${new Date().getDate()}`
        };
        object.calendar = bulmaCalendar.attach('[type="date"]',
            {
                'dateFormat': 'DD/MM/YYYY',
                'displayMode': 'dialog',
                closeOnOverlayClick: false,
                'startDate': new Date(data.start),
                'endDate': new Date(data.end),
            });

        // shinobi.util.setRangeCalendar('[snb-key="date"]', new Date(data.start), new Date(data.end));
    },

    renderSearchingButton: function () {
        getUserInfo(function (response) {
            var infoUser = response;
            var usertype = infoUser.usertype;

            if (usertype == "PMALADIN") {
                shinobi.ordercommandmanagementrender.renderSearchingButtonPMAladin();
            } else if (usertype == "SUPERADMIN") {
                shinobi.ordercommandmanagementrender.renderSearchingButtonSuperAdmin();
            }
        });
    },

    renderSearchingButtonPMAladin: function () {
        document.getElementById("pmListSearch").classList.add("is-hidden");

        var button = document.getElementById("searchOrderCommand");
        button.onclick = function () {
            var selfemplyedaccount = document.getElementById("selfemplyedaccountselection").value;
            var historydate;

            if (selfemplyedaccount) {
                console.log("searched");
                try {
                    shinobi.mapping.getValue("#searchinghistory", function (res) {
                        historydate = res.date;
                        historydate.beginDate = shinobi.util.reverseFormatDate(historydate.beginDate, {
                            reverseFormat: "dd/MM/yyyy",
                            format: "yyyy-MM-dd",
                        });

                        historydate.endDate = shinobi.util.reverseFormatDate(historydate.endDate, {
                            reverseFormat: "dd/MM/yyyy",
                            format: "yyyy-MM-dd",
                        });
                    });
                } catch (e) {
                    historydate = {};
                }
                shinobi.ordercommandmanagementrender.reloadOrderCommandTable(null, selfemplyedaccount, historydate.beginDate, historydate.endDate, "PMALADIN")
            }
        };
    },

    renderSearchingButtonSuperAdmin: function () {
        var button = document.getElementById("searchOrderCommand");
        button.onclick = function () {
            var selfemplyedaccount = document.getElementById("selfemplyedaccountselection").value;
            var pmaccount = document.getElementById("autocomplete").getAttribute('value');
            var historydate;

            if (selfemplyedaccount) {
                console.log("searched");
                try {
                    shinobi.mapping.getValue("#searchinghistory", function (res) {
                        historydate = res.date;
                        historydate.beginDate = shinobi.util.reverseFormatDate(historydate.beginDate, {
                            reverseFormat: "dd/MM/yyyy",
                            format: "yyyy-MM-dd",
                        });

                        historydate.endDate = shinobi.util.reverseFormatDate(historydate.endDate, {
                            reverseFormat: "dd/MM/yyyy",
                            format: "yyyy-MM-dd",
                        });
                    });
                } catch (e) {
                    historydate = {};
                }
                shinobi.ordercommandmanagementrender.reloadOrderCommandTable(pmaccount, selfemplyedaccount, historydate.beginDate, historydate.endDate, "SUPERADMIN")
            }
        };
    },

    reloadOrderCommandTable: function (pmaccount, selfemplyedaccount, beginDate, endDate, type) {
        if (type == "SUPERADMIN") {
            shinobi.ordercommandmanagementrender.reloadOrderCommandTableAsSuperAdmin(pmaccount, selfemplyedaccount, beginDate, endDate);
        }
        if (type == "PMALADIN") {
            shinobi.ordercommandmanagementrender.reloadOrderCommandTableAsPMAladin(selfemplyedaccount, beginDate, endDate);
        }
    },

    reloadOrderCommandTableAsSuperAdmin(pmaccount, selfemplyedaccount, beginDate, endDate) {
        var dataFilters = [];

        dataFilters.push({
            "colname": "allocationaccount",
            "operator": "=",
            "value": selfemplyedaccount,
        });
        if (beginDate) {
            dataFilters.push({
                "colname": "createddate",
                "operator": ">=",
                "value": beginDate,
            });
            if (endDate) {
                dataFilters.push({
                    "colname": "createddate",
                    "operator": "<=",
                    "value": endDate,
                });
            }
        }
        if (pmaccount) {
            dataFilters.push({
                "colname": "placedby",
                "operator": "=",
                "value": pmaccount,
            });
        };
        shinobi.ordercommandmanagementrender.ordercommandTable.staticfilters = dataFilters;
        shinobi.ordercommandmanagementrender.ordercommandTable.reloadApi();
        shinobi.ordercommandmanagementrender.renderFilterButton(true);
    },

    reloadOrderCommandTableAsPMAladin(selfemplyedaccount, beginDate, endDate) {
        if (endDate) {
            shinobi.ordercommandmanagementrender.ordercommandTable.staticfilters = [{
                "colname": "allocationaccount",
                "operator": "like",
                "value": selfemplyedaccount,
            }, {
                "colname": "createddate",
                "operator": ">=",
                "value": beginDate,
            }, {
                "colname": "createddate",
                "operator": "<=",
                "value": endDate,
            }];
        } else {
            shinobi.ordercommandmanagementrender.ordercommandTable.staticfilters = [{
                "colname": "allocationaccount",
                "operator": "like",
                "value": selfemplyedaccount,
            }];
        }
        shinobi.ordercommandmanagementrender.ordercommandTable.reloadApi();
        shinobi.ordercommandmanagementrender.renderFilterButton(true);
    },

    renderAutocompleteSearchingBar: function () {
        // var accounts = [
        //     { id: '1333', username: 'PM1', createddate: '10/02/2022' },
        //     { id: '1222', username: 'PM2', createddate: '10/02/2022' },
        //     { id: '3111', username: 'PM3', createddate: '10/02/2022' },
        // ];

        new shinobi.autocomplete('#autocomplete', {
            onSearch: (input, resolve) => {
                if (input.length < 1) { return [] }

                var request = {
                    "filters": [{
                        "colname": "name",
                        "operator": "like",
                        "value": input,
                    }],
                    "sorts": [],
                }
                shinobi.api.request("/authenapi/SystemUserApi/getUserInfo", JSON.stringify(request), function (res) {
                    data = JSON.parse(res).data;
                    resolve(data);
                });
            },

            renderResult: (result, props) => {
                console.log(result)
                return `
                <li ${props}>
                    <div class="is-flex">
                        <div>${result.name}</div>
                    </div>
                </li>`
            },
            onSubmit: (result) => {
                var input = document.getElementById("autocomplete");
                input.value = result.name;
                input.setAttribute('value', result.username)
            },
        });
    },

    renderStatusSetting: function (cell, row, col, all) {
        switch (all[row].status) {
            case 'EXECUTED':
                all[row].status = "Đã xử lý";
                break;
            case 'INVALID':
                all[row].status = "Không hợp lệ";
                break;
            case 'INPROCESS':
                all[row].status = "Đang xử lý";
                break;


        };
        cell.innerHTML = `<div class="has-text-centered">${all[row].status}</div>`;
    },

    childStatusOrder: {
        "SUCCESS": "Thành công",
        "ERROR": "Thất bại",
        "PENDING": "Chưa xử lý",
        "CANCELED": "Đã huỷ",
    },

    renderStatusChildSetting: function (elem, value, all) {
        if (shinobi.ordercommandmanagementrender.childStatusOrder[`${value}`]) {
            value = shinobi.ordercommandmanagementrender.childStatusOrder[`${value}`];
        };

        if (value == "Thành công") {
            elem.innerHTML = `<div class="has-text-success">${value}</div>`;
        } else if (value == "Thất bại") {
            elem.innerHTML = `<div class="has-text-danger">${value}</div>`;
        } else {
            elem.innerHTML = `<div class="">${value}</div>`;
        }
    },

    noticeOrder: {
        'INVALID_ORIGINAL_SIGNAL': "Tín hiệu gốc không hợp lệ",
        'INVALID_SIGNAL_TYPE': "Loại tín hiệu không hợp lệ",
        'INVALID_USER_PLACING_SIGNAL': "User không được phép đặt lệnh",
        'INVALID_STOCK_CODE': "Mã chứng khoán không hợp lệ",
        'INVALID_PRICE': "Giá không hợp lệ",
        'INVALID_PRICE_STEP': "Bước gía không hợp lệ",
        'ORDER_VOLUME_MUST_BE_GREATER_THAN_MIN_VOLUME': "Khối lượng lệnh phải lớn hơn 100",
        'ORDER_PRICE_MUST_LIES_INSIDE_INTERVAL': "Giá đặt phải nằm trong khoảng giá",
        'ORDER_VOLUME_MUST_BE_GREATER_THAN_ZERO': "Khối lượng lệnh phải lớn hơn 0",
        'INVALID_VOLUME_STEP': "Bước khối lượng không hợp lệ - Khối lượng theo lô 100",
        'INVALID_ORDER_SIDE': "Side không hợp lệ - MUA / BÁN",
        'INVALID_ORDER_TYPE': "Loại không hợp lệ - MUA / BÁN",
        'TRADING_GROUP_NOT_FOUND': "Không tìm thấy nhóm lệnh",
        'STOCK_CODE_NOT_IN_PORTFOLIO': "Mã chứng khoán không có trong danh mục",
        'SIGNAL_VOLUME_MORE_THAN_PORTFOLIO': "Khối lượng lệnh lớn hơn khối lượng thực trong danh mục",
        'SIGNAL_VALUE_MORE_THAN_PURCHASING_POWER': "Sức mua không đủ",
        'CAN_NOT_FIND_ORIGINAL_SIGNAL': "Không tìm thấy tín hiệu gốc",
        'NOT_YOUR_SIGNAL': "Không phải tín hiệu của bạn",
        'CAN_NOT_FIND_ORDER': "Không tìm thấy lệnh",
        'DO_NOT_HAVE_SIGNAL_TO_CANCEL': "Không có lệnh để hủy",
        'CAN_NOT_CREATE_COPYTRADE_SIGNAL_TO_PM_BY_PMALADIN': "Không thể đánh copytrade trên tài khoản PM bằng PMAladin",
        'PLACE_VPS_NORMAL_ORDER_FAILURE': "Không thể đặt lệnh trên VPS",
        'CANCEL_VPS_ORDER_FAILURE': "Huỷ lệnh VPS thất bại",
        'THIS_STOCK_IS_RESTRICTED_FROM_TRADING_FOR_THIS_ACCOUNT': "Mã chứng khoán bị giới hạn giao dịch trên tài khoản này",
        'CALL_VPS_PROXY_API_FAILURE': "Không thể call API của VPS",
    },

    renderNoticeSub: function (value) {
        if (shinobi.ordercommandmanagementrender.noticeOrder[`${value}`]) {
            value = shinobi.ordercommandmanagementrender.noticeOrder[`${value}`];
        };

        return value;
    },

    renderFilterButton: function (show) {
        var cancelFilter = document.getElementById("cancelfilter");
        if (show) {
            cancelFilter.classList.remove("is-hidden");
        } else {
            cancelFilter.classList.add("is-hidden");
        }
    },

    reloadApiFilterButton: function () {
        var cancelFilter = document.getElementById("cancelfilter");
        cancelFilter.onclick = function () {
            shinobi.ordercommandmanagementrender.ordercommandTable.staticfilters = [];

            shinobi.ordercommandmanagementrender.ordercommandTable.reloadApi();

            shinobi.ordercommandmanagementrender.renderFilterButton(false);
        };
    },

    modalSeeDetailOrderCommand: function (data) {
        var modal = document.getElementById("seeDetailOrderModal");
        modal.classList.add("is-active");

        var listSnbkey = document.querySelectorAll("#seeDetailOrderModal [snb-key]");
        listSnbkey.forEach(function (elem) {
            elem.innerHTML = "";
        });

        shinobi.mapping.renderElement(modal, data);
    },

    subSideLeftDetailOrder: function (elem, value, all) {
        var mappingValue = {
            BUY: 'MUA',
            SELL: 'BÁN',
        };

        if (mappingValue[`${value}`]) {
            value = mappingValue[`${value}`];
        };

        elem.innerHTML = `
        <div class="has-text-left">${value}</div>
        `;

        if (value == "MUA") {
            elem.querySelector("div").style.color = "#48c78e";
        } else if (value == "BÁN") {
            elem.querySelector("div").style.color = "#f14668";
        }
    },
};shinobi.ordercommandmodal = {
    build: function () {

    },

    openModalAddChildCommand: function () {
        shinobi.ordercommandmodal.activeModal("addChildOrderCommand");
    },

    ModifyModalAddChildCommand: function () {
        shinobi.ordercommandmodal.activeModal("modifyChildOrderCommand");
    },

    activeModal: function (selector) {
        var modal = document.getElementById(selector);
        modal.classList.add("is-active");
    }
};  shinobi.ordermanagementrender = {
    table: '',
    build: function() {
        shinobi.ordermanagementrender.renderTable();
    },
    renderTable: function() {
        var idTable = 'dataContainer';

        var url = shinobi.coreapi.inprocessOrderApi + 'findDataList';
        var request = {};

        request.recordPerPage = shinobi.util.getRecordNumber(idTable);

        var colNames = shinobi.tableHelper.getColname(idTable);
        var renders = shinobi.tableHelper.getRender(idTable);

        shinobi.ordermanagementrender.table = new shinobi.table(idTable);

        shinobi.ordermanagementrender.table.staticfilters = [];

        var sorts = [];
        sorts[0] = { "colname": "createddate", "value": "desc" };
        shinobi.ordermanagementrender.table.staticsorts = sorts;

        shinobi.ordermanagementrender.table.initLoadApi(url, request, colNames, renders);

    },
    renderButtonCancelOrder: function(cell, row, col, all) {
        var value = cell.innerHTML;
        cell.innerHTML = '';

        var button = document.createElement('a');
        button.setAttribute('class', 'button is-small is-danger');
        button.innerHTML = 'Hủy';

        button.onclick = function() {
            shinobi.notification.notification.loading();
            var url = shinobi.coreapi.systemOrderManagement + 'forceCancelOrder';
            var request = {};
            request.orderid = value;

            shinobi.api.request(url, JSON.stringify(request), function(re) {

                shinobi.ordermanagementrender.table.reloadApi();

            });


        }

        cell.appendChild(button);
    }


};shinobi.pmmanagementrender = {
  build: function () {
    shinobi.pmmanagementrender.changeNameCreateButton();
    shinobi.pmmanagementrender.renderPMTableData();
  },
  shaPassword: function (value) {
    return shinobi.util.sha256(value);
  },

  renderMoreButton: function (cell, row, col, all) {
    cell.innerHTML = `
      <div class="has-text-centered">    
        <div class="dropdown is-up is-right more-button">
          <div class="dropdown-trigger">
            <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                <span><i class="fas fa-ellipsis-v"></i></span>
            </button>
        </div>
        <div class="dropdown-menu" id="dropdown-menu" role="menu">
            <div class="dropdown-content">
                <a class="dropdown-item pr-4 editPMAccount">
                    Chỉnh sửa thông tin
                </a>
                <a class="dropdown-item pr-4 editPMPassword">
                    Chỉnh sửa mật khẩu
                </a>
                <a class="dropdown-item pr-4">
                    Xoá
                </a>
            </div>
          </div>
        </div>
      </div>`


    var dropdown = cell.querySelector('.dropdown');
    dropdown.onclick = function () {
      dropdown.classList.toggle('is-active');
    }

    var editPMAccount = cell.querySelector(".editPMAccount")
    editPMAccount.onclick = function () {
      shinobi.pmmanagementrender.renderModifyButton(all[row]);
    }

    var editPMPassword = cell.querySelector(".editPMPassword")
    editPMPassword.onclick = function () {
      shinobi.pmmanagementrender.renderModifyPasswordButton(all[row]);
    }
  },
  renderModifyButton: function (data) {
    var modal = document.querySelector("#addAccountModal");
    modal.classList.add("is-active");

    shinobi.pmmanagementrender.settingModifyAccountModal(data);
  },

  renderModifyPasswordButton: function (data) {
    var modal = document.querySelector("#changePasswordPMModal");
    modal.classList.add("is-active");

    shinobi.pmmanagementrender.settingModifyPasswordModal(data);
  },

  settingModifyAccountModal: function (data) {
    console.log(data);
    var buttonCreate = document.querySelector("#addAccountModal #createModal");
    var buttonSave = document.querySelector("#addAccountModal #saveModal");

    buttonCreate.style.display = "none";
    buttonSave.style.display = "block";

    var title = document.querySelector("#addAccountModal .modal-card-title");
    title.innerText = "Chỉnh sửa tài khoản " + data.firstname + " " + data.lastname;

    var selector = document.getElementById("addAccountModal");
    shinobi.mapping.renderElement(selector, data);

    buttonSave.onclick = function () {
      shinobi.pmmanagementrender.modifyInfoPMUser(data);
    };
  },

  settingModifyPasswordModal: function (data) {
    var title = document.querySelector("#changePasswordPMModal .modal-card-title");
    title.innerText = "Chỉnh sửa mật khẩu cho " + data.firstname + " " + data.lastname;

    var inputOldPassword = document.querySelector("#changePasswordPMModal #loginOldPassword input");
    var inputNewPassword = document.querySelector("#changePasswordPMModal #loginNewPassword input");
    var buttonOldPassword = document.querySelector("#changePasswordPMModal #loginOldPassword .button");
    var buttonNewPassword = document.querySelector("#changePasswordPMModal #loginNewPassword .button");

    shinobi.fragmentfindandaddaccountmanagementrender.showPassword(buttonOldPassword, inputOldPassword);
    shinobi.fragmentfindandaddaccountmanagementrender.showPassword(buttonNewPassword, inputNewPassword);

    var buttonSave = document.querySelector("#changePasswordPMModal #changePassword");
    buttonSave.onclick = function () {
      shinobi.pmmanagementrender.modifyPasswordPMUser(data);
    };
  },

  modifyInfoPMUser: function (data) {
    var url = "/authenapi/PmManagementApi/modifyPMInfo";
    shinobi.pmmanagementrender.getValuePMUser("#addAccountModal", function (json) {
      json.username = data.username;
      shinobi.api.request(url, JSON.stringify(json), function (res) {
        shinobi.notification.notification.info('Chỉnh sửa tài khoản PM thành công!');
        setTimeout(function () {
          window.location.reload();
        }, 3000);
      });
    });
  },

  modifyPasswordPMUser: function (data) {
    var url = "/authenapi/PmManagementApi/changePassword";
    shinobi.pmmanagementrender.getValue("#changePasswordPMModal", function (json) {
      json.username = data.username;
      shinobi.api.request(url, JSON.stringify(json), function (res) {
        shinobi.notification.notification.info('Chỉnh sửa mật khẩu PM thành công!');
        setTimeout(function () {
          window.location.reload();
        }, 3000);
      });
    });
  },

  getValue: function (selector, callback) {
    shinobi.mapping.getValue(selector, function (request) {
      !Object.values(request).includes("") ? callback(request) : shinobi.util.fillInputMessage();
    }, {
      checkEmpty: true,
    })
  },

  getValuePMUser: function (selector, callback) {
    shinobi.mapping.getValue(selector, function (request) {
      var json = {
        // "username": username,
        "firstname": request.firstname,
        "lastname": request.lastname,
        "identitynumber": request.identitynumber,
        "phonenumber": request.phonenumber,
      };
      console.log(json);
      !Object.values(json).includes("") ? callback(json) : shinobi.util.fillInputMessage();
    }, {
      checkEmpty: true,
    })
  },
  changeNameCreateButton: function () {
    var createButton = document.querySelector("#addAccountButton");
    createButton.innerText = "Thêm tài khoản PM";
  },

  renderPMTableData: function () {
    var datalistId = "pmmanagementboard";
    var url = "/authenapi/PmManagementApi/findDataList";

    var colNames = shinobi.tableHelper.getColname(datalistId);
    var renders = shinobi.tableHelper.getRender(datalistId);

    if (!shinobi.pmmanagementrender.pmmanagementboard) {
      var datalist = new shinobi.table(datalistId);
      shinobi.pmmanagementrender.pmmanagementboard = datalist;
    }

    shinobi.pmmanagementrender.pmmanagementboard.staticsorts = [{
      "colname": "createddate",
      "value": "desc"
    }];
    // datalist.staticfilters = filterDefault;

    var request = {
      recordPerPage: shinobi.util.getRecordNumber(datalistId),
    }
    shinobi.pmmanagementrender.pmmanagementboard.initLoadApi(url, request, colNames, renders);
  },
  renderFullname: function (cell, row, col, all) {
    console.log(all);
    cell.innerHTML = `${all[row].firstname} ${all[row].lastname}`;
  },
};
shinobi.portfoliousermenurender = {
    build: function () {
        var Object = this;
        shinobi.portfoliousermenurender.activeMenu();
        // shinobi.portfoliousermenurender.renderTables();
        shinobi.portfoliousermenurender.renderHiddenTable("#portfoliousermenu ul li");
        shinobi.portfoliousermenurender.renderHiddenTable("#tabsmatchingorder ul li");
    },


    activeMenu: function () {
        shinobi.portfoliousermenurender.renderActiveTab("#portfoliousermenu ul li");
        shinobi.portfoliousermenurender.renderActiveTab("#tabsmatchingorder ul li");

    },

    renderActiveTab: function (selector) {
        var listMenu = document.querySelectorAll(selector);
        var refreshBtn = document.getElementById('refreshportfolio');

        listMenu.forEach(elem => {
            elem.onclick = function () {
                listMenu.forEach(item => {
                    item.classList.remove("is-active");
                });
                elem.classList.add("is-active");
                shinobi.portfoliousermenurender.renderHiddenTable(selector);

                if (document.querySelector('#tabsmatchingorder [value="tablematchingorderhistory"]').classList.contains("is-active") == false) {
                    document.getElementById("searchinghistory").classList.add("is-hidden");
                    refreshBtn.classList.remove('is-hidden');

                } else {
                    document.getElementById("searchinghistory").classList.remove("is-hidden");
                    refreshBtn.classList.add('is-hidden');
                }
            };
        });
    },

    renderHiddenTable: function (selector) {
        var listMenu = document.querySelectorAll(selector);
        listMenu.forEach(elem => {
            var value = elem.getAttribute("value");
            var table = document.querySelector(`table#${value}`);
            table.parentNode.classList.add("is-hidden");
        });
        shinobi.portfoliousermenurender.renderVisibleTable(selector);
    },

    renderVisibleTable: function (selector) {
        var listTable = document.querySelectorAll(selector);
        listTable.forEach(elem => {
            if (elem.classList.contains("is-active") == true) {
                var value = elem.getAttribute("value");
                var table = document.querySelector(`table#${value}`);
                table.parentNode.classList.remove("is-hidden");

                shinobi.portfoliousermenurender.renderTables(value);
            }
        });
    },

    renderTables: function (value) {
        shinobi.portfoliousermenurender.renderPortFolioUser(value);
        shinobi.portfoliousermenurender.renderAssetUser(value);
        shinobi.portfoliousermenurender.renderAccountEfficiencyUser(value);
        shinobi.portfoliousermenurender.renderTableOrderSignal(value);
    },

    renderPortFolioUser: function (value) {
        if (value == "tablematchingorderdate") {
            console.log("Load Bảng Sổ lệnh Trong Ngày");
            // shinobi.portfoliouserrender.reloadPortfolioUser();
        };

        if (value == "tablematchingorderhistory") {
            console.log("Load Bảng Sổ lệnh Lịch Sử");
            // shinobi.portfoliouserrender.reloadPortfolioUser();
        };
    },

    renderAssetUser: function (value) {
        if (value == "tableassetorder") {
            console.log("Load Bảng Tài Sản");
            shinobi.assetuserrender.getAssetUser(shinobi.tradingsystemrender.getCurrentAllocationAccount());
        };
    },

    renderAccountEfficiencyUser: function (value) {
        if (value == "tableaccountefficiency") {
            console.log("Load Bảng Hiệu quả TK");
        };
    },

    renderTableOrderSignal: function (value) {
        if (value == "tableordersignal") {
            console.log("Load Bảng Tín Hiệu");
        };
    },
};shinobi.portfoliouserrender = {
    table: '',
    tableHistory: '',
    build: function (value) {
        shinobi.portfoliouserrender.renderTableAssetUser(value);
        shinobi.portfoliouserrender.renderTableAssetUserHistory(value);
    },

    rebuildOnChangeSelect: function (value) {

    },

    reloadPortfolioUser() {
        if (shinobi.portfoliouserrender.table.hasOwnProperty('reloadApi')) {
            shinobi.portfoliouserrender.table.reloadApi();
        }

    },

    renderTableAssetUser: function (valueAccount) {
        console.log("valueAccount", valueAccount);
        var object = this;
        var datalistId = "tablematchingorderdate";
        var url = "/authenapi/StockComOrderApi/findDataList";

        var colNames = shinobi.tableHelper.getColname(datalistId);
        var renders = shinobi.tableHelper.getRender(datalistId);

        // if (!object.table) {
        shinobi.portfoliouserrender.table = new shinobi.table(datalistId);
        // datalist.staticsorts = sortDefault;
        // datalist.staticfilters = filterDefault;

        var request = {
            "allocationaccount": valueAccount,
            recordPerPage: shinobi.util.getRecordNumber(datalistId),
        };

        shinobi.portfoliouserrender.table.initLoadApi(url, request, colNames, renders, {
            callback: function () {
                var refreshBtn = document.getElementById('refreshportfolio');
                refreshBtn.onclick = function () {
                    shinobi.portfoliouserrender.table.paramsRequestList = { "allocationaccount": valueAccount };
                    shinobi.portfoliouserrender.table.reloadApi(1, { loading: false });
                };
            },
        });

    },

    renderTableAssetUserHistory: function (valueAccount) {
        var object = this;
        var datalistId = "tablematchingorderhistory";
        var url = "/authenapi/StockComOrderHistoryApi/findDataList";

        var colNames = shinobi.tableHelper.getColname(datalistId);
        var renders = shinobi.tableHelper.getRender(datalistId);

        // if (!object.table) {
        shinobi.portfoliouserrender.tableHistory = new shinobi.table(datalistId);
        // datalist.staticsorts = sortDefault;
        // datalist.staticfilters = filterDefault;

        console.log(valueAccount);
        var request = {
            recordPerPage: shinobi.util.getRecordNumber(datalistId),
        };

        shinobi.portfoliouserrender.tableHistory.staticfilters = [
            {
                "colname": "allocationaccount",
                "operator": "=",
                "value": valueAccount
            },
        ];


        shinobi.portfoliouserrender.tableHistory.initLoadApi(url, request, colNames, renders, {
            // callback: function () {
            //     var refreshBtn = document.getElementById('refreshportfolio');
            //     refreshBtn.onclick = function () {
            //         shinobi.portfoliouserrender.table.paramsRequestList = { "allocationaccount": valueAccount };
            //         shinobi.portfoliouserrender.table.reloadApi(1, { loading: false });
            //     };
            // },
        });

    },

    snbRenderButton: function (cell, row, col, all) {
        if (all[row].status == "PENDING" || all[row].status == "PARTIAL_MATCHED") {
            value = cell.innerHTML;
            cell.innerHTML = `
            <div class="is-flex is-justify-content-space-between">
                <div class="has-text-left">    
                    <button class="cancel-button is-danger has-bsd button is-small">
                        Huỷ
                    </button>
                </div>
                <div class="has-text-right">    
                    <button class="see-detail button is-small">
                        <span><i class="fas fa-ellipsis-v"></i></span>
                    </button>
                </div>
            </div>`
            console.log(all[row].status);
            var detailButton = cell.querySelector(".see-detail");
            detailButton.onclick = function () {
                shinobi.portfoliouserrender.openModalDetail(value, all[row])
            };

            var cancelButton = cell.querySelector(".cancel-button");
            cancelButton.onclick = function () {
                shinobi.notification.confirm(function () {
                    shinobi.portfoliouserrender.cancelOrder(all[row].systemorderid);
                }, {
                    title: 'Xác nhận',
                    content: "Bạn muốn xác nhận hủy lệnh?",
                    yesConent: "Xác nhận",
                })
            };
        } else {
            value = cell.innerHTML;
            cell.innerHTML = `
                <div class="has-text-right">    
                    <button class="see-detail button is-small">
                        <span><i class="fas fa-ellipsis-v"></i></span>
                    </button>
                </div>`
            console.log(all[row].status);
            var button = cell.querySelector(".see-detail");
            button.onclick = function () {
                shinobi.portfoliouserrender.openModalDetail(value, all[row])
            };
        }
    },

    cancelOrder: function(array) {
        var url = "/authenapi/CreateSignalApi/cancelSignal";
        var selectSubAccount = document.getElementById('selectPM').value;
        var cancelArray = [
            array
        ]
        var request = {
            allocationaccount: selectSubAccount,
            ordertype: "CANCEL",
            signaltype: "COPYTRADE",
            orderlist: cancelArray,
        }
        console.log("console", request, "->", cancelArray);
        shinobi.api.request(url, JSON.stringify(request), function (res) {
            shinobi.notification.notification.info('Hủy lệnh thành công !');
            shinobi.portfoliouserrender.build(selectSubAccount);
        })
    },

    openModalDetail: function (value, data) {
        var modal = document.getElementById("modalOrderDate");
        modal.classList.add("is-active");

        shinobi.mapping.renderElement(modal, data);
    },
};shinobi.roottemplate = {
  config: "",
  init: function () {
    var object = this;
    shinobi.initbulma.build();
    shinobi.util.addEventInternetConnection();
    object.renderDevelopingTooltip();
    object.activeMenuType();
    object.activeTab();
  },
  activeMenuType: function () {
    var menuleft = document.getElementById('menuleft');
    var menuPm = menuleft.querySelector('.pm-menu');
    var menuSupadmin = menuleft.querySelector('.superadmin-menu');
    var menuAladinAdmin = menuleft.querySelector('.aladin-admin-menu');
    getUserInfo(function (res) {
      if (res.usertype == "PM") {
        menuPm.classList.remove('is-hidden');
        menuSupadmin.classList.add('is-hidden');
      } else {
        if ((res.usertype == "SUPERADMIN")) {
          menuPm.classList.add('is-hidden');
          menuSupadmin.classList.remove('is-hidden');
        } else {
          if (res.usertype == "PMALADIN") {
            menuAladinAdmin.classList.remove('is-hidden');
            menuSupadmin.classList.add('is-hidden');
          }
        }
      }

    })

  },
  renderMobileNavigatorNavbar: function () {
    shinobi.coreapi.checkAuthen(function (username) {
      if (username) {
        shinobi.usernotificationrender.updateNotificationBadge();
        //hidden burger logged usermenu
        // document.querySelector('.navbar .navbar-end .user-navbar-header-menu-container').classList.add('is-hidden')
      }
    });
  },
  renderDevelopingTooltip: function () {
    var listDevelopingItem = document.querySelectorAll(".is-developing");
    listDevelopingItem.forEach(item => {
      item.classList.add('has-tooltip-bottom', 'has-tooltip-multiline');
      item.setAttribute("data-tooltip", "Đang phát triển");
    });
  },
  renderCellTextCentered: function (cell, row, col, all) {
    value = cell.innerHTML;
    cell.innerHTML = `
      <div class="has-text-centered">
        ${value}
      </div>
  `
  },
  renderCellTextBoldCentered: function (cell, row, col, all) {
    value = cell.innerHTML;
    cell.innerHTML = `
      <div class="has-text-centered has-text-weight-bold">
        ${value}
      </div>
  `
  },
  renderElemTextCentered: function (elem, value, all) {
    elem.innerHTML = `
      <div class="has-text-centered">
        ${value}
      </div>
  `
  },
  renderCellTextRight: function (cell, row, col, all) {
    value = cell.innerHTML;
    cell.innerHTML = `
      <div class="has-text-right">
        ${value}
      </div>
  `
  },
  renderElemTextRight: function (elem, value, all) {
    elem.innerHTML = `
      <div class="has-text-right">
        ${value}
      </div>
  `
  },

  renderFirstNameLastName(cell, row, col, all) {
    let data = all[row];
    cell.innerHTML = `<div class="has-text-centered">${data.firstname} ${data.lastname}</div>`
  },

  renderProfitPercent(cell, row, col, all) {
    let data = all[row];
    let value = cell.innerHTML;
    cell.innerHTML = `<div class="has-text-right">${value * 100}%</div>`
  },

  activeTab: function () {
    getUserInfo(function (response) {
      var infoUser = response;
      var usertype = infoUser.usertype;
      var tab = document.querySelector(`#menuleft [value="${usertype}"] a[href="${window.location.pathname}"`);
      if (tab) {
        tab.classList.add("is-active");

      }
    });
  },
};
shinobi.roottemplaterender = {
  init: function () {
    // shinobi.socketmanager.init();
    shinobi.roottemplaterender.changeLoggedState(shinobi.roottemplaterender.showLoginSignUpButton);
    shinobi.roottemplate.init();
  },

  changeLoggedState: function (callback) {
    shinobi.coreapi.reCheckAuthen(function (username) {
      if (username) {
        document.body.classList.add("has-logged");
        document.body.classList.remove("not-logged");
      } else {
        document.body.classList.remove("has-logged");
        document.body.classList.add("not-logged");
      }

      if (typeof callback == "function") {
        callback();
      }
    });
  },

  showLoginSignUpButton: function () {
    if (JSON.stringify(document.body.classList).includes("not-logged")) {
      var signupButtons = document.querySelectorAll(".is-signup-button");
      for (let signupButton of signupButtons) {
        signupButton.classList.remove("is-hidden");
      }

      var loginButtons = document.querySelectorAll(".is-login-button");
      for (let loginButton of loginButtons) {
        loginButton.classList.remove("is-hidden");
      }
    }
  },
};
shinobi.selfemployedaccountrender = {
    systemsubaccount: '',
    colNames: '',
    build: function () {
        shinobi.selfemployedaccountrender.activeTab();
        shinobi.selfemployedaccountrender.renderCreateActiveModal();
        shinobi.selfemployedaccountrender.renderModalButtons();
        shinobi.selfemployedaccountrender.createFirstAccount();

        shinobi.selfemployedaccountrender.renderSelfEmployedAccountSelect(
            function () {
                shinobi.selfemployedaccountrender.checkSeflEmployedAccountData();
                shinobi.selfemployedaccountrender.renderForTable();
                shinobi.selfemployedaccountrender.getUnallocatedPercent();
                shinobi.selfemployedaccountrender.addEventCheckAccountSelect();
            }
        );

        shinobi.selfemployedaccountrender.createMultivalueStructure();
    },

    activeTab: function () {
        getUserInfo(function (response) {
            var infoUser = response;
            var usertype = infoUser.usertype;
            var tab = document.querySelector(`#menuleft [value="${usertype}"] a[href="/private/selfemployedaccount"`);
            tab.classList.add("is-active");
        });
    },

    renderMoreButton: function (cell, row, col, all) {
        cell.innerHTML = `
          <div class="has-text-centered">    
            <div class="dropdown is-up is-right more-button">
              <div class="dropdown-trigger">
                <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                    <span><i class="fas fa-ellipsis-v"></i></span>
                </button>
            </div>
            <div class="dropdown-menu" id="dropdown-menu" role="menu">
                <div class="dropdown-content">
                    <a class="dropdown-item pr-4" onclick="shinobi.selfemployedaccountrender.renderModifyButton()">
                        Chỉnh sửa
                    </a>
                    <a class="dropdown-item pr-4">
                        Xoá
                    </a>
                </div>
              </div>
            </div>
          </div>`

        var dropdown = cell.querySelector('.dropdown');
        dropdown.onclick = function () {
            dropdown.classList.toggle('is-active');
        };
    },

    renderCreateActiveModal: function () {
        shinobi.selfemployedaccountrender.activeModal("#allocateAccount", "#addAccountModal", "Phân bổ tài khoản");
        shinobi.selfemployedaccountrender.activeModal("#allocateFirstAccount", "#addAccountModal", "Phân bổ tài khoản");
        shinobi.selfemployedaccountrender.activeModal("#addAccountButton", "#addSelfEmployedAccountModal", "Thêm tài khoản tự doanh");
    },

    activeModal: function (activeButton, activeModal, titleModal) {
        var object = this;
        var button = document.querySelector(activeButton);
        button.onclick = function () {
            object.getListPm1NotAllotment();
            shinobi.mapping.clear(activeModal)

            var modal = document.querySelector(activeModal);
            modal.classList.add("is-active");
            shinobi.selfemployedaccountrender.settingCreateAccountModal(activeModal, titleModal);
            shinobi.selfemployedaccountrender.setUpPasswordInput(activeModal);
        }
    },

    settingCreateAccountModal: function (activeModal, titleModal) {
        var buttonCreate = document.querySelector(activeModal + " #createModal");
        var buttonSave = document.querySelector(activeModal + " #saveModal");

        buttonCreate.style.display = "block";
        buttonSave.style.display = "none";

        var title = document.querySelector(activeModal + " .modal-card-title");
        title.innerText = titleModal;
    },

    renderModifyButton: function () {
        shinobi.selfemployedaccountrender.getListPm1NotAllotment();
        var modal = document.querySelector("#addAccountModal");
        modal.classList.add("is-active");

        modal = "#addAccountModal";
        shinobi.selfemployedaccountrender.settingModifyAccountModal(modal);
        shinobi.selfemployedaccountrender.setUpPasswordInput(modal);
    },

    settingModifyAccountModal: function (modal) {
        var buttonCreate = document.querySelector(modal + " #createModal");
        var buttonSave = document.querySelector(modal + " #saveModal");

        buttonCreate.style.display = "none";
        buttonSave.style.display = "block";

        var title = document.querySelector(modal + " .modal-card-title");
        title.innerText = "username";
    },

    setUpPasswordInput: function (activeModal) {
        var inputLoginPassword = document.querySelector(activeModal + " #loginPassword input");
        var inputOrderPassword = document.querySelector(activeModal + " #orderPassword input");
        var buttonLoginPassword = document.querySelector(activeModal + " #loginPassword .button");
        var buttonOrderPassword = document.querySelector(activeModal + " #orderPassword .button");

        if (inputLoginPassword && inputOrderPassword) {
            shinobi.selfemployedaccountrender.showPassword(buttonLoginPassword, inputLoginPassword);
        }
        if (buttonLoginPassword && buttonOrderPassword) {
            shinobi.selfemployedaccountrender.showPassword(buttonOrderPassword, inputOrderPassword);
        }
    },

    showPassword: function (showButton, input) {
        input.setAttribute("type", "password");
        showButton.innerHTML = `<i class="fas fa-eye-slash"></i>`;

        showButton.onclick = function () {
            var value = input.getAttribute("type");
            if (value == "password") {
                input.setAttribute("type", "text");
                showButton.innerHTML = `<i class="fas fa-eye"></i>`;
            } else {
                input.setAttribute("type", "password");
                showButton.innerHTML = `<i class="fas fa-eye-slash"></i>`;
            }
        };
    },

    getListPm1NotAllotment: function () {
        var url = "/authenapi/PmManagementApi/findDataList";
        var allocationaccount = document.getElementById('selfemplyedaccountselection').value;
        var idDatalist = "listpmusername";
        var request = {
            recordPerPage: getRecordNumber(idDatalist),
        }
        if (!shinobi.selfemployedaccountrender.listPMUserName) {
            var datalist = new shinobi.datalist(idDatalist);
            shinobi.selfemployedaccountrender.listPMUserName = datalist
        };

        // datalist.staticfilters = [
        //     {
        //         "colname": "systemsubaccount", "operator": "=", "value": allocationaccount
        //     }]
        shinobi.selfemployedaccountrender.listPMUserName.initLoadApi(url, request);
    },
    renderFullnameAllocation: function (elem, value, all) {
        elem.setAttribute("value", value);
        elem.innerHTML = all.firstname + " " + all.lastname
    },
    renderModalButtons: function () {
        shinobi.selfemployedaccountrender.renderModelAllotment("#addAccountModal");
        shinobi.selfemployedaccountrender.renderModalEvent("#addSelfEmployedAccountModal");
    },


    renderModalEvent: function (modal) {
        shinobi.selfemployedaccountrender.renderEventCreateButton(modal);
        shinobi.selfemployedaccountrender.renderEventSaveButton(modal);
    },
    renderEventCreateButton: function (modal, json) {
        var url = "/authenapi/StockComAccountRegistrationApi/createAdminUser";
        var create = document.querySelector(modal + " #createModal");
        create.onclick = function () {
            shinobi.selfemployedaccountrender.getValueUser(modal, function (json) {
                listJson = {
                    "stockcom": json.stockcom,
                    "account": json.account,
                    "username": json.account,
                    "password": json.password,
                    "pincode": json.pincode,
                    "userid": "",
                    "name": json.name,
                };

                shinobi.notification.notification.loading();
                shinobi.api.request(url, JSON.stringify(listJson), function (res) {
                    shinobi.notification.notification.loaded();
                    shinobi.notification.notification.info('Thêm tài khoản thành công!');
                    setTimeout(function () {
                        window.location.reload();
                    }, 100)
                });
            });
        };
    },

    renderEventSaveButton: function (modal) {
        var create = document.querySelector(modal + " #saveModal");
        create.onclick = function () {
            shinobi.fragmentfindandaddaccountmanagementrender.getValue(modal, function (json) {
                console.log(json);
            });
        };
    },
    renderModelAllotment: function (modal) {
        var object = this;
        shinobi.selfemployedaccountrender.renderEventSaveAllotmentButton(modal);
        shinobi.selfemployedaccountrender.renderEventCreateAllotmentButton(modal);

    },
    renderEventSaveAllotmentButton: function (modal, json) {
        var object = this;
        var url = "/authenapi/AllocationManagementApi/setOriginSubAccountAllocation";
        var create = document.querySelector(modal + " #createModal");
        create.onclick = function () {
            shinobi.selfemployedaccountrender.getValue(modal, function (json) {

                var select = document.getElementById('selfemplyedaccountselection');
                var value = select.value;
                var optionChild = select.querySelector(`[value="${value}"]`);
                var subValue = optionChild.getAttribute('sub-value');
                var systemSubaccount = subValue;
                listJson = {
                    'systemsubaccount': systemSubaccount,
                    "startdate": json.startdate,
                    "enddate": json.enddate,
                    "profitcommisionratio": Number(json.profitcommisionratio) / 100,
                    "pmusername": json.pmusername,
                    "allocationratio": Number(json.allocationratio) / 100,

                };
                shinobi.notification.notification.loading();
                shinobi.api.request(url, JSON.stringify(listJson), function (res) {
                    shinobi.notification.notification.loaded();
                    shinobi.notification.notification.info('Thêm tài khoản thành công!');
                    setTimeout(function () {
                        window.location.reload();
                    }, 100)
                });
            });

        };
    },

    renderEventCreateAllotmentButton: function (modal) {
        var create = document.querySelector(modal + " #saveModal");
        create.onclick = function () {
            shinobi.fragmentfindandaddaccountmanagementrender.getValue(modal, function (json) {
                console.log(json);
            });
        };
    },


    getValue: function (selector, callback) {
        shinobi.mapping.getValue(selector, function (request) {
            !Object.values(request).includes("") ? callback(request) : shinobi.util.fillInputMessage();
        }, {
            checkEmpty: true,
        })
    },

    getValueUser: function (selector, callback) {
        shinobi.mapping.getValue(selector, function (request) {
            listJson = {
                "stockcom": request.stockcom,
                "account": request.account,
                "username": request.account,
                "password": request.password,
                "pincode": request.pincode,
                "name": request.name,
            };
            var json = listJson;

            delete json['pincode'];
            !Object.values(json).includes("") ? callback(listJson) : shinobi.util.fillInputMessage();
        }, {
            checkEmpty: true,
        })
    },

    createFirstAccount: function () {
        var button = document.querySelector("#addFirstAccountButton");
        button.onclick = function () {
            var modal = document.querySelector("#addSelfEmployedAccountModal");
            modal.classList.add("is-active");

            modal = "#addSelfEmployedAccountModal";
            shinobi.selfemployedaccountrender.settingCreateAccountModal(modal, "Thêm tài khoản tự doanh");
            shinobi.selfemployedaccountrender.setUpPasswordInput(modal);
        }
    },

    checkSeflEmployedAccountData: function () {
        shinobi.api.request("/authenapi/StockComAccountApi/getListOriginStockComAccount", '{}', function (res) {
            var data = JSON.parse(res);

            var table = document.querySelector("#selfEmployedTable");
            var noTable = document.querySelector("#noSelfEmployedAccount");
            shinobi.selfemployedaccountrender.checkDataRenderTable(data, table, noTable, true);
        });
    },

    checkAllotmentAccountData: function () {
        shinobi.selfemployedaccountrender.listDataLinkedPM(function (elem) {
            var request = {
                "recordPerPage": "5",
                "pageNum": 1,
                "filters": [
                    {
                        "colname": "systemsubaccount",
                        "operator": "=",
                        "value": elem.systemsubaccount,
                    }, {
                        "colname": "isactive",
                        "operator": "=",
                        "value": "true"
                    }
                ],
                "sorts": [],
            };
            var url = "/authenapi/OriginStockComAccountManagementApi/findDataList";

            shinobi.cacheapi.request(url, JSON.stringify(request), function (res) {
                res = JSON.parse(res);

                var table = document.querySelector("#allotmentTable");
                var noTable = document.querySelector("#noAccountPMTable");

                shinobi.selfemployedaccountrender.checkDataRenderTable(res.data, table, noTable, false);
            });
        });
    },

    listDataLinkedPM: function (callback) {
        var select = document.getElementById("selfemplyedaccountselection");
        var valueSelect = select.value;
        var request = {
            "systemaccount": valueSelect,
        };
        shinobi.cacheapi.request("/authenapi/StockComSubAccountApi/getListSubAccount", JSON.stringify(request), function (res) {
            res = JSON.parse(res);
            res.forEach(elem => {
                if (valueSelect == elem.systemaccount) {
                    callback(elem);
                    return;
                }
            });
        });
    },

    checkDataRenderTable: function (data, dataTable, nullTable, options) {
        console.log(data, data.length, (data.length));
        if (data.length) {

            if (data.length != 0) {
                dataTable.classList.remove("is-hidden");
                if (options) {
                    shinobi.selfemployedaccountrender.checkAllotmentAccountData();
                }
            }
        } else {
            nullTable.classList.remove("is-hidden");
        }
    },

    renderForTable: function () {
        var object = this;
        object.renderCompanySelect();
    },

    renderCompanySelect: function (idSelect = 'companyName') {
        var datalistId = idSelect;
        var url = "/api/StockComInfoApi/findDataList";

        var datalist = new shinobi.datalist(datalistId);

        var request = {
            recordPerPage: shinobi.util.getRecordNumber(datalistId),
            pageNum: 1,
        }
        datalist.initLoadApi(url, request);

        // shinobi.api.request(url, JSON.stringify(request), function (res) {
        //     res = JSON.parse(res);
        //     datalist.renderTable(res.data);
        // });
    },

    renderFullname: function (elem, value, all) {
        elem.setAttribute("value", value);
        elem.innerHTML = all.fullname
        elem.setAttribute('sub-value', all.tradingsubaccount)
    },

    renderFullnameStockCompany: function (elem, value, all) {
        elem.setAttribute("value", value);
        elem.innerHTML = all.fullname
        // elem.setAttribute('sub-value', all.tradingsubaccount);
        console.log('all', all, 'VALUE', value);
    },
    renderSelfEmployedAccountSelect: function (callback) {
        var datalistId = "selfemplyedaccountselection";
        var url = "/authenapi/StockComAccountApi/getListOriginStockComAccount";

        if (!shinobi.selfemployedaccountrender.dataSelfEmplyedAccountSelection) {
            var datalist = new shinobi.datalist(datalistId);
            shinobi.selfemployedaccountrender.dataSelfEmplyedAccountSelection = datalist;
        }

        var request = {
            recordPerPage: shinobi.util.getRecordNumber(datalistId),
            pageNum: 1,
        }
        // datalist.initLoadApi(url, request);

        shinobi.api.request(url, JSON.stringify(request), function (res) {
            res = JSON.parse(res);
            datalist.renderTable(res);

            let interval = setInterval(() => {
                (!shinobi.selfemployedaccountrender.dataSelfEmplyedAccountSelection.tableContainerNode) && clearInterval(interval);
                let optionList = datalist.tableNode.querySelectorAll('option');
                if (optionList.length >= res.length) {
                    shinobi.selfemployedaccountrender.selectLocalStorage();
                    res.forEach(item => {
                        if (document.querySelector("#selfemplyedaccountselection").value == item.systemaccount) {
                            shinobi.selfemployedaccountrender.checkChildAccount(item.systemaccount, item);
                            console.log('item account', item);
                            if (item.tradingsubaccount) {
                                shinobi.selfemployedaccountrender.renderLinkedPMTable(item.tradingsubaccount);
                            }
                            if (item.tradingsubaccount) {
                                shinobi.selfemployedaccountrender.checkPMAccount(true, item.tradingsubaccount);
                                shinobi.selfemployedaccountrender.getUnallocatedPercent();
                                shinobi.selfemployedaccountrender.getinfoUserAccount(item.tradingsubaccount)
                            } else {
                                shinobi.selfemployedaccountrender.checkPMAccount(false, "NoItem");
                            }
                        };
                    });

                    clearInterval(interval);
                }

            }, 100);

            if (callback) {
                callback();
            }
        });
    },

    checkChildAccount: function (requestValue, item, callback, disableReload) {
        console.log("requestValue", requestValue, "item", item);
        var url = "/authenapi/StockComAccountApi/checkHasConfigTradingSubAccount"
        var request = {
            "systemaccount": requestValue
        };
        console.log('requestValue', requestValue);
        window.localStorage.valueSelfEmployedAccountSelect = requestValue;
        shinobi.api.request(url, JSON.stringify(request), function (res) {
            var bool = JSON.parse(res);

            if (!bool) {
                shinobi.selfemployedaccountrender.loadListChildAccount(requestValue, item, callback, disableReload);
            } else {
                if (callback) {
                    callback();
                };
            }
        });
    },

    loadListChildAccount: function (requestValue, item, callback, disableReload) {
        var object = this;
        var tableId = "checkAccountUserModal";

        if (!object.colNames) {
            var colNames = shinobi.tableHelper.getColname(tableId);
        }
        var renders = shinobi.tableHelper.getRender(tableId);

        var url = '/authenapi/StockComSubAccountApi/getListSubAccount';
        var request = {
            "systemaccount": requestValue,
        };

        if (!shinobi.selfemployedaccountrender.checkaccountusermodal) {
            shinobi.selfemployedaccountrender.checkaccountusermodal = new shinobi.table(tableId);
        }

        shinobi.api.request(url, JSON.stringify(request), function (res) {
            shinobi.selfemployedaccountrender.checkaccountusermodal.renderTable(colNames, JSON.parse(res), renders);
        })

        var titleModal = document.querySelector("#confirmDealAccountModal header .has-fullname");
        var notiModal = document.querySelector("#confirmDealAccountModal section .has-fullname");
        if (item.fullname) {
            titleModal.innerHTML = `Cấu hình tài khoản ${item.fullname}`
            notiModal.innerHTML = `*Xác định tài khoản giao dịch của ${item.fullname}`
        } else {
            titleModal.innerHTML = `Cấu hình tài khoản ${item.name}`
            notiModal.innerHTML = `*Xác định tài khoản giao dịch của ${item.name}`
        }


        var confirmDealAccountModal = document.getElementById("confirmDealAccountModal");
        confirmDealAccountModal.classList.add("is-active");
        shinobi.selfemployedaccountrender.stopOutModal(confirmDealAccountModal);
        shinobi.selfemployedaccountrender.submitChildAccount(requestValue, item, disableReload, callback);
    },

    stopOutModal: function (modalSelector) {
        console.log(modalSelector);
        var background = modalSelector.querySelector(".modal-background")
        if (modalSelector.classList.contains("is-active")) {
            background.onclick = function () {
                shinobi.notification.notification.error("Vui lòng cấu hình trước khi tắt cửa sổ");
            }
        }
    },

    chooseDealAccount: function (cell, row, col, all) {
        value = cell.innerHTML;
        if (row == 0) {
            cell.innerHTML = `
            <div class="has-text-centered">
                <label class="radio">
                    <input type="radio" name="dealAccount" snb-key="systemsubaccount" radio-value="${value}" checked>
                </label>
            </div>`
        } else {
            cell.innerHTML = `
            <div class="has-text-centered">
                <label class="radio">
                    <input type="radio" name="dealAccount" snb-key="systemsubaccount" radio-value="${value}">
                </label>
            </div>`
        }
    },

    inputFeeForDealAccount: function (cell, row, col, all) {
        cell.innerHTML =
            `
        <input class="input is-small has-text-right feeDealAccountInput" snb-key="feeInput">
        `
    },

    inputTaxForDealAccount: function (cell, row, col, all) {
        cell.innerHTML =
            `
        <input class="input is-small has-text-right taxDealAccountInput" snb-key="taxInput">
        `
    },

    getValueDealAccountModal: function (selector, callback) {
        shinobi.mapping.getValue(selector, function (request) {
            var modal = document.querySelector(selector);
            console.log("selector", selector, modal);
            var json = request;
            // delete json['feeInput'];
            // delete json['taxInput'];

            !Object.values(json).includes("") ? callback(request) : shinobi.util.fillInputMessage();
        }, {
            checkEmpty: true,
        })
    },

    submitChildAccount: function (requestValue, item, disableReload, callback) {
        var button = document.querySelector("#confirmDealAccount");
        button.onclick = function () {
            shinobi.selfemployedaccountrender.getValueDealAccountModal("#confirmDealAccountModal", function (json) {

                var request = shinobi.selfemployedaccountrender.getRequestRowSelectedTableSubAccount(requestValue, json);
                shinobi.selfemployedaccountrender.getRequestAllRowTableSubAccount(requestValue, json, item, function (requestAll) {

                    shinobi.selfemployedaccountrender.systemsubaccount = request.systemsubaccount;
                    if (json.systemsubaccount) {
                        shinobi.selfemployedaccountrender.getUpdatePersonalTradingConfig(request, requestAll, disableReload, callback);
                    } else {
                        shinobi.notification.notification.error('Vui lòng chọn tài khoản giao dịch!');
                    }
                });


            });
        }
    },

    getRequestRowSelectedTableSubAccount: function (requestValue, json) {
        var request = {
            "systemaccount": requestValue,
            "systemsubaccount": json.systemsubaccount,
        };
        return request;
    },

    getRequestAllRowTableSubAccount: function (requestValue, json, item, callback) {
        console.log('item item', item);
        shinobi.selfemployedaccountrender.getinfoUserAccount(item.tradingsubaccount, function (info) {
            // console.log('info', info, info.account);
            var jsonList = [];
            for (var index = 0; index < index + 1; index++) {
                var array = [];
                var snbList = document.querySelectorAll(`#checkAccountUserModal [rowid="${index}"] [snb-key]`)
                if (snbList.length) {
                    snbList.forEach(snb => {
                        var radioV = snb.getAttribute("radio-value");
                        if (radioV) {
                            array.push(radioV);
                        } else {
                            array.push(snb.value);
                        };
                    });
                    var stringBancode = {
                        "bancode": JSON.stringify(shinobi.selfemployedaccountrender.getBanCode()),
                    }

                    if (isNaN(Number(array[1]))) {
                        jsonList = [];
                        break;
                    }

                    if (isNaN(Number(array[2]))) {
                        jsonList = [];
                        break;
                    }

                    if (!item.stockcompany) {
                        item.stockcompany = item.stockcom;
                    }

                    // if (!item.account) {

                    // }

                    console.log("requestValue list", requestValue);

                    var request = {
                        "account": item.account,
                        "systemaccount": requestValue,
                        "systemsubaccount": array[0],
                        "stockcom": item.stockcompany,
                        "fee": Number(array[1]) / 100,
                        "tax": Number(array[2]) / 100,
                        "bancode": JSON.stringify(stringBancode),
                    };

                    console.log(request);

                    jsonList.push(request);
                } else { break; }
            }
            if (callback) {
                callback(jsonList)
            }
        });

    },

    getUpdatePersonalTradingConfig: function (request, requestAll, disableReload, callback) {
        console.log("rq updatePersonalTradingConfig", requestAll);

        if (requestAll.length) {
            requestAll = {
                "subaccountlist": requestAll,
            }

            shinobi.api.request("/authenapi/StockComAccountApi/updatePersonalTradingConfig", JSON.stringify(requestAll), function (res) {
                shinobi.notification.notification.loaded();
                console.log("Cập nhật thuế phí", res);
                if (res == "update success") {
                    shinobi.notification.notification.info('Cập nhật thuế phí thành công!');
                    setTimeout(function () {
                        shinobi.selfemployedaccountrender.getInfoConfigTradingSubAccount(request, disableReload, callback);
                    }, 1000)
                } else {
                    shinobi.notification.notification.error('Cập nhật thuế phí thất bại!');
                }
            });
        } else {
            shinobi.notification.notification.error('Giá trị nhập chưa đúng!');
        }
    },

    getInfoConfigTradingSubAccount: function (request, disableReload, callback) {
        console.log("rq configTradingSubAccount", request);

        shinobi.api.request("/authenapi/StockComAccountApi/configTradingSubAccount", JSON.stringify(request), function (res) {
            shinobi.notification.notification.loaded();
            shinobi.notification.notification.info('Cấu hình tài khoản thành công!');
            if (!disableReload) {
                setTimeout(function () {
                    window.location.reload();
                }, 2000)
            } else {
                document.getElementById('confirmDealAccountModal').classList.remove('is-active');
                if (callback) {
                    callback(request.systemsubaccount);
                }
            }
        });
    },

    addEventCheckAccountSelect: function () {
        var select = document.querySelector("#selfemplyedaccountselection");
        select.onchange = function () {
            var datalistId = "selfemplyedaccountselection";
            var url = "/authenapi/StockComAccountApi/getListOriginStockComAccount";

            var request = {
                recordPerPage: shinobi.util.getRecordNumber(datalistId),
            }

            shinobi.api.request(url, JSON.stringify(request), function (res) {
                res = JSON.parse(res);

                res.forEach(item => {
                    if (document.querySelector("#selfemplyedaccountselection").value == item.systemaccount) {
                        shinobi.selfemployedaccountrender.checkChildAccount(item.systemaccount, item);
                        if (item.tradingsubaccount) {
                            shinobi.selfemployedaccountrender.renderLinkedPMTable(item.tradingsubaccount);
                        }
                        if (item.tradingsubaccount) {
                            shinobi.selfemployedaccountrender.checkPMAccount(true, item.tradingsubaccount);
                            shinobi.selfemployedaccountrender.getUnallocatedPercent();
                            shinobi.selfemployedaccountrender.getinfoUserAccount(item.tradingsubaccount)
                        } else {
                            shinobi.selfemployedaccountrender.checkPMAccount(false, "NoItem");
                        }
                    };
                })
            });
        }
    },

    checkPMAccount: function (boolean, tradingsubaccount) {
        var nullTable = document.querySelector("#noAccountPMTable");
        var dataTable = document.querySelector("#allotmentTable");
        if (boolean) {
            var url = "/authenapi/OriginStockComAccountManagementApi/findDataList"
            var request = {
                "recordPerPage": "5",
                "pageNum": 1,
                "filters": [
                    {
                        "colname": "systemsubaccount",
                        "operator": "=",
                        "value": tradingsubaccount,
                    }, {
                        "colname": "isactive",
                        "operator": "=",
                        "value": "true"
                    }
                ],
                "sorts": []
            }

            shinobi.cacheapi.request(url, JSON.stringify(request), function (res) {
                json = JSON.parse(res);
                if ((json.data).length) {
                    nullTable.classList.add("is-hidden");
                    dataTable.classList.remove("is-hidden");
                } else {
                    nullTable.classList.remove("is-hidden");
                    dataTable.classList.add("is-hidden");
                }
            });
        } else {
            nullTable.classList.remove("is-hidden");
            dataTable.classList.add("is-hidden");
        }
    },

    renderLinkedPMTable: function (systemsubaccount) {
        var datalistId = "linkedpmaccounttable";
        var url = "/authenapi/OriginStockComAccountManagementApi/findDataList";

        var colNames = shinobi.tableHelper.getColname(datalistId);
        var renders = shinobi.tableHelper.getRender(datalistId);

        var datalist = new shinobi.table(datalistId);
        shinobi.selfemployedaccountrender.table1 = datalist;
        // datalist.staticsorts = sortDefault;
        datalist.staticfilters = [
            {
                "colname": "systemsubaccount",
                "operator": "=",
                "value": systemsubaccount,
            }, {
                "colname": "isactive",
                "operator": "=",
                "value": "true",
            }
        ];

        var request = {
            recordPerPage: shinobi.util.getRecordNumber(datalistId),
        }

        let hiddenWarningSection = (datalistInput) => {
            let section = document.getElementById('noAccountPMTable');
            setTimeout(
                function () {
                    (datalistInput.tableRows.length > 0) ?
                        section.classList.add('is-hidden')
                        :
                        section.classList.remove('is-hidden')
                }, 300);
        }

        datalist.initLoadApi(url, request, colNames, renders, {
            callback: () => hiddenWarningSection(datalist)
        });
    },

    selectLocalStorage: function () {
        var valueLocal = window.localStorage.valueSelfEmployedAccountSelect;
        var select = document.querySelector("#selfemplyedaccountselection");
        var optionList = select.querySelectorAll('option');
        optionList.forEach(elem => {
            if (valueLocal == elem.value) {
                select.value = valueLocal;
            }
        })

    },

    getUnallocatedPercent: function () {
        var unallocatedPercent = document.getElementById("unallocatedPercent");

        var selector = document.getElementById("selfemplyedaccountselection");
        var valueSelector = selector.value;

        var optionList = selector.querySelectorAll("option");
        optionList.forEach(item => {
            var value = item.getAttribute("value");
            var subValue = item.getAttribute("sub-value");

            if (value == valueSelector) {
                if (subValue == "undefined") {
                    subValue = "";
                }

                if (subValue) {
                    var url = "/authenapi/AllocationManagementApi/getTradingUnallocatedRatio"
                    var request = {
                        "systemsubaccount": subValue,
                    }
                    shinobi.cacheapi.request(url, JSON.stringify(request), function (res) {
                        var percent = Number(res) * 100;
                        unallocatedPercent.innerHTML = `${shinobi.util.formatNumber(percent)}%`;
                    });
                }
            }
        });
    },

    getinfoUserAccount: function (subAccount, callback) {
        var url = '/authenapi/StockComAccountApi/getStockComAccountInfo';
        var request = {
            "recordPerPage": "10", "pageNum": 1,
            systemsubaccount: subAccount,
        };
        shinobi.api.request(url, JSON.stringify(request), function (res) {
            res = JSON.parse(res);
            console.log(res);
            var elem = document.getElementById('nameuser');
            shinobi.mapping.renderElement(elem, res);
            if (callback) {
                callback(res);
            }
        });
    },

    createMultivalueStructure: function () {
        shinobi.selfemployedaccountrender.multivalueinput = new shinobi.multivalueinput(
            'input[snb-key="bancode"]', {
            buildSearch: function (object) {
                object.inputSearch.setAttribute('placeholder', 'Thêm mã');
                object.inputSearch.setAttribute('type', 'text');
                new shinobi.autocomplete('#selectorInputSearch', {
                    onSearch: (input, resolve) => {
                        input = input.toUpperCase();
                        var inputContainer = document.getElementById("selectorInputSearch");
                        inputContainer.value = inputContainer.value.toUpperCase();

                        if (input.length < 1) { resolve([]) }
                        var url = "/api/PriceBoardApi/findDataList";
                        var request = {
                            "recordPerPage": "20",
                            "pageNum": 1,
                            "filters": [{ 'colname': 'stocksymbol', 'operator': 'like', 'value': input }]
                        }

                        shinobi.api.request(url, JSON.stringify(request), function (res) {
                            var array = JSON.parse(res).data;
                            resolve(array);
                        });


                    },
                    autoSelect: true,
                    getResultValue: result => {
                        return result.stocksymbol.toUpperCase();
                    },
                    onSubmit: (result) => {
                        object.appendChildItem(result, object);
                        object.inputSearch.value = '';
                    },
                    renderResult: (result, props) => {
                        return `
                          <li ${props}>
                              <div class="title has-text-primary is-size-5">
                             ${result.stocksymbol}
                              </div>
                              <div class="subtitle">${result.securityname}</div>
                          </li>`
                    },
                });
            },
            renderItem: function (result) {
                result = JSON.parse(result).stocksymbol;
                return result;
            },
        });
    },

    appendChildItem: function (object) {
        var result = object.inputSearch.value.trim();
        if (result.length >= 3) {
            object.appendChildItem(result, object);
            object.inputSearch.value = '';
        }
    },

    getStockList: function (input) {
        if (input.trim() == '') {
            return [];
        } else {
            var list = input.split(',');
            list.forEach(function (item, index) {
                list[index] = item.substring(1, item.length - 1);
            })
            return list;
        }
    },

    renderListInput: function (elem, value, all) {
        var object = shinobi.selfemployedaccountrender.multivalueinput;
        elem.value = value;
        var listItem = value;
        shinobi.selfemployedaccountrender.resetElemMultivalue();

        listItem.forEach(result => {
            shinobi.selfemployedaccountrender.multivalueinput.appendChildItem(result, object);
        });
    },

    getBanCode: function () {
        var arrayResult = [];
        var result = shinobi.selfemployedaccountrender.multivalueinput.result;
        result.forEach(elem => {
            try {
                elem = JSON.parse(elem);
                elem = elem.stocksymbol
                arrayResult.push(elem);
            } catch (e) { }
        });
        return arrayResult;
    },
};shinobi.setnewpasswordrender = {

	build: function () {

		var submitButton = document.getElementById("submitButton");

		document.querySelector('#ipRepassword').addEventListener('keypress',
			function (e) {
				var key = e.which || e.keyCode;
				if (key === 13) {
					shinobi.setnewpasswordrender.submit();

				}
			});

		submitButton.onclick = function () {
			shinobi.setnewpasswordrender.submit();
		}

	},

	submit: function () {

		var ipPassword = document.getElementById("ipPassword");
		var ipRepassword = document.getElementById("ipRepassword");

		var password = ipPassword.value.trim();
		var rePassword = ipRepassword.value.trim();

		if (password == "" || rePassword == "") {

			alert("Vui lòng nhập đầy đủ thông tin!");
			return;
		} else {

			var checkInput = shinobi.setnewpasswordrender.checkInput(password,
				rePassword);

			if (checkInput == false) {

				return;
			} else {

				var pathname = window.location.pathname;

				var listPathnameSplit = pathname.split("/");

				var id = listPathnameSplit[3];

				var setcode = listPathnameSplit[4];

				var request = {};

				request.password = shinobi.util.sha256(password);
				request.verifypassword = shinobi.util.sha256(rePassword);
				request.id = id;
				request.randomstring = setcode;

				shinobi.api
					.request(
						"/api/UserApi/sendRequestRecoveryPassword",
						JSON.stringify(request),
						function (response) {
							shinobi.notification.notification
								.info("Đặt lại mật khẩu thành công!");

							window.location.href = "/page/index";

						});
			}
		}
	},

	checkInput: function (password, rePassword) {

		if (password.trim() != rePassword.trim()) {

			alert("Mật khẩu và xác nhận mật khẩu không giống nhau!");

			return false;
		}

		if (password.trim().value < 4 || password.trim().value > 15
			|| rePassword.trim().value < 4 || rePassword.trim().value > 15) {

			alert("Độ dài mật khẩu không hợp lệ! Chiều dài từ 4 đến 15 kí tự tối thiểu 2 chữ cái và 2 con số!");

			return false;
		}

		var passwordString = password.toString();

		console.log(passwordString)
		var countNumberInPassword = shinobi.util
			.countNumberInInput(passwordString);
		var countTextCharacterInPassword = shinobi.util
			.countTextCharacterInInput(passwordString);

		if (countNumberInPassword < 2 || countTextCharacterInPassword < 2) {

			alert("Mật khẩu không hợp lệ! Tối thiểu 2 chữ cái và 2 con số!");

			return false;

		}

		return true;

	}
};shinobi.socketmanager = {
  publicWebSocket: "",
  privateWebSocket: "",
  closeNotice5MinuteTimeout: "",
  noticeRemainTimeSound: "",

  socketMessage: {
    public: [],
    private: [],
  },
  init: function () {
    shinobi.config.getConfig();
    /*shinobi.socketmanager.noticeRemainTimeSound = new Audio('/static/audio/lottery-sound.mp3');*/
    // if (shinobi.socketmanager.publicWebSocket == "") {
    //   shinobi.socketmanager.publicWebSocket = "loading";
    //   shinobi.socketmanager.createWebSocketPublic();
    // }
    // if (shinobi.socketmanager.privateWebSocket == "") {
    //   shinobi.socketmanager.privateWebSocket = "loading";
    //   shinobi.socketmanager.createWebSocketPrivate();
    // }
    // shinobi.socketmanager.addEventSocketPublicProcess();
    // shinobi.socketmanager.addEventSocketPrivateProcess();
  },

  addEventSocketPublicProcess: function () {
    setInterval(function () {
      if (shinobi.socketmanager.socketMessage.public.length > 0) {
        var item = shinobi.socketmanager.socketMessage.public.shift();
        switch (item.messagetype) {
          case "PRICEBOARD_DETAIL":
            shinobi.socketmanager.updatePriceBoardDetail(item);
            break;
          case "PRICEBOARD_OVERVIEW":
            shinobi.socketmanager.updatePriceBoardOverview(item);
            break;
          case "MARKET_STATUS":
            shinobi.socketmanager.updateMarketStatus(item);
            break;
          case "MARKET_DATE":
            shinobi.indexrender.renderMarketDateData(JSON.parse(item.data));
            break;
          case "SJC_PRICE":
            shinobi.indexrender.renderMarketSjcPriceData(JSON.parse(item.data));
            break;
          case "GOLD_SPOT":
            shinobi.indexrender.renderMarketGoldSpotData(JSON.parse(item.data));
            break;

          default:
            break;
        }
      }
    }, 100);
  },

  addEventSocketPrivateProcess: function () {
    setInterval(function () {
      if (shinobi.socketmanager.socketMessage.private.length > 0) {
        var item = shinobi.socketmanager.socketMessage.private.shift();
        var type = item.hasOwnProperty("messagetype") ? item.messagetype : item.type;
        switch (type) {
          case "USER_ONLINE_STATUS":
            shinobi.userstatus.updateUserStatusProcess(item);
            break;
          case "PRICEBOARD_PRIVATE_DETAIL":
            var data = JSON.parse(item.data);
            shinobi.priceboardcontrol.updateUserId(data);
            break;
          case "notification":
            shinobi.usernotificationrender.updateNotificationBadge();
            break;
          default:
            break;
        }
      }
    }, 10);
  },

  updatePriceBoardDetail: function (item) {
    var priceboardDetailMessageList = JSON.parse(item.data);
    shinobi.priceboardcontrol.socketQueue = shinobi.priceboardcontrol.socketQueue.concat(priceboardDetailMessageList);
  },

  updateMarketStatus: function (item) {
    shinobi.indexrender.renderMarketStatusData(item.data);
  },

  updatePriceBoardOverview: function (item) {
    var priceboardDetailMessageList = JSON.parse(item.data);
    shinobi.priceboardcontrol.socketQueue = shinobi.priceboardcontrol.socketQueue.concat(priceboardDetailMessageList);
  },

  createWebSocketPrivate: function () {
    shinobi.socketmanager.privateWebSocket = "loading";
    shinobi.util.checkAuthen(function (username) {

      if (username) {
        shinobi.message.connectSocketServer(function () {
          shinobi.message.connect(
            shinobi.config.current.imserver,
            function () {
              // shinobi.message.socket.send(requestMessage);
            },
            {
              onMessage: function (data) {
                shinobi.socketmanager.socketMessage.private = shinobi.socketmanager.socketMessage.private.concat(data);
              },
            }
          );
          shinobi.socketmanager.privateWebSocket = shinobi.message;
          shinobi.socketmanager.disconnectContainer = shinobi.util.addEventInternetConnection();
          shinobi.socketmanager.checkPrivateSocketDisconnect();
        });

      } else {
        shinobi.socketmanager.privateWebSocket = "";
      }
    });
  },
  createWebSocketPublic: function () {
    shinobi.socketmanager.publicWebSocket = new shinobi.socket({
      url: shinobi.config.current.publicWebSocketUrl,
      onMessage: function (data) {
        shinobi.socketmanager.socketMessage.public = shinobi.socketmanager.socketMessage.public.concat(data);
      },
    });
    shinobi.socketmanager.disconnectContainer = shinobi.util.addEventInternetConnection();
    shinobi.socketmanager.checkPublicSocketDisconnect();

  },
  checkPrivateSocketDisconnectCount: 0,
  checkPublicSocketDisconnectCount: 0,
  checkPrivateSocketDisconnect: function () {
    let currentSocket = shinobi.socketmanager.privateWebSocket.socket;
    setTimeout(function () {
      if (currentSocket.readyState == currentSocket.OPEN) {
        shinobi.socketmanager.checkPrivateSocketDisconnectCount = 0;
      } else {
        shinobi.socketmanager.checkPrivateSocketDisconnectCount += 1;
      }
      var internetConnection = shinobi.util.internetConnection;
      var socketConnection;
      if (shinobi.socketmanager.checkPrivateSocketDisconnectCount < 5
        && shinobi.socketmanager.checkPublicSocketDisconnectCount < 5) {
        socketConnection = true;
      } else {
        socketConnection = false;
      }
      if (internetConnection) {
        if (socketConnection) {
          shinobi.socketmanager.disconnectContainer.classList.remove('is-active');
        } else {
          shinobi.socketmanager.disconnectContainer.classList.add('is-active');
        }
      }
      shinobi.socketmanager.checkPrivateSocketDisconnect();
    }, 1000);
  },
  checkPublicSocketDisconnect: function () {
    setTimeout(function () {
      if (shinobi.socketmanager.publicWebSocket.socket.readyState == shinobi.socketmanager.publicWebSocket.socket.OPEN) {
        shinobi.socketmanager.checkPublicSocketDisconnectCount = 0;
      } else {
        shinobi.socketmanager.checkPublicSocketDisconnectCount += 1;
      }
      var internetConnection = shinobi.util.internetConnection;
      var socketConnection;
      if (shinobi.socketmanager.checkPublicSocketDisconnectCount < 5) {
        socketConnection = true;
      } else {
        socketConnection = false;
      }
      if (internetConnection) {
        if (socketConnection) {
          shinobi.socketmanager.disconnectContainer.classList.remove('is-active');
        } else {
          shinobi.socketmanager.disconnectContainer.classList.add('is-active');
        }
      }
      shinobi.socketmanager.checkPublicSocketDisconnect();
    }, 1000);
  },

};
shinobi.stocomorderrender = {
    build: function () {
        var object = this;
        object.toggerCheckboxOrder();
        object.addEventCancelOrder();
    },
    addEventCancelOrder: function () {
        var object = this;
        var buttonCancel = document.getElementById('cancelorderbutton');
        var array = [];
        buttonCancel.onclick = function () {
            shinobi.notification.confirm(function () {
                var checkALl = document.getElementById('tickallorder');

                var listCheckbox = document.querySelectorAll('[snb-key-checkbox]');
                if (checkALl.checked) {
                    array.push('ALL');
                } else {
                    listCheckbox.forEach(input => {
                        if (input.checked) {
                            var value = input.getAttribute('snb-key-checkbox');
                            array.push(value);
                        }
                    })
                }
                object.cancelOrder(array);
            }, {
                title: 'Xác nhận',
                content: "Bạn muốn xác nhận hủy lệnh?",
                yesConent: "Xác nhận",
            })


        };
    },
    cancelOrder: function (list) {
        var url = "/authenapi/CreateSignalApi/cancelSignal";
        var selectSubAccount = document.getElementById('selectPM').value;
        var request = {
            allocationaccount: selectSubAccount,
            ordertype: "CANCEL",
            signaltype: "COPYTRADE",
            orderlist: list
        }
        shinobi.api.request(url, JSON.stringify(request), function (res) {
            shinobi.notification.notification.info('Hủy lệnh thành công !');
            shinobi.portfoliouserrender.build(selectSubAccount);

        })
    },
    toggerCheckboxOrder: function () {
        var elem = document.getElementById('tickallorder');
        elem.onchange = function () {
            console.log('change');
            var listCheckbox = document.querySelectorAll('[snb-key-checkbox]');
            console.log(listCheckbox);
            listCheckbox.forEach(input => {
                if (elem.checked) {
                    input.checked = true
                } else {
                    input.checked = false

                }
            })

        };

    },
};shinobi.tableordersignalrender = {
    orderSignalTable: '',
    build: function (systemsubaccount) {
        var object = this;
        object.renderTableAssetUser(systemsubaccount);

    },

    renderTableAssetUser: function (valueAccount) {
        var datalistId = "tableordersignal";

        var colNames = shinobi.tableHelper.getColname(datalistId);
        var renders = shinobi.tableHelper.getRender(datalistId);

        if (!shinobi.tableordersignalrender.orderSignalTable) {
            shinobi.tableordersignalrender.orderSignalTable = new shinobi.table(datalistId);
        }

        var url = '/authenapi/SignalListApi/getSignalList';
        var request = {
            recordPerPage: shinobi.util.getRecordNumber(datalistId),
        };

        shinobi.tableordersignalrender.orderSignalTable.staticfilters = [
            {
                'colname': 'allocationaccount',
                'operator': '=',
                'value': `${valueAccount}`,

            }
        ];

        shinobi.tableordersignalrender.orderSignalTable.initLoadApi(url, request, colNames, renders);
    },

    renderStatusChildSetting: function (cell, row, col, all) {
        var value = cell.innerHTML;

        if (shinobi.ordercommandmanagementrender.childStatusOrder[`${value}`]) {
            value = shinobi.ordercommandmanagementrender.childStatusOrder[`${value}`];
        };

        if (value == "Thành công") {
            cell.innerHTML = `<div class="has-text-centered has-text-success">${value}</div>`;
        } else if (value == "Thất bại") {
            cell.innerHTML = `<div class="has-text-centered has-text-danger">${value}</div>`;
        } else {
            cell.innerHTML = `<div class="has-text-centered">${value}</div>`;
        }
    },

    formatDescription: function (cell, row, col, all) {
        var value = cell.innerHTML;
        value = shinobi.ordercommandmanagementrender.renderNoticeSub(value);

        cell.innerHTML = `<div class="order-command-notice is-italic"> ${value} </div>`;
    },

    formatFullname: function (cell, row, col, all) {
        var value = cell.innerHTML;

        cell.innerHTML = `<div class="has-text-centered" value="${value}"> ${all[row].fullname} </div>`;
    },
};shinobi.tradingsystemrender = {
  listOrder: [
    'LO',
    'ATO',
    'ATC',
    'MP'
  ],
  currentStock: "",
  tableStocComOrder: "",
  interval: '',
  currentPrice: '',
  classSell: 'is-active-sell',
  classBuy: 'is-active-buy',
  stepVolume: 100,
  contentOrderBuy: 'MUA',
  contentOrderSell: ' BÁN',
  init: function () {
    var object = this;
    var fieldSetVolume = '#setvolume';
    var fielSetPrice = '#setprice'

    object.addEventStepVolume(fieldSetVolume);
    object.addEventStepPrice(fielSetPrice);
    object.addDropdowMenu();
    shinobi.portfoliousermenurender.build();
    object.addEventActiveBuySell();
    object.addEventSearchUser();
    object.addEventSearchStock();
    // document.querySelector('#indexlink a').classList.add('is-active');
    object.activeTab();
    object.getAllVirtualSubaccount();
    object.initTradingviewStock('VNINDEX');
    shinobi.stocomorderrender.build();
    object.setUpOrderValueTab();
    object.activeSelectOptionCopytrade();
    object.renderRadioButtonEvent();

    object.createStruct(function () {

      object.submitOrderCommand();

    });
  },
  createStruct: function (callback) {
    var selectTypeCopyTrade = document.getElementById('selecttypeorder');
    getUserInfo(function (res) {
      if (res.usertype == "PM") {
        selectTypeCopyTrade.value = 'COPYTRADE';

      }
      if (callback) {
        callback();
      }
    })

  },
  activeSelectOptionCopytrade: function () {
    var selectCopytrade = document.getElementById('containerselectcompytrade');
    getUserInfo(function (res) {
      if (res.usertype == "PMALADIN") {
        selectCopytrade.classList.remove('is-hidden');
      }
    })
  },
  activeTab: function () {
    getUserInfo(function (response) {
      var infoUser = response;
      var usertype = infoUser.usertype;
      var tab = document.querySelector(`#menuleft [value="${usertype}"] a[href="/private/tradingsystem"`);
      tab.classList.add("is-active");
    });
  },
  setCurrentPrice: function (elem, value, all) {
    shinobi.tradingsystemrender.currentPrice = value;
  },
  getInput: function (callback) {
    var object = this;
    shinobi.mapping.getValue('#containertrading', function (json) {

      var request = {};
      var allocationaccount = document.getElementById('selectPM').value;
      var side = object.getOrderType();
      request.allocationaccount = allocationaccount;
      request.side = side;
      request.stockcode = json.stocksymbol;
      if (isNaN(json.currentprice)) {
        request.ordertype = json.currentprice;
        request.price = json.currentprice;
      } else {
        request.ordertype = "LO";
        request.price = json.currentprice;
      }
      request.volume = json.currentweight;
      request.signaltype = json.signaltype;
      if (request.stockcode == '') {
        shinobi.notification.notification.error('Vui lòng nhập mã chứng khoán !');
      } else {
        if (request.currentprice == '') {
          shinobi.notification.notification.error('Vui lòng nhập giá mua bán !');

        } else {
          if (request.volume == '') {
            shinobi.notification.notification.error('Vui lòng nhập khối lượng');
          } else {
            callback(request);
          }
        }
      }
    });
  },
  getOrderType: function () {
    var object = this;
    var container = document.getElementById('containertrading');

    if (container.classList.contains(object.classBuy)) {
      return 'BUY';
    } else {
      return "SELL"
    }

  },
  getAllVirtualSubaccount: function () {
    var object = this;

    var url = "/authenapi/SystemUserApi/getListAllocationAccount";
    var selectSubaccount = document.getElementById('selectPM');
    var request = {};
    shinobi.api.request(url, JSON.stringify(request), function (res) {
      res = JSON.parse(res).data;
      res.forEach(item => {
        var option = document.createElement('option');
        option.setAttribute('value', item.account);
        option.innerHTML = item.fullname;
        selectSubaccount.appendChild(option);
      });
      if (selectSubaccount.value) {
        var allocationaccount = shinobi.util.getAllSearchInPath().allocationaccount;
        if (allocationaccount) {
          document.getElementById('selectPM').value = allocationaccount;
          var jumpId = "portfoliousermenu";
          if (jumpId) {
            var elem = document.getElementById(jumpId);
            var newOffset = elem.offsetTop - Number(shinobi.util.getFontSize()) * 4;
            var offset = newOffset > 0 ? newOffset : 0;
            document.body.scrollTop = offset;
            document.documentElement.scrollTop = offset;
          }

          var orderSignal = document.querySelector('#portfoliousermenu [value="tableordersignal"]');
          orderSignal.click();
        };

        object.addEventSelectChange();
      }
    });
  },
  addEventSelectChange: function () {
    var object = this;
    var select = document.getElementById('selectPM');
    shinobi.tradingsystemrender.setCurrentAllocationAccount(select.value);
    setInterval(() => {
      var select = document.getElementById('selectPM');
      var value = select.value;
      if (value) {
        object.getValuePurchasingPower(select.value);
      };
    }, 1000);
    shinobi.portfoliouserrender.build(select.value);
    shinobi.tableordersignalrender.build(select.value);
    shinobi.assetuserrender.build(select.value);
    shinobi.accountefficiencyuserrender.build(select.value);
    shinobi.tradingsystemrender.updateAllocationAccountInfo(select.value);
    select.onchange = function () {
      object.updatePage(select.value);
    };
  },
  updatePage: function (value) {
    shinobi.tradingsystemrender.setCurrentAllocationAccount(value);
    shinobi.portfoliouserrender.table.paramsRequestList = { "allocationaccount": value };
    shinobi.portfoliouserrender.table.reloadApi(1, { loading: false });

    shinobi.portfoliouserrender.tableHistory.paramsRequestList = { "allocationaccount": value };
    shinobi.portfoliouserrender.tableHistory.staticfilters = [
      {
        "colname": "allocationaccount",
        "operator": "=",
        "value": value
      },
    ];
    shinobi.portfoliouserrender.tableHistory.reloadApi(1, { loading: false });

    shinobi.accountefficiencyuserrender.renderAccountEfficiencyUser(value);

    shinobi.tableordersignalrender.build(value);
    shinobi.tradingsystemrender.updateAllocationAccountInfo(value);

    document.getElementById('updateAllocationAccountAssetButton').click();
  },

  setCurrentAllocationAccount(value) {
    localStorage.setItem('currentAllocationAccount', value);
  },

  getCurrentAllocationAccount() {
    return localStorage.getItem('currentAllocationAccount');
  },

  updateAllocationAccountInfo(value) {
    shinobi.mapping.clear('#PMInfoPanel');
    shinobi.cacheapi.request('/authenapi/AllocationAccountRelatedInfoApi/getFollowingPMInfo',
      JSON.stringify({ "allocationaccount": value }),
      (res) => {
        let data = JSON.parse(res);
        shinobi.mapping.render('#PMInfoPanel', res);
      });

    shinobi.mapping.clear('#allocationAccountInfo');
    shinobi.cacheapi.request('/authenapi/AllocationAccountRelatedInfoApi/getStockComAccountAndAllocationInfo',
      JSON.stringify({ "allocationaccount": value }),
      (res) => {
        let data = JSON.parse(res);
        console.log(data);
        shinobi.mapping.render('#allocationAccountInfo', res);
      });
  },

  getValuePurchasingPower: function (account) {
    var elem = document.getElementById('couldbuy');
    var url = "/authenapi/SystemUserApi/getPuchasingPower";
    // account = 'VPS_318467_N_1';
    var request = { "account": account };
    shinobi.api.request(url, JSON.stringify(request), function (res) {
      elem.innerHTML = shinobi.util.formatNumber(res);
    });
  },
  getValueStocsympol: function () {
    var object = this;


    interval = setInterval(function () {
      if (object.currentStock) {
        var url = "/api/PriceBoardApi/findDataList";
        var request = {
          "recordPerPage": "20",
          "pageNum": 1,
          "filters": [{ 'colname': 'stocksymbol', 'operator': '=', 'value': object.currentStock }]
        };

        shinobi.api.request(url, JSON.stringify(request), function (res) {
          object.getInfoStocSympol(res);
          object.getInfo3PriceStock(res);
        });
      }
    },
      1000)

  },
  getInfoStocSympol: function (res) {
    var object = this;

    var infoStocksympol = document.getElementById('infostocsympol');
    var data = JSON.parse(res).data[0];
    shinobi.mapping.renderElement(infoStocksympol, data);

  },
  getInfo3PriceStock: function (res) {
    var object = this;

    var info3PriceStock = document.getElementById('pricestocksympol');
    var data = JSON.parse(res).data[0];
    shinobi.mapping.renderElement(info3PriceStock, data);
  },

  formatPrice: function (elem, value, all) {
    elem.innerHTML = value;
    if (value == all.ceiling) {
      elem.parentNode.classList.add('ceiling-value');
    } else {
      if (value == all.floor) {
        elem.parentNode.classList.add('floor-value');
      } else {
        if (value == all.priorcloseprice) {
          elem.parentNode.classList.add('reference-value');
        } else {
          if (Number(value) > Number(all.priorcloseprice)) {

            elem.parentNode.classList.add('up-value');
          } else {

            elem.parentNode.classList.add('down-value');
          }
        }
      }
    }
    var value = Number(value);

  },
  addTimeLoadAll: function (container, callback) {
    var url = '/authenapi/SystemReportApi/getInitDateFilter';
    // shinobi.api.request(url, '{}', function (response) {
    //   var data = JSON.parse(response);
    //   shinobi.util.setRangeCalendar('[snb-key="date"]', new Date(data.start), new Date(data.end));

    response = {
      "start": '2021-21-05 10:00',
      'end': '2021-21-06 10:00'
    };
    shinobi.util.setRangeCalendar('[snb-key="date"]', new Date(response.start), new Date(response.end));

    // shinobi.mapping.renderElement(container, json);
    if (callback) {
      callback();
    }

    // });
  },

  addEventSearchUser: function () {
    var object = this;
    var url = "/authenapi/SystemUserApi/getListAllocationAccount";
    var request = {};
    shinobi.api.request(url, JSON.stringify(request), function (res) {
      var data = JSON.parse(res).data;


      new shinobi.autocomplete('#autocompletesearchstocksymbol', {
        onSearch: (input, resolve) => {
          if (input.length < 1) { return [] }

          var arr = data.filter(item => item.fullname.toLowerCase().includes(input.toLowerCase()))
          resolve(arr);
        },

        onSubmit: result => {
          var select = document.getElementById('selectPM');
          var search = document.getElementById('autocompletesearchstocksymbol');
          search.value = '';
          select.value = result.account;
          object.updatePage(result.account);

        },
        renderResult: (result, props) => {
          return `
          <li ${props}>
              <div class="title has-text-primary is-size-6">
               ${result.fullname}
              </div>
          </li>`
        },
      });
    });

  },
  addEventSearchStock: function (selector) {
    var object = this;
    var selectorSearchStock = '#searchstocsympol';
    if (selector) {
      selectorSearchStock = selector;
    }
    var input = document.querySelector(selectorSearchStock + ' input');
    input.addEventListener('input', function () {
      input.value = input.value.toUpperCase();
    });
    input.addEventListener('focusout', function () {
      var value = input.value;
      object.initTradingviewStock(value);
      object.currentStock = value;
    });
    object.getValueStocsympol();

    input.onchange = function () {
      var stockInfoElem = document.getElementById('infostocsympol');
      if (this.value.trim() == "") {
        stockInfoElem.classList.add('is-hidden');
      } else {
        stockInfoElem.classList.remove('is-hidden');
      }
    }
    new Autocomplete(selectorSearchStock, {
      search: input => {
        if (input.length < 1) { return [] }
        var url = "/api/PriceBoardApi/findDataList";
        var request = {
          "recordPerPage": "20",
          "pageNum": 1,
          "filters": [{ 'colname': 'stocksymbol', 'operator': 'like', 'value': input }]
        }
        var list = new Promise(resolve => {
          shinobi.api.request(url, JSON.stringify(request), function (res) {
            var array = JSON.parse(res).data;

            resolve(array);
          });
        });

        return list;
      },
      autoSelect: true,

      getResultValue: result => {
        return result.stocksymbol.toUpperCase();
      },
      onSubmit: result => {
        object.currentStock = result.stocksymbol;
        object.initTradingviewStock(result.stocksymbol);
        // object.getValueStocsympol(result.stocksymbol);

        var stockInfoElem = document.getElementById('infostocsympol');
        if (result.stocksymbol == "") {
          stockInfoElem.classList.add('is-hidden');
        } else {
          stockInfoElem.classList.remove('is-hidden');
        }
      },
      renderResult: (result, props) => {
        return `
          <li ${props}>
              <div class="title has-text-primary is-size-5">
             ${result.stocksymbol}
              </div>
              <div class="subtitle">${result.securityname}</div>
          </li>`
      },
    });

  },
  initTradingviewStock: function (stocksymbol) {
    var embledTradingview = document.getElementById('tradingviewstock');
    var url = "https://chart.aladin.finance/web/index.html?symbol=" + stocksymbol;
    var src = embledTradingview.getAttribute('src');

    if (src != url) {
      embledTradingview.setAttribute('src', url);
    }
  },
  addDropdowMenu: function () {
    var object = this;
    object.currentPrice = 10;

    var dropdowMenuList = document.querySelector('#dropdown-menu .dropdown-content');
    var dropdown = document.querySelector('#dropdown-menu').parentNode;
    var valueCurrent = document.querySelector('#setprice .current-value');
    object.listOrder.forEach(value => {
      var item = document.createElement('a');
      item.setAttribute('class', 'dropdown-item');
      item.innerHTML = value;

      item.onclick = function () {
        if (value != 'LO') {
          valueCurrent.value = value;
        }
        else {
          valueCurrent.value = object.currentPrice;
        }
        dropdown.classList.remove('is-active');
      };
      dropdowMenuList.appendChild(item);
    });
  },
  submitOrderCommand: function () {
    var object = this;

    var buttonSubmit = document.getElementById('buttontrading');
    buttonSubmit.onclick = function () {
      object.getInput(function (request) {
        var modal = document.getElementById("orderCommandConfirmModal");
        shinobi.mapping.renderElement(modal, request);
        document.getElementById("orderCommandConfirmModal").classList.add("is-active");
        console.log(request);
        object.confirmOrderCommandConfirmModal(request);
        object.renderSourceSellFunction(request);
      }
      );
    };
  },
  confirmOrderCommandConfirmModal: function (request) {
    var confirm = document.getElementById("confirmOrderModal");
    var inputOther = document.getElementById("otherOptionInput");

    confirm.onclick = function () {
      if (document.getElementById("otherOptionSourceContainer")) {
        shinobi.mapping.getValue("#otherOptionSourceContainer", function (radioValue) {
          shinobi.cacheapi.request("/authenapi/AllocationAccountRelatedInfoApi/getStockComAccountAndAllocationInfo", `{allocationaccount: ${request.allocationaccount}}`, function (res) {
            var data = JSON.parse(res);
            console.log(data);
            getUserInfo(function (userinfores) {
              console.log("getUserInfo", userinfores);
              if (userinfores.usertype == "PMALADIN") {
                if (request.side == "SELL") {
                  if (radioValue.typeModal == "OTHER") {
                    request.beneficiary = {
                      beneficiary: radioValue.typeModal,
                      value: inputOther.value,
                    };
                  } else {
                    if (radioValue.typeModal == "PMALADIN") {
                      request.beneficiary = {
                        beneficiary: radioValue.typeModal,
                        value: userinfores.username,
                      };
                    } else {
                      request.beneficiary = {
                        beneficiary: radioValue.typeModal,
                        value: data.pm,
                      };
                    }
                    inputOther.value = "none";
                  }
                } else {
                  inputOther.value = "none";
                  if (request.beneficiary) {
                    delete request.beneficiary;
                  }
                }
              } else {
                inputOther.value = "none";
              }
              console.log("REQUEST", request);
              if (inputOther.value) {
                shinobi.tradingsystemrender.sendApiConfirmOrder(request);
              } else {
                shinobi.notification.notification.error('Vui lòng nhập giá trị nguồn!');
              }
            })
          });
        });
      }
    }
  },

  sendApiConfirmOrder: function (request) {
    var object = this;
    var url = "/authenapi/CreateSignalApi/createNormalSignal";

    shinobi.api.request(url, JSON.stringify(request), function (respone) {
      shinobi.notification.notification.info('Đặt lệnh thành công');
      object.clearPrice();

      document.getElementById("orderCommandConfirmModal").classList.remove("is-active");
    })
  },

  renderAccountName: function (elem, value, all) {
    var url = "/authenapi/AllocationAccountRelatedInfoApi/getStockComAccountAndAllocationInfo"
    shinobi.cacheapi.request(url, `{allocationaccount: ${value}}`, function (res) {
      var data = JSON.parse(res);
      elem.innerHTML = data.systemaccountname;
    });
  },
  renderPMAcountName: function (elem, value, all) {
    var url = "/authenapi/AllocationAccountRelatedInfoApi/getStockComAccountAndAllocationInfo"
    shinobi.cacheapi.request(url, `{allocationaccount: ${value}}`, function (res) {
      var data = JSON.parse(res);
      elem.innerHTML = `(Tải khoản ${data.pmfullname})`;
      elem.setAttribute("value", data.pm);
    });
  },
  renderRadioButtonEvent: function () {
    var radioOther = document.getElementById("otherOptionInput").parentNode;
    var listRadio = document.querySelectorAll('#otherOptionSourceContainer [snb-key="typeModal"]');

    listRadio.forEach(radioButton => {
      radioButton.onclick = function () {
        if (radioButton.checked) {
          if (radioButton.getAttribute("radio-value") == "OTHER") {
            radioOther.classList.remove("is-hidden");
            radioOther.querySelector("input").value = "";
          } else {
            radioOther.classList.add("is-hidden");
            radioOther.querySelector("input").value = "";
          }
        }
      }
    });
  },
  renderSourceSellFunction: function (request) {
    getUserInfo(function (res) {
      var source = document.querySelector("#orderCommandConfirmModal .field.is-flex");
      if (res.usertype == "PMALADIN") {
        if (request.side == "BUY") {
          if (!source.classList.contains("is-hidden")) {
            source.classList.add("is-hidden");
          }
        } else if (request.side == "SELL") {
          if (source.classList.contains("is-hidden")) {
            source.classList.remove("is-hidden");
          }
        }
      } else {
        if (source) {
          source.classList.add("is-hidden");
        }
      }
    })
  },
  renderSideColor: function (elem, value, all) {
    if (value == "BUY") {
      elem.innerHTML = `<span class="has-text-success">MUA</span>`
    } else if (value == "SELL") {
      elem.innerHTML = `<span class="has-text-danger">BÁN</span>`
    }
  },
  clearPrice: function () {
    var stock = document.querySelector('#searchstocsympol input');
    stock.value = '';
    var price = document.getElementById('orderPriceTab');
    price.value = "";
    var volume = document.getElementById('currentweight');
    volume.value = "";

  },
  addEventStepPrice: function (selector) {
    var object = this;
    object.currentPrice = 10;
    var selector = document.querySelector(selector);
    var buttonNext = selector.querySelector('.step-next-button');
    var buttonPre = selector.querySelector('.step-pre-button');
    var currentValue = selector.querySelector('.current-value');

    buttonNext.onclick = function () {
      var valueCurrent = currentValue.value;

      if (valueCurrent != 0) {

        valueCurrent = shinobi.render.removeFormatNumber(valueCurrent);
        valueCurrent = parseFloat(valueCurrent);
        if (!isNaN(valueCurrent)) {
          var step = object.getStepPrice(valueCurrent);
          var value = valueCurrent + step;
          value = Math.round(value * 100) / 100
          currentValue.value = value;
        }
      } else {
        currentValue.value = object.currentPrice;
      }
    }
    buttonPre.onclick = function () {
      var valueCurrent = currentValue.value;

      valueCurrent = shinobi.render.removeFormatNumber(valueCurrent);
      valueCurrent = Number(valueCurrent);
      if (valueCurrent >= 0 && !isNaN(valueCurrent)) {
        var step = object.getStepPrice(valueCurrent);
        var value = valueCurrent - step;
        value = Math.round(value * 100) / 100
        currentValue.value = value;
      }

    }
  },
  getStepPrice: function (value, stockExchange) {
    var step = '';
    if (stockExchange != "HOSE") {
      if (value >= 0 && value < 10) {
        step = 0.01;
      }
      else {
        if (value >= 10 && value <= 50) {
          step = 0.05;
        } else {
          step = 0.1;
        }
      }
    } else {
      step = 0.1;
    }
    return step;
  },
  addEventStepVolume: function (selector) {
    var object = this;
    var selector = document.querySelector(selector);
    var buttonNext = selector.querySelector('.step-next-button');
    var buttonPre = selector.querySelector('.step-pre-button');
    var currentValue = selector.querySelector('.current-value');

    buttonNext.onclick = function () {
      var valueCurrent = currentValue.value;

      valueCurrent = shinobi.render.removeFormatNumber(valueCurrent);
      valueCurrent = Number(valueCurrent);
      currentValue.value = shinobi.util.formatNumber(valueCurrent + object.stepVolume);

    }
    buttonPre.onclick = function () {
      var valueCurrent = currentValue.value;

      valueCurrent = shinobi.render.removeFormatNumber(valueCurrent);
      valueCurrent = Number(valueCurrent);
      if (valueCurrent >= object.stepVolume) {
        currentValue.value = shinobi.util.formatNumber(valueCurrent - object.stepVolume);
      }

    }
  },
  addEventActiveBuySell: function () {
    var object = this;
    var buttonBuy = document.querySelector('.button-outline .button.buy');
    var buttonSell = document.querySelector('.button-outline .button.sell');
    var containerTrading = document.getElementById('containertrading');
    var buttonSubmit = document.getElementById('buttontrading');

    buttonSubmit.innerHTML = object.contentOrderBuy;
    buttonBuy.onclick = function () {
      buttonBuy.parentNode.classList.add(object.classBuy);
      buttonSell.parentNode.classList.remove(object.classSell);

      buttonSubmit.classList.add('buy');
      buttonSubmit.classList.remove('sell');
      buttonSubmit.innerHTML = object.contentOrderBuy;

      containerTrading.classList.add(object.classBuy);
      containerTrading.classList.remove(object.classSell);
    };
    buttonSell.onclick = function () {
      buttonBuy.parentNode.classList.remove(object.classBuy);
      buttonSell.parentNode.classList.add(object.classSell);

      buttonSubmit.classList.remove('buy');
      buttonSubmit.classList.add('sell');
      buttonSubmit.innerHTML = object.contentOrderSell;


      containerTrading.classList.add(object.classSell);
      containerTrading.classList.remove(object.classBuy);
    };
  },
  setUpOrderValueTab: function () {
    var input = document.querySelector("#setprice #orderPriceTab");
    var output = document.querySelector("#setvolume #orderVolumeTab");
    input.addEventListener('input', function (inputValue) {
      var account = document.getElementById("selectPM").value;
      var url = "/authenapi/StockPriceInfoApi/getMaxVolumnOrder";
      var request = {
        "account": account,
        "price": inputValue.target.value,
      };

      if (inputValue.target.value > 0) {
        shinobi.api.request(url, JSON.stringify(request), function (res) {
          var orderValue = JSON.parse(res);

          var orderRenderedValue = shinobi.util.formatNumber(orderValue);
          output.innerText = orderRenderedValue;
        });
      } else {
        output.innerText = "";
      }
    });
  },

  getOrderSideInfo(json, orderSideKey) {
    let mappingValue = {
      BUY: { text: 'MUA', classList: ['order-side', 'buy-side'] },
      SELL: { text: 'BÁN', classList: ['order-side', 'sell-side'] },
    };
    let text = "";
    let classList = [];
    if (json.hasOwnProperty(orderSideKey)) {
      text = json[orderSideKey];
      if (mappingValue.hasOwnProperty(text)) {
        let currentMappingItem = mappingValue[text];
        text = currentMappingItem.text;
        classList = currentMappingItem.classList;
      }

    }
    return { text, classList };

  },

  renderOrderSide: function (cell, row, col, all) {
    let data = all[row];
    let orderSideKey = 'side';
    let orderSideInfo = shinobi.tradingsystemrender.getOrderSideInfo(data, orderSideKey);
    cell.innerHTML = orderSideInfo.text;
    cell.classList.add(...orderSideInfo.classList);
  },
  renderOrderSideDataList: function (elem, value, all) {
    let data = all;
    let orderSideKey = 'side';
    let orderSideInfo = shinobi.tradingsystemrender.getOrderSideInfo(data, orderSideKey);
    elem.innerHTML = orderSideInfo.text;
    elem.classList.add(...orderSideInfo.classList);
  },
  renderOrderStockCode(cell, row, col, all) {
    let data = all[row];
    let orderSideKey = 'side';
    let orderSideInfo = shinobi.tradingsystemrender.getOrderSideInfo(data, orderSideKey);
    cell.classList.add(...orderSideInfo.classList);
  },

  renderOrderTypeStatus(cell, row, col, all) {
    cell.classList.add('has-text-left');
    var value = cell.innerHTML;
    var listOrderType = {
      'NEW': { text: 'Mới', icon: '/static/image/pending.jpg' },
      'INPROCESS': { text: 'Đang xử lý', icon: '/static/image/pending.jpg' },
      'SUCCESS': { text: 'Thành công', icon: '/static/image/matched.jpg' },
      'PENDING': { text: 'Chờ khớp', icon: '/static/image/pending.jpg' },
      'MATCHED': { text: 'Đã khớp', icon: '/static/image/matched.jpg' },
      'EDITED': { text: 'Đã sửa', icon: '/static/image/pending.jpg' },
      'CANCELED': { text: 'Đã hủy', icon: '/static/image/cancel.jpg' },
      'ERROR': { text: 'Lỗi', icon: '/static/image/.jpg' },
      'PARTIAL_MATCHED': { text: 'Khớp một phần', icon: '/static/image/partialmatched.jpg' },
      'PARTIAL_MATCHED_REST_CANCELLED': { text: 'Khớp một phần, hủy phần còn lại', icon: '/static/image/partialmatchedpartialcancel.jpg' },
    };

    if (listOrderType.hasOwnProperty(value)) {
      let renderObject = listOrderType[value];
      cell.innerHTML = `<div class="level has-text-left" style="
                            justify-content: left;
                        ">
                          <span class="level-left"><img class="icon is-small" src="${renderObject.icon}"></span>
                          <span class="level-item is-narrow ml-1"> ${renderObject.text}</span>
                        </div>`;
    } else {
      cell.innerHTML = value;
    }
  },

  renderOrderTypeStatusDatalist(elem, value, all) {
    elem.classList.add('has-text-left');
    var listOrderType = {
      'NEW': { text: 'Mới', icon: '/static/image/pending.jpg' },
      'INPROCESS': { text: 'Đang xử lý', icon: '/static/image/pending.jpg' },
      'SUCCESS': { text: 'Thành công', icon: '/static/image/matched.jpg' },
      'PENDING': { text: 'Chờ khớp', icon: '/static/image/pending.jpg' },
      'MATCHED': { text: 'Đã khớp', icon: '/static/image/matched.jpg' },
      'EDITED': { text: 'Đã sửa', icon: '/static/image/pending.jpg' },
      'CANCELED': { text: 'Đã hủy', icon: '/static/image/cancel.jpg' },
      'ERROR': { text: 'Lỗi', icon: '/static/image/.jpg' },
      'PARTIAL_MATCHED': { text: 'Khớp một phần', icon: '/static/image/partialmatched.jpg' },
      'PARTIAL_MATCHED_REST_CANCELLED': { text: 'Khớp một phần, hủy phần còn lại', icon: '/static/image/partialmatchedpartialcancel.jpg' },
    };

    if (listOrderType.hasOwnProperty(value)) {
      let renderObject = listOrderType[value];
      elem.innerHTML = `<div class="level has-text-left" style="
                            justify-content: left;
                        ">&nbsp
                          <span class="level-left"><img class="icon is-small" src="${renderObject.icon}"></span>
                          <span class="level-item is-narrow ml-1"> ${renderObject.text}</span>
                        </div>`;
    } else {
      elem.innerHTML = value;
    }
  },

  titleDetailOrder: function (elem, value, all) {
    if (value) {
      elem.innerHTML = `Chi tiết lệnh (Đã huỷ lúc ${value})`;
    } else {
      elem.innerHTML = `Chi tiết lệnh`;
    }
  },

  showPriceConfirm: function (elem, value, all) {
    console.log("all", all);
    elem.innerHTML = format(value * 1000);
  },

  showVolumeConfirm: function (elem, value, all) {
    elem.innerHTML = format((all.price * 1000) * all.volume);
  },
};
shinobi.template_1 = {
    listBackground: ['staticpage-background1.jpg', 'staticpage-background2.jpg', 'staticpage-background3.jpg', 'staticpage-background4.jpg'],
    init: function () {
        var object = this;
        object.checkLogin();
        object.renderHeader();
    },

    checkLogin: function () {
        var object = this;
        shinobi.coreapi.checkAuthen(function () {
            object.getInfoLogin();
        })
    },
    getInfoLogin: function (callback) {
        var url = "/authenapi/SystemUserApi/getInfoLogin";
        var request = {};
        shinobi.cacheapi.request(url, JSON.stringify(request), function (res) {
            window.localStorage.infoUser = res;
            if (callback) {
                callback(window.localStorage.infoUser);
            }
        })
    },
    renderHeader: function () {
        var object = this;
        object.getInfoLogin(function (stringUser) {
            shinobi.mapping.render('#navbarBasicExample', stringUser);
        });
    },
};var Autocomplete=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(t,e){return t.matches?t.matches(e):t.msMatchesSelector?t.msMatchesSelector(e):t.webkitMatchesSelector?t.webkitMatchesSelector(e):null},s=function(t,e){return t.closest?t.closest(e):function(t,e){for(var n=t;n&&1===n.nodeType;){if(i(n,e))return n;n=n.parentNode}return null}(t,e)},o=function(t){return Boolean(t&&"function"==typeof t.then)},u=function e(){var i=this,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=u.search,l=u.autoSelect,r=void 0!==l&&l,d=u.setValue,c=void 0===d?function(){}:d,h=u.setAttribute,p=void 0===h?function(){}:h,f=u.onUpdate,b=void 0===f?function(){}:f,v=u.onSubmit,g=void 0===v?function(){}:v,L=u.onShow,y=void 0===L?function(){}:L,w=u.onHide,m=void 0===w?function(){}:w,S=u.onLoading,x=void 0===S?function(){}:S,R=u.onLoaded,A=void 0===R?function(){}:R;t(this,e),n(this,"value",""),n(this,"searchCounter",0),n(this,"results",[]),n(this,"selectedIndex",-1),n(this,"handleInput",(function(t){var e=t.target.value;i.updateResults(e),i.value=e})),n(this,"handleKeyDown",(function(t){var e=t.key;switch(e){case"Up":case"Down":case"ArrowUp":case"ArrowDown":var n="ArrowUp"===e||"Up"===e?i.selectedIndex-1:i.selectedIndex+1;t.preventDefault(),i.handleArrows(n);break;case"Tab":i.selectResult();break;case"Enter":var s=i.results[i.selectedIndex];i.selectResult(),i.onSubmit(s);break;case"Esc":case"Escape":i.hideResults(),i.setValue();break;default:return}})),n(this,"handleFocus",(function(t){var e=t.target.value;i.updateResults(e),i.value=e})),n(this,"handleBlur",(function(){i.hideResults()})),n(this,"handleResultMouseDown",(function(t){t.preventDefault()})),n(this,"handleResultClick",(function(t){var e=t.target,n=s(e,"[data-result-index]");if(n){i.selectedIndex=parseInt(n.dataset.resultIndex,10);var o=i.results[i.selectedIndex];i.selectResult(),i.onSubmit(o)}})),n(this,"handleArrows",(function(t){var e=i.results.length;i.selectedIndex=(t%e+e)%e,i.onUpdate(i.results,i.selectedIndex)})),n(this,"selectResult",(function(){var t=i.results[i.selectedIndex];t&&i.setValue(t),i.hideResults()})),n(this,"updateResults",(function(t){var e=++i.searchCounter;i.onLoading(),i.search(t).then((function(t){e===i.searchCounter&&(i.results=t,i.onLoaded(),0!==i.results.length?(i.selectedIndex=i.autoSelect?0:-1,i.onUpdate(i.results,i.selectedIndex),i.showResults()):i.hideResults())}))})),n(this,"showResults",(function(){i.setAttribute("aria-expanded",!0),i.onShow()})),n(this,"hideResults",(function(){i.selectedIndex=-1,i.results=[],i.setAttribute("aria-expanded",!1),i.setAttribute("aria-activedescendant",""),i.onUpdate(i.results,i.selectedIndex),i.onHide()})),n(this,"checkSelectedResultVisible",(function(t){var e=t.querySelector('[data-result-index="'.concat(i.selectedIndex,'"]'));if(e){var n=t.getBoundingClientRect(),s=e.getBoundingClientRect();s.top<n.top?t.scrollTop-=n.top-s.top:s.bottom>n.bottom&&(t.scrollTop+=s.bottom-n.bottom)}})),this.search=o(a)?a:function(t){return Promise.resolve(a(t))},this.autoSelect=r,this.setValue=c,this.setAttribute=p,this.onUpdate=b,this.onSubmit=g,this.onShow=y,this.onHide=m,this.onLoading=x,this.onLoaded=A},a=0,l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(t).concat(++a)},r=function(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return n.bottom+i.height>window.innerHeight&&window.innerHeight-n.bottom<n.top&&window.pageYOffset+n.top-i.height>0?"above":"below"},d=function(t,e,n){var i;return function(){var s=this,o=arguments,u=function(){i=null,n||t.apply(s,o)},a=n&&!i;clearTimeout(i),i=setTimeout(u,e),a&&t.apply(s,o)}},c=function(){function n(e,i,s){t(this,n),this.id="".concat(s,"-result-").concat(e),this.class="".concat(s,"-result"),this["data-result-index"]=e,this.role="option",e===i&&(this["aria-selected"]="true")}var i,s,o;return i=n,(s=[{key:"toString",value:function(){var t=this;return Object.keys(this).reduce((function(e,n){return"".concat(e," ").concat(n,'="').concat(t[n],'"')}),"")}}])&&e(i.prototype,s),o&&e(i,o),n}();return function e(i){var s=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.search,h=o.onSubmit,p=void 0===h?function(){}:h,f=o.baseClass,b=void 0===f?"autocomplete":f,v=o.autoSelect,g=o.getResultValue,L=void 0===g?function(t){return t}:g,y=o.renderResult,w=o.debounceTime,m=void 0===w?0:w;t(this,e),n(this,"expanded",!1),n(this,"loading",!1),n(this,"position",{}),n(this,"resetPosition",!0),n(this,"initialize",(function(){s.root.style.position="relative",s.input.setAttribute("role","combobox"),s.input.setAttribute("autocomplete","off"),s.input.setAttribute("autocapitalize","off"),s.input.setAttribute("autocorrect","off"),s.input.setAttribute("spellcheck","false"),s.input.setAttribute("aria-autocomplete","list"),s.input.setAttribute("aria-haspopup","listbox"),s.input.setAttribute("aria-expanded","false"),s.resultList.setAttribute("role","listbox"),s.resultList.style.position="absolute",s.resultList.style.zIndex="4",s.resultList.style.width="30rem",s.resultList.style.boxSizing="border-box",s.resultList.id||(s.resultList.id=l("".concat(s.baseClass,"-result-list-"))),s.input.setAttribute("aria-owns",s.resultList.id),document.body.addEventListener("click",s.handleDocumentClick),s.input.addEventListener("input",s.core.handleInput),s.input.addEventListener("keydown",s.core.handleKeyDown),s.input.addEventListener("focus",s.core.handleFocus),s.input.addEventListener("blur",s.core.handleBlur),s.resultList.addEventListener("mousedown",s.core.handleResultMouseDown),s.resultList.addEventListener("click",s.core.handleResultClick),s.updateStyle()})),n(this,"setAttribute",(function(t,e){s.input.setAttribute(t,e)})),n(this,"setValue",(function(t){s.input.value=t?s.getResultValue(t):""})),n(this,"renderResult",(function(t,e){return"<li ".concat(e,">").concat(s.getResultValue(t),"</li>")})),n(this,"handleUpdate",(function(t,e){s.resultList.innerHTML="",t.forEach((function(t,n){var i=new c(n,e,s.baseClass),o=s.renderResult(t,i);"string"==typeof o?s.resultList.insertAdjacentHTML("beforeend",o):s.resultList.insertAdjacentElement("beforeend",o)})),s.input.setAttribute("aria-activedescendant",e>-1?"".concat(s.baseClass,"-result-").concat(e):""),s.resetPosition&&(s.resetPosition=!1,s.position=r(s.input,s.resultList),s.updateStyle()),s.core.checkSelectedResultVisible(s.resultList)})),n(this,"handleShow",(function(){s.expanded=!0,s.updateStyle()})),n(this,"handleHide",(function(){s.expanded=!1,s.resetPosition=!0,s.updateStyle()})),n(this,"handleLoading",(function(){s.loading=!0,s.updateStyle()})),n(this,"handleLoaded",(function(){s.loading=!1,s.updateStyle()})),n(this,"handleDocumentClick",(function(t){s.root.contains(t.target)||s.core.hideResults()})),n(this,"updateStyle",(function(){s.root.dataset.expanded=s.expanded,s.root.dataset.loading=s.loading,s.root.dataset.position=s.position,s.resultList.style.visibility=s.expanded?"visible":"hidden",s.resultList.style.pointerEvents=s.expanded?"auto":"none","below"===s.position?(s.resultList.style.bottom=null,s.resultList.style.top="100%"):(s.resultList.style.top=null,s.resultList.style.bottom="100%")})),this.root="string"==typeof i?document.querySelector(i):i,this.input=this.root.querySelector("input"),this.resultList=this.root.querySelector("ul"),this.baseClass=b,this.getResultValue=L,"function"==typeof y&&(this.renderResult=y);var S=new u({search:a,autoSelect:v,setValue:this.setValue,setAttribute:this.setAttribute,onUpdate:this.handleUpdate,onSubmit:p,onShow:this.handleShow,onHide:this.handleHide,onLoading:this.handleLoading,onLoaded:this.handleLoaded});m>0&&(S.handleInput=d(S.handleInput,m)),this.core=S,this.initialize()}}();
!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.bulmaCalendar=t():e.bulmaCalendar=t()}("undefined"!=typeof self?self:this,function(){return function(n){var o={};function __webpack_require__(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=n,__webpack_require__.c=o,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=232)}([function(e,t,n){var d=n(120),l=36e5,f=6e4,h=/[T ]/,m=/:/,p=/^(\d{2})$/,v=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],g=/^(\d{4})/,b=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],_=/^-(\d{2})$/,M=/^-?(\d{3})$/,k=/^-?(\d{2})-?(\d{2})$/,y=/^-?W(\d{2})$/,x=/^-?W(\d{2})-?(\d{1})$/,D=/^(\d{2}([.,]\d*)?)$/,w=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,j=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,T=/([Z+-].*)$/,S=/^(Z)$/,P=/^([+-])(\d{2})$/,H=/^([+-])(\d{2}):?(\d{2})$/;function dayOfISOYear(e,t,n){t=t||0,n=n||0;var o=new Date(0);o.setUTCFullYear(e,0,4);var i=7*t+n+1-(o.getUTCDay()||7);return o.setUTCDate(o.getUTCDate()+i),o}e.exports=function parse(e,t){if(d(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?2:Number(n);var o=function splitDateString(e){var t,n={},o=e.split(h);if(t=m.test(o[0])?(n.date=null,o[0]):(n.date=o[0],o[1])){var i=T.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e),i=function parseYear(e,t){var n,o=v[t],i=b[t];if(n=g.exec(e)||i.exec(e)){var r=n[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(n=p.exec(e)||o.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}(o.date,n),r=i.year,a=function parseDate(e,t){if(null===t)return null;var n,o,i,r;if(0===e.length)return(o=new Date(0)).setUTCFullYear(t),o;if(n=_.exec(e))return o=new Date(0),i=parseInt(n[1],10)-1,o.setUTCFullYear(t,i),o;if(n=M.exec(e)){o=new Date(0);var a=parseInt(n[1],10);return o.setUTCFullYear(t,0,a),o}if(n=k.exec(e)){o=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return o.setUTCFullYear(t,i,s),o}if(n=y.exec(e))return r=parseInt(n[1],10)-1,dayOfISOYear(t,r);if(n=x.exec(e)){r=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return dayOfISOYear(t,r,u)}return null}(i.restDateString,r);if(a){var s,u=a.getTime(),c=0;return o.time&&(c=function parseTime(e){var t,n,o;if(t=D.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*l;if(t=w.exec(e))return n=parseInt(t[1],10),o=parseFloat(t[2].replace(",",".")),n%24*l+o*f;if(t=j.exec(e)){n=parseInt(t[1],10),o=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return n%24*l+o*f+1e3*i}return null}(o.time)),s=o.timezone?function parseTimezone(e){var t,n;return(t=S.exec(e))?0:(t=P.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=H.exec(e))?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0}(o.timezone):(s=new Date(u+c).getTimezoneOffset(),new Date(u+c+s*f).getTimezoneOffset()),new Date(u+c+s*f)}return new Date(e)}},function(e,n,o){var i;!function(t){"use strict";var b={},_="en",M={en:{MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dd:["Su","Mo","Tu","We","Th","Fr","Sa"],A:["a.m.","p.m."],formatter:{YYYY:function(e){return("000"+e.getFullYear()).slice(-4)},YY:function(e){return("0"+e.getFullYear()).slice(-2)},Y:function(e){return""+e.getFullYear()},MMMM:function(e){return this.MMMM[e.getMonth()]},MMM:function(e){return this.MMM[e.getMonth()]},MM:function(e){return("0"+(e.getMonth()+1)).slice(-2)},M:function(e){return""+(e.getMonth()+1)},DD:function(e){return("0"+e.getDate()).slice(-2)},D:function(e){return""+e.getDate()},HH:function(e){return("0"+e.getHours()).slice(-2)},H:function(e){return""+e.getHours()},A:function(e){return this.A[11<e.getHours()|0]},hh:function(e){return("0"+(e.getHours()%12||12)).slice(-2)},h:function(e){return""+(e.getHours()%12||12)},mm:function(e){return("0"+e.getMinutes()).slice(-2)},m:function(e){return""+e.getMinutes()},ss:function(e){return("0"+e.getSeconds()).slice(-2)},s:function(e){return""+e.getSeconds()},SSS:function(e){return("00"+e.getMilliseconds()).slice(-3)},SS:function(e){return("0"+(e.getMilliseconds()/10|0)).slice(-2)},S:function(e){return""+(e.getMilliseconds()/100|0)},dddd:function(e){return this.dddd[e.getDay()]},ddd:function(e){return this.ddd[e.getDay()]},dd:function(e){return this.dd[e.getDay()]},Z:function(e){var t=e.utc?0:e.getTimezoneOffset()/.6;return(0<t?"-":"+")+("000"+Math.abs(t-t%100*.4)).slice(-4)},post:function(e){return e}},parser:{find:function(e,t){for(var n,o=-1,i=0,r=0,a=e.length;r<a;r++)n=e[r],!t.indexOf(n)&&n.length>i&&(o=r,i=n.length);return{index:o,length:i}},MMMM:function(e){return this.parser.find(this.MMMM,e)},MMM:function(e){return this.parser.find(this.MMM,e)},A:function(e){return this.parser.find(this.A,e)},h:function(e,t){return(12===e?0:e)+12*t},pre:function(e){return e}}}};b.format=function(e,n,t){var o=b.addMinutes(e,t?e.getTimezoneOffset():0),i=M[_],r=i.formatter;return o.utc=t,n.replace(/(\[[^\[\]]*]|\[.*\][^\[]*\]|YYYY|YY|MMM?M?|DD|HH|hh|mm|ss|SSS?|ddd?d?|.)/g,function(e){var t=r[e];return t?r.post(t.call(i,o,n)):e.replace(/\[(.*)]/,"$1")})},b.parse=function(e,t,n){for(var o,i,r,a,s,u,c,d,l=M[_],f=l.parser.pre(e),h=0,m=/(MMMM?|A)|(YYYY)|(SSS)|(MM|DD|HH|hh|mm|ss)|(YY|M|D|H|h|m|s|SS)|(S)|(.)/g,p={2:/^\d{1,4}/,3:/^\d{1,3}/,4:/^\d\d/,5:/^\d\d?/,6:/^\d/},v=[31,28,31,30,31,30,31,31,30,31,30,31],g={Y:1970,M:1,D:1,H:0,m:0,s:0,S:0};o=m.exec(t);){for(i=0,a=1,r="";!r;)r=o[++i];if(s=r.charAt(0),u=f.slice(h),i<2)c=l.parser[r].call(l,u,t),g[s]=c.index,"M"===s&&g[s]++,a=c.length;else if(i<7)c=(u.match(p[i])||[""])[0],g[s]=0|("S"===s?(c+"000").slice(0,-r.length):c),a=c.length;else if(" "!==s&&s!==u[0])return NaN;if(!a)return NaN;h+=a}return h===f.length&&c?(g.Y+=g.Y<70?2e3:g.Y<100?1900:0,g.H=g.H||l.parser.h(g.h||0,g.A||0),d=new Date(g.Y,g.M-1,g.D,g.H,g.m,g.s,g.S),v[1]+=0|b.isLeapYear(d),g.M<1||12<g.M||g.D<1||g.D>v[g.M-1]||23<g.H||59<g.m||59<g.s?NaN:n?b.addMinutes(d,-d.getTimezoneOffset()):d):NaN},b.isValid=function(e,t){return!!b.parse(e,t)},b.addYears=function(e,t){return b.addMonths(e,12*t)},b.addMonths=function(e,t){var n=new Date(e.getTime());return n.setMonth(n.getMonth()+t),n},b.addDays=function(e,t){var n=new Date(e.getTime());return n.setDate(n.getDate()+t),n},b.addHours=function(e,t){return b.addMilliseconds(e,36e5*t)},b.addMinutes=function(e,t){return b.addMilliseconds(e,6e4*t)},b.addSeconds=function(e,t){return b.addMilliseconds(e,1e3*t)},b.addMilliseconds=function(e,t){return new Date(e.getTime()+t)},b.subtract=function(e,t){var n=e.getTime()-t.getTime();return{toMilliseconds:function(){return n},toSeconds:function(){return n/1e3|0},toMinutes:function(){return n/6e4|0},toHours:function(){return n/36e5|0},toDays:function(){return n/864e5|0}}},b.isLeapYear=function(e){var t=e.getFullYear();return!((t%4||!(t%100))&&t%400)},b.isSameDay=function(e,t){return b.format(e,"YYYYMMDD")===b.format(t,"YYYYMMDD")},b.locale=function(e){return e&&(!M[e]&&t&&o(331)("./"+e),_=e),_},b.getLocales=function(e){return M[e||_]},b.setLocales=function(e,t){var n=function(e,t){var n,o,i=function(){};for(o in i.prototype=t,n=new i,e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n},o=M[e]||M.en,i=n(t,o);t.formatter&&(i.formatter=n(t.formatter,o.formatter)),t.parser&&(i.parser=n(t.parser,o.parser)),M[e]=i},"object"==typeof e&&"object"==typeof e.exports?e.exports=b:void 0===(i=function(){return b}.apply(n,[]))||(e.exports=i)}(this)},function(e,t){var i=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function buildFormattingTokensRegExp(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var o=i.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},function(e,t,n){var s=n(0),u=n(4);e.exports=function getISOYear(e){var t=s(e),n=t.getFullYear(),o=new Date(0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);var i=u(o),r=new Date(0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);var a=u(r);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}},function(e,t,n){var o=n(80);e.exports=function startOfISOWeek(e){return o(e,{weekStartsOn:1})}},function(e,t,n){var o=n(0);e.exports=function startOfDay(e){var t=o(e);return t.setHours(0,0,0,0),t}},function(e,t,n){var o=n(12),i=n(13);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){e.exports={addDays:n(8),addHours:n(130),addISOYears:n(131),addMilliseconds:n(9),addMinutes:n(133),addMonths:n(82),addQuarters:n(134),addSeconds:n(135),addWeeks:n(122),addYears:n(136),areRangesOverlapping:n(233),closestIndexTo:n(234),closestTo:n(235),compareAsc:n(11),compareDesc:n(123),differenceInCalendarDays:n(81),differenceInCalendarISOWeeks:n(236),differenceInCalendarISOYears:n(137),differenceInCalendarMonths:n(138),differenceInCalendarQuarters:n(237),differenceInCalendarWeeks:n(238),differenceInCalendarYears:n(140),differenceInDays:n(141),differenceInHours:n(239),differenceInISOYears:n(240),differenceInMilliseconds:n(83),differenceInMinutes:n(241),differenceInMonths:n(124),differenceInQuarters:n(242),differenceInSeconds:n(125),differenceInWeeks:n(243),differenceInYears:n(244),distanceInWords:n(143),distanceInWordsStrict:n(245),distanceInWordsToNow:n(246),eachDay:n(247),endOfDay:n(126),endOfHour:n(248),endOfISOWeek:n(249),endOfISOYear:n(250),endOfMinute:n(251),endOfMonth:n(145),endOfQuarter:n(252),endOfSecond:n(253),endOfToday:n(254),endOfTomorrow:n(255),endOfWeek:n(144),endOfYear:n(256),endOfYesterday:n(257),format:n(258),getDate:n(259),getDay:n(260),getDayOfYear:n(146),getDaysInMonth:n(121),getDaysInYear:n(261),getHours:n(262),getISODay:n(150),getISOWeek:n(127),getISOWeeksInYear:n(263),getISOYear:n(3),getMilliseconds:n(264),getMinutes:n(265),getMonth:n(266),getOverlappingDaysInRanges:n(267),getQuarter:n(139),getSeconds:n(268),getTime:n(269),getYear:n(270),isAfter:n(271),isBefore:n(272),isDate:n(120),isEqual:n(273),isFirstDayOfMonth:n(274),isFriday:n(275),isFuture:n(276),isLastDayOfMonth:n(277),isLeapYear:n(149),isMonday:n(278),isPast:n(279),isSameDay:n(280),isSameHour:n(151),isSameISOWeek:n(153),isSameISOYear:n(154),isSameMinute:n(155),isSameMonth:n(157),isSameQuarter:n(158),isSameSecond:n(160),isSameWeek:n(128),isSameYear:n(162),isSaturday:n(281),isSunday:n(282),isThisHour:n(283),isThisISOWeek:n(284),isThisISOYear:n(285),isThisMinute:n(286),isThisMonth:n(287),isThisQuarter:n(288),isThisSecond:n(289),isThisWeek:n(290),isThisYear:n(291),isThursday:n(292),isToday:n(293),isTomorrow:n(294),isTuesday:n(295),isValid:n(148),isWednesday:n(296),isWeekend:n(297),isWithinRange:n(298),isYesterday:n(299),lastDayOfISOWeek:n(300),lastDayOfISOYear:n(301),lastDayOfMonth:n(302),lastDayOfQuarter:n(303),lastDayOfWeek:n(163),lastDayOfYear:n(304),max:n(305),min:n(306),parse:n(0),setDate:n(307),setDay:n(308),setDayOfYear:n(309),setHours:n(310),setISODay:n(311),setISOWeek:n(312),setISOYear:n(132),setMilliseconds:n(313),setMinutes:n(314),setMonth:n(164),setQuarter:n(315),setSeconds:n(316),setYear:n(317),startOfDay:n(5),startOfHour:n(152),startOfISOWeek:n(4),startOfISOYear:n(10),startOfMinute:n(156),startOfMonth:n(318),startOfQuarter:n(159),startOfSecond:n(161),startOfToday:n(319),startOfTomorrow:n(320),startOfWeek:n(80),startOfYear:n(147),startOfYesterday:n(321),subDays:n(322),subHours:n(323),subISOYears:n(142),subMilliseconds:n(324),subMinutes:n(325),subMonths:n(326),subQuarters:n(327),subSeconds:n(328),subWeeks:n(329),subYears:n(330)}},function(e,t,n){var i=n(0);e.exports=function addDays(e,t){var n=i(e),o=Number(t);return n.setDate(n.getDate()+o),n}},function(e,t,n){var i=n(0);e.exports=function addMilliseconds(e,t){var n=i(e).getTime(),o=Number(t);return new Date(n+o)}},function(e,t,n){var o=n(3),i=n(4);e.exports=function startOfISOYear(e){var t=o(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),i(n)}},function(e,t,n){var i=n(0);e.exports=function compareAsc(e,t){var n=i(e).getTime(),o=i(t).getTime();return n<o?-1:o<n?1:0}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"in "+o:o+" ago":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Su","Mo","Tu","We","Th","Fr","Sa"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){var t=e%100;if(20<t||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"أقل من ثانية واحدة",other:"أقل من {{count}} ثواني"},xSeconds:{one:"ثانية واحدة",other:"{{count}} ثواني"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",other:"{{count}} دقائق"},aboutXHours:{one:"ساعة واحدة تقريباً",other:"{{count}} ساعات تقريباً"},xHours:{one:"ساعة واحدة",other:"{{count}} ساعات"},xDays:{one:"يوم واحد",other:"{{count}} أيام"},aboutXMonths:{one:"شهر واحد تقريباً",other:"{{count}} أشهر تقريباً"},xMonths:{one:"شهر واحد",other:"{{count}} أشهر"},aboutXYears:{one:"عام واحد تقريباً",other:"{{count}} أعوام تقريباً"},xYears:{one:"عام واحد",other:"{{count}} أعوام"},overXYears:{one:"أكثر من عام",other:"أكثر من {{count}} أعوام"},almostXYears:{one:"عام واحد تقريباً",other:"{{count}} أعوام تقريباً"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"في خلال "+o:"منذ "+o:o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],n=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"],o=["ح","ن","ث","ر","خ","ج","س"],i=["أحد","إثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],r=["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],a=["صباح","مساء"],s=["ص","م"],u=["صباحاً","مساءاً"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return String(e)}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"по-малко от секунда",other:"по-малко от {{count}} секунди"},xSeconds:{one:"1 секунда",other:"{{count}} секунди"},halfAMinute:"половин минута",lessThanXMinutes:{one:"по-малко от минута",other:"по-малко от {{count}} минути"},xMinutes:{one:"1 минута",other:"{{count}} минути"},aboutXHours:{one:"около час",other:"около {{count}} часа"},xHours:{one:"1 час",other:"{{count}} часа"},xDays:{one:"1 ден",other:"{{count}} дни"},aboutXMonths:{one:"около месец",other:"около {{count}} месеца"},xMonths:{one:"1 месец",other:"{{count}} месеца"},aboutXYears:{one:"около година",other:"около {{count}} години"},xYears:{one:"1 година",other:"{{count}} години"},overXYears:{one:"над година",other:"над {{count}} години"},almostXYears:{one:"почти година",other:"почти {{count}} години"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"след "+o:"преди "+o:o}}}},function(e,t,n){var u=n(2);e.exports=function buildFormatLocale(){var t=["яну","фев","мар","апр","май","юни","юли","авг","сеп","окт","ное","дек"],n=["януари","февруари","март","април","май","юни","юли","август","септември","октомври","ноември","декември"],o=["нд","пн","вт","ср","чт","пт","сб"],i=["нед","пон","вто","сря","чет","пет","съб"],r=["неделя","понеделник","вторник","сряда","четвъртък","петък","събота"],a=["сутринта","на обяд","следобед","вечерта"],e=function(e){var t=e.getHours();return 4<=t&&t<12?a[0]:12<=t&&t<14?a[1]:14<=t&&t<17?a[2]:a[3]},s={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:e,a:e,aa:e};return["M","D","DDD","d","Q","W"].forEach(function(n){s[n+"o"]=function(e,t){return function ordinal(e){var t=e%100;if(20<t||t<10)switch(t%10){case 1:return e+"-ви";case 2:return e+"-ри"}return e+"-и"}(t[n](e))}}),{formatters:s,formattingTokensRegExp:u(s)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"menys d'un segon",other:"menys de {{count}} segons"},xSeconds:{one:"1 segon",other:"{{count}} segons"},halfAMinute:"mig minut",lessThanXMinutes:{one:"menys d'un minut",other:"menys de {{count}} minuts"},xMinutes:{one:"1 minut",other:"{{count}} minuts"},aboutXHours:{one:"aproximadament una hora",other:"aproximadament {{count}} hores"},xHours:{one:"1 hora",other:"{{count}} hores"},xDays:{one:"1 dia",other:"{{count}} dies"},aboutXMonths:{one:"aproximadament un mes",other:"aproximadament {{count}} mesos"},xMonths:{one:"1 mes",other:"{{count}} mesos"},aboutXYears:{one:"aproximadament un any",other:"aproximadament {{count}} anys"},xYears:{one:"1 any",other:"{{count}} anys"},overXYears:{one:"més d'un any",other:"més de {{count}} anys"},almostXYears:{one:"gairebé un any",other:"gairebé {{count}} anys"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"en "+o:"fa "+o:o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["gen","feb","mar","abr","mai","jun","jul","ago","set","oct","nov","des"],n=["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octobre","novembre","desembre"],o=["dg","dl","dt","dc","dj","dv","ds"],i=["dge","dls","dts","dcs","djs","dvs","dss"],r=["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){switch(e){case 1:return"1r";case 2:return"2n";case 3:return"3r";case 4:return"4t";default:return e+"è"}}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){function declension(e,t,n){var o=function declensionGroup(e,t){return 1===t?e.one:2<=t&&t<=4?e.twoFour:e.other}(e,t);return(o[n]||o).replace("{{count}}",t)}function prefixPreposition(e){var t="";return"almost"===e&&(t="skoro"),"about"===e&&(t="přibližně"),0<t.length?t+" ":""}function suffixPreposition(e){var t="";return"lessThan"===e&&(t="méně než"),"over"===e&&(t="více než"),0<t.length?t+" ":""}e.exports=function buildDistanceInWordsLocale(){var a={xSeconds:{one:{regular:"vteřina",past:"vteřinou",future:"vteřinu"},twoFour:{regular:"{{count}} vteřiny",past:"{{count}} vteřinami",future:"{{count}} vteřiny"},other:{regular:"{{count}} vteřin",past:"{{count}} vteřinami",future:"{{count}} vteřin"}},halfAMinute:{other:{regular:"půl minuty",past:"půl minutou",future:"půl minuty"}},xMinutes:{one:{regular:"minuta",past:"minutou",future:"minutu"},twoFour:{regular:"{{count}} minuty",past:"{{count}} minutami",future:"{{count}} minuty"},other:{regular:"{{count}} minut",past:"{{count}} minutami",future:"{{count}} minut"}},xHours:{one:{regular:"hodina",past:"hodinou",future:"hodinu"},twoFour:{regular:"{{count}} hodiny",past:"{{count}} hodinami",future:"{{count}} hodiny"},other:{regular:"{{count}} hodin",past:"{{count}} hodinami",future:"{{count}} hodin"}},xDays:{one:{regular:"den",past:"dnem",future:"den"},twoFour:{regular:"{{count}} dni",past:"{{count}} dny",future:"{{count}} dni"},other:{regular:"{{count}} dní",past:"{{count}} dny",future:"{{count}} dní"}},xMonths:{one:{regular:"měsíc",past:"měsícem",future:"měsíc"},twoFour:{regular:"{{count}} měsíce",past:"{{count}} měsíci",future:"{{count}} měsíce"},other:{regular:"{{count}} měsíců",past:"{{count}} měsíci",future:"{{count}} měsíců"}},xYears:{one:{regular:"rok",past:"rokem",future:"rok"},twoFour:{regular:"{{count}} roky",past:"{{count}} roky",future:"{{count}} roky"},other:{regular:"{{count}} roků",past:"{{count}} roky",future:"{{count}} roků"}}};return{localize:function localize(e,t,n){n=n||{};var o=function extractPreposition(t){return["lessThan","about","over","almost"].filter(function(e){return!!t.match(new RegExp("^"+e))})[0]}(e)||"",i=function lowercaseFirstLetter(e){return e.charAt(0).toLowerCase()+e.slice(1)}(e.substring(o.length)),r=a[i];return n.addSuffix?0<n.comparison?prefixPreposition(o)+"za "+suffixPreposition(o)+declension(r,t,"future"):prefixPreposition(o)+"před "+suffixPreposition(o)+declension(r,t,"past"):prefixPreposition(o)+suffixPreposition(o)+declension(r,t,"regular")}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["led","úno","bře","dub","kvě","čvn","čvc","srp","zář","říj","lis","pro"],n=["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],o=["ne","po","út","st","čt","pá","so"],i=["ned","pon","úte","stř","čtv","pát","sob"],r=["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],a=["DOP.","ODP."],s=["dop.","odp."],u=["dopoledne","odpoledne"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"."}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"mindre end et sekund",other:"mindre end {{count}} sekunder"},xSeconds:{one:"1 sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minut",lessThanXMinutes:{one:"mindre end et minut",other:"mindre end {{count}} minutter"},xMinutes:{one:"1 minut",other:"{{count}} minutter"},aboutXHours:{one:"cirka 1 time",other:"cirka {{count}} timer"},xHours:{one:"1 time",other:"{{count}} timer"},xDays:{one:"1 dag",other:"{{count}} dage"},aboutXMonths:{one:"cirka 1 måned",other:"cirka {{count}} måneder"},xMonths:{one:"1 måned",other:"{{count}} måneder"},aboutXYears:{one:"cirka 1 år",other:"cirka {{count}} år"},xYears:{one:"1 år",other:"{{count}} år"},overXYears:{one:"over 1 år",other:"over {{count}} år"},almostXYears:{one:"næsten 1 år",other:"næsten {{count}} år"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"om "+o:o+" siden":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],n=["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],o=["sø","ma","ti","on","to","fr","lø"],i=["søn","man","tir","ons","tor","fre","lør"],r=["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"."}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var r={lessThanXSeconds:{standalone:{one:"weniger als eine Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als einer Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"eine Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"einer Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als eine Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als einer Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"eine Minute",other:"{{count}} Minuten"},withPreposition:{one:"einer Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa eine Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa einer Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"eine Stunde",other:"{{count}} Stunden"},withPreposition:{one:"einer Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"ein Tag",other:"{{count}} Tage"},withPreposition:{one:"einem Tag",other:"{{count}} Tagen"}},aboutXMonths:{standalone:{one:"etwa ein Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa einem Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"ein Monat",other:"{{count}} Monate"},withPreposition:{one:"einem Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa ein Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa einem Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"ein Jahr",other:"{{count}} Jahre"},withPreposition:{one:"einem Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als ein Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als einem Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast ein Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast einem Jahr",other:"fast {{count}} Jahren"}}};return{localize:function localize(e,t,n){var o,i=(n=n||{}).addSuffix?r[e].withPreposition:r[e].standalone;return o="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"in "+o:"vor "+o:o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],n=["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],o=["So","Mo","Di","Mi","Do","Fr","Sa"],i=["Son","Mon","Die","Mit","Don","Fre","Sam"],r=["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"."}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"λιγότερο από ένα δευτερόλεπτο",other:"λιγότερο από {{count}} δευτερόλεπτα"},xSeconds:{one:"1 δευτερόλεπτο",other:"{{count}} δευτερόλεπτα"},halfAMinute:"μισό λεπτό",lessThanXMinutes:{one:"λιγότερο από ένα λεπτό",other:"λιγότερο από {{count}} λεπτά"},xMinutes:{one:"1 λεπτό",other:"{{count}} λεπτά"},aboutXHours:{one:"περίπου 1 ώρα",other:"περίπου {{count}} ώρες"},xHours:{one:"1 ώρα",other:"{{count}} ώρες"},xDays:{one:"1 ημέρα",other:"{{count}} ημέρες"},aboutXMonths:{one:"περίπου 1 μήνας",other:"περίπου {{count}} μήνες"},xMonths:{one:"1 μήνας",other:"{{count}} μήνες"},aboutXYears:{one:"περίπου 1 χρόνο",other:"περίπου {{count}} χρόνια"},xYears:{one:"1 χρόνο",other:"{{count}} χρόνια"},overXYears:{one:"πάνω από 1 χρόνο",other:"πάνω από {{count}} χρόνια"},almostXYears:{one:"περίπου 1 χρόνο",other:"περίπου {{count}} χρόνια"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"σε "+o:o+" πρίν":o}}}},function(e,t,n){var f=n(2);e.exports=function buildFormatLocale(){var t=["Ιαν","Φεβ","Μαρ","Απρ","Μαϊ","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],n=["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],o=["Ιανουαρίου","Φεβρουαρίου","Μαρτίου","Απριλίου","Μαΐου","Ιουνίου","Ιουλίου","Αυγούστου","Σεπτεμβρίου","Οκτωβρίου","Νοεμβρίου","Δεκεμβρίου"],i=["Κυ","Δε","Τρ","Τε","Πέ","Πα","Σά"],r=["Κυρ","Δευ","Τρί","Τετ","Πέμ","Παρ","Σάβ"],a=["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],s=["ΠΜ","ΜΜ"],u=["πμ","μμ"],c=["π.μ.","μ.μ."],d={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return i[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return 1<=e.getHours()/12?s[1]:s[0]},a:function(e){return 1<=e.getHours()/12?u[1]:u[0]},aa:function(e){return 1<=e.getHours()/12?c[1]:c[0]}},l={M:"ος",D:"η",DDD:"η",d:"η",Q:"ο",W:"η"};return["M","D","DDD","d","Q","W"].forEach(function(n){d[n+"o"]=function(e,t){return t[n](e)+l[n]}}),["D","Do","DD"].forEach(function(n){d[n+" MMMM"]=function(e,t){return(d[n]||t[n])(e,t)+" "+o[e.getMonth()]}}),{formatters:d,formattingTokensRegExp:f(d)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"malpli ol sekundo",other:"malpli ol {{count}} sekundoj"},xSeconds:{one:"1 sekundo",other:"{{count}} sekundoj"},halfAMinute:"duonminuto",lessThanXMinutes:{one:"malpli ol minuto",other:"malpli ol {{count}} minutoj"},xMinutes:{one:"1 minuto",other:"{{count}} minutoj"},aboutXHours:{one:"proksimume 1 horo",other:"proksimume {{count}} horoj"},xHours:{one:"1 horo",other:"{{count}} horoj"},xDays:{one:"1 tago",other:"{{count}} tagoj"},aboutXMonths:{one:"proksimume 1 monato",other:"proksimume {{count}} monatoj"},xMonths:{one:"1 monato",other:"{{count}} monatoj"},aboutXYears:{one:"proksimume 1 jaro",other:"proksimume {{count}} jaroj"},xYears:{one:"1 jaro",other:"{{count}} jaroj"},overXYears:{one:"pli ol 1 jaro",other:"pli ol {{count}} jaroj"},almostXYears:{one:"preskaŭ 1 jaro",other:"preskaŭ {{count}} jaroj"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"post "+o:"antaŭ "+o:o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["jan","feb","mar","apr","maj","jun","jul","aŭg","sep","okt","nov","dec"],n=["januaro","februaro","marto","aprilo","majo","junio","julio","aŭgusto","septembro","oktobro","novembro","decembro"],o=["di","lu","ma","me","ĵa","ve","sa"],i=["dim","lun","mar","mer","ĵaŭ","ven","sab"],r=["dimanĉo","lundo","mardo","merkredo","ĵaŭdo","vendredo","sabato"],a=["A.T.M.","P.T.M."],s=["a.t.m.","p.t.m."],u=["antaŭtagmeze","posttagmeze"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return t[n](e)+"-a"}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"en "+o:"hace "+o:o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],n=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],o=["do","lu","ma","mi","ju","vi","sa"],i=["dom","lun","mar","mié","jue","vie","sáb"],r=["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"º"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){function futureSeconds(e){return e.replace(/sekuntia?/,"sekunnin")}function futureMinutes(e){return e.replace(/minuuttia?/,"minuutin")}function futureHours(e){return e.replace(/tuntia?/,"tunnin")}function futureMonths(e){return e.replace(/(kuukausi|kuukautta)/,"kuukauden")}function futureYears(e){return e.replace(/(vuosi|vuotta)/,"vuoden")}var r={lessThanXSeconds:{one:"alle sekunti",other:"alle {{count}} sekuntia",futureTense:futureSeconds},xSeconds:{one:"sekunti",other:"{{count}} sekuntia",futureTense:futureSeconds},halfAMinute:{one:"puoli minuuttia",other:"puoli minuuttia",futureTense:function(e){return"puolen minuutin"}},lessThanXMinutes:{one:"alle minuutti",other:"alle {{count}} minuuttia",futureTense:futureMinutes},xMinutes:{one:"minuutti",other:"{{count}} minuuttia",futureTense:futureMinutes},aboutXHours:{one:"noin tunti",other:"noin {{count}} tuntia",futureTense:futureHours},xHours:{one:"tunti",other:"{{count}} tuntia",futureTense:futureHours},xDays:{one:"päivä",other:"{{count}} päivää",futureTense:function futureDays(e){return e.replace(/päivää?/,"päivän")}},aboutXMonths:{one:"noin kuukausi",other:"noin {{count}} kuukautta",futureTense:futureMonths},xMonths:{one:"kuukausi",other:"{{count}} kuukautta",futureTense:futureMonths},aboutXYears:{one:"noin vuosi",other:"noin {{count}} vuotta",futureTense:futureYears},xYears:{one:"vuosi",other:"{{count}} vuotta",futureTense:futureYears},overXYears:{one:"yli vuosi",other:"yli {{count}} vuotta",futureTense:futureYears},almostXYears:{one:"lähes vuosi",other:"lähes {{count}} vuotta",futureTense:futureYears}};return{localize:function localize(e,t,n){n=n||{};var o=r[e],i=1===t?o.one:o.other.replace("{{count}}",t);return n.addSuffix?0<n.comparison?o.futureTense(i)+" kuluttua":i+" sitten":i}}}},function(e,t,n){var r=n(2);e.exports=function buildFormatLocale(){var t=["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu"],n=["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],o=["su","ma","ti","ke","to","pe","la"],i=["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"];function meridiem(e){return e.getHours()<12?"AP":"IP"}var e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:meridiem,a:meridiem,aa:meridiem};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return t[n](e).toString()+"."}}),{formatters:e,formattingTokensRegExp:r(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"mas maliit sa isang segundo",other:"mas maliit sa {{count}} segundo"},xSeconds:{one:"1 segundo",other:"{{count}} segundo"},halfAMinute:"kalahating minuto",lessThanXMinutes:{one:"mas maliit sa isang minuto",other:"mas maliit sa {{count}} minuto"},xMinutes:{one:"1 minuto",other:"{{count}} minuto"},aboutXHours:{one:"mga 1 oras",other:"mga {{count}} oras"},xHours:{one:"1 oras",other:"{{count}} oras"},xDays:{one:"1 araw",other:"{{count}} araw"},aboutXMonths:{one:"mga 1 buwan",other:"mga {{count}} buwan"},xMonths:{one:"1 buwan",other:"{{count}} buwan"},aboutXYears:{one:"mga 1 taon",other:"mga {{count}} taon"},xYears:{one:"1 taon",other:"{{count}} taon"},overXYears:{one:"higit sa 1 taon",other:"higit sa {{count}} taon"},almostXYears:{one:"halos 1 taon",other:"halos {{count}} taon"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"sa loob ng "+o:o+" ang nakalipas":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["Ene","Peb","Mar","Abr","May","Hun","Hul","Ago","Set","Okt","Nob","Dis"],n=["Enero","Pebrero","Marso","Abril","Mayo","Hunyo","Hulyo","Agosto","Setyembre","Oktubre","Nobyembre","Disyembre"],o=["Li","Lu","Ma","Mi","Hu","Bi","Sa"],i=["Lin","Lun","Mar","Miy","Huw","Biy","Sab"],r=["Linggo","Lunes","Martes","Miyerkules","Huwebes","Biyernes","Sabado"],a=["NU","NT","NH","NG"],s=["nu","nt","nh","ng"],u=["ng umaga","ng tanghali","ng hapon","ng gabi"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 12<e.getHours()?e.getHours()%12<6?a[2]:a[3]:e.getHours()<12?a[0]:a[1]},a:function(e){return 12<e.getHours()?e.getHours()%12<6?s[2]:s[3]:e.getHours()<12?s[0]:s[1]},aa:function(e){return 12<e.getHours()?e.getHours()%12<6?u[2]:u[3]:e.getHours()<12?u[0]:u[1]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return"ika-"+e}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"dans "+o:"il y a "+o:o}}}},function(e,t,n){var d=n(2);e.exports=function buildFormatLocale(){var t=["janv.","févr.","mars","avr.","mai","juin","juill.","août","sept.","oct.","nov.","déc."],n=["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],o=["di","lu","ma","me","je","ve","sa"],i=["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],r=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],a=["AM","PM"],s=["am","pm"],u=["du matin","de l’après-midi","du soir"],c={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){var t=e.getHours();return t<=12?u[0]:t<=16?u[1]:u[2]},Wo:function(e,t){return function feminineOrdinal(e){return 1!==e?e+"e":"1re"}(t.W(e))}};return["M","D","DDD","d","Q"].forEach(function(n){c[n+"o"]=function(e,t){return function masculineOrdinal(e){return 1!==e?e+"e":"1er"}(t[n](e))}}),["MMM","MMMM"].forEach(function(o){c["Do "+o]=function(e,t){var n=1===e.getDate()?"Do":"D";return(c[n]||t[n])(e,t)+" "+c[o](e)}}),{formatters:c,formattingTokensRegExp:d(c)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:{standalone:"manje od 1 sekunde",withPrepositionAgo:"manje od 1 sekunde",withPrepositionIn:"manje od 1 sekundu"},dual:"manje od {{count}} sekunde",other:"manje od {{count}} sekundi"},xSeconds:{one:{standalone:"1 sekunda",withPrepositionAgo:"1 sekunde",withPrepositionIn:"1 sekundu"},dual:"{{count}} sekunde",other:"{{count}} sekundi"},halfAMinute:"pola minute",lessThanXMinutes:{one:{standalone:"manje od 1 minute",withPrepositionAgo:"manje od 1 minute",withPrepositionIn:"manje od 1 minutu"},dual:"manje od {{count}} minute",other:"manje od {{count}} minuta"},xMinutes:{one:{standalone:"1 minuta",withPrepositionAgo:"1 minute",withPrepositionIn:"1 minutu"},dual:"{{count}} minute",other:"{{count}} minuta"},aboutXHours:{one:{standalone:"oko 1 sat",withPrepositionAgo:"oko 1 sat",withPrepositionIn:"oko 1 sat"},dual:"oko {{count}} sata",other:"oko {{count}} sati"},xHours:{one:{standalone:"1 sat",withPrepositionAgo:"1 sat",withPrepositionIn:"1 sat"},dual:"{{count}} sata",other:"{{count}} sati"},xDays:{one:{standalone:"1 dan",withPrepositionAgo:"1 dan",withPrepositionIn:"1 dan"},dual:"{{count}} dana",other:"{{count}} dana"},aboutXMonths:{one:{standalone:"oko 1 mjesec",withPrepositionAgo:"oko 1 mjesec",withPrepositionIn:"oko 1 mjesec"},dual:"oko {{count}} mjeseca",other:"oko {{count}} mjeseci"},xMonths:{one:{standalone:"1 mjesec",withPrepositionAgo:"1 mjesec",withPrepositionIn:"1 mjesec"},dual:"{{count}} mjeseca",other:"{{count}} mjeseci"},aboutXYears:{one:{standalone:"oko 1 godinu",withPrepositionAgo:"oko 1 godinu",withPrepositionIn:"oko 1 godinu"},dual:"oko {{count}} godine",other:"oko {{count}} godina"},xYears:{one:{standalone:"1 godina",withPrepositionAgo:"1 godine",withPrepositionIn:"1 godinu"},dual:"{{count}} godine",other:"{{count}} godina"},overXYears:{one:{standalone:"preko 1 godinu",withPrepositionAgo:"preko 1 godinu",withPrepositionIn:"preko 1 godinu"},dual:"preko {{count}} godine",other:"preko {{count}} godina"},almostXYears:{one:{standalone:"gotovo 1 godinu",withPrepositionAgo:"gotovo 1 godinu",withPrepositionIn:"gotovo 1 godinu"},dual:"gotovo {{count}} godine",other:"gotovo {{count}} godina"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?n.addSuffix?0<n.comparison?i[e].one.withPrepositionIn:i[e].one.withPrepositionAgo:i[e].one.standalone:1<t%10&&t%10<5&&"1"!==String(t).substr(-2,1)?i[e].dual.replace("{{count}}",t):i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"za "+o:"prije "+o:o}}}},function(e,t,n){var l=n(2);e.exports=function buildFormatLocale(){var t=["sij","velj","ožu","tra","svi","lip","srp","kol","ruj","lis","stu","pro"],n=["siječanj","veljača","ožujak","travanj","svibanj","lipanj","srpanj","kolovoz","rujan","listopad","studeni","prosinac"],o=["siječnja","veljače","ožujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenog","prosinca"],i=["ne","po","ut","sr","če","pe","su"],r=["ned","pon","uto","sri","čet","pet","sub"],a=["nedjelja","ponedjeljak","utorak","srijeda","četvrtak","petak","subota"],s=["ujutro","popodne"],u=["ujutro","popodne"],c=["ujutro","popodne"],d={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return i[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return 1<=e.getHours()/12?s[1]:s[0]},a:function(e){return 1<=e.getHours()/12?u[1]:u[0]},aa:function(e){return 1<=e.getHours()/12?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){d[n+"o"]=function(e,t){return function ordinal(e){return e+"."}(t[n](e))}}),["D","Do","DD"].forEach(function(n){d[n+" MMM"]=function(e,t){return(d[n]||t[n])(e,t)+" "+o[e.getMonth()]}}),{formatters:d,formattingTokensRegExp:l(d)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"kevesebb, mint egy másodperce",other:"kevesebb, mint {{count}} másodperce"},xSeconds:{one:"1 másodperce",other:"{{count}} másodperce"},halfAMinute:"fél perce",lessThanXMinutes:{one:"kevesebb, mint egy perce",other:"kevesebb, mint {{count}} perce"},xMinutes:{one:"1 perce",other:"{{count}} perce"},aboutXHours:{one:"közel 1 órája",other:"közel {{count}} órája"},xHours:{one:"1 órája",other:"{{count}} órája"},xDays:{one:"1 napja",other:"{{count}} napja"},aboutXMonths:{one:"közel 1 hónapja",other:"közel {{count}} hónapja"},xMonths:{one:"1 hónapja",other:"{{count}} hónapja"},aboutXYears:{one:"közel 1 éve",other:"közel {{count}} éve"},xYears:{one:"1 éve",other:"{{count}} éve"},overXYears:{one:"több, mint 1 éve",other:"több, mint {{count}} éve"},almostXYears:{one:"majdnem 1 éve",other:"majdnem {{count}} éve"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?""+o:o+"":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Sze","Okt","Nov","Dec"],n=["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],o=["Va","Hé","Ke","Sze","Cs","Pé","Szo"],i=["Vas","Hét","Ked","Sze","Csü","Pén","Szo"],r=["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],a=["DE","DU"],s=["de","du"],u=["délelőtt","délután"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){var t=e%100;if(20<t||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"dalam waktu "+o:o+" yang lalu":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],n=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],o=["Mi","Sn","Sl","Ra","Ka","Ju","Sa"],i=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],r=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){switch(e){case 1:return"pertama";case 2:return"kedua";case 3:return"ketiga";default:return"ke-"+e}}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"minna en 1 sekúnda",other:"minna en {{count}} sekúndur"},xSeconds:{one:"1 sekúnda",other:"{{count}} sekúndur"},halfAMinute:"hálf mínúta",lessThanXMinutes:{one:"minna en 1 mínúta",other:"minna en {{count}} mínútur"},xMinutes:{one:"1 mínúta",other:"{{count}} mínútur"},aboutXHours:{one:"u.þ.b. 1 klukkustund",other:"u.þ.b. {{count}} klukkustundir"},xHours:{one:"1 klukkustund",other:"{{count}} klukkustundir"},xDays:{one:"1 dagur",other:"{{count}} dagar"},aboutXMonths:{one:"u.þ.b. 1 mánuður",other:"u.þ.b. {{count}} mánuðir"},xMonths:{one:"1 mánuður",other:"{{count}} mánuðir"},aboutXYears:{one:"u.þ.b. 1 ár",other:"u.þ.b. {{count}} ár"},xYears:{one:"1 ár",other:"{{count}} ár"},overXYears:{one:"meira en 1 ár",other:"meira en {{count}} ár"},almostXYears:{one:"næstum 1 ár",other:"næstum {{count}} ár"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"í "+o:o+" síðan":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["jan","feb","mar","apr","maí","jún","júl","ágú","sep","okt","nóv","des"],n=["janúar","febrúar","mars","apríl","maí","júní","júlí","ágúst","september","október","nóvember","desember"],o=["su","má","þr","mi","fi","fö","la"],i=["sun","mán","þri","mið","fim","fös","lau"],r=["sunnudaginn","mánudaginn","þriðjudaginn","miðvikudaginn","fimmtudaginn","föstudaginn","laugardaginn"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return""+e}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"più di un anno",other:"più di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"tra "+o:o+" fa":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],n=["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],o=["do","lu","ma","me","gi","ve","sa"],i=["dom","lun","mar","mer","gio","ven","sab"],r=["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"º"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"1秒以下",other:"{{count}}秒以下"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒ぐらい",lessThanXMinutes:{one:"1分以下",other:"{{count}}分以下"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"1時間ぐらい",other:"{{count}}時間ぐらい"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXMonths:{one:"1ヶ月ぐらい",other:"{{count}}ヶ月ぐらい"},xMonths:{one:"1ヶ月",other:"{{count}}ヶ月"},aboutXYears:{one:"1年ぐらい",other:"{{count}}年ぐらい"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年以下",other:"{{count}}年以下"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?o+"後":o+"前":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],n=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],o=["日","月","火","水","木","金","土"],i=["日曜","月曜","火曜","水曜","木曜","金曜","土曜"],r=["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],a=["午前","午後"],s=["午前","午後"],u=["午前","午後"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"日"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?o+" 후":o+" 전":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],n=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],o=["일","월","화","수","목","금","토"],i=["일","월","화","수","목","금","토"],r=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],a=["오전","오후"],s=["오전","오후"],u=["오전","오후"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"일"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"помалку од секунда",other:"помалку од {{count}} секунди"},xSeconds:{one:"1 секунда",other:"{{count}} секунди"},halfAMinute:"половина минута",lessThanXMinutes:{one:"помалку од минута",other:"помалку од {{count}} минути"},xMinutes:{one:"1 минута",other:"{{count}} минути"},aboutXHours:{one:"околу 1 час",other:"околу {{count}} часа"},xHours:{one:"1 час",other:"{{count}} часа"},xDays:{one:"1 ден",other:"{{count}} дена"},aboutXMonths:{one:"околу 1 месец",other:"околу {{count}} месеци"},xMonths:{one:"1 месец",other:"{{count}} месеци"},aboutXYears:{one:"околу 1 година",other:"околу {{count}} години"},xYears:{one:"1 година",other:"{{count}} години"},overXYears:{one:"повеќе од 1 година",other:"повеќе од {{count}} години"},almostXYears:{one:"безмалку 1 година",other:"безмалку {{count}} години"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"за "+o:"пред "+o:o}}}},function(e,t,n){var s=n(2);e.exports=function buildFormatLocale(){var t=["јан","фев","мар","апр","мај","јун","јул","авг","сеп","окт","ное","дек"],n=["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],o=["не","по","вт","ср","че","пе","са"],i=["нед","пон","вто","сре","чет","пет","саб"],r=["недела","понеделник","вторник","среда","четврток","петок","сабота"],a=["претпладне","попладне"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?a[1]:a[0]},aa:function(e){return 1<=e.getHours()/12?a[1]:a[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){var t=e%100;if(20<t||t<10)switch(t%10){case 1:return e+"-ви";case 2:return e+"-ри";case 7:case 8:return e+"-ми"}return e+"-ти"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:s(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"mindre enn ett sekund",other:"mindre enn {{count}} sekunder"},xSeconds:{one:"ett sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minutt",lessThanXMinutes:{one:"mindre enn ett minutt",other:"mindre enn {{count}} minutter"},xMinutes:{one:"ett minutt",other:"{{count}} minutter"},aboutXHours:{one:"rundt en time",other:"rundt {{count}} timer"},xHours:{one:"en time",other:"{{count}} timer"},xDays:{one:"en dag",other:"{{count}} dager"},aboutXMonths:{one:"rundt en måned",other:"rundt {{count}} måneder"},xMonths:{one:"en måned",other:"{{count}} måneder"},aboutXYears:{one:"rundt ett år",other:"rundt {{count}} år"},xYears:{one:"ett år",other:"{{count}} år"},overXYears:{one:"over ett år",other:"over {{count}} år"},almostXYears:{one:"nesten ett år",other:"nesten {{count}} år"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"om "+o:o+" siden":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["jan.","feb.","mars","april","mai","juni","juli","aug.","sep.","okt.","nov.","des."],n=["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],o=["sø","ma","ti","on","to","fr","lø"],i=["sø.","ma.","ti.","on.","to.","fr.","lø."],r=["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"."}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"minder dan een seconde",other:"minder dan {{count}} seconden"},xSeconds:{one:"1 seconde",other:"{{count}} seconden"},halfAMinute:"een halve minuut",lessThanXMinutes:{one:"minder dan een minuut",other:"minder dan {{count}} minuten"},xMinutes:{one:"een minuut",other:"{{count}} minuten"},aboutXHours:{one:"ongeveer 1 uur",other:"ongeveer {{count}} uur"},xHours:{one:"1 uur",other:"{{count}} uur"},xDays:{one:"1 dag",other:"{{count}} dagen"},aboutXMonths:{one:"ongeveer 1 maand",other:"ongeveer {{count}} maanden"},xMonths:{one:"1 maand",other:"{{count}} maanden"},aboutXYears:{one:"ongeveer 1 jaar",other:"ongeveer {{count}} jaar"},xYears:{one:"1 jaar",other:"{{count}} jaar"},overXYears:{one:"meer dan 1 jaar",other:"meer dan {{count}} jaar"},almostXYears:{one:"bijna 1 jaar",other:"bijna {{count}} jaar"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"over "+o:o+" geleden":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["jan","feb","mar","apr","mei","jun","jul","aug","sep","okt","nov","dec"],n=["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],o=["zo","ma","di","wo","do","vr","za"],i=["zon","maa","din","woe","don","vri","zat"],r=["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"e"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){function declension(e,t,n){n=n||"regular";var o=function declensionGroup(e,t){if(1===t)return e.one;var n=t%100;if(n<=20&&10<n)return e.other;var o=n%10;return 2<=o&&o<=4?e.twoFour:e.other}(e,t);return(o[n]||o).replace("{{count}}",t)}e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:{regular:"mniej niż sekunda",past:"mniej niż sekundę",future:"mniej niż sekundę"},twoFour:"mniej niż {{count}} sekundy",other:"mniej niż {{count}} sekund"},xSeconds:{one:{regular:"sekunda",past:"sekundę",future:"sekundę"},twoFour:"{{count}} sekundy",other:"{{count}} sekund"},halfAMinute:{one:"pół minuty",twoFour:"pół minuty",other:"pół minuty"},lessThanXMinutes:{one:{regular:"mniej niż minuta",past:"mniej niż minutę",future:"mniej niż minutę"},twoFour:"mniej niż {{count}} minuty",other:"mniej niż {{count}} minut"},xMinutes:{one:{regular:"minuta",past:"minutę",future:"minutę"},twoFour:"{{count}} minuty",other:"{{count}} minut"},aboutXHours:{one:{regular:"około godzina",past:"około godziny",future:"około godzinę"},twoFour:"około {{count}} godziny",other:"około {{count}} godzin"},xHours:{one:{regular:"godzina",past:"godzinę",future:"godzinę"},twoFour:"{{count}} godziny",other:"{{count}} godzin"},xDays:{one:{regular:"dzień",past:"dzień",future:"1 dzień"},twoFour:"{{count}} dni",other:"{{count}} dni"},aboutXMonths:{one:"około miesiąc",twoFour:"około {{count}} miesiące",other:"około {{count}} miesięcy"},xMonths:{one:"miesiąc",twoFour:"{{count}} miesiące",other:"{{count}} miesięcy"},aboutXYears:{one:"około rok",twoFour:"około {{count}} lata",other:"około {{count}} lat"},xYears:{one:"rok",twoFour:"{{count}} lata",other:"{{count}} lat"},overXYears:{one:"ponad rok",twoFour:"ponad {{count}} lata",other:"ponad {{count}} lat"},almostXYears:{one:"prawie rok",twoFour:"prawie {{count}} lata",other:"prawie {{count}} lat"}};return{localize:function localize(e,t,n){var o=i[e];return(n=n||{}).addSuffix?0<n.comparison?"za "+declension(o,t,"future"):declension(o,t,"past")+" temu":declension(o,t)}}}},function(e,t,n){var s=n(2);e.exports=function buildFormatLocale(){var t=["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],n=["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],o=["nd","pn","wt","śr","cz","pt","sb"],i=["niedz.","pon.","wt.","śr.","czw.","piąt.","sob."],r=["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],a=["w nocy","rano","po południu","wieczorem"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){var t=e.getHours();return 17<=t?a[3]:12<=t?a[2]:4<=t?a[1]:a[0]}};return e.a=e.A,e.aa=e.A,["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return t[n](e).toString()}}),{formatters:e,formattingTokensRegExp:s(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXMonths:{one:"aproximadamente 1 mês",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"daqui a "+o:"há "+o:o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],n=["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],o=["do","se","te","qa","qi","se","sa"],i=["dom","seg","ter","qua","qui","sex","sáb"],r=["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"º"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"mai puțin de o secundă",other:"mai puțin de {{count}} secunde"},xSeconds:{one:"1 secundă",other:"{{count}} secunde"},halfAMinute:"jumătate de minut",lessThanXMinutes:{one:"mai puțin de un minut",other:"mai puțin de {{count}} minute"},xMinutes:{one:"1 minut",other:"{{count}} minute"},aboutXHours:{one:"circa 1 oră",other:"circa {{count}} ore"},xHours:{one:"1 oră",other:"{{count}} ore"},xDays:{one:"1 zi",other:"{{count}} zile"},aboutXMonths:{one:"circa 1 lună",other:"circa {{count}} luni"},xMonths:{one:"1 lună",other:"{{count}} luni"},aboutXYears:{one:"circa 1 an",other:"circa {{count}} ani"},xYears:{one:"1 an",other:"{{count}} ani"},overXYears:{one:"peste 1 an",other:"peste {{count}} ani"},almostXYears:{one:"aproape 1 an",other:"aproape {{count}} ani"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"în "+o:o+" în urmă":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["ian","feb","mar","apr","mai","iun","iul","aug","sep","oct","noi","dec"],n=["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],o=["du","lu","ma","mi","jo","vi","sâ"],i=["dum","lun","mar","mie","joi","vin","sâm"],r=["duminică","luni","marți","miercuri","joi","vineri","sâmbăta"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e.toString()}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){function declension(e,t){if(void 0!==e.one&&1===t)return e.one;var n=t%10,o=t%100;return 1===n&&11!==o?e.singularNominative.replace("{{count}}",t):2<=n&&n<=4&&(o<10||20<o)?e.singularGenitive.replace("{{count}}",t):e.pluralGenitive.replace("{{count}}",t)}function buildLocalizeTokenFn(n){return function(e,t){return t.addSuffix?0<t.comparison?n.future?declension(n.future,e):"через "+declension(n.regular,e):n.past?declension(n.past,e):declension(n.regular,e)+" назад":declension(n.regular,e)}}e.exports=function buildDistanceInWordsLocale(){var o={lessThanXSeconds:buildLocalizeTokenFn({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(e,t){return t.addSuffix?0<t.comparison?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:buildLocalizeTokenFn({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:buildLocalizeTokenFn({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXMonths:buildLocalizeTokenFn({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:buildLocalizeTokenFn({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:buildLocalizeTokenFn({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:buildLocalizeTokenFn({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:buildLocalizeTokenFn({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})};return{localize:function localize(e,t,n){return n=n||{},o[e](t,n)}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],n=["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],o=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],i=["вс","пн","вт","ср","чт","пт","сб"],r=["вск","пнд","втр","срд","чтв","птн","суб"],a=["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],s=["ночи","утра","дня","вечера"],u={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return i[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){var t=e.getHours();return 17<=t?s[3]:12<=t?s[2]:4<=t?s[1]:s[0]},Do:function(e,t){return t.D(e)+"-е"},Wo:function(e,t){return t.W(e)+"-я"}};return u.a=u.A,u.aa=u.A,["M","DDD","d","Q"].forEach(function(n){u[n+"o"]=function(e,t){return t[n](e)+"-й"}}),["D","Do","DD"].forEach(function(n){u[n+" MMMM"]=function(e,t){return(u[n]||t[n])(e,t)+" "+o[e.getMonth()]}}),{formatters:u,formattingTokensRegExp:c(u)}}},function(e,t){function declension(e,t,n){var o=function declensionGroup(e,t){return 1===t?e.one:2<=t&&t<=4?e.twoFour:e.other}(e,t);return(o[n]||o).replace("{{count}}",t)}function prefixPreposition(e){var t="";return"almost"===e&&(t="takmer"),"about"===e&&(t="približne"),0<t.length?t+" ":""}function suffixPreposition(e){var t="";return"lessThan"===e&&(t="menej než"),"over"===e&&(t="viac než"),0<t.length?t+" ":""}e.exports=function buildDistanceInWordsLocale(){var a={xSeconds:{one:{regular:"sekunda",past:"sekundou",future:"sekundu"},twoFour:{regular:"{{count}} sekundy",past:"{{count}} sekundami",future:"{{count}} sekundy"},other:{regular:"{{count}} sekúnd",past:"{{count}} sekundami",future:"{{count}} sekúnd"}},halfAMinute:{other:{regular:"pol minúty",past:"pol minútou",future:"pol minúty"}},xMinutes:{one:{regular:"minúta",past:"minútou",future:"minútu"},twoFour:{regular:"{{count}} minúty",past:"{{count}} minútami",future:"{{count}} minúty"},other:{regular:"{{count}} minút",past:"{{count}} minútami",future:"{{count}} minút"}},xHours:{one:{regular:"hodina",past:"hodinou",future:"hodinu"},twoFour:{regular:"{{count}} hodiny",past:"{{count}} hodinami",future:"{{count}} hodiny"},other:{regular:"{{count}} hodín",past:"{{count}} hodinami",future:"{{count}} hodín"}},xDays:{one:{regular:"deň",past:"dňom",future:"deň"},twoFour:{regular:"{{count}} dni",past:"{{count}} dňami",future:"{{count}} dni"},other:{regular:"{{count}} dní",past:"{{count}} dňami",future:"{{count}} dní"}},xMonths:{one:{regular:"mesiac",past:"mesiacom",future:"mesiac"},twoFour:{regular:"{{count}} mesiace",past:"{{count}} mesiacmi",future:"{{count}} mesiace"},other:{regular:"{{count}} mesiacov",past:"{{count}} mesiacmi",future:"{{count}} mesiacov"}},xYears:{one:{regular:"rok",past:"rokom",future:"rok"},twoFour:{regular:"{{count}} roky",past:"{{count}} rokmi",future:"{{count}} roky"},other:{regular:"{{count}} rokov",past:"{{count}} rokmi",future:"{{count}} rokov"}}};return{localize:function localize(e,t,n){n=n||{};var o=function extractPreposition(t){return["lessThan","about","over","almost"].filter(function(e){return!!t.match(new RegExp("^"+e))})[0]}(e)||"",i=function lowercaseFirstLetter(e){return e.charAt(0).toLowerCase()+e.slice(1)}(e.substring(o.length)),r=a[i];return n.addSuffix?0<n.comparison?prefixPreposition(o)+"za "+suffixPreposition(o)+declension(r,t,"future"):prefixPreposition(o)+"pred "+suffixPreposition(o)+declension(r,t,"past"):prefixPreposition(o)+suffixPreposition(o)+declension(r,t,"regular")}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["jan","feb","mar","apr","máj","jún","júl","aug","sep","okt","nov","dec"],n=["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december"],o=["ne","po","ut","st","št","pi","so"],i=["neď","pon","uto","str","štv","pia","sob"],r=["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"."}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"manj kot sekunda",two:"manj kot 2 sekundi",three:"manj kot {{count}} sekunde",other:"manj kot {{count}} sekund"},xSeconds:{one:"1 sekunda",two:"2 sekundi",three:"{{count}} sekunde",other:"{{count}} sekund"},halfAMinute:"pol minute",lessThanXMinutes:{one:"manj kot minuta",two:"manj kot 2 minuti",three:"manj kot {{count}} minute",other:"manj kot {{count}} minut"},xMinutes:{one:"1 minuta",two:"2 minuti",three:"{{count}} minute",other:"{{count}} minut"},aboutXHours:{one:"približno 1 ura",two:"približno 2 uri",three:"približno {{count}} ure",other:"približno {{count}} ur"},xHours:{one:"1 ura",two:"2 uri",three:"{{count}} ure",other:"{{count}} ur"},xDays:{one:"1 dan",two:"2 dni",three:"{{count}} dni",other:"{{count}} dni"},aboutXMonths:{one:"približno 1 mesec",two:"približno 2 meseca",three:"približno {{count}} mesece",other:"približno {{count}} mesecev"},xMonths:{one:"1 mesec",two:"2 meseca",three:"{{count}} meseci",other:"{{count}} mesecev"},aboutXYears:{one:"približno 1 leto",two:"približno 2 leti",three:"približno {{count}} leta",other:"približno {{count}} let"},xYears:{one:"1 leto",two:"2 leti",three:"{{count}} leta",other:"{{count}} let"},overXYears:{one:"več kot 1 leto",two:"več kot 2 leti",three:"več kot {{count}} leta",other:"več kot {{count}} let"},almostXYears:{one:"skoraj 1 leto",two:"skoraj 2 leti",three:"skoraj {{count}} leta",other:"skoraj {{count}} let"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:2===t?i[e].two:3===t||4===t?i[e].three.replace("{{count}}",t):i[e].other.replace("{{count}}",t),n.addSuffix?(o=o.replace(/(minut|sekund|ur)(a)/,"$1o"),"xMonths"===e&&(o=o.replace(/(mesec)(i)/,"$1e")),0<n.comparison?"čez "+o:o+" nazaj"):o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec"],n=["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"],o=["ne","po","to","sr","če","pe","so"],i=["ned","pon","tor","sre","čet","pet","sob"],r=["nedelja","ponedeljek","torek","sreda","četrtek","petek","sobota"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e+"."}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var r={lessThanXSeconds:{singular:"mindre än en sekund",plural:"mindre än {{count}} sekunder"},xSeconds:{singular:"en sekund",plural:"{{count}} sekunder"},halfAMinute:"en halv minut",lessThanXMinutes:{singular:"mindre än en minut",plural:"mindre än {{count}} minuter"},xMinutes:{singular:"en minut",plural:"{{count}} minuter"},aboutXHours:{singular:"ungefär en timme",plural:"ungefär {{count}} timmar"},xHours:{singular:"en timme",plural:"{{count}} timmar"},xDays:{singular:"en dag",plural:"{{count}} dagar"},aboutXMonths:{singular:"ungefär en månad",plural:"ungefär {{count}} månader"},xMonths:{singular:"en månad",plural:"{{count}} månader"},aboutXYears:{singular:"ungefär ett år",plural:"ungefär {{count}} år"},xYears:{singular:"ett år",plural:"{{count}} år"},overXYears:{singular:"över ett år",plural:"över {{count}} år"},almostXYears:{singular:"nästan ett år",plural:"nästan {{count}} år"}},a=["noll","en","två","tre","fyra","fem","sex","sju","åtta","nio","tio","elva","tolv"];return{localize:function localize(e,t,n){n=n||{};var o,i=r[e];return o="string"==typeof i?i:0===t||1<t?i.plural.replace("{{count}}",t<13?a[t]:t):i.singular,n.addSuffix?0<n.comparison?"om "+o:o+" sedan":o}}}},function(e,t,n){var s=n(2);e.exports=function buildFormatLocale(){var t=["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],n=["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],o=["sö","må","ti","on","to","fr","lö"],i=["sön","mån","tis","ons","tor","fre","lör"],r=["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],a=["f.m.","e.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},aa:function(e){return 1<=e.getHours()/12?a[1]:a[0]}};return e.A=e.aa,e.a=e.aa,["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){var t=e%100;if(20<t||t<10)switch(t%10){case 1:case 2:return e+":a"}return e+":e"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:s(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"น้อยกว่า 1 วินาที",other:"น้อยกว่า {{count}} วินาที"},xSeconds:{one:"1 วินาที",other:"{{count}} วินาที"},halfAMinute:"ครึ่งนาที",lessThanXMinutes:{one:"น้อยกว่า 1 นาที",other:"น้อยกว่า {{count}} นาที"},xMinutes:{one:"1 นาที",other:"{{count}} นาที"},aboutXHours:{one:"ประมาณ 1 ชั่วโมง",other:"ประมาณ {{count}} ชั่วโมง"},xHours:{one:"1 ชั่วโมง",other:"{{count}} ชั่วโมง"},xDays:{one:"1 วัน",other:"{{count}} วัน"},aboutXMonths:{one:"ประมาณ 1 เดือน",other:"ประมาณ {{count}} เดือน"},xMonths:{one:"1 เดือน",other:"{{count}} เดือน"},aboutXYears:{one:"ประมาณ 1 ปี",other:"ประมาณ {{count}} ปี"},xYears:{one:"1 ปี",other:"{{count}} ปี"},overXYears:{one:"มากกว่า 1 ปี",other:"มากกว่า {{count}} ปี"},almostXYears:{one:"เกือบ 1 ปี",other:"เกือบ {{count}} ปี"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"halfAMinute"===e?"ใน"+o:"ใน "+o:o+"ที่ผ่านมา":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],n=["มกราคาม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],o=["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],i=["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],r=["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],a=["น."],s=["น."],u=["นาฬิกา"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return a[0]},a:function(e){return s[0]},aa:function(e){return u[0]}};return{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var r={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarım dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklaşık 1 saat",other:"yaklaşık {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gün",other:"{{count}} gün"},aboutXMonths:{one:"yaklaşık 1 ay",other:"yaklaşık {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklaşık 1 yıl",other:"yaklaşık {{count}} yıl"},xYears:{one:"1 yıl",other:"{{count}} yıl"},overXYears:{one:"1 yıldan fazla",other:"{{count}} yıldan fazla"},almostXYears:{one:"neredeyse 1 yıl",other:"neredeyse {{count}} yıl"}},a=["lessThanXSeconds","lessThanXMinutes","overXYears"];return{localize:function localize(e,t,n){var o;if(n=n||{},o="string"==typeof r[e]?r[e]:1===t?r[e].one:r[e].other.replace("{{count}}",t),n.addSuffix){var i="";return-1<a.indexOf(e)&&(i=" bir süre"),0<n.comparison?o+i+" içinde":o+i+" önce"}return o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],n=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],o=["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],i=["Paz","Pts","Sal","Çar","Per","Cum","Cts"],r=["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],a=["ÖÖ","ÖS"],s=["öö","ös"],u=["ö.ö.","ö.s."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){var t={1:"'inci",2:"'inci",3:"'üncü",4:"'üncü",5:"'inci",6:"'ıncı",7:"'inci",8:"'inci",9:"'uncu",10:"'uncu",20:"'inci",30:"'uncu",50:"'inci",60:"'ıncı",70:"'inci",80:"'inci",90:"'ıncı",100:"'üncü"};if(0===e)return"0'ıncı";var n=e%10,o=e%100-n,i=100<=e?100:null;return e+(t[n]||t[o]||t[i])}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?o+"内":o+"前":o}}}},function(e,t,n){var s=n(2);e.exports=function buildFormatLocale(){var t=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],n=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],o=["日","一","二","三","四","五","六"],i=["周日","周一","周二","周三","周四","周五","周六"],r=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],a=["上午","下午"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]}};return e.a=e.aa=e.A=function(e){return 1<=e.getHours()/12?a[1]:a[0]},["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e.toString()}(t[n](e))}}),{formatters:e,formattingTokensRegExp:s(e)}}},function(e,t){e.exports=function buildDistanceInWordsLocale(){var i={lessThanXSeconds:{one:"少於 1 秒",other:"少於 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分鐘",lessThanXMinutes:{one:"少於 1 分鐘",other:"少於 {{count}} 分鐘"},xMinutes:{one:"1 分鐘",other:"{{count}} 分鐘"},xHours:{one:"1 小時",other:"{{count}} 小時"},aboutXHours:{one:"大約 1 小時",other:"大約 {{count}} 小時"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXMonths:{one:"大約 1 個月",other:"大約 {{count}} 個月"},xMonths:{one:"1 個月",other:"{{count}} 個月"},aboutXYears:{one:"大約 1 年",other:"大約 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超過 1 年",other:"超過 {{count}} 年"},almostXYears:{one:"將近 1 年",other:"將近 {{count}} 年"}};return{localize:function localize(e,t,n){var o;return n=n||{},o="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?o+"內":o+"前":o}}}},function(e,t,n){var c=n(2);e.exports=function buildFormatLocale(){var t=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],n=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],o=["日","一","二","三","四","五","六"],i=["周日","周一","周二","周三","周四","周五","周六"],r=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],a=["AM","PM"],s=["am","pm"],u=["上午","下午"],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return o[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return r[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function ordinal(e){return e.toString()}(t[n](e))}}),{formatters:e,formattingTokensRegExp:c(e)}}},function(e,t,n){var a=n(0);e.exports=function startOfWeek(e,t){var n=t&&Number(t.weekStartsOn)||0,o=a(e),i=o.getDay(),r=(i<n?7:0)+i-n;return o.setDate(o.getDate()-r),o.setHours(0,0,0,0),o}},function(e,t,n){var a=n(5);e.exports=function differenceInCalendarDays(e,t){var n=a(e),o=a(t),i=n.getTime()-6e4*n.getTimezoneOffset(),r=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((i-r)/864e5)}},function(e,t,n){var s=n(0),u=n(121);e.exports=function addMonths(e,t){var n=s(e),o=Number(t),i=n.getMonth()+o,r=new Date(0);r.setFullYear(n.getFullYear(),i,1),r.setHours(0,0,0,0);var a=u(r);return n.setMonth(i,Math.min(a,n.getDate())),n}},function(e,t,n){var i=n(0);e.exports=function differenceInMilliseconds(e,t){var n=i(e),o=i(t);return n.getTime()-o.getTime()}},function(e,t,n){var o={"./_lib/build_formatting_tokens_reg_exp":2,"./_lib/build_formatting_tokens_reg_exp/":2,"./_lib/build_formatting_tokens_reg_exp/index":2,"./_lib/build_formatting_tokens_reg_exp/index.js":2,"./_lib/package":196,"./_lib/package.json":196,"./ar":85,"./ar/":85,"./ar/build_distance_in_words_locale":14,"./ar/build_distance_in_words_locale/":14,"./ar/build_distance_in_words_locale/index":14,"./ar/build_distance_in_words_locale/index.js":14,"./ar/build_format_locale":15,"./ar/build_format_locale/":15,"./ar/build_format_locale/index":15,"./ar/build_format_locale/index.js":15,"./ar/index":85,"./ar/index.js":85,"./ar/package":197,"./ar/package.json":197,"./bg":86,"./bg/":86,"./bg/build_distance_in_words_locale":16,"./bg/build_distance_in_words_locale/":16,"./bg/build_distance_in_words_locale/index":16,"./bg/build_distance_in_words_locale/index.js":16,"./bg/build_format_locale":17,"./bg/build_format_locale/":17,"./bg/build_format_locale/index":17,"./bg/build_format_locale/index.js":17,"./bg/index":86,"./bg/index.js":86,"./bg/package":198,"./bg/package.json":198,"./ca":87,"./ca/":87,"./ca/build_distance_in_words_locale":18,"./ca/build_distance_in_words_locale/":18,"./ca/build_distance_in_words_locale/index":18,"./ca/build_distance_in_words_locale/index.js":18,"./ca/build_format_locale":19,"./ca/build_format_locale/":19,"./ca/build_format_locale/index":19,"./ca/build_format_locale/index.js":19,"./ca/index":87,"./ca/index.js":87,"./ca/package":199,"./ca/package.json":199,"./cs":88,"./cs/":88,"./cs/build_distance_in_words_locale":20,"./cs/build_distance_in_words_locale/":20,"./cs/build_distance_in_words_locale/index":20,"./cs/build_distance_in_words_locale/index.js":20,"./cs/build_format_locale":21,"./cs/build_format_locale/":21,"./cs/build_format_locale/index":21,"./cs/build_format_locale/index.js":21,"./cs/index":88,"./cs/index.js":88,"./cs/package":200,"./cs/package.json":200,"./da":89,"./da/":89,"./da/build_distance_in_words_locale":22,"./da/build_distance_in_words_locale/":22,"./da/build_distance_in_words_locale/index":22,"./da/build_distance_in_words_locale/index.js":22,"./da/build_format_locale":23,"./da/build_format_locale/":23,"./da/build_format_locale/index":23,"./da/build_format_locale/index.js":23,"./da/index":89,"./da/index.js":89,"./da/package":201,"./da/package.json":201,"./de":90,"./de/":90,"./de/build_distance_in_words_locale":24,"./de/build_distance_in_words_locale/":24,"./de/build_distance_in_words_locale/index":24,"./de/build_distance_in_words_locale/index.js":24,"./de/build_format_locale":25,"./de/build_format_locale/":25,"./de/build_format_locale/index":25,"./de/build_format_locale/index.js":25,"./de/index":90,"./de/index.js":90,"./de/package":202,"./de/package.json":202,"./el":91,"./el/":91,"./el/build_distance_in_words_locale":26,"./el/build_distance_in_words_locale/":26,"./el/build_distance_in_words_locale/index":26,"./el/build_distance_in_words_locale/index.js":26,"./el/build_format_locale":27,"./el/build_format_locale/":27,"./el/build_format_locale/index":27,"./el/build_format_locale/index.js":27,"./el/index":91,"./el/index.js":91,"./el/package":203,"./el/package.json":203,"./en":6,"./en/":6,"./en/build_distance_in_words_locale":12,"./en/build_distance_in_words_locale/":12,"./en/build_distance_in_words_locale/index":12,"./en/build_distance_in_words_locale/index.js":12,"./en/build_format_locale":13,"./en/build_format_locale/":13,"./en/build_format_locale/index":13,"./en/build_format_locale/index.js":13,"./en/index":6,"./en/index.js":6,"./en/package":204,"./en/package.json":204,"./eo":92,"./eo/":92,"./eo/build_distance_in_words_locale":28,"./eo/build_distance_in_words_locale/":28,"./eo/build_distance_in_words_locale/index":28,"./eo/build_distance_in_words_locale/index.js":28,"./eo/build_format_locale":29,"./eo/build_format_locale/":29,"./eo/build_format_locale/index":29,"./eo/build_format_locale/index.js":29,"./eo/index":92,"./eo/index.js":92,"./eo/package":205,"./eo/package.json":205,"./es":93,"./es/":93,"./es/build_distance_in_words_locale":30,"./es/build_distance_in_words_locale/":30,"./es/build_distance_in_words_locale/index":30,"./es/build_distance_in_words_locale/index.js":30,"./es/build_format_locale":31,"./es/build_format_locale/":31,"./es/build_format_locale/index":31,"./es/build_format_locale/index.js":31,"./es/index":93,"./es/index.js":93,"./es/package":206,"./es/package.json":206,"./fi":94,"./fi/":94,"./fi/build_distance_in_words_locale":32,"./fi/build_distance_in_words_locale/":32,"./fi/build_distance_in_words_locale/index":32,"./fi/build_distance_in_words_locale/index.js":32,"./fi/build_format_locale":33,"./fi/build_format_locale/":33,"./fi/build_format_locale/index":33,"./fi/build_format_locale/index.js":33,"./fi/index":94,"./fi/index.js":94,"./fi/package":207,"./fi/package.json":207,"./fil":95,"./fil/":95,"./fil/build_distance_in_words_locale":34,"./fil/build_distance_in_words_locale/":34,"./fil/build_distance_in_words_locale/index":34,"./fil/build_distance_in_words_locale/index.js":34,"./fil/build_format_locale":35,"./fil/build_format_locale/":35,"./fil/build_format_locale/index":35,"./fil/build_format_locale/index.js":35,"./fil/index":95,"./fil/index.js":95,"./fil/package":208,"./fil/package.json":208,"./fr":96,"./fr/":96,"./fr/build_distance_in_words_locale":36,"./fr/build_distance_in_words_locale/":36,"./fr/build_distance_in_words_locale/index":36,"./fr/build_distance_in_words_locale/index.js":36,"./fr/build_format_locale":37,"./fr/build_format_locale/":37,"./fr/build_format_locale/index":37,"./fr/build_format_locale/index.js":37,"./fr/index":96,"./fr/index.js":96,"./fr/package":209,"./fr/package.json":209,"./hr":97,"./hr/":97,"./hr/build_distance_in_words_locale":38,"./hr/build_distance_in_words_locale/":38,"./hr/build_distance_in_words_locale/index":38,"./hr/build_distance_in_words_locale/index.js":38,"./hr/build_format_locale":39,"./hr/build_format_locale/":39,"./hr/build_format_locale/index":39,"./hr/build_format_locale/index.js":39,"./hr/index":97,"./hr/index.js":97,"./hr/package":210,"./hr/package.json":210,"./hu":98,"./hu/":98,"./hu/build_distance_in_words_locale":40,"./hu/build_distance_in_words_locale/":40,"./hu/build_distance_in_words_locale/index":40,"./hu/build_distance_in_words_locale/index.js":40,"./hu/build_format_locale":41,"./hu/build_format_locale/":41,"./hu/build_format_locale/index":41,"./hu/build_format_locale/index.js":41,"./hu/index":98,"./hu/index.js":98,"./hu/package":211,"./hu/package.json":211,"./id":99,"./id/":99,"./id/build_distance_in_words_locale":42,"./id/build_distance_in_words_locale/":42,"./id/build_distance_in_words_locale/index":42,"./id/build_distance_in_words_locale/index.js":42,"./id/build_format_locale":43,"./id/build_format_locale/":43,"./id/build_format_locale/index":43,"./id/build_format_locale/index.js":43,"./id/index":99,"./id/index.js":99,"./id/package":212,"./id/package.json":212,"./is":100,"./is/":100,"./is/build_distance_in_words_locale":44,"./is/build_distance_in_words_locale/":44,"./is/build_distance_in_words_locale/index":44,"./is/build_distance_in_words_locale/index.js":44,"./is/build_format_locale":45,"./is/build_format_locale/":45,"./is/build_format_locale/index":45,"./is/build_format_locale/index.js":45,"./is/index":100,"./is/index.js":100,"./is/package":213,"./is/package.json":213,"./it":101,"./it/":101,"./it/build_distance_in_words_locale":46,"./it/build_distance_in_words_locale/":46,"./it/build_distance_in_words_locale/index":46,"./it/build_distance_in_words_locale/index.js":46,"./it/build_format_locale":47,"./it/build_format_locale/":47,"./it/build_format_locale/index":47,"./it/build_format_locale/index.js":47,"./it/index":101,"./it/index.js":101,"./it/package":214,"./it/package.json":214,"./ja":102,"./ja/":102,"./ja/build_distance_in_words_locale":48,"./ja/build_distance_in_words_locale/":48,"./ja/build_distance_in_words_locale/index":48,"./ja/build_distance_in_words_locale/index.js":48,"./ja/build_format_locale":49,"./ja/build_format_locale/":49,"./ja/build_format_locale/index":49,"./ja/build_format_locale/index.js":49,"./ja/index":102,"./ja/index.js":102,"./ja/package":215,"./ja/package.json":215,"./ko":103,"./ko/":103,"./ko/build_distance_in_words_locale":50,"./ko/build_distance_in_words_locale/":50,"./ko/build_distance_in_words_locale/index":50,"./ko/build_distance_in_words_locale/index.js":50,"./ko/build_format_locale":51,"./ko/build_format_locale/":51,"./ko/build_format_locale/index":51,"./ko/build_format_locale/index.js":51,"./ko/index":103,"./ko/index.js":103,"./ko/package":216,"./ko/package.json":216,"./mk":104,"./mk/":104,"./mk/build_distance_in_words_locale":52,"./mk/build_distance_in_words_locale/":52,"./mk/build_distance_in_words_locale/index":52,"./mk/build_distance_in_words_locale/index.js":52,"./mk/build_format_locale":53,"./mk/build_format_locale/":53,"./mk/build_format_locale/index":53,"./mk/build_format_locale/index.js":53,"./mk/index":104,"./mk/index.js":104,"./mk/package":217,"./mk/package.json":217,"./nb":105,"./nb/":105,"./nb/build_distance_in_words_locale":54,"./nb/build_distance_in_words_locale/":54,"./nb/build_distance_in_words_locale/index":54,"./nb/build_distance_in_words_locale/index.js":54,"./nb/build_format_locale":55,"./nb/build_format_locale/":55,"./nb/build_format_locale/index":55,"./nb/build_format_locale/index.js":55,"./nb/index":105,"./nb/index.js":105,"./nb/package":218,"./nb/package.json":218,"./nl":106,"./nl/":106,"./nl/build_distance_in_words_locale":56,"./nl/build_distance_in_words_locale/":56,"./nl/build_distance_in_words_locale/index":56,"./nl/build_distance_in_words_locale/index.js":56,"./nl/build_format_locale":57,"./nl/build_format_locale/":57,"./nl/build_format_locale/index":57,"./nl/build_format_locale/index.js":57,"./nl/index":106,"./nl/index.js":106,"./nl/package":219,"./nl/package.json":219,"./package":220,"./package.json":220,"./pl":107,"./pl/":107,"./pl/build_distance_in_words_locale":58,"./pl/build_distance_in_words_locale/":58,"./pl/build_distance_in_words_locale/index":58,"./pl/build_distance_in_words_locale/index.js":58,"./pl/build_format_locale":59,"./pl/build_format_locale/":59,"./pl/build_format_locale/index":59,"./pl/build_format_locale/index.js":59,"./pl/index":107,"./pl/index.js":107,"./pl/package":221,"./pl/package.json":221,"./pt":108,"./pt/":108,"./pt/build_distance_in_words_locale":60,"./pt/build_distance_in_words_locale/":60,"./pt/build_distance_in_words_locale/index":60,"./pt/build_distance_in_words_locale/index.js":60,"./pt/build_format_locale":61,"./pt/build_format_locale/":61,"./pt/build_format_locale/index":61,"./pt/build_format_locale/index.js":61,"./pt/index":108,"./pt/index.js":108,"./pt/package":222,"./pt/package.json":222,"./ro":109,"./ro/":109,"./ro/build_distance_in_words_locale":62,"./ro/build_distance_in_words_locale/":62,"./ro/build_distance_in_words_locale/index":62,"./ro/build_distance_in_words_locale/index.js":62,"./ro/build_format_locale":63,"./ro/build_format_locale/":63,"./ro/build_format_locale/index":63,"./ro/build_format_locale/index.js":63,"./ro/index":109,"./ro/index.js":109,"./ro/package":223,"./ro/package.json":223,"./ru":110,"./ru/":110,"./ru/build_distance_in_words_locale":64,"./ru/build_distance_in_words_locale/":64,"./ru/build_distance_in_words_locale/index":64,"./ru/build_distance_in_words_locale/index.js":64,"./ru/build_format_locale":65,"./ru/build_format_locale/":65,"./ru/build_format_locale/index":65,"./ru/build_format_locale/index.js":65,"./ru/index":110,"./ru/index.js":110,"./ru/package":224,"./ru/package.json":224,"./sk":111,"./sk/":111,"./sk/build_distance_in_words_locale":66,"./sk/build_distance_in_words_locale/":66,"./sk/build_distance_in_words_locale/index":66,"./sk/build_distance_in_words_locale/index.js":66,"./sk/build_format_locale":67,"./sk/build_format_locale/":67,"./sk/build_format_locale/index":67,"./sk/build_format_locale/index.js":67,"./sk/index":111,"./sk/index.js":111,"./sk/package":225,"./sk/package.json":225,"./sl":112,"./sl/":112,"./sl/build_distance_in_words_locale":68,"./sl/build_distance_in_words_locale/":68,"./sl/build_distance_in_words_locale/index":68,"./sl/build_distance_in_words_locale/index.js":68,"./sl/build_format_locale":69,"./sl/build_format_locale/":69,"./sl/build_format_locale/index":69,"./sl/build_format_locale/index.js":69,"./sl/index":112,"./sl/index.js":112,"./sl/package":226,"./sl/package.json":226,"./sv":113,"./sv/":113,"./sv/build_distance_in_words_locale":70,"./sv/build_distance_in_words_locale/":70,"./sv/build_distance_in_words_locale/index":70,"./sv/build_distance_in_words_locale/index.js":70,"./sv/build_format_locale":71,"./sv/build_format_locale/":71,"./sv/build_format_locale/index":71,"./sv/build_format_locale/index.js":71,"./sv/index":113,"./sv/index.js":113,"./sv/package":227,"./sv/package.json":227,"./th":114,"./th/":114,"./th/build_distance_in_words_locale":72,"./th/build_distance_in_words_locale/":72,"./th/build_distance_in_words_locale/index":72,"./th/build_distance_in_words_locale/index.js":72,"./th/build_format_locale":73,"./th/build_format_locale/":73,"./th/build_format_locale/index":73,"./th/build_format_locale/index.js":73,"./th/index":114,"./th/index.js":114,"./th/package":228,"./th/package.json":228,"./tr":115,"./tr/":115,"./tr/build_distance_in_words_locale":74,"./tr/build_distance_in_words_locale/":74,"./tr/build_distance_in_words_locale/index":74,"./tr/build_distance_in_words_locale/index.js":74,"./tr/build_format_locale":75,"./tr/build_format_locale/":75,"./tr/build_format_locale/index":75,"./tr/build_format_locale/index.js":75,"./tr/index":115,"./tr/index.js":115,"./tr/package":229,"./tr/package.json":229,"./zh_cn":116,"./zh_cn/":116,"./zh_cn/build_distance_in_words_locale":76,"./zh_cn/build_distance_in_words_locale/":76,"./zh_cn/build_distance_in_words_locale/index":76,"./zh_cn/build_distance_in_words_locale/index.js":76,"./zh_cn/build_format_locale":77,"./zh_cn/build_format_locale/":77,"./zh_cn/build_format_locale/index":77,"./zh_cn/build_format_locale/index.js":77,"./zh_cn/index":116,"./zh_cn/index.js":116,"./zh_cn/package":230,"./zh_cn/package.json":230,"./zh_tw":117,"./zh_tw/":117,"./zh_tw/build_distance_in_words_locale":78,"./zh_tw/build_distance_in_words_locale/":78,"./zh_tw/build_distance_in_words_locale/index":78,"./zh_tw/build_distance_in_words_locale/index.js":78,"./zh_tw/build_format_locale":79,"./zh_tw/build_format_locale/":79,"./zh_tw/build_format_locale/index":79,"./zh_tw/build_format_locale/index.js":79,"./zh_tw/index":117,"./zh_tw/index.js":117,"./zh_tw/package":231,"./zh_tw/package.json":231};function webpackContext(e){return n(webpackContextResolve(e))}function webpackContextResolve(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}webpackContext.keys=function webpackContextKeys(){return Object.keys(o)},webpackContext.resolve=webpackContextResolve,(e.exports=webpackContext).id=84},function(e,t,n){var o=n(14),i=n(15);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(16),i=n(17);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(18),i=n(19);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(20),i=n(21);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(22),i=n(23);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(24),i=n(25);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(26),i=n(27);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(28),i=n(29);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(30),i=n(31);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(32),i=n(33);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(34),i=n(35);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(36),i=n(37);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(38),i=n(39);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(40),i=n(41);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(42),i=n(43);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(44),i=n(45);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(46),i=n(47);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(48),i=n(49);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(50),i=n(51);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(52),i=n(53);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(54),i=n(55);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(56),i=n(57);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(58),i=n(59);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(60),i=n(61);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(62),i=n(63);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(64),i=n(65);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(66),i=n(67);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(68),i=n(69);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(70),i=n(71);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(72),i=n(73);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(74),i=n(75);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(76),i=n(77);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){var o=n(78),i=n(79);e.exports={distanceInWords:o(),format:i()}},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});Object.assign;var o=function uuid(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")+([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},i=function detectSupportsPassive(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function get(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function isFunction(e){return"function"==typeof e},r=function isString(e){return"string"==typeof e||!!e&&"object"===(void 0===e?"undefined":o(e))&&"[object String]"===Object.prototype.toString.call(e)},a=function isDate(e){return("[object Date]"===Object.prototype.toString.call(e)||e instanceof Date)&&!isNaN(e.valueOf())},s=function isObject(e){return("function"==typeof e||"object"===(void 0===e?"undefined":o(e))&&!!e)&&!Array.isArray(e)},u=/^(?:f(?:alse)?|no?|0+)$/i,c=function BooleanParse(e){return!u.test(e)&&!!e}},function(e,t){e.exports=function isDate(e){return e instanceof Date}},function(e,t,n){var r=n(0);e.exports=function getDaysInMonth(e){var t=r(e),n=t.getFullYear(),o=t.getMonth(),i=new Date(0);return i.setFullYear(n,o+1,0),i.setHours(0,0,0,0),i.getDate()}},function(e,t,n){var o=n(8);e.exports=function addWeeks(e,t){var n=Number(t);return o(e,7*n)}},function(e,t,n){var i=n(0);e.exports=function compareDesc(e,t){var n=i(e).getTime(),o=i(t).getTime();return o<n?-1:n<o?1:0}},function(e,t,n){var a=n(0),s=n(138),u=n(11);e.exports=function differenceInMonths(e,t){var n=a(e),o=a(t),i=u(n,o),r=Math.abs(s(n,o));return n.setMonth(n.getMonth()-i*r),i*(r-(u(n,o)===-i))}},function(e,t,n){var o=n(83);e.exports=function differenceInSeconds(e,t){var n=o(e,t)/1e3;return 0<n?Math.floor(n):Math.ceil(n)}},function(e,t,n){var o=n(0);e.exports=function endOfDay(e){var t=o(e);return t.setHours(23,59,59,999),t}},function(e,t,n){var o=n(0),i=n(4),r=n(10);e.exports=function getISOWeek(e){var t=o(e),n=i(t).getTime()-r(t).getTime();return Math.round(n/6048e5)+1}},function(e,t,n){var r=n(80);e.exports=function isSameWeek(e,t,n){var o=r(e,n),i=r(t,n);return o.getTime()===i.getTime()}},function(e,t,n){"use strict";var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var i=function(){function EventEmitter(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EventEmitter),this._listeners=new Map(e),this._middlewares=new Map}return o(EventEmitter,[{key:"listenerCount",value:function listenerCount(e){return this._listeners.has(e)?this._listeners.get(e).length:0}},{key:"removeListeners",value:function removeListeners(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];null!==e?Array.isArray(e)?name.forEach(function(e){return t.removeListeners(e,n)}):(this._listeners.delete(e),n&&this.removeMiddleware(e)):this._listeners=new Map}},{key:"middleware",value:function middleware(e,t){var n=this;Array.isArray(e)?name.forEach(function(e){return n.middleware(e,t)}):(Array.isArray(this._middlewares.get(e))||this._middlewares.set(e,[]),this._middlewares.get(e).push(t))}},{key:"removeMiddleware",value:function removeMiddleware(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e?Array.isArray(e)?name.forEach(function(e){return t.removeMiddleware(e)}):this._middlewares.delete(e):this._middlewares=new Map}},{key:"on",value:function on(e,t){var n=this,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))e.forEach(function(e){return n.on(e,t)});else{var i=(e=e.toString()).split(/,|, | /);1<i.length?i.forEach(function(e){return n.on(e,t)}):(Array.isArray(this._listeners.get(e))||this._listeners.set(e,[]),this._listeners.get(e).push({once:o,callback:t}))}}},{key:"once",value:function once(e,t){this.on(e,t,!0)}},{key:"emit",value:function emit(n,o){var i=this,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];n=n.toString();var a=this._listeners.get(n),s=null,u=0,c=r;if(Array.isArray(a))for(a.forEach(function(e,t){r||(s=i._middlewares.get(n),Array.isArray(s)?(s.forEach(function(e){e(o,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e&&(o=e),u++},n)}),u>=s.length&&(c=!0)):c=!0),c&&(e.once&&(a[t]=null),e.callback({type:n,timeStamp:(new Date).getTime(),data:o}))});-1!==a.indexOf(null);)a.splice(a.indexOf(null),1)}}]),EventEmitter}();t.a=i},function(e,t,n){var o=n(9);e.exports=function addHours(e,t){var n=Number(t);return o(e,36e5*n)}},function(e,t,n){var o=n(3),i=n(132);e.exports=function addISOYears(e,t){var n=Number(t);return i(e,o(e)+n)}},function(e,t,n){var a=n(0),s=n(10),u=n(81);e.exports=function setISOYear(e,t){var n=a(e),o=Number(t),i=u(n,s(n)),r=new Date(0);return r.setFullYear(o,0,4),r.setHours(0,0,0,0),(n=s(r)).setDate(n.getDate()+i),n}},function(e,t,n){var o=n(9);e.exports=function addMinutes(e,t){var n=Number(t);return o(e,6e4*n)}},function(e,t,n){var o=n(82);e.exports=function addQuarters(e,t){var n=Number(t);return o(e,3*n)}},function(e,t,n){var o=n(9);e.exports=function addSeconds(e,t){var n=Number(t);return o(e,1e3*n)}},function(e,t,n){var o=n(82);e.exports=function addYears(e,t){var n=Number(t);return o(e,12*n)}},function(e,t,n){var o=n(3);e.exports=function differenceInCalendarISOYears(e,t){return o(e)-o(t)}},function(e,t,n){var i=n(0);e.exports=function differenceInCalendarMonths(e,t){var n=i(e),o=i(t);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},function(e,t,n){var o=n(0);e.exports=function getQuarter(e){var t=o(e);return Math.floor(t.getMonth()/3)+1}},function(e,t,n){var i=n(0);e.exports=function differenceInCalendarYears(e,t){var n=i(e),o=i(t);return n.getFullYear()-o.getFullYear()}},function(e,t,n){var a=n(0),s=n(81),u=n(11);e.exports=function differenceInDays(e,t){var n=a(e),o=a(t),i=u(n,o),r=Math.abs(s(n,o));return n.setDate(n.getDate()-i*r),i*(r-(u(n,o)===-i))}},function(e,t,n){var o=n(131);e.exports=function subISOYears(e,t){var n=Number(t);return o(e,-n)}},function(e,t,n){var v=n(123),g=n(0),b=n(125),_=n(124),M=n(6);e.exports=function distanceInWords(e,t,n){var o=n||{},i=v(e,t),r=o.locale,a=M.distanceInWords.localize;r&&r.distanceInWords&&r.distanceInWords.localize&&(a=r.distanceInWords.localize);var s,u,c={addSuffix:Boolean(o.addSuffix),comparison:i};u=0<i?(s=g(e),g(t)):(s=g(t),g(e));var d,l=b(u,s),f=u.getTimezoneOffset()-s.getTimezoneOffset(),h=Math.round(l/60)-f;if(h<2)return o.includeSeconds?l<5?a("lessThanXSeconds",5,c):l<10?a("lessThanXSeconds",10,c):l<20?a("lessThanXSeconds",20,c):l<40?a("halfAMinute",null,c):a(l<60?"lessThanXMinutes":"xMinutes",1,c):0===h?a("lessThanXMinutes",1,c):a("xMinutes",h,c);if(h<45)return a("xMinutes",h,c);if(h<90)return a("aboutXHours",1,c);if(h<1440)return a("aboutXHours",Math.round(h/60),c);if(h<2520)return a("xDays",1,c);if(h<43200)return a("xDays",Math.round(h/1440),c);if(h<86400)return a("aboutXMonths",d=Math.round(h/43200),c);if((d=_(u,s))<12)return a("xMonths",Math.round(h/43200),c);var m=d%12,p=Math.floor(d/12);return m<3?a("aboutXYears",p,c):m<9?a("overXYears",p,c):a("almostXYears",p+1,c)}},function(e,t,n){var a=n(0);e.exports=function endOfWeek(e,t){var n=t&&Number(t.weekStartsOn)||0,o=a(e),i=o.getDay(),r=6+(i<n?-7:0)-(i-n);return o.setDate(o.getDate()+r),o.setHours(23,59,59,999),o}},function(e,t,n){var o=n(0);e.exports=function endOfMonth(e){var t=o(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},function(e,t,n){var o=n(0),i=n(147),r=n(81);e.exports=function getDayOfYear(e){var t=o(e);return r(t,i(t))+1}},function(e,t,n){var o=n(0);e.exports=function startOfYear(e){var t=o(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},function(e,t,n){var o=n(120);e.exports=function isValid(e){if(o(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},function(e,t,n){var o=n(0);e.exports=function isLeapYear(e){var t=o(e).getFullYear();return t%400==0||t%4==0&&t%100!=0}},function(e,t,n){var o=n(0);e.exports=function getISODay(e){var t=o(e).getDay();return 0===t&&(t=7),t}},function(e,t,n){var i=n(152);e.exports=function isSameHour(e,t){var n=i(e),o=i(t);return n.getTime()===o.getTime()}},function(e,t,n){var o=n(0);e.exports=function startOfHour(e){var t=o(e);return t.setMinutes(0,0,0),t}},function(e,t,n){var o=n(128);e.exports=function isSameISOWeek(e,t){return o(e,t,{weekStartsOn:1})}},function(e,t,n){var i=n(10);e.exports=function isSameISOYear(e,t){var n=i(e),o=i(t);return n.getTime()===o.getTime()}},function(e,t,n){var i=n(156);e.exports=function isSameMinute(e,t){var n=i(e),o=i(t);return n.getTime()===o.getTime()}},function(e,t,n){var o=n(0);e.exports=function startOfMinute(e){var t=o(e);return t.setSeconds(0,0),t}},function(e,t,n){var i=n(0);e.exports=function isSameMonth(e,t){var n=i(e),o=i(t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}},function(e,t,n){var i=n(159);e.exports=function isSameQuarter(e,t){var n=i(e),o=i(t);return n.getTime()===o.getTime()}},function(e,t,n){var i=n(0);e.exports=function startOfQuarter(e){var t=i(e),n=t.getMonth(),o=n-n%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}},function(e,t,n){var i=n(161);e.exports=function isSameSecond(e,t){var n=i(e),o=i(t);return n.getTime()===o.getTime()}},function(e,t,n){var o=n(0);e.exports=function startOfSecond(e){var t=o(e);return t.setMilliseconds(0),t}},function(e,t,n){var i=n(0);e.exports=function isSameYear(e,t){var n=i(e),o=i(t);return n.getFullYear()===o.getFullYear()}},function(e,t,n){var a=n(0);e.exports=function lastDayOfWeek(e,t){var n=t&&Number(t.weekStartsOn)||0,o=a(e),i=o.getDay(),r=6+(i<n?-7:0)-(i-n);return o.setHours(0,0,0,0),o.setDate(o.getDate()+r),o}},function(e,t,n){var u=n(0),c=n(121);e.exports=function setMonth(e,t){var n=u(e),o=Number(t),i=n.getFullYear(),r=n.getDate(),a=new Date(0);a.setFullYear(i,o,15),a.setHours(0,0,0,0);var s=c(a);return n.setMonth(o,Math.min(r,s)),n}},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){var t=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],n={"٠":0,"١":1,"٢":2,"٣":3,"٤":4,"٥":5,"٦":6,"٧":7,"٨":8,"٩":9};e.setLocales("ar",{MMMM:["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"],MMM:["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"],dddd:["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],ddd:["أحد","إثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],dd:["ح","ن","ث","ر","خ","ج","س"],A:["ص","م"],formatter:{post:function(e){return e.replace(/\d/g,function(e){return t[0|e]})}},parser:{pre:function(e){return e.replace(/[٠١٢٣٤٥٦٧٨٩]/g,function(e){return""+n[e]})}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("az",{MMMM:["yanvar","fevral","mart","aprel","may","iyun","iyul","avqust","sentyabr","oktyabr","noyabr","dekabr"],MMM:["yan","fev","mar","apr","may","iyn","iyl","avq","sen","okt","noy","dek"],dddd:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"],ddd:["Baz","BzE","ÇAx","Çər","CAx","Cüm","Şən"],dd:["Bz","BE","ÇA","Çə","CA","Cü","Şə"],A:["gecə","səhər","gündüz","axşam"],formatter:{A:function(e){var t=e.getHours();return t<4?this.A[0]:t<12?this.A[1]:t<17?this.A[2]:this.A[3]}},parser:{h:function(e,t){return t<2?e:11<e?e:e+12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("bn",{MMMM:["জানুয়ারী","ফেবুয়ারী","মার্চ","এপ্রিল","মে","জুন","জুলাই","অগাস্ট","সেপ্টেম্বর","অক্টোবর","নভেম্বর","ডিসেম্বর"],MMM:["জানু","ফেব","মার্চ","এপর","মে","জুন","জুল","অগ","সেপ্ট","অক্টো","নভ","ডিসেম্"],dddd:["রবিবার","সোমবার","মঙ্গলবার","বুধবার","বৃহস্পত্তিবার","শুক্রবার","শনিবার"],ddd:["রবি","সোম","মঙ্গল","বুধ","বৃহস্পত্তি","শুক্র","শনি"],dd:["রব","সম","মঙ্গ","বু","ব্রিহ","শু","শনি"],A:["রাত","সকাল","দুপুর","বিকাল"],formatter:{A:function(e){var t=e.getHours();return t<4?this.A[0]:t<10?this.A[1]:t<17?this.A[2]:t<20?this.A[3]:this.A[0]}},parser:{h:function(e,t){return t<1?e<4||11<e?e:e+12:t<2?e:t<3&&9<e?e:e+12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("cs",{MMMM:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],MMM:["led","úno","bře","dub","kvě","čvn","čvc","srp","zář","říj","lis","pro"],dddd:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],ddd:["ne","po","út","st","čt","pá","so"],dd:["ne","po","út","st","čt","pá","so"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("de",{MMMM:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],MMM:["Jan.","Febr.","Mrz.","Apr.","Mai","Jun.","Jul.","Aug.","Sept.","Okt.","Nov.","Dez."],dddd:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],ddd:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],dd:["So","Mo","Di","Mi","Do","Fr","Sa"],A:["Uhr nachmittags","Uhr morgens"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("el",{MMMM:{nominative:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],genitive:["Ιανουαρίου","Φεβρουαρίου","Μαρτίου","Απριλίου","Μαΐου","Ιουνίου","Ιουλίου","Αυγούστου","Σεπτεμβρίου","Οκτωβρίου","Νοεμβρίου","Δεκεμβρίου"]},MMM:["Ιαν","Φεβ","Μαρ","Απρ","Μαϊ","Ιουν","Ιουλ","Αυγ","Σεπ","Οκτ","Νοε","Δεκ"],dddd:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"],ddd:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dd:["Κυ","Δε","Τρ","Τε","Πε","Πα","Σα"],A:["πμ","μμ"],formatter:{MMMM:function(e,t){return this.MMMM[/D.*MMMM/.test(t)?"genitive":"nominative"][e.getMonth()]},hh:function(e){return("0"+e.getHours()%12).slice(-2)},h:function(e){return e.getHours()%12}},parser:{MMMM:function(e,t){return this.parser.find(this.MMMM[/D.*MMMM/.test(t)?"genitive":"nominative"],e)}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("es",{MMMM:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],MMM:["Ene.","Feb.","Mar.","Abr.","May.","Jun.","Jul.","Ago.","Sep.","Oct.","Nov.","Dic."],dddd:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],ddd:["Dom.","Lun.","Mar.","Mié.","Jue.","Vie.","Sáb."],dd:["Do","Lu","Ma","Mi","Ju","Vi","Sá"],A:["de la mañana","de la tarde","de la noche"],formatter:{A:function(e){var t=e.getHours();return t<12?this.A[0]:t<19?this.A[1]:this.A[2]}},parser:{h:function(e,t){return t<1?e:11<e?e:e+12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){var t=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],n={"۰":0,"۱":1,"۲":2,"۳":3,"۴":4,"۵":5,"۶":6,"۷":7,"۸":8,"۹":9};e.setLocales("fa",{MMMM:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],MMM:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],dddd:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه"],ddd:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه"],dd:["ی","د","س","چ","پ","ج","ش"],A:["قبل از ظهر","بعد از ظهر"],formatter:{post:function(e){return e.replace(/\d/g,function(e){return t[0|e]})}},parser:{pre:function(e){return e.replace(/[۰۱۲۳۴۵۶۷۸۹]/g,function(e){return""+n[e]})}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("fr",{MMMM:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],MMM:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],dddd:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],ddd:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],dd:["Di","Lu","Ma","Me","Je","Ve","Sa"],A:["matin","l'après-midi"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("hi",{MMMM:["जनवरी","फ़रवरी","मार्च","अप्रैल","मई","जून","जुलाई","अगस्त","सितम्बर","अक्टूबर","नवम्बर","दिसम्बर"],MMM:["जन.","फ़र.","मार्च","अप्रै.","मई","जून","जुल.","अग.","सित.","अक्टू.","नव.","दिस."],dddd:["रविवार","सोमवार","मंगलवार","बुधवार","गुरूवार","शुक्रवार","शनिवार"],ddd:["रवि","सोम","मंगल","बुध","गुरू","शुक्र","शनि"],dd:["र","सो","मं","बु","गु","शु","श"],A:["रात","सुबह","दोपहर","शाम"],formatter:{A:function(e){var t=e.getHours();return t<4?this.A[0]:t<10?this.A[1]:t<17?this.A[2]:t<20?this.A[3]:this.A[0]}},parser:{h:function(e,t){return t<1?e<4||11<e?e:e+12:t<2?e:t<3&&9<e?e:e+12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("hu",{MMMM:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],MMM:["jan","feb","márc","ápr","máj","jún","júl","aug","szept","okt","nov","dec"],dddd:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],ddd:["vas","hét","kedd","sze","csüt","pén","szo"],dd:["v","h","k","sze","cs","p","szo"],A:["de","du"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("id",{MMMM:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],MMM:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],dddd:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],ddd:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dd:["Mg","Sn","Sl","Rb","Km","Jm","Sb"],A:["pagi","siang","sore","malam"],formatter:{A:function(e){var t=e.getHours();return t<11?this.A[0]:t<15?this.A[1]:t<19?this.A[2]:this.A[3]}},parser:{h:function(e,t){return t<1?e:t<2&&11<=e?e:e+12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("it",{MMMM:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],MMM:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],dddd:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],ddd:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dd:["Do","Lu","Ma","Me","Gi","Ve","Sa"],A:["di mattina","di pomerrigio"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("ja",{MMMM:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],MMM:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dddd:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],ddd:["日","月","火","水","木","金","土"],dd:["日","月","火","水","木","金","土"],A:["午前","午後"],formatter:{hh:function(e){return("0"+e.getHours()%12).slice(-2)},h:function(e){return e.getHours()%12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("jv",{MMMM:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],MMM:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nop","Des"],dddd:["Minggu","Senen","Seloso","Rebu","Kemis","Jemuwah","Septu"],ddd:["Min","Sen","Sel","Reb","Kem","Jem","Sep"],dd:["Mg","Sn","Sl","Rb","Km","Jm","Sp"],A:["enjing","siyang","sonten","ndalu"],formatter:{A:function(e){var t=e.getHours();return t<11?this.A[0]:t<15?this.A[1]:t<19?this.A[2]:this.A[3]}},parser:{h:function(e,t){return t<1?e:t<2&&11<=e?e:e+12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("ko",{MMMM:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],MMM:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dddd:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],ddd:["일","월","화","수","목","금","토"],dd:["일","월","화","수","목","금","토"],A:["오전","오후"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){var t=["၀","၁","၂","၃","၄","၅","၆","၇","၈","၉"],n={"၀":0,"၁":1,"၂":2,"၃":3,"၄":4,"၅":5,"၆":6,"၇":7,"၈":8,"၉":9};e.setLocales("my",{MMMM:["ဇန်နဝါရီ","ဖေဖော်ဝါရီ","မတ်","ဧပြီ","မေ","ဇွန်","ဇူလိုင်","သြဂုတ်","စက်တင်ဘာ","အောက်တိုဘာ","နိုဝင်ဘာ","ဒီဇင်ဘာ"],MMM:["ဇန်","ဖေ","မတ်","ပြီ","မေ","ဇွန်","လိုင်","သြ","စက်","အောက်","နို","ဒီ"],dddd:["တနင်္ဂနွေ","တနင်္လာ","အင်္ဂါ","ဗုဒ္ဓဟူး","ကြာသပတေး","သောကြာ","စနေ"],ddd:["နွေ","လာ","ဂါ","ဟူး","ကြာ","သော","နေ"],dd:["နွေ","လာ","ဂါ","ဟူး","ကြာ","သော","နေ"],formatter:{post:function(e){return e.replace(/\d/g,function(e){return t[0|e]})}},parser:{pre:function(e){return e.replace(/[၀၁၂၃၄၅၆၇၈၉]/g,function(e){return""+n[e]})}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("nl",{MMMM:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],MMM:{withdots:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],withoutdots:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]},dddd:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],ddd:["zo.","ma.","di.","wo.","do.","vr.","za."],dd:["Zo","Ma","Di","Wo","Do","Vr","Za"],formatter:{MMM:function(e,t){return this.MMM[/-MMM-/.test(t)?"withoutdots":"withdots"][e.getMonth()]}},parser:{MMM:function(e,t){return this.parser.find(this.MMM[/-MMM-/.test(t)?"withoutdots":"withdots"],e)}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){var t=["੦","੧","੨","੩","੪","੫","੬","੭","੮","੯"],n={"੦":0,"੧":1,"੨":2,"੩":3,"੪":4,"੫":5,"੬":6,"੭":7,"੮":8,"੯":9};e.setLocales("pa-in",{MMMM:["ਜਨਵਰੀ","ਫ਼ਰਵਰੀ","ਮਾਰਚ","ਅਪ੍ਰੈਲ","ਮਈ","ਜੂਨ","ਜੁਲਾਈ","ਅਗਸਤ","ਸਤੰਬਰ","ਅਕਤੂਬਰ","ਨਵੰਬਰ","ਦਸੰਬਰ"],MMM:["ਜਨਵਰੀ","ਫ਼ਰਵਰੀ","ਮਾਰਚ","ਅਪ੍ਰੈਲ","ਮਈ","ਜੂਨ","ਜੁਲਾਈ","ਅਗਸਤ","ਸਤੰਬਰ","ਅਕਤੂਬਰ","ਨਵੰਬਰ","ਦਸੰਬਰ"],dddd:["ਐਤਵਾਰ","ਸੋਮਵਾਰ","ਮੰਗਲਵਾਰ","ਬੁਧਵਾਰ","ਵੀਰਵਾਰ","ਸ਼ੁੱਕਰਵਾਰ","ਸ਼ਨੀਚਰਵਾਰ"],ddd:["ਐਤ","ਸੋਮ","ਮੰਗਲ","ਬੁਧ","ਵੀਰ","ਸ਼ੁਕਰ","ਸ਼ਨੀ"],dd:["ਐਤ","ਸੋਮ","ਮੰਗਲ","ਬੁਧ","ਵੀਰ","ਸ਼ੁਕਰ","ਸ਼ਨੀ"],A:["ਰਾਤ","ਸਵੇਰ","ਦੁਪਹਿਰ","ਸ਼ਾਮ"],formatter:{A:function(e){var t=e.getHours();return t<4?this.A[0]:t<10?this.A[1]:t<17?this.A[2]:t<20?this.A[3]:this.A[0]},post:function(e){return e.replace(/\d/g,function(e){return t[0|e]})}},parser:{h:function(e,t){return t<1?e<4||11<e?e:e+12:t<2?e:t<3&&10<=e?e:e+12},pre:function(e){return e.replace(/[੦੧੨੩੪੫੬੭੮੯]/g,function(e){return""+n[e]})}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("pl",{MMMM:{nominative:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],subjective:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","października","listopada","grudnia"]},MMM:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],dddd:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],ddd:["nie","pon","wt","śr","czw","pt","sb"],dd:["Nd","Pn","Wt","Śr","Cz","Pt","So"],formatter:{MMMM:function(e,t){return this.MMMM[/D MMMM/.test(t)?"subjective":"nominative"][e.getMonth()]}},parser:{MMMM:function(e,t){return this.parser.find(this.MMMM[/D MMMM/.test(t)?"subjective":"nominative"],e)}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("pt",{MMMM:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],MMM:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dddd:["Domingo","Segunda-Feira","Terça-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"],ddd:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dd:["Dom","2ª","3ª","4ª","5ª","6ª","Sáb"],A:["da madrugada","da manhã","da tarde","da noite"],formatter:{A:function(e){var t=e.getHours();return t<5?this.A[0]:t<12?this.A[1]:t<19?this.A[2]:this.A[3]}},parser:{h:function(e,t){return t<2?e:11<e?e:e+12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("ro",{MMMM:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],MMM:["ian.","febr.","mart.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."],dddd:["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],ddd:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],dd:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("ru",{MMMM:["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],MMM:["янв","фев","мар","апр","мая","июня","июля","авг","сен","окт","ноя","дек"],dddd:["Воскресенье","Понедельник","Вторник","Среду","Четверг","Пятницу","Субботу"],ddd:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dd:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],A:["ночи","утра","дня","вечера"],formatter:{A:function(e){var t=e.getHours();return t<4?this.A[0]:t<12?this.A[1]:t<17?this.A[2]:this.A[3]}},parser:{h:function(e,t){return t<2?e:11<e?e:e+12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("sr",{MMMM:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],MMM:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],dddd:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],ddd:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],dd:["ne","po","ut","sr","če","pe","su"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("th",{MMMM:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],MMM:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],dddd:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],ddd:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์"],dd:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],A:["ก่อนเที่ยง","หลังเที่ยง"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("tr",{MMMM:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],MMM:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dddd:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],ddd:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dd:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("uk",{MMMM:["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"],MMM:["січ","лют","бер","квіт","трав","черв","лип","серп","вер","жовт","лист","груд"],dddd:{nominative:["неділя","понеділок","вівторок","середа","четвер","п’ятниця","субота"],accusative:["неділю","понеділок","вівторок","середу","четвер","п’ятницю","суботу"],genitive:["неділі","понеділка","вівторка","середи","четверга","п’ятниці","суботи"]},ddd:["нд","пн","вт","ср","чт","пт","сб"],dd:["нд","пн","вт","ср","чт","пт","сб"],A:["ночі","ранку","дня","вечора"],formatter:{A:function(e){var t=e.getHours();return t<4?this.A[0]:t<12?this.A[1]:t<17?this.A[2]:this.A[3]},dddd:function(e,t){var n="nominative";return/(\[[ВвУу]\]) ?dddd/.test(t)?n="accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)&&(n="genitive"),this.dddd[n][e.getDay()]}},parser:{h:function(e,t){return t<2?e:11<e?e:e+12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("uz",{MMMM:["январ","феврал","март","апрел","май","июн","июл","август","сентябр","октябр","ноябр","декабр"],MMM:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],dddd:["Якшанба","Душанба","Сешанба","Чоршанба","Пайшанба","Жума","Шанба"],ddd:["Якш","Душ","Сеш","Чор","Пай","Жум","Шан"],dd:["Як","Ду","Се","Чо","Па","Жу","Ша"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("vi",{MMMM:["tháng 1","tháng 2","tháng 3","tháng 4","tháng 5","tháng 6","tháng 7","tháng 8","tháng 9","tháng 10","tháng 11","tháng 12"],MMM:["Th01","Th02","Th03","Th04","Th05","Th06","Th07","Th08","Th09","Th10","Th11","Th12"],dddd:["chủ nhật","thứ hai","thứ ba","thứ tư","thứ năm","thứ sáu","thứ bảy"],ddd:["CN","T2","T3","T4","T5","T6","T7"],dd:["CN","T2","T3","T4","T5","T6","T7"],A:["sa","ch"]})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("zh-cn",{MMMM:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],MMM:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dddd:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ddd:["周日","周一","周二","周三","周四","周五","周六"],dd:["日","一","二","三","四","五","六"],A:["凌晨","早上","上午","中午","下午","晚上"],formatter:{A:function(e){var t=100*e.getHours()+e.getMinutes();return t<600?this.A[0]:t<900?this.A[1]:t<1130?this.A[2]:t<1230?this.A[3]:t<1800?this.A[4]:this.A[5]}},parser:{h:function(e,t){return t<4?e:11<e?e:e+12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(n,o,i){var r,a,s;!function(e){"use strict";var t=function(e){e.setLocales("zh-tw",{MMMM:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],MMM:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dddd:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ddd:["周日","周一","周二","周三","周四","周五","周六"],dd:["日","一","二","三","四","五","六"],A:["早上","上午","中午","下午","晚上"],formatter:{A:function(e){var t=100*e.getHours()+e.getMinutes();return t<900?this.A[0]:t<1130?this.A[1]:t<1230?this.A[2]:t<1800?this.A[3]:this.A[4]}},parser:{h:function(e,t){return t<3?e:11<e?e:e+12}}})};"object"==typeof n&&"object"==typeof n.exports?t(i(1)):(a=[i(1)],void 0===(s="function"==typeof(r=t)?r.apply(o,a):r)||(n.exports=s))}()},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t){e.exports={typings:"../../typings.d.ts"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(118),r=n(119),a=n(7),o=(n.n(a),n(1)),s=n.n(o),u=n(129),c=n(332),d=n(339),l=n(342),f=n(343),h=n(344),m=n(345),p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var b=function(e){function bulmaCalendar(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,bulmaCalendar);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(bulmaCalendar.__proto__||Object.getPrototypeOf(bulmaCalendar)).call(this));if(n.element=r.e(e)?document.querySelector(e):e,!n.element)throw new Error("An invalid selector or non-DOM node has been provided.");n._clickEvents=["click","touch"],n._supportsPassive=i.a();var o=n.element.dataset?Object.keys(n.element.dataset).filter(function(e){return Object.keys(l.a).includes(e)}).reduce(function(e,t){return v({},e,function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n.element.dataset[t]))},{}):{};if(n.options=v({},l.a,t,o),void 0===n.options.type)switch(n.element.getAttribute("type")){case"date":n.options.type="date";break;case"time":n.options.type="time";break;default:n.options.type="datetime"}return n._id=i.b("datetimePicker"),n.onToggleDateTimePicker=n.onToggleDateTimePicker.bind(n),n.onCloseDateTimePicker=n.onCloseDateTimePicker.bind(n),n.onDocumentClickDateTimePicker=n.onDocumentClickDateTimePicker.bind(n),n.onValidateClickDateTimePicker=n.onValidateClickDateTimePicker.bind(n),n.onTodayClickDateTimePicker=n.onTodayClickDateTimePicker.bind(n),n.onClearClickDateTimePicker=n.onClearClickDateTimePicker.bind(n),n.onCancelClickDateTimePicker=n.onCancelClickDateTimePicker.bind(n),n.onSelectDateTimePicker=n.onSelectDateTimePicker.bind(n),n._init(),n}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(bulmaCalendar,u["a"]),g(bulmaCalendar,[{key:"onSelectDateTimePicker",value:function onSelectDateTimePicker(e){this.refresh(),this.save(),"select"===e.type&&this.options.closeOnSelect&&"inline"!==this.options.displayMode&&this.hide(),this.emit(e.type,this)}},{key:"onDocumentClickDateTimePicker",value:function onDocumentClickDateTimePicker(e){var t=e.target||e.srcElement;!this._ui.wrapper.contains(t)&&"inline"!==this.options.displayMode&&this._open&&this.onCloseDateTimePicker(e)}},{key:"onToggleDateTimePicker",value:function onToggleDateTimePicker(e){this._supportsPassive||e.preventDefault(),e.stopPropagation(),this._open?this.hide():this.show()}},{key:"onValidateClickDateTimePicker",value:function onValidateClickDateTimePicker(e){this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.save(),this.emit("select",this),"inline"!==this.options.displayMode&&this.onCloseDateTimePicker(e)}},{key:"onTodayClickDateTimePicker",value:function onTodayClickDateTimePicker(e){this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.datePicker.value(new Date),this.datePicker.refresh(),this.timePicker.value(new Date),this.timePicker.refresh(),this.save()}},{key:"onClearClickDateTimePicker",value:function onClearClickDateTimePicker(e){this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.clear(),this.emit("clear",this)}},{key:"onCancelClickDateTimePicker",value:function onCancelClickDateTimePicker(e){this._supportsPassive||e.preventDefault(),e.stopPropagation(),this._snapshots.length&&(this.datePicker=this._snapshots[0].datePicker,this.timePicker=this._snapshots[0].timePicker),this.save(),"inline"!==this.options.displayMode&&this.onCloseDateTimePicker(e)}},{key:"onCloseDateTimePicker",value:function onCloseDateTimePicker(e){this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.hide()}},{key:"isRange",value:function isRange(){return this.options.isRange}},{key:"isOpen",value:function isOpen(){return this._open}},{key:"value",value:function value(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(!e){var t="";switch(this.options.type){case"date":t=this.datePicker.value();break;case"time":t=this.timePicker.value();break;case"datetime":var n=this.datePicker.start?a.getTime(a.addMinutes(a.addHours(this.datePicker.start,a.getHours(this.timePicker.start)),a.getMinutes(this.timePicker.start))):void 0,o=this.datePicker.end?a.getTime(this.datePicker.end):void 0;o&&this.options.isRange&&(o=a.getTime(a.addMinutes(a.addHours(this.datePicker.end,a.getHours(this.timePicker.end)),a.getMinutes(this.timePicker.end)))),t=n?a.format(new Date(n),this.format,{locale:this.locale}):"",o&&(t+=" - "+(o?a.format(new Date(o),this.format,{locale:this.locale}):""))}return t}this.datePicker.value(e),this.timePicker.value(e)}},{key:"refresh",value:function refresh(){this._ui.header.start.day.innerHTML=this.datePicker.start?a.format(this.datePicker.start,"DD",{locale:this.locale}):"--",this._ui.header.start.month.innerHTML=this.datePicker.start?a.format(this.datePicker.start,"MMMM YYYY",{locale:this.locale}):"",this.datePicker.start?(this._ui.header.start.weekday.classList.remove("is-hidden"),this._ui.header.start.weekday.innerHTML=this.datePicker.start?a.format(this.datePicker.start,"dddd",{locale:this.locale}):""):this._ui.header.start.weekday.classList.add("is-hidden"),this._ui.header.start.hour&&(this._ui.header.start.hour.innerHTML=this.timePicker.start?a.format(this.timePicker.start,"HH:mm",{locale:this.locale}):"--:--"),this._ui.header.end&&(this._ui.header.end.day.innerHTML=this.options.isRange&&this.datePicker.end?a.format(this.datePicker.end,"DD",{locale:this.locale}):"--",this._ui.header.end.month.innerHTML=this.options.isRange&&this.datePicker.end?a.format(this.datePicker.end,"MMMM YYYY",{locale:this.locale}):"",this.datePicker.end?(this._ui.header.end.weekday.classList.remove("is-hidden"),this._ui.header.end.weekday.innerHTML=this.datePicker.end?a.format(this.datePicker.end,"dddd",{locale:this.locale}):""):this._ui.header.end.weekday.classList.add("is-hidden"),this._ui.header.end&&this._ui.header.end.hour&&(this._ui.header.end.hour.innerHTML=this.timePicker.end?a.format(this.timePicker.end,"HH:mm",{locale:this.locale}):"--:--")),this.emit("refresh",this)}},{key:"clear",value:function clear(){this.datePicker.clear(),this.timePicker.clear(),this.refresh(),this.element.value="",this._ui.dummy.dummy_1.value="",this._ui.dummy.dummy_2&&(this._ui.dummy.dummy_2.value=""),this.emit("clear",this)}},{key:"show",value:function show(){this._snapshots=[],this.snapshot(),this.element.value&&(this.datePicker.value(this.element.value),this.timePicker.value(this.element.value)),this.datePicker.show(),this.timePicker.hide(),this._ui.modal&&this._ui.modal.classList.add("is-active"),this._ui.wrapper.classList.add("is-active"),this._open=!0,this.emit("show",this)}},{key:"hide",value:function hide(){this._open=!1,this._focus=!1,this._ui.modal&&this._ui.modal.classList.remove("is-active"),this._ui.wrapper.classList.remove("is-active"),this.emit("hide",this)}},{key:"save",value:function save(){var e=this.value(),t=e.split(" - "),n=p(t,2),o=n[0],i=n[1];this.element.value=e,this._ui.dummy.dummy_1.value=o||"",this._ui.dummy.dummy_2&&(this._ui.dummy.dummy_2.value=i||"")}},{key:"snapshot",value:function snapshot(){}},{key:"destroy",value:function destroy(){this._ui.wrapper.remove()}},{key:"_init",value:function _init(){this._open=!1,this._snapshots=[],this._type=-1<["date","time","datetime"].indexOf(this.options.type.toLowerCase())?this.options.type.toLowerCase():"date",this.element.setAttribute("type","text"),this.datePicker=new c.a(v({},this.options,{lang:this.lang})),this.timePicker=new d.a(v({},this.options,{lang:this.lang})),this.element.value&&(this.datePicker.value(this.element.value),this.timePicker.value(this.element.value)),this.lang=this.options.lang,this.format="date"===this._type?this.options.dateFormat:"time"===this._type?this.options.timeFormat:this.options.dateFormat+" "+this.options.timeFormat,"default"===this.options.displayMode&&window.matchMedia("screen and (max-width: 768px)").matches&&(this.options.displayMode="dialog"),window.matchMedia("screen and (max-width: 768px)").matches&&("default"===this.options.displayMode&&(this.options.displayMode="dialog"),this.options.displayDual=!1),this._build(),this._bindEvents(),this.save(),r.c(this.options.onReady)&&this.on("ready",this.options.onReady),this.emit("ready",this)}},{key:"_build",value:function _build(){var e=document.createRange().createContextualFragment(Object(h.a)(v({},this.options,{type:this._type,datePicker:"time"!==this.options.type,timePicker:"date"!==this.options.type}))),t=document.createRange().createContextualFragment(Object(m.a)(this.options)),n=document.createRange().createContextualFragment(Object(f.a)(v({},this.options,{id:this.id})));switch(this._ui={modal:n.querySelector(".modal"),wrapper:n.querySelector(".datetimepicker"),container:n.querySelector(".datetimepicker-container"),dummy:{container:n.querySelector(".datetimepicker-dummy"),wrapper:n.querySelector(".datetimepicker-dummy-wrapper"),dummy_1:n.querySelector(".datetimepicker-dummy .datetimepicker-dummy-input:nth-child(1)"),dummy_2:n.querySelector(".datetimepicker-dummy .datetimepicker-dummy-input:nth-child(2)"),clear:n.querySelector(".datetimepicker-dummy .datetimepicker-clear-button")},calendar:n.querySelector(".datetimepicker"),overlay:"dialog"===this.options.displayMode?{background:n.querySelector(".modal-background"),close:n.querySelector(".modal-close")}:void 0,header:{container:e.querySelector(".datetimepicker-header"),start:{container:e.querySelector(".datetimepicker-selection-start"),day:e.querySelector(".datetimepicker-selection-start .datetimepicker-selection-day"),month:e.querySelector(".datetimepicker-selection-start .datetimepicker-selection-month"),weekday:e.querySelector(".datetimepicker-selection-start .datetimepicker-selection-weekday"),hour:e.querySelector(".datetimepicker-selection-start .datetimepicker-selection-hour"),empty:e.querySelector(".datetimepicker-selection-start .empty")},end:this.options.isRange?{container:e.querySelector(".datetimepicker-selection-end"),day:e.querySelector(".datetimepicker-selection-end .datetimepicker-selection-day"),month:e.querySelector(".datetimepicker-selection-end .datetimepicker-selection-month"),weekday:e.querySelector(".datetimepicker-selection-end .datetimepicker-selection-weekday"),hour:e.querySelector(".datetimepicker-selection-end .datetimepicker-selection-hour"),empty:e.querySelector(".datetimepicker-selection-start .empty")}:void 0},footer:{container:t.querySelector(".datetimepicker-footer"),validate:t.querySelector(".datetimepicker-footer-validate"),today:t.querySelector(".datetimepicker-footer-today"),clear:t.querySelector(".datetimepicker-footer-clear"),cancel:t.querySelector(".datetimepicker-footer-cancel")}},r.a(this.options.showHeader)||this._ui.header.container.classList.add("is-hidden"),r.a(this.options.showFooter)||this._ui.footer.container.classList.add("is-hidden"),r.a(this.options.showTodayButton)||this._ui.footer.today.classList.add("is-hidden"),r.a(this.options.showClearButton)||this._ui.footer.clear.classList.add("is-hidden"),this.options.closeOnSelect&&this._ui.footer.validate&&this._ui.footer.validate.classList.add("is-hidden"),this._ui.container.appendChild(e),this._type){case"date":this._ui.container.appendChild(this.datePicker.render());break;case"time":this._ui.container.appendChild(this.timePicker.render()),this._ui.footer.validate&&this._ui.footer.validate.classList.remove("is-hidden"),this._ui.footer.today&&this._ui.footer.today.classList.add("is-hidden");break;case"datetime":this.options.closeOnSelect=!1,this._ui.footer.validate&&this._ui.footer.validate.classList.remove("is-hidden"),this._ui.container.appendChild(this.datePicker.render()),this._ui.container.appendChild(this.timePicker.render())}this._ui.wrapper.appendChild(t),this._ui.wrapper.classList.add("is-"+this.options.color),this._ui.dummy.container.classList.add("is-"+this.options.color),this.element.parentNode.insertBefore(n,this.element.nextSibling),this._ui.dummy.wrapper.appendChild(this.element),this.element.classList.add("is-hidden"),"inline"===this.options.displayMode?this._ui.wrapper.classList.add("is-active"):(this._ui.dummy.container.classList.remove("is-hidden"),this._ui.wrapper.style.position="absolute",this._ui.wrapper.classList.add("is-datetimepicker-default")),this.refresh()}},{key:"_bindEvents",value:function _bindEvents(){var t=this;this._clickEvents.forEach(function(e){document.body.addEventListener(e,t.onDocumentClickDateTimePicker)}),this.datePicker.on("select",this.onSelectDateTimePicker),this.datePicker.on("select:start",this.onSelectDateTimePicker),this.datePicker.on("select:end",this.onSelectDateTimePicker),this.timePicker.on("select",this.onSelectDateTimePicker),this.timePicker.on("select:start",this.onSelectDateTimePicker),this.timePicker.on("select:end",this.onSelectDateTimePicker),!0===this.options.toggleOnInputClick&&this._clickEvents.forEach(function(e){t._ui.dummy.wrapper.addEventListener(e,t.onToggleDateTimePicker),t.element.addEventListener(e,t.onToggleDateTimePicker)}),"dialog"===this.options.displayMode&&this._ui.overlay&&(this._ui.overlay.close&&this._clickEvents.forEach(function(e){t.this._ui.overlay.close.addEventListener(e,t.onCloseDateTimePicker)}),this.options.closeOnOverlayClick&&this._ui.overlay.background&&this._clickEvents.forEach(function(e){t._ui.overlay.background.addEventListener(e,t.onCloseDateTimePicker)})),this._ui.footer.validate&&this._clickEvents.forEach(function(e){t._ui.footer.validate.addEventListener(e,t.onValidateClickDateTimePicker)}),this._ui.footer.today&&this._clickEvents.forEach(function(e){t._ui.footer.today.addEventListener(e,t.onTodayClickDateTimePicker)}),this._ui.footer.clear&&this._clickEvents.forEach(function(e){t._ui.footer.clear.addEventListener(e,t.onClearClickDateTimePicker)}),this._clickEvents.forEach(function(e){t._ui.dummy.clear.addEventListener(e,t.onClearClickDateTimePicker)}),this._ui.footer.cancel&&this._clickEvents.forEach(function(e){t._ui.footer.cancel.addEventListener(e,t.onCancelClickDateTimePicker)})}},{key:"id",get:function get(){return this._id}},{key:"lang",set:function set(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en";try{this._locale=n(84)("./"+t)}catch(e){t="en",this._locale=n(84)("./"+t)}finally{return this._lang=t,this.datePicker.lang=t,this.timePicker.lang=t,this}},get:function get(){return this._lang}},{key:"locale",get:function get(){return this._locale}},{key:"format",set:function set(e){return this._format=e,this},get:function get(){return this._format}},{key:"date",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this.datePicker.date=e,this},get:function get(){return this.datePicker.date}},{key:"startDate",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return this.datePicker.start=s.a.parse(e,this.dateFormat),this},get:function get(){return this.datePicker.start}},{key:"endDate",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return this.datePicker.end=s.a.parse(e,this.dateFormat),this},get:function get(){return this.datePicker.end}},{key:"minDate",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return this.datePicker.minDate=s.a.parse(e,this.dateFormat),this},get:function get(){return this.datePicker.minDate}},{key:"maxDate",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return this.datePicker.maxDate=s.a.parse(e,this.dateFormat),this},get:function get(){return this.datePicker.maxDate}},{key:"dateFormat",set:function set(e){return this.datePicker.dateFormat=e,this},get:function get(){return this.datePicker.dateFormat}},{key:"time",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this.timePicker.time=e,this},get:function get(){return this.timePicker.time}},{key:"startTime",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return this.timePicker.start=e,this},get:function get(){return this.timePicker.start}},{key:"endTime",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return this.timePicker.end=e,this},get:function get(){return this.timePicker.end}},{key:"minTime",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return this.timePicker.minTime=e,this},get:function get(){return this.timePicker.minTime}},{key:"maxTime",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return this.timePicker.maxTime=e,this},get:function get(){return this.timePicker.maxTime}},{key:"timeFormat",set:function set(e){return this.timePicker.dateFormat=e,this},get:function get(){return this.timePicker.timeFormat}}],[{key:"attach",value:function attach(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'input[type="date"]',o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=new Array,t=r.e(e)?document.querySelectorAll(e):Array.isArray(e)?e:[e];return[].forEach.call(t,function(e){if(void 0===e[n.constructor.name]){var t=new bulmaCalendar(e,o);e.bulmaCalendar=t,i.push(t)}else i.push(e[n.constructor.name])}),i}}]),bulmaCalendar}();t.default=b},function(e,t,n){var u=n(0);e.exports=function areRangesOverlapping(e,t,n,o){var i=u(e).getTime(),r=u(t).getTime(),a=u(n).getTime(),s=u(o).getTime();if(r<i||s<a)throw new Error("The start of the range cannot be after the end of the range");return i<s&&a<r}},function(e,t,n){var s=n(0);e.exports=function closestIndexTo(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var i,r,a=s(e).getTime();return t.forEach(function(e,t){var n=s(e),o=Math.abs(a-n.getTime());(void 0===i||o<r)&&(i=t,r=o)}),i}},function(e,t,n){var a=n(0);e.exports=function closestTo(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var o,i,r=a(e).getTime();return t.forEach(function(e){var t=a(e),n=Math.abs(r-t.getTime());(void 0===o||n<i)&&(o=t,i=n)}),o}},function(e,t,n){var a=n(4);e.exports=function differenceInCalendarISOWeeks(e,t){var n=a(e),o=a(t),i=n.getTime()-6e4*n.getTimezoneOffset(),r=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((i-r)/6048e5)}},function(e,t,n){var i=n(139),r=n(0);e.exports=function differenceInCalendarQuarters(e,t){var n=r(e),o=r(t);return 4*(n.getFullYear()-o.getFullYear())+(i(n)-i(o))}},function(e,t,n){var s=n(80);e.exports=function differenceInCalendarWeeks(e,t,n){var o=s(e,n),i=s(t,n),r=o.getTime()-6e4*o.getTimezoneOffset(),a=i.getTime()-6e4*i.getTimezoneOffset();return Math.round((r-a)/6048e5)}},function(e,t,n){var o=n(83);e.exports=function differenceInHours(e,t){var n=o(e,t)/36e5;return 0<n?Math.floor(n):Math.ceil(n)}},function(e,t,n){var a=n(0),s=n(137),u=n(11),c=n(142);e.exports=function differenceInISOYears(e,t){var n=a(e),o=a(t),i=u(n,o),r=Math.abs(s(n,o));return n=c(n,i*r),i*(r-(u(n,o)===-i))}},function(e,t,n){var o=n(83);e.exports=function differenceInMinutes(e,t){var n=o(e,t)/6e4;return 0<n?Math.floor(n):Math.ceil(n)}},function(e,t,n){var o=n(124);e.exports=function differenceInQuarters(e,t){var n=o(e,t)/3;return 0<n?Math.floor(n):Math.ceil(n)}},function(e,t,n){var o=n(141);e.exports=function differenceInWeeks(e,t){var n=o(e,t)/7;return 0<n?Math.floor(n):Math.ceil(n)}},function(e,t,n){var a=n(0),s=n(140),u=n(11);e.exports=function differenceInYears(e,t){var n=a(e),o=a(t),i=u(n,o),r=Math.abs(s(n,o));return n.setFullYear(n.getFullYear()-i*r),i*(r-(u(n,o)===-i))}},function(e,t,n){var p=n(123),v=n(0),g=n(125),b=n(6);e.exports=function distanceInWordsStrict(e,t,n){var o=n||{},i=p(e,t),r=o.locale,a=b.distanceInWords.localize;r&&r.distanceInWords&&r.distanceInWords.localize&&(a=r.distanceInWords.localize);var s,u,c,d={addSuffix:Boolean(o.addSuffix),comparison:i};u=0<i?(s=v(e),v(t)):(s=v(t),v(e));var l=Math[o.partialMethod?String(o.partialMethod):"floor"],f=g(u,s),h=u.getTimezoneOffset()-s.getTimezoneOffset(),m=l(f/60)-h;if("s"===(c=o.unit?String(o.unit):m<1?"s":m<60?"m":m<1440?"h":m<43200?"d":m<525600?"M":"Y"))return a("xSeconds",f,d);if("m"===c)return a("xMinutes",m,d);if("h"===c)return a("xHours",l(m/60),d);if("d"===c)return a("xDays",l(m/1440),d);if("M"===c)return a("xMonths",l(m/43200),d);if("Y"===c)return a("xYears",l(m/525600),d);throw new Error("Unknown unit: "+c)}},function(e,t,n){var o=n(143);e.exports=function distanceInWordsToNow(e,t){return o(Date.now(),e,t)}},function(e,t,n){var u=n(0);e.exports=function eachDay(e,t,n){var o=u(e),i=void 0!==n?n:1,r=u(t).getTime();if(o.getTime()>r)throw new Error("The first date cannot be after the second date");var a=[],s=o;for(s.setHours(0,0,0,0);s.getTime()<=r;)a.push(u(s)),s.setDate(s.getDate()+i);return a}},function(e,t,n){var o=n(0);e.exports=function endOfHour(e){var t=o(e);return t.setMinutes(59,59,999),t}},function(e,t,n){var o=n(144);e.exports=function endOfISOWeek(e){return o(e,{weekStartsOn:1})}},function(e,t,n){var i=n(3),r=n(4);e.exports=function endOfISOYear(e){var t=i(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var o=r(n);return o.setMilliseconds(o.getMilliseconds()-1),o}},function(e,t,n){var o=n(0);e.exports=function endOfMinute(e){var t=o(e);return t.setSeconds(59,999),t}},function(e,t,n){var i=n(0);e.exports=function endOfQuarter(e){var t=i(e),n=t.getMonth(),o=n-n%3+3;return t.setMonth(o,0),t.setHours(23,59,59,999),t}},function(e,t,n){var o=n(0);e.exports=function endOfSecond(e){var t=o(e);return t.setMilliseconds(999),t}},function(e,t,n){var o=n(126);e.exports=function endOfToday(){return o(new Date)}},function(e,t){e.exports=function endOfTomorrow(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),i=new Date(0);return i.setFullYear(t,n,o+1),i.setHours(23,59,59,999),i}},function(e,t,n){var o=n(0);e.exports=function endOfYear(e){var t=o(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}},function(e,t){e.exports=function endOfYesterday(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),i=new Date(0);return i.setFullYear(t,n,o-1),i.setHours(23,59,59,999),i}},function(e,t,n){var o=n(146),i=n(127),r=n(3),u=n(0),c=n(148),d=n(6);var l={M:function(e){return e.getMonth()+1},MM:function(e){return addLeadingZeros(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return addLeadingZeros(e.getDate(),2)},DDD:function(e){return o(e)},DDDD:function(e){return addLeadingZeros(o(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return i(e)},WW:function(e){return addLeadingZeros(i(e),2)},YY:function(e){return addLeadingZeros(e.getFullYear(),4).substr(2)},YYYY:function(e){return addLeadingZeros(e.getFullYear(),4)},GG:function(e){return String(r(e)).substr(2)},GGGG:function(e){return r(e)},H:function(e){return e.getHours()},HH:function(e){return addLeadingZeros(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:12<t?t%12:t},hh:function(e){return addLeadingZeros(l.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return addLeadingZeros(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return addLeadingZeros(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return addLeadingZeros(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return addLeadingZeros(e.getMilliseconds(),3)},Z:function(e){return formatTimezone(e.getTimezoneOffset(),":")},ZZ:function(e){return formatTimezone(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function formatTimezone(e,t){t=t||"";var n=0<e?"-":"+",o=Math.abs(e),i=o%60;return n+addLeadingZeros(Math.floor(o/60),2)+t+addLeadingZeros(i,2)}function addLeadingZeros(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}e.exports=function format(e,t,n){var o=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=(n||{}).locale,r=d.format.formatters,a=d.format.formattingTokensRegExp;i&&i.format&&i.format.formatters&&(r=i.format.formatters,i.format.formattingTokensRegExp&&(a=i.format.formattingTokensRegExp));var s=u(e);return c(s)?function buildFormatFn(e,t,n){var o,i,r,a=e.match(n),s=a.length;for(o=0;o<s;o++)i=t[a[o]]||l[a[o]],a[o]=i||((r=a[o]).match(/\[[\s\S]/)?r.replace(/^\[|]$/g,""):r.replace(/\\/g,""));return function(e){for(var t="",n=0;n<s;n++)a[n]instanceof Function?t+=a[n](e,l):t+=a[n];return t}}(o,r,a)(s):"Invalid Date"}},function(e,t,n){var o=n(0);e.exports=function getDate(e){return o(e).getDate()}},function(e,t,n){var o=n(0);e.exports=function getDay(e){return o(e).getDay()}},function(e,t,n){var o=n(149);e.exports=function getDaysInYear(e){return o(e)?366:365}},function(e,t,n){var o=n(0);e.exports=function getHours(e){return o(e).getHours()}},function(e,t,n){var o=n(10),i=n(122);e.exports=function getISOWeeksInYear(e){var t=o(e),n=o(i(t,60)).valueOf()-t.valueOf();return Math.round(n/6048e5)}},function(e,t,n){var o=n(0);e.exports=function getMilliseconds(e){return o(e).getMilliseconds()}},function(e,t,n){var o=n(0);e.exports=function getMinutes(e){return o(e).getMinutes()}},function(e,t,n){var o=n(0);e.exports=function getMonth(e){return o(e).getMonth()}},function(e,t,n){var c=n(0);e.exports=function getOverlappingDaysInRanges(e,t,n,o){var i=c(e).getTime(),r=c(t).getTime(),a=c(n).getTime(),s=c(o).getTime();if(r<i||s<a)throw new Error("The start of the range cannot be after the end of the range");if(!(i<s&&a<r))return 0;var u=(r<s?r:s)-(a<i?i:a);return Math.ceil(u/864e5)}},function(e,t,n){var o=n(0);e.exports=function getSeconds(e){return o(e).getSeconds()}},function(e,t,n){var o=n(0);e.exports=function getTime(e){return o(e).getTime()}},function(e,t,n){var o=n(0);e.exports=function getYear(e){return o(e).getFullYear()}},function(e,t,n){var i=n(0);e.exports=function isAfter(e,t){var n=i(e),o=i(t);return n.getTime()>o.getTime()}},function(e,t,n){var i=n(0);e.exports=function isBefore(e,t){var n=i(e),o=i(t);return n.getTime()<o.getTime()}},function(e,t,n){var i=n(0);e.exports=function isEqual(e,t){var n=i(e),o=i(t);return n.getTime()===o.getTime()}},function(e,t,n){var o=n(0);e.exports=function isFirstDayOfMonth(e){return 1===o(e).getDate()}},function(e,t,n){var o=n(0);e.exports=function isFriday(e){return 5===o(e).getDay()}},function(e,t,n){var o=n(0);e.exports=function isFuture(e){return o(e).getTime()>(new Date).getTime()}},function(e,t,n){var o=n(0),i=n(126),r=n(145);e.exports=function isLastDayOfMonth(e){var t=o(e);return i(t).getTime()===r(t).getTime()}},function(e,t,n){var o=n(0);e.exports=function isMonday(e){return 1===o(e).getDay()}},function(e,t,n){var o=n(0);e.exports=function isPast(e){return o(e).getTime()<(new Date).getTime()}},function(e,t,n){var i=n(5);e.exports=function isSameDay(e,t){var n=i(e),o=i(t);return n.getTime()===o.getTime()}},function(e,t,n){var o=n(0);e.exports=function isSaturday(e){return 6===o(e).getDay()}},function(e,t,n){var o=n(0);e.exports=function isSunday(e){return 0===o(e).getDay()}},function(e,t,n){var o=n(151);e.exports=function isThisHour(e){return o(new Date,e)}},function(e,t,n){var o=n(153);e.exports=function isThisISOWeek(e){return o(new Date,e)}},function(e,t,n){var o=n(154);e.exports=function isThisISOYear(e){return o(new Date,e)}},function(e,t,n){var o=n(155);e.exports=function isThisMinute(e){return o(new Date,e)}},function(e,t,n){var o=n(157);e.exports=function isThisMonth(e){return o(new Date,e)}},function(e,t,n){var o=n(158);e.exports=function isThisQuarter(e){return o(new Date,e)}},function(e,t,n){var o=n(160);e.exports=function isThisSecond(e){return o(new Date,e)}},function(e,t,n){var o=n(128);e.exports=function isThisWeek(e,t){return o(new Date,e,t)}},function(e,t,n){var o=n(162);e.exports=function isThisYear(e){return o(new Date,e)}},function(e,t,n){var o=n(0);e.exports=function isThursday(e){return 4===o(e).getDay()}},function(e,t,n){var o=n(5);e.exports=function isToday(e){return o(e).getTime()===o(new Date).getTime()}},function(e,t,n){var o=n(5);e.exports=function isTomorrow(e){var t=new Date;return t.setDate(t.getDate()+1),o(e).getTime()===o(t).getTime()}},function(e,t,n){var o=n(0);e.exports=function isTuesday(e){return 2===o(e).getDay()}},function(e,t,n){var o=n(0);e.exports=function isWednesday(e){return 3===o(e).getDay()}},function(e,t,n){var o=n(0);e.exports=function isWeekend(e){var t=o(e).getDay();return 0===t||6===t}},function(e,t,n){var a=n(0);e.exports=function isWithinRange(e,t,n){var o=a(e).getTime(),i=a(t).getTime(),r=a(n).getTime();if(r<i)throw new Error("The start of the range cannot be after the end of the range");return i<=o&&o<=r}},function(e,t,n){var o=n(5);e.exports=function isYesterday(e){var t=new Date;return t.setDate(t.getDate()-1),o(e).getTime()===o(t).getTime()}},function(e,t,n){var o=n(163);e.exports=function lastDayOfISOWeek(e){return o(e,{weekStartsOn:1})}},function(e,t,n){var i=n(3),r=n(4);e.exports=function lastDayOfISOYear(e){var t=i(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var o=r(n);return o.setDate(o.getDate()-1),o}},function(e,t,n){var o=n(0);e.exports=function lastDayOfMonth(e){var t=o(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}},function(e,t,n){var i=n(0);e.exports=function lastDayOfQuarter(e){var t=i(e),n=t.getMonth(),o=n-n%3+3;return t.setMonth(o,0),t.setHours(0,0,0,0),t}},function(e,t,n){var o=n(0);e.exports=function lastDayOfYear(e){var t=o(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t}},function(e,t,n){var o=n(0);e.exports=function max(){var e=Array.prototype.slice.call(arguments).map(function(e){return o(e)}),t=Math.max.apply(null,e);return new Date(t)}},function(e,t,n){var o=n(0);e.exports=function min(){var e=Array.prototype.slice.call(arguments).map(function(e){return o(e)}),t=Math.min.apply(null,e);return new Date(t)}},function(e,t,n){var i=n(0);e.exports=function setDate(e,t){var n=i(e),o=Number(t);return n.setDate(o),n}},function(e,t,n){var s=n(0),u=n(8);e.exports=function setDay(e,t,n){var o=n&&Number(n.weekStartsOn)||0,i=s(e),r=Number(t),a=i.getDay();return u(i,((r%7+7)%7<o?7:0)+r-a)}},function(e,t,n){var i=n(0);e.exports=function setDayOfYear(e,t){var n=i(e),o=Number(t);return n.setMonth(0),n.setDate(o),n}},function(e,t,n){var i=n(0);e.exports=function setHours(e,t){var n=i(e),o=Number(t);return n.setHours(o),n}},function(e,t,n){var r=n(0),a=n(8),s=n(150);e.exports=function setISODay(e,t){var n=r(e),o=Number(t),i=s(n);return a(n,o-i)}},function(e,t,n){var r=n(0),a=n(127);e.exports=function setISOWeek(e,t){var n=r(e),o=Number(t),i=a(n)-o;return n.setDate(n.getDate()-7*i),n}},function(e,t,n){var i=n(0);e.exports=function setMilliseconds(e,t){var n=i(e),o=Number(t);return n.setMilliseconds(o),n}},function(e,t,n){var i=n(0);e.exports=function setMinutes(e,t){var n=i(e),o=Number(t);return n.setMinutes(o),n}},function(e,t,n){var i=n(0),r=n(164);e.exports=function setQuarter(e,t){var n=i(e),o=Number(t)-(Math.floor(n.getMonth()/3)+1);return r(n,n.getMonth()+3*o)}},function(e,t,n){var i=n(0);e.exports=function setSeconds(e,t){var n=i(e),o=Number(t);return n.setSeconds(o),n}},function(e,t,n){var i=n(0);e.exports=function setYear(e,t){var n=i(e),o=Number(t);return n.setFullYear(o),n}},function(e,t,n){var o=n(0);e.exports=function startOfMonth(e){var t=o(e);return t.setDate(1),t.setHours(0,0,0,0),t}},function(e,t,n){var o=n(5);e.exports=function startOfToday(){return o(new Date)}},function(e,t){e.exports=function startOfTomorrow(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),i=new Date(0);return i.setFullYear(t,n,o+1),i.setHours(0,0,0,0),i}},function(e,t){e.exports=function startOfYesterday(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),i=new Date(0);return i.setFullYear(t,n,o-1),i.setHours(0,0,0,0),i}},function(e,t,n){var o=n(8);e.exports=function subDays(e,t){var n=Number(t);return o(e,-n)}},function(e,t,n){var o=n(130);e.exports=function subHours(e,t){var n=Number(t);return o(e,-n)}},function(e,t,n){var o=n(9);e.exports=function subMilliseconds(e,t){var n=Number(t);return o(e,-n)}},function(e,t,n){var o=n(133);e.exports=function subMinutes(e,t){var n=Number(t);return o(e,-n)}},function(e,t,n){var o=n(82);e.exports=function subMonths(e,t){var n=Number(t);return o(e,-n)}},function(e,t,n){var o=n(134);e.exports=function subQuarters(e,t){var n=Number(t);return o(e,-n)}},function(e,t,n){var o=n(135);e.exports=function subSeconds(e,t){var n=Number(t);return o(e,-n)}},function(e,t,n){var o=n(122);e.exports=function subWeeks(e,t){var n=Number(t);return o(e,-n)}},function(e,t,n){var o=n(136);e.exports=function subYears(e,t){var n=Number(t);return o(e,-n)}},function(e,t,n){var o={"./ar":165,"./ar.js":165,"./az":166,"./az.js":166,"./bn":167,"./bn.js":167,"./cs":168,"./cs.js":168,"./de":169,"./de.js":169,"./el":170,"./el.js":170,"./es":171,"./es.js":171,"./fa":172,"./fa.js":172,"./fr":173,"./fr.js":173,"./hi":174,"./hi.js":174,"./hu":175,"./hu.js":175,"./id":176,"./id.js":176,"./it":177,"./it.js":177,"./ja":178,"./ja.js":178,"./jv":179,"./jv.js":179,"./ko":180,"./ko.js":180,"./my":181,"./my.js":181,"./nl":182,"./nl.js":182,"./pa-in":183,"./pa-in.js":183,"./pl":184,"./pl.js":184,"./pt":185,"./pt.js":185,"./ro":186,"./ro.js":186,"./ru":187,"./ru.js":187,"./sr":188,"./sr.js":188,"./th":189,"./th.js":189,"./tr":190,"./tr.js":190,"./uk":191,"./uk.js":191,"./uz":192,"./uz.js":192,"./vi":193,"./vi.js":193,"./zh-cn":194,"./zh-cn.js":194,"./zh-tw":195,"./zh-tw.js":195};function webpackContext(e){return n(webpackContextResolve(e))}function webpackContextResolve(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}webpackContext.keys=function webpackContextKeys(){return Object.keys(o)},webpackContext.resolve=webpackContextResolve,(e.exports=webpackContext).id=331},function(e,t,n){"use strict";var o=n(118),c=n(119),d=n(7),i=(n.n(d),n(129)),r=n(333),a=n(334),s=n(335),u=n(336),l=n(337),f=n(338),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var p=function(e){function datePicker(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,datePicker);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(datePicker.__proto__||Object.getPrototypeOf(datePicker)).call(this));return t.options=h({},f.a,e),t._clickEvents=["click","touch"],t._supportsPassive=o.a(),t._id=o.b("datePicker"),t.node=null,t.onPreviousDatePicker=t.onPreviousDatePicker.bind(t),t.onNextDatePicker=t.onNextDatePicker.bind(t),t.onSelectMonthDatePicker=t.onSelectMonthDatePicker.bind(t),t.onMonthClickDatePicker=t.onMonthClickDatePicker.bind(t),t.onSelectYearDatePicker=t.onSelectYearDatePicker.bind(t),t.onYearClickDatePicker=t.onYearClickDatePicker.bind(t),t.onDateClickDatePicker=t.onDateClickDatePicker.bind(t),t._init(),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(datePicker,i["a"]),m(datePicker,[{key:"onPreviousDatePicker",value:function onPreviousDatePicker(e){this._supportsPassive||e.preventDefault(),e.stopPropagation();var t=d.lastDayOfMonth(d.subMonths(new Date(d.getYear(this._visibleDate),d.getMonth(this._visibleDate)),1)),n=Math.min(d.getDaysInMonth(t),d.getDate(this._visibleDate));this._visibleDate=this.min?d.max(d.setDate(t,n),this.min):d.setDate(t,n),this.refresh()}},{key:"onNextDatePicker",value:function onNextDatePicker(e){this._supportsPassive||e.preventDefault(),e.stopPropagation();var t=d.addMonths(this._visibleDate,1),n=Math.min(d.getDaysInMonth(t),d.getDate(this._visibleDate));this._visibleDate=this.max?d.min(d.setDate(t,n),this.max):d.setDate(t,n),this.refresh()}},{key:"onSelectMonthDatePicker",value:function onSelectMonthDatePicker(e){e.stopPropagation(),this.options.enableMonthSwitch&&(this._ui.body.dates.classList.remove("is-active"),this._ui.body.years.classList.remove("is-active"),this._ui.body.months.classList.add("is-active"),this._ui.navigation.previous.setAttribute("disabled","disabled"),this._ui.navigation.next.setAttribute("disabled","disabled"))}},{key:"onSelectYearDatePicker",value:function onSelectYearDatePicker(e){if(e.stopPropagation(),this.options.enableYearSwitch){this._ui.body.dates.classList.remove("is-active"),this._ui.body.months.classList.remove("is-active"),this._ui.body.years.classList.add("is-active"),this._ui.navigation.previous.setAttribute("disabled","disabled"),this._ui.navigation.next.setAttribute("disabled","disabled");var t=this._ui.body.years.querySelector(".calendar-year.is-active");t&&(this._ui.body.years.scrollTop=t.offsetTop-this._ui.body.years.offsetTop-this._ui.body.years.clientHeight/2)}}},{key:"onMonthClickDatePicker",value:function onMonthClickDatePicker(e){this._supportsPassive||e.preventDefault(),e.stopPropagation();var t=d.setMonth(this._visibleDate,parseInt(e.currentTarget.dataset.month)-1);this._visibleDate=this.min?d.max(t,this.min):t,this._visibleDate=this.max?d.min(this._visibleDate,this.max):this._visibleDate,this.refresh()}},{key:"onYearClickDatePicker",value:function onYearClickDatePicker(e){this._supportsPassive||e.preventDefault(),e.stopPropagation();var t=d.setYear(this._visibleDate,parseInt(e.currentTarget.dataset.year));this._visibleDate=this.min?d.max(t,this.min):t,this._visibleDate=this.max?d.min(this._visibleDate,this.max):this._visibleDate,this.refresh()}},{key:"onDateClickDatePicker",value:function onDateClickDatePicker(e){this._supportsPassive||e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.contains("is-disabled")||(this._select(e.currentTarget.dataset.date),this.refresh())}},{key:"isRange",value:function isRange(){return this.options.isRange}},{key:"enableDate",value:function enableDate(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,e=this.disabledDates.findIndex(function(e){return d.isEqual(e,t)});-1<e&&unset(this.disabledDates[e])}},{key:"disableDate",value:function disableDate(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;-1<this.disabledDates.findIndex(function(e){return d.isEqual(e,t)})&&this.disabledDates.push(t)}},{key:"enableWeekDay",value:function enableWeekDay(t){var e=this.disabledWeekDays.findIndex(function(e){return d.isEqual(e,t)});-1<e&&unset(this.disabledWeekDays[e])}},{key:"disableWeekDay",value:function disableWeekDay(e){-1<this.disabledWeekDays.findIndex(function(e){return d.isEqual(e,date)})&&this.disabledWeekDays.push(e)}},{key:"show",value:function show(){this._open||(this._ui.body.dates.classList.add("is-active"),this._ui.body.months.classList.remove("is-active"),this._ui.body.years.classList.remove("is-active"),this._ui.navigation.previous.removeAttribute("disabled"),this._ui.navigation.next.removeAttribute("disabled"),this._ui.container.classList.add("is-active"),this._open=!0,this._focus=!0,this.emit("show",this))}},{key:"hide",value:function hide(){this._open&&(this._open=!1,this._focus=!1,this._ui.container.classList.remove("is-active"),this.emit("hide",this))}},{key:"toggle",value:function toggle(){this._open?this.hide():this.show()}},{key:"value",value:function value(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(!e){var t=this.start&&this._isValidDate(this.start)?d.format(this.start,this.format,{locale:this.locale}):"";return this.options.isRange&&this.end&&this._isValidDate(this.end)&&(t+=" - "+d.format(this.end,this.format,{locale:this.locale})),t}if(this.options.isRange){if(c.e(e)){var n=e.split(" - ");n.length&&(this.start=d.format(new Date(n[0]),this.format,{locale:this.locale})),2===n.length&&(this.end=d.format(new Date(n[1]),this.format,{locale:this.locale}))}(c.d(e)||c.b(e))&&this._select(e)}else this._select(e)}},{key:"refresh",value:function refresh(){var n=this;this._ui.body.dates.innerHTML="";var e=new Array(12).fill(d.startOfWeek(this._visibleDate)).map(function(e,t){return d.format(d.addMonths(e,t),"MM",{locale:n.locale})});this._ui.body.months.innerHTML="",this._ui.body.months.appendChild(document.createRange().createContextualFragment(Object(u.a)({months:e}))),(this._ui.body.months.querySelectorAll(".datepicker-month")||[]).forEach(function(t){n._clickEvents.forEach(function(e){t.addEventListener(e,n.onMonthClickDatePicker)}),t.classList.remove("is-active"),t.dataset.month===d.format(n._visibleDate,"MM",{locale:n.locale})&&t.classList.add("is-active")});var t=new Array(100).fill(d.subYears(this._visibleDate,50)).map(function(e,t){return d.format(d.addYears(e,t),"YYYY",{locale:n.locale})});this._ui.body.years.innerHTML="",this._ui.body.years.appendChild(document.createRange().createContextualFragment(Object(l.a)({visibleDate:this._visibleDate,years:t}))),(this._ui.body.years.querySelectorAll(".datepicker-year")||[]).forEach(function(t){n._clickEvents.forEach(function(e){t.addEventListener(e,n.onYearClickDatePicker)}),t.classList.remove("is-active"),t.dataset.year===d.format(n._visibleDate,"YYYY",{locale:n.locale})&&t.classList.add("is-active")});var o=new Array(7).fill(d.startOfWeek(this._visibleDate)).map(function(e,t){return d.format(d.addDays(e,t+n.options.weekStart),"ddd",{locale:n.locale})});return this._ui.body.dates.appendChild(document.createRange().createContextualFragment(Object(s.a)({weekdays:o}))),this.min&&0===d.differenceInMonths(this._visibleDate,this.min)?this._togglePreviousButton(!1):this._togglePreviousButton(),this.max&&0===d.differenceInMonths(this._visibleDate,this.max)?this._toggleNextButton(!1):this._toggleNextButton(),this._ui.navigation.month.innerHTML=d.format(this._visibleDate,"MMMM",{locale:this.locale}),this._ui.navigation.year.innerHTML=d.format(this._visibleDate,"YYYY",{locale:this.locale}),this._renderDays(),this._ui.body.dates.classList.add("is-active"),this._ui.body.months.classList.remove("is-active"),this._ui.body.years.classList.remove("is-active"),this._ui.navigation.previous.removeAttribute("disabled"),this._ui.navigation.next.removeAttribute("disabled"),this}},{key:"clear",value:function clear(){var e=new Date;this._date={start:void 0,end:void 0},this._visibleDate=this._isValidDate(e,this.min,this.max)?e:this.min,this.refresh()}},{key:"snapshot",value:function snapshot(){this._snapshots.push(h({},this._date))}},{key:"render",value:function render(){return this.refresh(),this.node}},{key:"_init",value:function _init(){var e=new Date;this._open=!1,this._snapshots=[],this.lang=this.options.lang,this.format=this.options.dateFormat||"MM/DD/YYYY",this.disabledDates=Array.isArray(this.options.disabledDates)?this.options.disabledDates:[];for(var t=0;t<this.disabledDates.length;t++)this.disabledDates[t]=d.format(this.disabledDates[t],this.format,{locale:this.locale});this.disabledWeekDays=c.e(this.options.disabledWeekDays)?this.options.disabledWeekDays.split(","):Array.isArray(this.options.disabledWeekDays)?this.options.disabledWeekDays:[],this.min=this.options.minDate,this.max=this.options.maxDate,this._date={start:this.options.startDate,end:this.options.isRange?this.options.endDate:void 0},this._visibleDate=this._isValidDate(this.start)?this.start:this._isValidDate(e,this.min,this.max)?e:this.min,this._build(),this._bindEvents(),this.emit("ready",this)}},{key:"_build",value:function _build(){this.node=document.createRange().createContextualFragment(Object(r.a)({locale:this.locale,visibleDate:this._visibleDate,icons:this.options.icons})),this._ui={container:this.node.firstChild,navigation:{container:this.node.querySelector(".datepicker-nav"),previous:this.node.querySelector(".datepicker-nav-previous"),next:this.node.querySelector(".datepicker-nav-next"),month:this.node.querySelector(".datepicker-nav-month"),year:this.node.querySelector(".datepicker-nav-year")},body:{dates:this.node.querySelector(".datepicker-dates"),days:this.node.querySelector(".datepicker-days"),weekdays:this.node.querySelector(".datepicker-weekdays"),months:this.node.querySelector(".datepicker-months"),years:this.node.querySelector(".datepicker-years")}}}},{key:"_bindEvents",value:function _bindEvents(){var n=this;document.addEventListener("keydown",function(e){if(n._focus)switch(e.keyCode||e.which){case 37:n.onPreviousDatePicker(e);break;case 39:n.onNextDatePicker(e)}}),this._ui.navigation.previous&&this._clickEvents.forEach(function(e){n._ui.navigation.previous.addEventListener(e,n.onPreviousDatePicker)}),this._ui.navigation.next&&this._clickEvents.forEach(function(e){n._ui.navigation.next.addEventListener(e,n.onNextDatePicker)}),this._ui.navigation.month&&this._clickEvents.forEach(function(e){n._ui.navigation.month.addEventListener(e,n.onSelectMonthDatePicker)}),this._ui.navigation.year&&this._clickEvents.forEach(function(e){n._ui.navigation.year.addEventListener(e,n.onSelectYearDatePicker)}),(this._ui.body.months.querySelectorAll(".calendar-month")||[]).forEach(function(t){n._clickEvents.forEach(function(e){t.addEventListener(e,n.onMonthClickDatePicker)})}),(this._ui.body.years.querySelectorAll(".calendar-year")||[]).forEach(function(t){n._clickEvents.forEach(function(e){t.addEventListener(e,n.onYearClickDatePicker)})})}},{key:"_bindDaysEvents",value:function _bindDaysEvents(){var o=this;[].forEach.call(this._ui.days,function(n){o._clickEvents.forEach(function(e){var t=o._isValidDate(new Date(n.dataset.date),o.min,o.max)?o.onDateClickDatePicker:null;n.addEventListener(e,t)}),n.addEventListener("hover",function(e){e.preventDEfault()})})}},{key:"_renderDays",value:function _renderDays(){var u=this,e=d.startOfWeek(d.startOfMonth(this._visibleDate)),t=d.endOfWeek(d.endOfMonth(this._visibleDate)),n=new Array(d.differenceInDays(t,e)+1).fill(e).map(function(e,t){var n=d.startOfDay(d.addDays(e,t+u.options.weekStart)),o=d.isSameMonth(u._visibleDate,n),i=u.options.isRange&&d.isWithinRange(n,d.startOfDay(u.start),d.endOfDay(u.end)),r=!!u.max&&d.isAfter(d.startOfDay(n),d.endOfDay(u.max));if(r=!r&&u.min?d.isBefore(d.startOfDay(n),d.startOfDay(u.min)):r,u.disabledDates)for(var a=0;a<u.disabledDates.length;a++){var s=u.disabledDates[a];c.c(s)&&(s=s(u)),d.getTime(n)==d.getTime(s)&&(r=!0)}return u.disabledWeekDays&&u.disabledWeekDays.forEach(function(e){c.c(e)&&(e=e(u)),d.getDay(n)==e&&(r=!0)}),{date:n,isRange:u.options.isRange,isToday:d.isToday(n),isStartDate:d.isEqual(d.startOfDay(u.start),n),isEndDate:d.isEqual(d.startOfDay(u.end),n),isDisabled:r,isThisMonth:o,isInRange:i}});this._ui.body.dates.appendChild(document.createRange().createContextualFragment(Object(a.a)(n))),this._ui.days=this._ui.body.dates.querySelectorAll(".datepicker-date"),this._bindDaysEvents()}},{key:"_select",value:function _select(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;this.snapshot(),e=c.b(e)?e:new Date(e),this.options.isRange&&(!this._isValidDate(this.start)||this._isValidDate(this.start)&&this._isValidDate(this.end))?(this.start=e,this.end=void 0,this.emit("select:start",this)):this.options.isRange&&!this._isValidDate(this.end)?d.isBefore(e,this.start)?(this.end=this.start,this.start=e,this.emit("select",this)):d.isAfter(e,this.start)?(this.end=e,this.emit("select",this)):this.options.allowSameDayRange?(this.end=e,this.emit("select",this)):(this.start=e,this.end=void 0,this.emit("select:start",this)):(this.start=e,this.end=void 0,this.emit("select",this)),this._visibleDate=this._isValidDate(this.start)?this.start:this._visibleDate,this.options.isRange&&this._isValidDate(this.start)&&this._isValidDate(this.end)&&new Array(d.differenceInDays(this.end,this.start)+1).fill(this.start).map(function(e,t){var n=d.addDays(e,t),o=i._ui.body.dates.querySelector('.datepicker-date[data-date="'+n.toString()+'"]');o&&(d.isEqual(i.start,n)&&o.classList.add("datepicker-range-start"),d.isEqual(i.end,n)&&o.classList.add("datepicker-range-end"),o.classList.add("datepicker-range"))})}},{key:"_isValidDate",value:function _isValidDate(e,t,n){try{return!!e&&(!!d.isValid(e)&&(!t&&!n||(t&&n?d.isWithinRange(e,t,n):n?d.isBefore(e,n)||d.isEqual(e,n):d.isAfter(e,t)||d.isEqual(e,t))))}catch(e){return!1}}},{key:"_togglePreviousButton",value:function _togglePreviousButton(){!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?this._ui.navigation.previous.removeAttribute("disabled"):this._ui.navigation.previous.setAttribute("disabled","disabled")}},{key:"_toggleNextButton",value:function _toggleNextButton(){!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?this._ui.navigation.next.removeAttribute("disabled"):this._ui.navigation.next.setAttribute("disabled","disabled")}},{key:"id",get:function get(){return this._id}},{key:"date",set:function set(e){return c.d(e)&&e.start&&e.end&&(this._date=e),this},get:function get(){return this._date||{start:void 0,end:void 0}}},{key:"lang",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en";return this._lang=e,this._locale=n(84)("./"+e),this},get:function get(){return this._lang}},{key:"locale",get:function get(){return this._locale}},{key:"start",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return e?(c.b(e)&&(this._date.start=this._isValidDate(e,this.min,this.max)?d.startOfDay(e):this._date.start),c.e(e)&&(this._date.start=this._isValidDate(d.parse(e),this.min,this.max)?d.startOfDay(d.parse(e)):this._date.start)):this._date.start=void 0,this},get:function get(){return this._date.start}},{key:"end",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return e?(c.b(e)&&(this._date.end=this._isValidDate(e,this.min,this.max)?d.endOfDay(e):this._date.end),c.e(e)&&(this._date.end=this._isValidDate(d.parse(e),this.min,this.max)?d.endOfDay(d.parse(e)):this._date.end)):this._date.end=void 0,this},get:function get(){return this._date.end}},{key:"min",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return e&&(c.b(e)&&(this._min=this._isValidDate(e)?d.startOfDay(e):this._min),c.e(e)&&(this._min=this._isValidDate(d.parse(e))?d.startOfDay(e):this._min)),this},get:function get(){return this._min}},{key:"max",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return e&&(c.b(e)&&(this._max=this._isValidDate(e)?d.endOfDay(e):this._max),c.e(e)&&(this._max=this._isValidDate(d.parse(e))?d.endOfDay(e):this._max)),this},get:function get(){return this._max}},{key:"format",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"MM/DD/YYYY";return this._format=e,this},get:function get(){return this._format}}]),datePicker}();t.a=p},function(e,t,n){"use strict";t.a=function(e){return'<div class="datepicker">\n    <div class="datepicker-nav">\n        <button type="button" class="datepicker-nav-previous button is-small is-text">'+e.icons.previous+'</button>\n        <div class="datepicker-nav-month-year">\n          <div class="datepicker-nav-month"></div>\n          &nbsp;\n          <div class="datepicker-nav-year"></div>\n        </div>\n        <button type="button" class="datepicker-nav-next button is-small is-text">'+e.icons.next+'</button>\n      </div>\n      <div class="datepicker-body">\n        <div class="datepicker-dates is-active"></div>\n        <div class="datepicker-months"></div>\n        <div class="datepicker-years"></div>\n      </div>\n    </div>'}},function(e,t,n){"use strict";t.a=function(e){return'<div class="datepicker-days">'+e.map(function(e){return'<div data-date="'+e.date.toString()+'" class="datepicker-date'+(e.isThisMonth?" is-current-month":"")+(e.isDisabled?" is-disabled":"")+(e.isRange&&e.isInRange?" datepicker-range":"")+(e.isStartDate?" datepicker-range-start":"")+(e.isEndDate?" datepicker-range-end":"")+'">\n      <button class="date-item'+(e.isToday?" is-today":"")+(e.isStartDate?" is-active":"")+'" type="button">'+e.date.getDate()+"</button>\n  </div>"}).join("")+"</div>"}},function(e,t,n){"use strict";t.a=function(e){return'<div class="datepicker-weekdays">\n\t\t'+e.weekdays.map(function(e){return'<div class="datepicker-date">'+e+"</div>"}).join("")+"\n\t</div>"}},function(e,t,n){"use strict";var o=n(7);n.n(o);t.a=function(n){return""+n.months.map(function(e,t){return'<div class="datepicker-month" data-month="'+Object(o.format)(Object(o.addMonths)(e,t),"MM",{locale:n.locale})+'">'+Object(o.format)(Object(o.addMonths)(e,t),"MMM",{locale:n.locale})+"</div>"}).join("")}},function(e,t,n){"use strict";var o=n(7);n.n(o);t.a=function(t){return""+t.years.map(function(e){return'<div class="datepicker-year'+(e===Object(o.getMonth)(t.visibleDate)?" is-active":"")+'" data-year="'+e+'"><span class="item">'+e+"</span></div>"}).join("")}},function(e,t,n){"use strict";var o={color:"primary",isRange:!1,allowSameDayRange:!0,lang:"en",startDate:void 0,endDate:void 0,minDate:null,maxDate:null,disabledDates:[],disabledWeekDays:void 0,weekStart:0,dateFormat:"MM/DD/YYYY",enableMonthSwitch:!0,enableYearSwitch:!0};t.a=o},function(e,t,n){"use strict";var o=n(118),i=n(119),r=n(7),a=(n.n(r),n(129)),s=n(340),u=n(341),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var l=function(e){function timePicker(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,timePicker);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(timePicker.__proto__||Object.getPrototypeOf(timePicker)).call(this));return t.options=c({},u.a,e),t._clickEvents=["click","touch"],t._supportsPassive=o.a(),t._id=o.b("timePicker"),t.node=null,t.onPreviousHourStartTimePicker=t.onPreviousHourStartTimePicker.bind(t),t.onNextHourStartTimePicker=t.onNextHourStartTimePicker.bind(t),t.onPreviousMinuteStartTimePicker=t.onPreviousMinuteStartTimePicker.bind(t),t.onNextMinuteStartTimePicker=t.onNextMinuteStartTimePicker.bind(t),t.onPreviousHourEndTimePicker=t.onPreviousHourEndTimePicker.bind(t),t.onNextHourEndTimePicker=t.onNextHourEndTimePicker.bind(t),t.onPreviousMinuteEndTimePicker=t.onPreviousMinuteEndTimePicker.bind(t),t.onNextMinuteEndTimePicker=t.onNextMinuteEndTimePicker.bind(t),t._init(),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(timePicker,a["a"]),d(timePicker,[{key:"_init",value:function _init(){this._open=!1,this._snapshots=[],this.lang=this.options.lang,this.format=this.options.format||"HH:mm",this.min=this.options.min,this.max=this.options.max,this._time={start:r.startOfToday(),end:r.endOfToday()},this.start=this.options.start||r.startOfToday(),this.end=this.options.isRange?this.options.end:r.endOfToday(),this._build(),this._bindEvents(),this.emit("ready",this)}},{key:"_build",value:function _build(){this.node=document.createRange().createContextualFragment(Object(s.a)({locale:this.locale,isRange:this.options.isRange,icons:this.options.icons})),this._ui={container:this.node.firstChild,start:{container:this.node.querySelector(".timepicker-start"),hours:{container:this.node.querySelector(".timepicker-start .timepicker-hours"),input:this.node.querySelector(".timepicker-start .timepicker-hours input"),number:this.node.querySelector(".timepicker-start .timepicker-hours .timepicker-input-number"),previous:this.node.querySelector(".timepicker-start .timepicker-hours .timepicker-previous"),next:this.node.querySelector(".timepicker-start .timepicker-hours .timepicker-next")},minutes:{container:this.node.querySelector(".timepicker-start .timepicker-minutes"),input:this.node.querySelector(".timepicker-start .timepicker-minutes input"),number:this.node.querySelector(".timepicker-start .timepicker-minutes .timepicker-input-number"),previous:this.node.querySelector(".timepicker-start .timepicker-minutes .timepicker-previous"),next:this.node.querySelector(".timepicker-start .timepicker-minutes .timepicker-next")}},end:{container:this.node.querySelector(".timepicker-end"),hours:{container:this.node.querySelector(".timepicker-end .timepicker-hours"),input:this.node.querySelector(".timepicker-end .timepicker-hours input"),number:this.node.querySelector(".timepicker-end .timepicker-hours .timepicker-input-number"),previous:this.node.querySelector(".timepicker-end .timepicker-hours .timepicker-previous"),next:this.node.querySelector(".timepicker-end .timepicker-hours .timepicker-next")},minutes:{container:this.node.querySelector(".timepicker-end .timepicker-minutes"),input:this.node.querySelector(".timepicker-end .timepicker-minutes input"),number:this.node.querySelector(".timepicker-end .timepicker-minutes .timepicker-input-number"),previous:this.node.querySelector(".timepicker-end .timepicker-minutes .timepicker-previous"),next:this.node.querySelector(".timepicker-end .timepicker-minutes .timepicker-next")}}}}},{key:"_bindEvents",value:function _bindEvents(){var t=this;this._clickEvents.forEach(function(e){t._ui.start.hours.previous.addEventListener(e,t.onPreviousHourStartTimePicker),t._ui.start.hours.next.addEventListener(e,t.onNextHourStartTimePicker),t._ui.start.minutes.previous.addEventListener(e,t.onPreviousMinuteStartTimePicker),t._ui.start.minutes.next.addEventListener(e,t.onNextMinuteStartTimePicker),t.options.isRange&&(t._ui.end.hours.previous.addEventListener(e,t.onPreviousHourEndTimePicker),t._ui.end.hours.next.addEventListener(e,t.onNextHourEndTimePicker),t._ui.end.minutes.previous.addEventListener(e,t.onPreviousMinuteEndTimePicker),t._ui.end.minutes.next.addEventListener(e,t.onNextMinuteEndTimePicker))})}},{key:"_select",value:function _select(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;this.snapshot(),e=i.b(e)?e:new Date(e),this.options.isRange&&(!this._isValidTime(this.start)||this._isValidTime(this.start)&&this._isValidTime(this.end))?(this.start=e,this.end=r.endOfToday(),this.emit("select:start",this)):this.options.isRange&&!this._isValidTime(this.end)?r.isBefore(e,this.start)?(this.end=this.start,this.start=r.endOfToday(),this.emit("select",this)):r.isAfter(e,this.start)?(this.end=e,this.emit("select",this)):(this.start=e,this.end=r.endOfToday(),this.emit("select:start",this)):(this.start=e,this.end=r.endOfToday(),this.emit("select",this))}},{key:"_isValidTime",value:function _isValidTime(e,t,n){try{return!!e&&(!!r.isValid(e)&&(!t&&!n||(t&&n?r.isWithinRange(e,t,n):n?r.isBefore(e,n)||r.isEqual(e,n):r.isAfter(e,t)||r.isEqual(e,t))))}catch(e){return!1}}},{key:"onPreviousHourStartTimePicker",value:function onPreviousHourStartTimePicker(e){var t=this;this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.start=r.subHours(this.start,1),setTimeout(function(){t._ui.start.hours.number.classList.add("is-decrement-hide"),setTimeout(function(){t._ui.start.hours.number.innerText=r.format(t.start,"HH"),t._ui.start.hours.input.value=r.format(t.start,"HH"),t._ui.start.hours.number.classList.add("is-decrement-visible")},100),setTimeout(function(){t._ui.start.hours.number.classList.remove("is-decrement-hide"),t._ui.start.hours.number.classList.remove("is-decrement-visible")},1100)},100)}},{key:"onNextHourStartTimePicker",value:function onNextHourStartTimePicker(e){var t=this;this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.start=r.addHours(this.start,1),setTimeout(function(){t._ui.start.hours.number.classList.add("is-increment-hide"),setTimeout(function(){t._ui.start.hours.number.innerText=r.format(t.start,"HH"),t._ui.start.hours.input.value=r.format(t.start,"HH"),t._ui.start.hours.number.classList.add("is-increment-visible")},100),setTimeout(function(){t._ui.start.hours.number.classList.remove("is-increment-hide"),t._ui.start.hours.number.classList.remove("is-increment-visible")},1100)},100)}},{key:"onPreviousMinuteStartTimePicker",value:function onPreviousMinuteStartTimePicker(e){var t=this;this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.start=r.subMinutes(this.start,this.options.minuteSteps),setTimeout(function(){t._ui.start.minutes.number.classList.add("is-decrement-hide"),setTimeout(function(){t._ui.start.minutes.number.innerText=r.format(t.start,"mm"),t._ui.start.minutes.input.value=r.format(t.start,"mm"),t._ui.start.minutes.number.classList.add("is-decrement-visible"),r.format(t.start,"HH")!==t._ui.start.hours.input.value&&(t._ui.start.hours.number.innerText=r.format(t.start,"HH"),t._ui.start.hours.input.value=r.format(t.start,"HH"),t._ui.start.hours.number.classList.add("is-decrement-visible"))},100),setTimeout(function(){t._ui.start.minutes.number.classList.remove("is-decrement-hide"),t._ui.start.minutes.number.classList.remove("is-decrement-visible"),t._ui.start.hours.number.classList.remove("is-decrement-hide"),t._ui.start.hours.number.classList.remove("is-decrement-visible")},1100)},100)}},{key:"onNextMinuteStartTimePicker",value:function onNextMinuteStartTimePicker(e){var t=this;this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.start=r.addMinutes(this.start,this.options.minuteSteps),setTimeout(function(){t._ui.start.minutes.number.classList.add("is-increment-hide"),setTimeout(function(){t._ui.start.minutes.number.innerText=r.format(t.start,"mm"),t._ui.start.minutes.input.value=r.format(t.start,"mm"),t._ui.start.minutes.number.classList.add("is-increment-visible"),r.format(t.start,"HH")!==t._ui.start.hours.input.value&&(t._ui.start.hours.number.innerText=r.format(t.start,"HH"),t._ui.start.hours.input.value=r.format(t.start,"HH"),t._ui.start.hours.number.classList.add("is-increment-visible"))},100),setTimeout(function(){t._ui.start.minutes.number.classList.remove("is-increment-hide"),t._ui.start.minutes.number.classList.remove("is-increment-visible"),t._ui.start.hours.number.classList.remove("is-increment-hide"),t._ui.start.hours.number.classList.remove("is-increment-visible")},1100)},100)}},{key:"onPreviousHourEndTimePicker",value:function onPreviousHourEndTimePicker(e){var t=this;this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.end=r.subHours(this.end,1),setTimeout(function(){t._ui.end.hours.number.classList.add("is-decrement-hide"),setTimeout(function(){t._ui.end.hours.number.innerText=r.format(t.end,"HH"),t._ui.end.hours.input.value=r.format(t.end,"HH"),t._ui.end.hours.number.classList.add("is-decrement-visible")},100),setTimeout(function(){t._ui.end.hours.number.classList.remove("is-decrement-hide"),t._ui.end.hours.number.classList.remove("is-decrement-visible")},1100)},100)}},{key:"onNextHourEndTimePicker",value:function onNextHourEndTimePicker(e){var t=this;this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.end=r.addHours(this.end,1),setTimeout(function(){t._ui.end.hours.number.classList.add("is-increment-hide"),setTimeout(function(){t._ui.end.hours.number.innerText=r.format(t.end,"HH"),t._ui.end.hours.input.value=r.format(t.end,"HH"),t._ui.end.hours.number.classList.add("is-increment-visible")},100),setTimeout(function(){t._ui.end.hours.number.classList.remove("is-increment-hide"),t._ui.end.hours.number.classList.remove("is-increment-visible")},1100)},100)}},{key:"onPreviousMinuteEndTimePicker",value:function onPreviousMinuteEndTimePicker(e){var t=this;this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.end=r.subMinutes(this.end,this.options.minuteSteps),setTimeout(function(){t._ui.end.minutes.number.classList.add("is-decrement-hide"),setTimeout(function(){t._ui.end.minutes.number.innerText=r.format(t.end,"mm"),t._ui.end.minutes.input.value=r.format(t.end,"mm"),t._ui.end.minutes.number.classList.add("is-decrement-visible"),r.format(t.end,"HH")!==t._ui.end.hours.input.value&&(t._ui.end.hours.number.innerText=r.format(t.end,"HH"),t._ui.end.hours.input.value=r.format(t.end,"HH"),t._ui.end.hours.number.classList.add("is-decrement-visible"))},100),setTimeout(function(){t._ui.end.minutes.number.classList.remove("is-decrement-hide"),t._ui.end.minutes.number.classList.remove("is-decrement-visible")},1100)},100)}},{key:"onNextMinuteEndTimePicker",value:function onNextMinuteEndTimePicker(e){var t=this;this._supportsPassive||e.preventDefault(),e.stopPropagation(),this.end=r.addMinutes(this.end,this.options.minuteSteps),setTimeout(function(){t._ui.end.minutes.number.classList.add("is-increment-hide"),setTimeout(function(){t._ui.end.minutes.number.innerText=r.format(t.end,"mm"),t._ui.end.minutes.input.value=r.format(t.end,"mm"),t._ui.end.minutes.number.classList.add("is-increment-visible"),r.format(t.end,"HH")!==t._ui.end.hours.input.value&&(t._ui.end.hours.number.innerText=r.format(t.end,"HH"),t._ui.end.hours.input.value=r.format(t.end,"HH"),t._ui.end.hours.number.classList.add("is-increment-visible"))},100),setTimeout(function(){t._ui.end.minutes.number.classList.remove("is-increment-hide"),t._ui.end.minutes.number.classList.remove("is-increment-visible")},1100)},100)}},{key:"isRange",value:function isRange(){return this.options.isRange}},{key:"show",value:function show(){this._open||(this._ui.container.classList.add("is-active"),this._open=!0,this._focus=!0,this.emit("show",this))}},{key:"hide",value:function hide(){this._open=!1,this._focus=!1,this._ui.container.classList.remove("is-active"),this.emit("hide",this)}},{key:"toggle",value:function toggle(){this._open?this.hide():this.show()}},{key:"value",value:function value(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(!e){var t=this.start&&this._isValidTime(this.start)?r.format(this.start,this.format,{locale:this.locale}):"";return this.options.isRange&&this.end&&this._isValidTime(this.end)&&(t+=" - "+r.format(this.end,this.format,{locale:this.locale})),t}if(this.options.isRange){if(i.e(e)){var n=e.split(" - ");n.length&&(this.start=r.format(new Date(n[0]),this.format,{locale:this.locale})),2===n.length&&(this.end=r.format(new Date(n[1]),this.format,{locale:this.locale}))}(i.d(e)||i.b(e))&&this._select(e)}else this._select(e)}},{key:"refresh",value:function refresh(){return this._ui.start.hours.input.value=r.format(this.start,"HH"),this._ui.start.hours.number.innerText=r.format(this.start,"HH"),this._ui.start.minutes.input.value=r.format(this.start,"mm"),this._ui.start.minutes.number.innerText=r.format(this.start,"mm"),this.options.isRange&&(this._ui.end.hours.input.value=r.format(this.end,"HH"),this._ui.end.hours.number.innerText=r.format(this.end,"HH"),this._ui.end.minutes.input.value=r.format(this.end,"mm"),this._ui.end.minutes.number.innerText=r.format(this.end,"mm")),this}},{key:"clear",value:function clear(){this.time={start:r.startOfToday(),end:r.endOfToday()},this.refresh()}},{key:"snapshot",value:function snapshot(){this._snapshots.push(c({},this._time))}},{key:"render",value:function render(){return this.refresh(),this.node}},{key:"id",get:function get(){return this._id}},{key:"time",set:function set(e){return i.d(e)&&e.start&&e.end&&(this._time=e),this},get:function get(){return this._time||{start:void 0,end:void 0}}},{key:"lang",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en";return this._lang=e,this._locale=n(84)("./"+e),this},get:function get(){return this._lang}},{key:"locale",get:function get(){return this._locale}},{key:"start",set:function set(e){return this._time.start=e?this._isValidTime(e,this.min,this.max)?e:this._time.start:r.startOfToday(),this},get:function get(){return this._time.start}},{key:"end",set:function set(e){return this._time.end=e?this._isValidTime(e,this.min,this.max)?e:this._time.end:r.endOfToday(),this},get:function get(){return this._time.end}},{key:"min",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return this._min=e?this._isValidTime(e)?e:this._min:void 0,this},get:function get(){return this._min}},{key:"max",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this._max=e?this._isValidTime(e)?e:this._max:void 0,this},get:function get(){return this._max}},{key:"format",set:function set(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"HH:mm";return this._format=e,this},get:function get(){return this._format}}]),timePicker}();t.a=l},function(e,t,n){"use strict";t.a=function(e){return'<div class="timepicker">\n    <div class="timepicker-start">\n      <div class="timepicker-hours">\n        <span class="timepicker-next">+</span>\n        <div class="timepicker-input">\n          <input type="number">\n          <div class="timepicker-input-number"></div>\n        </div>\n        <span class="timepicker-previous">-</span>\n      </div>\n      <div class="timepicker-time-divider">:</div>\n      <div class="timepicker-minutes">\n        <span class="timepicker-next">+</span>\n        <div class="timepicker-input">\n          <input type="number">\n          <div class="timepicker-input-number"></div>\n        </div>\n        <span class="timepicker-previous">-</span>\n      </div>\n    </div>\n    '+(e.isRange?'<div class="timepicker-end">\n      <div class="timepicker-hours">\n        <span class="timepicker-next">+</span>\n        <div class="timepicker-input">\n          <input type="number">\n          <div class="timepicker-input-number"></div>\n        </div>\n        <span class="timepicker-previous">-</span>\n      </div>\n      <div class="timepicker-time-divider">:</div>\n      <div class="timepicker-minutes">\n        <span class="timepicker-next">+</span>\n        <div class="timepicker-input">\n          <input type="number">\n          <div class="timepicker-input-number"></div>\n        </div>\n        <span class="timepicker-previous">-</span>\n      </div>\n    </div>':"")+"\n  </div>"}},function(e,t,n){"use strict";var o={timeFormat:"HH:mm",color:"primary",isRange:!1,lang:"en",startTime:void 0,endTime:void 0,minTime:null,maxTime:null,minuteSteps:5};t.a=o},function(e,t,n){"use strict";var o={type:void 0,color:"primary",isRange:!1,allowSameDayRange:!0,lang:navigator.language.substring(0,2)||"en",dateFormat:"MM/DD/YYYY",timeFormat:"HH:mm",displayMode:"default",position:"auto",showHeader:!0,headerPosition:"top",showFooter:!0,showButtons:!0,showTodayButton:!0,showClearButton:!0,cancelLabel:"Cancel",clearLabel:"Clear",todayLabel:"Today",nowLabel:"Now",validateLabel:"Validate",enableMonthSwitch:!0,enableYearSwitch:!0,startDate:void 0,endDate:void 0,minDate:null,maxDate:null,disabledDates:[],disabledWeekDays:void 0,weekStart:0,startTime:void 0,endTime:void 0,minuteSteps:5,labelFrom:"",labelTo:"",closeOnOverlayClick:!0,closeOnSelect:!0,toggleOnInputClick:!0,onReady:null,icons:{previous:'<svg viewBox="0 0 50 80" xml:space="preserve">\n      <polyline fill="none" stroke-width=".5em" stroke-linecap="round" stroke-linejoin="round" points="45.63,75.8 0.375,38.087 45.63,0.375 "/>\n    </svg>',next:'<svg viewBox="0 0 50 80" xml:space="preserve">\n      <polyline fill="none" stroke-width=".5em" stroke-linecap="round" stroke-linejoin="round" points="0.375,0.375 45.63,38.087 0.375,75.8 "/>\n    </svg>',time:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 60 60" xml:space="preserve">\n      <g>\n        <path fill="currentcolor" d="M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M30,58C14.561,58,2,45.439,2,30S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z"/>\n\t      <path fill="currentcolor" d="M30,6c-0.552,0-1,0.447-1,1v23H14c-0.552,0-1,0.447-1,1s0.448,1,1,1h16c0.552,0,1-0.447,1-1V7C31,6.447,30.552,6,30,6z"/>\n      </g>\n    </svg>',date:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 60 60" xml:space="preserve">\n      <g>\n        <path d="M57,4h-7V1c0-0.553-0.447-1-1-1h-7c-0.553,0-1,0.447-1,1v3H19V1c0-0.553-0.447-1-1-1h-7c-0.553,0-1,0.447-1,1v3H3C2.447,4,2,4.447,2,5v11v43c0,0.553,0.447,1,1,1h54c0.553,0,1-0.447,1-1V16V5C58,4.447,57.553,4,57,4z M43,2h5v3v3h-5V5V2z M12,2h5v3v3h-5V5V2z M4,6h6v3c0,0.553,0.447,1,1,1h7c0.553,0,1-0.447,1-1V6h22v3c0,0.553,0.447,1,1,1h7c0.553,0,1-0.447,1-1V6h6v9H4V6zM4,58V17h52v41H4z"/>\n        <path d="M38,23h-7h-2h-7h-2h-9v9v2v7v2v9h9h2h7h2h7h2h9v-9v-2v-7v-2v-9h-9H38z M31,25h7v7h-7V25z M38,41h-7v-7h7V41z M22,34h7v7h-7V34z M22,25h7v7h-7V25z M13,25h7v7h-7V25z M13,34h7v7h-7V34z M20,50h-7v-7h7V50z M29,50h-7v-7h7V50z M38,50h-7v-7h7V50z M47,50h-7v-7h7V50z M47,41h-7v-7h7V41z M47,25v7h-7v-7H47z"/>\n      </g>\n    </svg>'}};t.a=o},function(e,t,n){"use strict";t.a=function(e){return"<div id='"+e.id+'\'>\n    <div class="datetimepicker-dummy is-hidden">\n      <div class="datetimepicker-dummy-wrapper">\n        <input placeholder="'+e.labelFrom+'" readonly="readonly" class="datetimepicker-dummy-input'+(e.isRange?" is-datetimepicker-range":"")+'" type="text">\n        '+(e.isRange?'<input placeholder="'+e.labelTo+'" readonly="readonly" class="datetimepicker-dummy-input" type="text">':"")+'\n      </div>\n      <button class="datetimepicker-clear-button">＋</button>\n    </div>\n    <div class="datetimepicker-wrapper'+("dialog"===e.displayMode?" modal":"")+'">\n        <div class="modal-background'+("dialog"===e.displayMode?"":" is-hidden")+'"></div>\n        <div class="datetimepicker">\n          <div class="datetimepicker-container'+("top"===e.headerPosition?"":" has-header-bottom")+'"></div>\n        </div>\n    </div>\n  </div>'}},function(e,t,n){"use strict";t.a=function(e){return'<div class="datetimepicker-header'+("time"===e.type?" is-hidden":"")+("date"===e.type?" is-date-only":"")+'">\n\t\t<div class="datetimepicker-selection-details">\n\t\t\t<div class="datetimepicker-selection-from'+(""===e.labelFrom?" is-hidden":"")+'">'+e.labelFrom+'</div>\n\t\t\t<div class="datetimepicker-selection-start'+(e.isRange?"":" is-centered")+'">\n\t\t\t\t<div class="datetimepicker-selection-wrapper">\n\t\t\t\t\t<div class="datetimepicker-selection-day"></div>\n\t\t\t\t\t<div class="datetimepicker-selection-date">\n\t\t\t\t\t\t<div class="datetimepicker-selection-month"></div>\n\t\t\t\t\t\t<div class="datetimepicker-selection-weekday"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t'+("date"!==e.type?'<div class="datetimepicker-selection-time">\n\t\t\t\t\t<div class="datetimepicker-selection-time-icon">\n\t\t\t\t\t\t<figure class="image is-16x16">\n\t\t\t\t\t\t\t'+(e.icons?e.icons.time:"")+'\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="datetimepicker-selection-hour"></div>\n\t\t\t\t</div>':"")+"\n\t\t\t</div>\n\t\t</div>\n\t\t"+(e.isRange?'\n\t\t<div class="datetimepicker-selection-details">\n\t\t\t<div class="datetimepicker-selection-to'+(""===e.labelTo?" is-hidden":"")+'">'+e.labelTo+'</div>\n\t\t\t<div class="datetimepicker-selection-end">\n\t\t\t\t<div class="datetimepicker-selection-wrapper">\n\t\t\t\t\t<div class="datetimepicker-selection-day"></div>\n\t\t\t\t\t<div class="datetimepicker-selection-date">\n\t\t\t\t\t\t<div class="datetimepicker-selection-month"></div>\n\t\t\t\t\t\t<div class="datetimepicker-selection-weekday"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t'+("date"!==e.type?'<div class="datetimepicker-selection-time">\n\t\t\t\t\t<div class="datetimepicker-selection-time-icon">\n\t\t\t\t\t\t<figure class="image is-16x16">\n\t\t\t\t\t\t\t'+(e.icons?e.icons.time:"")+'\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="datetimepicker-selection-hour"></div>\n\t\t\t\t</div>':"")+"\n\t\t\t</div>\n\t\t</div>":"")+"\n\t</div>"}},function(e,t,n){"use strict";t.a=function(e){return'<div class="datetimepicker-footer">\n\t\t<button type="button" class="datetimepicker-footer-validate has-text-success button is-small is-text '+("inline"===e.displayMode?"is-hidden":"")+'">'+(e.icons.validate?e.icons.validate:"")+e.validateLabel+' </button>\n\t\t<button type="button" class="datetimepicker-footer-today has-text-warning button is-small is-text">'+(e.icons.today?e.icons.today:"")+e.todayLabel+'</button>\n\t\t<button type="button" class="datetimepicker-footer-clear has-text-danger button is-small is-text">'+(e.icons.clear?e.icons.clear:"")+e.clearLabel+'</button>\n\t\t<button type="button" class="datetimepicker-footer-cancel button is-small is-text '+("inline"===e.displayMode?"is-hidden":"")+'">'+(e.icons.cancel?e.icons.cancel:"")+e.cancelLabel+"</button>\n\t</div>"}}]).default});!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.bulmaQuickview=t():e.bulmaQuickview=t()}("undefined"!=typeof self?self:this,function(){return function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(2),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var u=Symbol("onQuickviewShowClick"),l=Symbol("onQuickviewDismissClick"),r=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));if(n.element="string"==typeof e?document.querySelector(e):e,!n.element)throw new Error("An invalid selector or non-DOM node has been provided.");return n._clickEvents=["click"],n.options=s({},o.a,t),n[u]=n[u].bind(n),n[l]=n[l].bind(n),n.init(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i["a"]),a(r,[{key:"init",value:function(){this.quickview=document.getElementById(this.element.dataset.target),this.dismissElements=document.querySelectorAll('[data-dismiss="quickview"]'),this._bindEvents(),this.emit("quickview:ready",{element:this.element,quickview:this.quickview})}},{key:"_bindEvents",value:function(){var n=this;this._clickEvents.forEach(function(e){n.element.addEventListener(e,n[u],!1)}),[].forEach.call(this.dismissElements,function(t){n._clickEvents.forEach(function(e){t.addEventListener(e,n[l],!1)})})}},{key:u,value:function(e){this.quickview.classList.add("is-active"),this.emit("quickview:show",{element:this.element,quickview:this.quickview})}},{key:l,value:function(e){this.quickview.classList.remove("is-active"),this.emit("quickview:hide",{element:this.element,quickview:this.quickview})}}],[{key:"attach",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'[data-show="quickview"]',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=new Array,i=document.querySelectorAll(e);return[].forEach.call(i,function(e){setTimeout(function(){n.push(new r(e,t))},100)}),n}}]),r}();t.default=r},function(e,t,n){"use strict";var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var r=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=new Map(e),this._middlewares=new Map}return i(t,[{key:"listenerCount",value:function(e){return this._listeners.has(e)?this._listeners.get(e).length:0}},{key:"removeListeners",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];null!==e?Array.isArray(e)?name.forEach(function(e){return t.removeListeners(e,n)}):(this._listeners.delete(e),n&&this.removeMiddleware(e)):this._listeners=new Map}},{key:"middleware",value:function(e,t){var n=this;Array.isArray(e)?name.forEach(function(e){return n.middleware(e,t)}):(Array.isArray(this._middlewares.get(e))||this._middlewares.set(e,[]),this._middlewares.get(e).push(t))}},{key:"removeMiddleware",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e?Array.isArray(e)?name.forEach(function(e){return t.removeMiddleware(e)}):this._middlewares.delete(e):this._middlewares=new Map}},{key:"on",value:function(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))e.forEach(function(e){return n.on(e,t)});else{var r=(e=e.toString()).split(/,|, | /);1<r.length?r.forEach(function(e){return n.on(e,t)}):(Array.isArray(this._listeners.get(e))||this._listeners.set(e,[]),this._listeners.get(e).push({once:i,callback:t}))}}},{key:"once",value:function(e,t){this.on(e,t,!0)}},{key:"emit",value:function(n,i){var r=this,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];n=n.toString();var s=this._listeners.get(n),a=null,u=0,l=o;if(Array.isArray(s))for(s.forEach(function(e,t){o||(a=r._middlewares.get(n),Array.isArray(a)?(a.forEach(function(e){e(i,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e&&(i=e),u++},n)}),u>=a.length&&(l=!0)):l=!0),l&&(e.once&&(s[t]=null),e.callback(i))});-1!==s.indexOf(null);)s.splice(s.indexOf(null),1)}}]),t}();t.a=r},function(e,t,n){"use strict";t.a={}}]).default});(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["bulmaIconpicker"] = factory();
	else
		root["bulmaIconpicker"] = factory();
})(typeof self !== 'undefined' ? self : this, function() {
return /** *** */ (function(modules) { // webpackBootstrap
/** *** */ 	// The module cache
/** *** */ 	var installedModules = {};
/** *** */
/** *** */ 	// The require function
/** *** */ 	function __webpack_require__(moduleId) {
/** *** */
/** *** */ 		// Check if module is in cache
/** *** */ 		if(installedModules[moduleId]) {
/** *** */ 			return installedModules[moduleId].exports;
/** *** */ 		}
/** *** */ 		// Create a new module (and put it into the cache)
/** *** */ 		var module = installedModules[moduleId] = {
/** *** */ 			i: moduleId,
/** *** */ 			l: false,
/** *** */ 			exports: {}
/** *** */ 		};
/** *** */
/** *** */ 		// Execute the module function
/** *** */ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/** *** */
/** *** */ 		// Flag the module as loaded
/** *** */ 		module.l = true;
/** *** */
/** *** */ 		// Return the exports of the module
/** *** */ 		return module.exports;
/** *** */ 	}
/** *** */
/** *** */
/** *** */ 	// expose the modules object (__webpack_modules__)
/** *** */ 	__webpack_require__.m = modules;
/** *** */
/** *** */ 	// expose the module cache
/** *** */ 	__webpack_require__.c = installedModules;
/** *** */
/** *** */ 	// define getter function for harmony exports
/** *** */ 	__webpack_require__.d = function(exports, name, getter) {
/** *** */ 		if(!__webpack_require__.o(exports, name)) {
/** *** */ 			Object.defineProperty(exports, name, {
/** *** */ 				configurable: false,
/** *** */ 				enumerable: true,
/** *** */ 				get: getter
/** *** */ 			});
/** *** */ 		}
/** *** */ 	};
/** *** */
/** *** */ 	// getDefaultExport function for compatibility with non-harmony
			// modules
/** *** */ 	__webpack_require__.n = function(module) {
/** *** */ 		var getter = module && module.__esModule ?
/** *** */ 			function getDefault() { return module['default']; } :
/** *** */ 			function getModuleExports() { return module; };
/** *** */ 		__webpack_require__.d(getter, 'a', getter);
/** *** */ 		return getter;
/** *** */ 	};
/** *** */
/** *** */ 	// Object.prototype.hasOwnProperty.call
/** *** */ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/** *** */
/** *** */ 	// __webpack_public_path__
/** *** */ 	__webpack_require__.p = "";
/** *** */
/** *** */ 	// Load entry module and return exports
/** *** */ 	return __webpack_require__(__webpack_require__.s = 0);
/** *** */ })
/** ********************************************************************* */
/** *** */ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__events__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__defaultOptions__ = __webpack_require__(2);
var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }




var fetchStyle = function fetchStyle(url) {
  return new Promise(function (resolve, reject) {
    var link = document.createElement('link');
    link.type = 'text/css';
    link.rel = 'stylesheet';
    link.onload = function () {
      resolve();
    };
    link.href = url;

    if (!document.querySelector('link[href="' + url + '"]')) {
      var headScript = document.querySelector('head');
      headScript.append(link);
    }
  });
};

var bulmaIconpicker = function (_EventEmitter) {
  _inherits(bulmaIconpicker, _EventEmitter);

  function bulmaIconpicker(selector) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    _classCallCheck(this, bulmaIconpicker);

    var _this = _possibleConstructorReturn(this, (bulmaIconpicker.__proto__ || Object.getPrototypeOf(bulmaIconpicker)).call(this));

    _this.element = typeof selector === 'string' ? document.querySelector(selector) : selector;
    // An invalid selector or non-DOM node has been provided.
    if (!_this.element) {
      throw new Error('An invalid selector or non-DOM node has been provided.');
    }

    _this._clickEvents = ['click'];
    // / Set default options and merge with instance defined
    _this.options = _extends({}, __WEBPACK_IMPORTED_MODULE_1__defaultOptions__["a" /* default */], options);

    _this.icons = [];
    _this.id = 'iconPicker' + new Date().getTime();
    _this.init();
    return _this;
  }

  /**
	 * Initiate all DOM element containing carousel class
	 * 
	 * @method
	 * @return {Array} Array of all Carousel instances
	 */


  _createClass(bulmaIconpicker, [{
    key: 'init',
    value: function init() {
      var _this2 = this;

      this.createModal();
      this.createPreview();

      this.options.iconSets.forEach(function (iconSet) {
        fetchStyle(iconSet.css);
        // Parse CSS file to get array of all available icons
        fetch(iconSet.css, { mode: 'cors' }).then(function (res) {
          return res.text();
        }).then(function (css) {
          _this2.icons[iconSet.name] = _this2.parseCSS(css, iconSet.prefix || 'fa-', iconSet.displayPrefix || '');
          _this2.modalSetTabs.querySelector('a').click();
          var touchEvent = new Event('touchstart');
          _this2.modalSetTabs.querySelector('a').dispatchEvent(touchEvent);
        });
      });
    }
  }, {
    key: 'createPreview',
    value: function createPreview() {
      var _this3 = this;

      this.preview = document.createElement('div');
      this.preview.className = 'icon is-large';
      this.preview.classList.add('iconpicker-preview');
      var iconPreview = document.createElement('i');
      iconPreview.className = 'iconpicker-icon-preview';
      if (this.element.value.length) {
        var classes = this.element.value.split(' ');
        classes.forEach(function (cls) {
          iconPreview.classList.add(cls);
        });
      }
      this.preview.appendChild(iconPreview);

      this._clickEvents.forEach(function (event) {
        _this3.preview.addEventListener(event, function (e) {
          e.preventDefault();

          _this3.modal.classList.add('is-active');
        });
      });

      this.element.parentNode.insertBefore(this.preview, this.element.nextSibling);
    }
  }, {
    key: 'parseCSS',
    value: function parseCSS(css) {
      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'fa-';
      var displayPrefix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';

      var iconPattern = new RegExp('\\.' + prefix + '([^\\.!:]*)::?before\\s*{\\s*content:\\s*["|\']\\\\[^\'|"]*["|\'];?\\s*}', 'g');
      var index = 1;
      var icons = [],
          icon = void 0,
          match = void 0;

      while (match = iconPattern.exec(css)) {
        icon = {
          prefix: prefix,
          selector: prefix + match[index].trim(':'),
          name: this.ucwords(match[index]).trim(':'),
          filter: match[index].trim(':'),
          displayPrefix: displayPrefix
        };
        icons[match[index]] = icon;
      }

      if (Object.getOwnPropertyNames(this.icons).length == 0) {
        console.warn("No icons found in CSS file");
      }
      return icons;
    }
  }, {
    key: 'ucwords',
    value: function ucwords(str) {
      return (str + '').replace(/^(.)|\s+(.)/g, function ($1) {
        return $1.toUpperCase();
      });
    }
  }, {
    key: 'drawIcons',
    value: function drawIcons(iconSet) {
      this.iconsList.innerHTML = '';

      if (iconSet) {
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;
      
        try {
// for (var _iterator = Object.entries(iconSet)[Symbol.iterator](), _step;
// !(_iteratorNormalCompletion = (_step = _iterator.next()).done);
// _iteratorNormalCompletion = true) {
// var _ref = _step.value;
//
// var _ref2 = _slicedToArray(_ref, 2);
//
// var iconName = _ref2[0];
// var icon = _ref2[1];
// console.log((_step = _iterator.next()).done);
// console.log(icon);
//     
//
// this.iconsList.appendChild(this.createIconPreview(icon));
// }
//          
          var listEntries = Object.entries(iconSet);
          var stepInterval = 50;
          var object = this;
    	  shinobi.notification.notification.loading();
          var interval =  setInterval(function(){
        	  if(listEntries.length > 0){
            	  var sliceData = listEntries.splice(0,stepInterval);
            	  for(var i = 0; i < sliceData.length ; i++){
            		  var icon = sliceData[i][1];
            		  object.iconsList.appendChild(object.createIconPreview(icon));
            	  }
            	  
        	  }else{
        		  clearInterval(interval);
        		  _iteratorNormalCompletion = true;
            	  shinobi.notification.notification.loaded();

        	  }
          },200);
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
      }
    }
  }, {
    key: 'createIconPreview',
    value: function createIconPreview(icon) {
      var _this4 = this;

      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'fa-';

      var iconLink = document.createElement('a');
      iconLink.dataset.title = icon['name'];
      iconLink.setAttribute('title', icon['name']);
      iconLink.dataset.icon = icon['selector'];
      iconLink.dataset.filter = icon['filter'];
      var iconPreview = document.createElement('i');
      iconPreview.className = 'iconpicker-icon-preview';
      if (icon['displayPrefix'].length) {
        prefix = icon['displayPrefix'].split(' ');
        prefix.forEach(function (pfx) {
          iconPreview.classList.add(pfx);
        });
      }
      iconPreview.classList.add(icon['selector']);
      iconLink.appendChild(iconPreview);
      this._clickEvents.forEach(function (event) {
        iconLink.addEventListener(event, function (e) {
          e.preventDefault();
          _this4.preview.innerHTML = '';
          _this4.element.value = e.target.classList;
          _this4.preview.appendChild(e.target.cloneNode(true));
          _this4.modal.classList.remove('is-active');
        });
      });
      return iconLink;
    }
  }, {
    key: 'createModal',
    value: function createModal() {
      var _this5 = this;

      this.modal = document.createElement('div');
      this.modal.className = 'modal';
      this.modal.classList.add('iconpicker-modal');
      this.modal.id = this.id;
      var modalBackground = document.createElement('div');
      modalBackground.className = 'modal-background';
      var modalCard = document.createElement('div');
      modalCard.className = 'modal-card';

      var modalHeader = document.createElement('header');
      modalHeader.className = 'modal-card-head';
      var modalHeaderTitle = document.createElement('p');
      modalHeaderTitle.className = 'modal-card-title';
      modalHeaderTitle.innerHTML = 'iconPicker';
      this.modalHeaderSearch = document.createElement('input');
      this.modalHeaderSearch.setAttribute('type', 'search');
      this.modalHeaderSearch.setAttribute('placeholder', 'Search');
      this.modalHeaderSearch.className = 'iconpicker-search';
      this.modalHeaderSearch.addEventListener('input', function (e) {
        _this5.filter(e.target.value);
      });
      var modalHeaderClose = document.createElement('button');
      modalHeaderClose.className = 'delete';
      this._clickEvents.forEach(function (event) {
        modalHeaderClose.addEventListener(event, function (e) {
          e.preventDefault();

          _this5.modal.classList.remove('is-active');
        });
      });

      modalCard.appendChild(modalHeader);

      this.modalBody = document.createElement('section');
      this.modalBody.className = 'modal-card-body';

      if (this.options.iconSets.length >= 1) {
        var modalSets = document.createElement('div');
        modalSets.className = 'iconpicker-sets';
        modalSets.classList.add('tabs');
        this.modalSetTabs = document.createElement('ul');
        this.options.iconSets.forEach(function (iconSet) {
          var modalSetTab = document.createElement('li');
          var modalSetTabLink = document.createElement('a');
          modalSetTabLink.dataset.iconset = iconSet.name;
          modalSetTabLink.innerHTML = iconSet.name;
          _this5._clickEvents.forEach(function (event) {
            modalSetTabLink.addEventListener(event, function (e) {
              e.preventDefault();

              var activeModalTabs = _this5.modalSetTabs.querySelectorAll('.is-active');
              [].forEach.call(activeModalTabs, function (activeModalTab) {
                activeModalTab.classList.remove('is-active');
              });

              e.target.parentNode.classList.add('is-active');
              _this5.drawIcons(_this5.icons[e.target.dataset.iconset]);
              _this5.filter(_this5.modalHeaderSearch.value);
            });
          });
          modalSetTab.appendChild(modalSetTabLink);
          _this5.modalSetTabs.appendChild(modalSetTab);
        });
        modalSets.appendChild(this.modalSetTabs);
        modalCard.appendChild(modalSets);
      }

      this.iconsList = document.createElement('div');
      this.iconsList.className = 'iconpicker-icons';

      modalHeader.appendChild(modalHeaderTitle);
      modalHeader.appendChild(this.modalHeaderSearch);
      modalHeader.appendChild(modalHeaderClose);

      this.modalBody.appendChild(this.iconsList);
      modalCard.appendChild(this.modalBody);

      this.modal.appendChild(modalBackground);
      this.modal.appendChild(modalCard);
      document.body.appendChild(this.modal);
    }
  }, {
    key: 'filter',
    value: function filter() {
      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

      if (value === '') {
        this.iconsList.querySelectorAll('[data-filter]').forEach(function (el) {
          el.classList.remove('is-hidden');
        });
        return;
      }
      this.iconsList.querySelectorAll('[data-filter]').forEach(function (el) {
        el.classList.remove('is-hidden');
      });
      this.iconsList.querySelectorAll('[data-filter]:not([data-filter*="' + value + '"])').forEach(function (el) {
        el.classList.add('is-hidden');
      });
    }
  }], [{
    key: 'attach',
    value: function attach() {
      var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '[data-action="iconPicker"]';
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      var instances = new Array();

      var elements = document.querySelectorAll(selector);
      [].forEach.call(elements, function (element) {
        setTimeout(function () {
          instances.push(new bulmaIconpicker(element, options));
        }, 100);
      });
      return instances;
    }
  }]);

  return bulmaIconpicker;
}(__WEBPACK_IMPORTED_MODULE_0__events__["a" /* default */]);

/* harmony default export */ __webpack_exports__["default"] = (bulmaIconpicker);

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var EventEmitter = function () {
  function EventEmitter() {
    var listeners = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

    _classCallCheck(this, EventEmitter);

    this._listeners = new Map(listeners);
    this._middlewares = new Map();
  }

  _createClass(EventEmitter, [{
    key: "listenerCount",
    value: function listenerCount(eventName) {
      if (!this._listeners.has(eventName)) {
        return 0;
      }

      var eventListeners = this._listeners.get(eventName);
      return eventListeners.length;
    }
  }, {
    key: "removeListeners",
    value: function removeListeners() {
      var _this = this;

      var eventName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      var middleware = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (eventName !== null) {
        if (Array.isArray(eventName)) {
          name.forEach(function (e) {
            return _this.removeListeners(e, middleware);
          });
        } else {
          this._listeners.delete(eventName);

          if (middleware) {
            this.removeMiddleware(eventName);
          }
        }
      } else {
        this._listeners = new Map();
      }
    }
  }, {
    key: "middleware",
    value: function middleware(eventName, fn) {
      var _this2 = this;

      if (Array.isArray(eventName)) {
        name.forEach(function (e) {
          return _this2.middleware(e, fn);
        });
      } else {
        if (!Array.isArray(this._middlewares.get(eventName))) {
          this._middlewares.set(eventName, []);
        }

        this._middlewares.get(eventName).push(fn);
      }
    }
  }, {
    key: "removeMiddleware",
    value: function removeMiddleware() {
      var _this3 = this;

      var eventName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

      if (eventName !== null) {
        if (Array.isArray(eventName)) {
          name.forEach(function (e) {
            return _this3.removeMiddleware(e);
          });
        } else {
          this._middlewares.delete(eventName);
        }
      } else {
        this._middlewares = new Map();
      }
    }
  }, {
    key: "on",
    value: function on(name, callback) {
      var _this4 = this;

      var once = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

      if (Array.isArray(name)) {
        name.forEach(function (e) {
          return _this4.on(e, callback);
        });
      } else {
        name = name.toString();
        var split = name.split(/,|, | /);

        if (split.length > 1) {
          split.forEach(function (e) {
            return _this4.on(e, callback);
          });
        } else {
          if (!Array.isArray(this._listeners.get(name))) {
            this._listeners.set(name, []);
          }

          this._listeners.get(name).push({ once: once, callback: callback });
        }
      }
    }
  }, {
    key: "once",
    value: function once(name, callback) {
      this.on(name, callback, true);
    }
  }, {
    key: "emit",
    value: function emit(name, data) {
      var _this5 = this;

      var silent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

      name = name.toString();
      var listeners = this._listeners.get(name);
      var middlewares = null;
      var doneCount = 0;
      var execute = silent;

      if (Array.isArray(listeners)) {
        listeners.forEach(function (listener, index) {
          // Start Middleware checks unless we're doing a silent emit
          if (!silent) {
            middlewares = _this5._middlewares.get(name);
            // Check and execute Middleware
            if (Array.isArray(middlewares)) {
              middlewares.forEach(function (middleware) {
                middleware(data, function () {
                  var newData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

                  if (newData !== null) {
                    data = newData;
                  }
                  doneCount++;
                }, name);
              });

              if (doneCount >= middlewares.length) {
                execute = true;
              }
            } else {
              execute = true;
            }
          }

          // If Middleware checks have been passed, execute
          if (execute) {
            if (listener.once) {
              listeners[index] = null;
            }
            listener.callback(data);
          }
        });

        // Dirty way of removing used Events
        while (listeners.indexOf(null) !== -1) {
          listeners.splice(listeners.indexOf(null), 1);
        }
      }
    }
  }]);

  return EventEmitter;
}();

/* harmony default export */ __webpack_exports__["a"] = (EventEmitter);

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var defaultOptions = {
  iconSets: [{
    name: 'simpleLine', // Name displayed on tab
    css: '/static/css/library/simple-line-icons.css', // CSS
																										// url
																										// containing
																										// icons
																										// rules
    prefix: 'icon-', // CSS rules prefix to identify icons
    displayPrefix: ''
  }
//  , {
//    name: 'fontAwesome', // Name displayed on tab
//    css: '/static/css/library/all.min.css', // CSS
//																		// url
//																		// containing
//																		// icons
//																		// rules
//    prefix: 'fa-', // CSS rules prefix to identify icons
//    displayPrefix: 'fas fa-icon'
//  }
  ]
};

/* harmony default export */ __webpack_exports__["a"] = (defaultOptions);

/***/ })
/** *** */ ])["default"];
});!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.bulmaTagsinput=t():e.bulmaTagsinput=t()}("undefined"!=typeof self?self:this,function(){return function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(3),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var r=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));if(n.element=s.a(e)?document.querySelector(e):e,!n.element)throw new Error("An invalid selector or non-DOM node has been provided.");return n._clickEvents=["click"],n.options=o({},a.a,t),n.element.dataset.hasOwnProperty("lowercase")&&(n.options.lowercase=n.element.dataset("lowercase")),n.element.dataset.hasOwnProperty("uppercase")&&(n.options.lowercase=n.element.dataset("uppercase")),n.element.dataset.hasOwnProperty("duplicates")&&(n.options.lowercase=n.element.dataset("duplicates")),n.init(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i["a"]),l(r,[{key:"init",value:function(){if(!this.options.disabled){this.tags=[],this.container=document.createElement("div"),this.container.className="tagsinput",this.container.classList.add("field"),this.container.classList.add("is-grouped"),this.container.classList.add("is-grouped-multiline"),this.container.classList.add("input");var e=this.element.getAttribute("type");e&&"tags"!==e||(e="text"),this.input=document.createElement("input"),this.input.setAttribute("type",e),this.element.getAttribute("placeholder")?this.input.setAttribute("placeholder",this.element.getAttribute("placeholder")):this.input.setAttribute("placeholder","Add a Tag"),this.container.appendChild(this.input);var t=this.element.nextSibling;this.element.parentNode[t?"insertBefore":"appendChild"](this.container,t),this.element.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;opacity:0.01;",this.element.tabIndex=-1,this.enable()}}},{key:"enable",value:function(){var s=this;this.enabled||this.options.disabled||(this.element.addEventListener("focus",function(){s.container.classList.add("is-focused"),s.select(Array.prototype.slice.call(s.container.querySelectorAll(".tag:not(.is-delete)")).pop())}),this.input.addEventListener("focus",function(){s.container.classList.add("is-focused"),s.select(Array.prototype.slice.call(s.container.querySelectorAll(".tag:not(.is-delete)")).pop())}),this.input.addEventListener("blur",function(){s.container.classList.remove("is-focused"),s.select(Array.prototype.slice.call(s.container.querySelectorAll(".tag:not(.is-delete)")).pop()),s.savePartial()}),this.input.addEventListener("keydown",function(e){var t=e.charCode||e.keyCode||e.which,n=void 0,i=s.container.querySelector(".tag.is-active"),r=Array.prototype.slice.call(s.container.querySelectorAll(".tag:not(.is-delete)")).pop(),a=s.caretAtStart(s.input);if(i&&(n=s.container.querySelector('[data-tag="'+i.innerHTML.trim()+'"]')),s.setInputWidth(),13===t||t===s.options.delimiter.charCodeAt(0)||188===t||9===t){if(!s.input.value&&(t!==s.options.delimiter.charCodeAt(0)||188===t))return;s.savePartial()}else if(46===t&&n)n.nextSibling?s.select(n.nextSibling.querySelector(".tag")):n.previousSibling&&s.select(n.previousSibling.querySelector(".tag")),s.container.removeChild(n),s.tags.splice(s.tags.indexOf(n.getAttribute("data-tag")),1),s.setInputWidth(),s.save();else if(8===t)if(n)n.previousSibling?s.select(n.previousSibling.querySelector(".tag")):n.nextSibling&&s.select(n.nextSibling.querySelector(".tag")),s.container.removeChild(n),s.tags.splice(s.tags.indexOf(n.getAttribute("data-tag")),1),s.setInputWidth(),s.save();else{if(!r||!a)return;s.select(r)}else if(37===t)if(n)n.previousSibling&&s.select(n.previousSibling.querySelector(".tag"));else{if(!a)return;s.select(r)}else{if(39!==t)return s.select();if(!n)return;s.select(n.nextSibling.querySelector(".tag"))}return e.preventDefault(),!1}),this.input.addEventListener("input",function(){s.element.value=s.getValue(),s.element.dispatchEvent(new Event("input"))}),this.input.addEventListener("paste",function(){return setTimeout(savePartial,0)}),this.container.addEventListener("mousedown",function(e){s.refocus(e)}),this.container.addEventListener("touchstart",function(e){s.refocus(e)}),this.savePartial(this.element.value),this.enabled=!0)}},{key:"disable",value:function(){this.enabled&&!this.options.disabled&&(this.reset(),this.enabled=!1)}},{key:"select",value:function(e){var t=this.container.querySelector(".is-active");t&&t.classList.remove("is-active"),e&&e.classList.add("is-active")}},{key:"addTag",value:function(e){var a=this;if(~e.indexOf(this.options.delimiter)&&(e=e.split(this.options.delimiter)),Array.isArray(e))return e.forEach(function(e){a.addTag(e)});var t=e&&e.trim();if(!t)return!1;if("true"==this.options.lowercase&&(t=t.toLowerCase()),"true"==this.options.uppercase&&(t=t.toUpperCase()),this.options.duplicates||-1===this.tags.indexOf(t)){this.tags.push(t);var n=document.createElement("div");n.className="control",n.setAttribute("data-tag",t);var i=document.createElement("div");i.className="tags",i.classList.add("has-addons");var r=document.createElement("span");if(r.className="tag",r.classList.add("is-active"),this.select(r),r.innerHTML=t,i.appendChild(r),this.options.allowDelete){var s=document.createElement("a");s.className="tag",s.classList.add("is-delete"),this._clickEvents.forEach(function(e){s.addEventListener(e,function(e){var t=void 0,n=e.target.parentNode,i=Array.prototype.slice.call(a.container.querySelectorAll(".tag")).pop(),r=a.caretAtStart(a.input);if(n&&(t=a.container.querySelector('[data-tag="'+n.innerText.trim()+'"]')),t)a.select(t.previousSibling),a.container.removeChild(t),a.tags.splice(a.tags.indexOf(t.getAttribute("data-tag")),1),a.setInputWidth(),a.save();else{if(!i||!r)return;a.select(i)}})}),i.appendChild(s)}n.appendChild(i),this.container.insertBefore(n,this.input)}}},{key:"getValue",value:function(){return this.tags.join(this.options.delimiter)}},{key:"setValue",value:function(e){var t=this;Array.prototype.slice.call(this.container.querySelectorAll(".tag")).forEach(function(e){t.tags.splice(t.tags.indexOf(e.innerHTML),1),t.container.removeChild(e)}),this.savePartial(e)}},{key:"setInputWidth",value:function(){var e=Array.prototype.slice.call(this.container.querySelectorAll(".control")).pop();this.container.offsetWidth&&(this.input.style.width=Math.max(this.container.offsetWidth-(e?e.offsetLeft+e.offsetWidth:30)-30,this.container.offsetWidth/4)+"px")}},{key:"savePartial",value:function(e){"string"==typeof e||Array.isArray(e)||(e=this.input.value),!1!==this.addTag(e)&&(this.input.value="",this.save(),this.setInputWidth())}},{key:"save",value:function(){this.element.value=this.tags.join(this.options.delimiter),this.element.dispatchEvent(new Event("change"))}},{key:"caretAtStart",value:function(t){try{return 0===t.selectionStart&&0===t.selectionEnd}catch(e){return""===t.value}}},{key:"refocus",value:function(e){return e.target.classList.contains("tag")&&this.select(e.target),e.target===this.input?this.select():(this.input.focus(),e.preventDefault(),!1)}},{key:"reset",value:function(){this.tags=[]}},{key:"destroy",value:function(){this.disable(),this.reset(),this.element=null}}],[{key:"attach",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'input[type="tags"]',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=new Array,i=document.querySelectorAll(e);return[].forEach.call(i,function(e){setTimeout(function(){n.push(new r(e,t))},100)}),n}}]),r}();t.default=r},function(e,t,n){"use strict";var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var r=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=new Map(e),this._middlewares=new Map}return i(t,[{key:"listenerCount",value:function(e){return this._listeners.has(e)?this._listeners.get(e).length:0}},{key:"removeListeners",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];null!==e?Array.isArray(e)?name.forEach(function(e){return t.removeListeners(e,n)}):(this._listeners.delete(e),n&&this.removeMiddleware(e)):this._listeners=new Map}},{key:"middleware",value:function(e,t){var n=this;Array.isArray(e)?name.forEach(function(e){return n.middleware(e,t)}):(Array.isArray(this._middlewares.get(e))||this._middlewares.set(e,[]),this._middlewares.get(e).push(t))}},{key:"removeMiddleware",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e?Array.isArray(e)?name.forEach(function(e){return t.removeMiddleware(e)}):this._middlewares.delete(e):this._middlewares=new Map}},{key:"on",value:function(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))e.forEach(function(e){return n.on(e,t)});else{var r=(e=e.toString()).split(/,|, | /);1<r.length?r.forEach(function(e){return n.on(e,t)}):(Array.isArray(this._listeners.get(e))||this._listeners.set(e,[]),this._listeners.get(e).push({once:i,callback:t}))}}},{key:"once",value:function(e,t){this.on(e,t,!0)}},{key:"emit",value:function(n,i){var r=this,a=2<arguments.length&&void 0!==arguments[2]&&arguments[2];n=n.toString();var s=this._listeners.get(n),o=null,l=0,c=a;if(Array.isArray(s))for(s.forEach(function(e,t){a||(o=r._middlewares.get(n),Array.isArray(o)?(o.forEach(function(e){e(i,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e&&(i=e),l++},n)}),l>=o.length&&(c=!0)):c=!0),c&&(e.once&&(s[t]=null),e.callback(i))});-1!==s.indexOf(null);)s.splice(s.indexOf(null),1)}}]),t}();t.a=r},function(e,t,n){"use strict";t.a={disabled:!1,delimiter:",",allowDelete:!0,lowercase:!1,uppercase:!1,duplicates:!0}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e){return"string"==typeof e||!!e&&"object"===(void 0===e?"undefined":i(e))&&"[object String]"===Object.prototype.toString.call(e)}}]).default});
﻿/*
Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
*/
(function(){if(window.CKEDITOR&&window.CKEDITOR.dom)return;window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,d={timestamp:"K24B",version:"4.14.0",revision:"8a12b04171",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:"unloaded",basePath:function(){var b=window.CKEDITOR_BASEPATH||"";if(!b)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var g=c[d].src.match(a);if(g){b=g[1];break}}-1==b.indexOf(":/")&&"//"!=b.slice(0,2)&&(b=0===b.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+
b:location.href.match(/^[^\?]*\/(?:)/)[0]+b);if(!b)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return b}(),getUrl:function(a){-1==a.indexOf(":/")&&0!==a.indexOf("/")&&(a=this.basePath+a);this.timestamp&&"/"!=a.charAt(a.length-1)&&!/[&?]t=/.test(a)&&(a+=(0<=a.indexOf("?")?"\x26":"?")+"t\x3d"+this.timestamp);return a},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",
a,!1),b()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),b())}catch(c){}}function b(){for(var a;a=c.shift();)a()}var c=[];return function(b){function d(){try{document.documentElement.doScroll("left")}catch(b){setTimeout(d,1);return}a()}c.push(b);"complete"===document.readyState&&setTimeout(a,1);if(1==c.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",
a);window.attachEvent("onload",a);b=!1;try{b=!window.frameElement}catch(h){}document.documentElement.doScroll&&b&&d()}}}()},b=window.CKEDITOR_GETURL;if(b){var c=d.getUrl;d.getUrl=function(a){return b.call(d,a)||c.call(d,a)}}return d}());
CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(a){var d=CKEDITOR.event.prototype,b;for(b in d)null==a[b]&&(a[b]=d[b])},CKEDITOR.event.prototype=function(){function a(a){var f=d(this);return f[a]||(f[a]=new b(a))}var d=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},b=function(a){this.name=a;this.listeners=[]};b.prototype={getListenerIndex:function(a){for(var b=0,d=this.listeners;b<d.length;b++)if(d[b].fn==a)return b;return-1}};
return{define:function(b,d){var h=a.call(this,b);CKEDITOR.tools.extend(h,d,!0)},on:function(b,d,h,k,g){function l(a,x,t,e){a={name:b,sender:this,editor:a,data:x,listenerData:k,stop:t,cancel:e,removeListener:v};return!1===d.call(h,a)?!1:a.data}function v(){x.removeListener(b,d)}var e=a.call(this,b);if(0>e.getListenerIndex(d)){e=e.listeners;h||(h=this);isNaN(g)&&(g=10);var x=this;l.fn=d;l.priority=g;for(var t=e.length-1;0<=t;t--)if(e[t].priority<=g)return e.splice(t+1,0,l),{removeListener:v};e.unshift(l)}return{removeListener:v}},
once:function(){var a=Array.prototype.slice.call(arguments),b=a[1];a[1]=function(a){a.removeListener();return b.apply(this,arguments)};return this.on.apply(this,a)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var a=0,b=function(){a=1},h=0,k=function(){h=1};return function(g,l,v){var e=d(this)[g];g=a;var x=h;a=h=0;if(e){var t=e.listeners;if(t.length)for(var t=t.slice(0),z,G=0;G<t.length;G++){if(e.errorProof)try{z=
t[G].call(this,v,l,b,k)}catch(u){}else z=t[G].call(this,v,l,b,k);!1===z?h=1:"undefined"!=typeof z&&(l=z);if(a||h)break}}l=h?!1:"undefined"==typeof l?!0:l;a=g;h=x;return l}}(),fireOnce:function(a,b,h){b=this.fire(a,b,h);delete d(this)[a];return b},removeListener:function(a,b){var h=d(this)[a];if(h){var k=h.getListenerIndex(b);0<=k&&h.listeners.splice(k,1)}},removeAllListeners:function(){var a=d(this),b;for(b in a)delete a[b]},hasListeners:function(a){return(a=d(this)[a])&&0<a.listeners.length}}}());
CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(a,d){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fire.call(this,a,d,this)},CKEDITOR.editor.prototype.fireOnce=function(a,d){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fireOnce.call(this,a,d,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype));
CKEDITOR.env||(CKEDITOR.env=function(){var a=navigator.userAgent.toLowerCase(),d=a.match(/edge[ \/](\d+.?\d*)/),b=-1<a.indexOf("trident/"),b=!(!d&&!b),b={ie:b,edge:!!d,webkit:!b&&-1<a.indexOf(" applewebkit/"),air:-1<a.indexOf(" adobeair/"),mac:-1<a.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<a.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return!1;var a=document.domain,b=window.location.hostname;
return a!=b&&a!="["+b+"]"},secure:"https:"==location.protocol};b.gecko="Gecko"==navigator.product&&!b.webkit&&!b.ie;b.webkit&&(-1<a.indexOf("chrome")?b.chrome=!0:b.safari=!0);var c=0;b.ie&&(c=d?parseFloat(d[1]):b.quirks||!document.documentMode?parseFloat(a.match(/msie (\d+)/)[1]):document.documentMode,b.ie9Compat=9==c,b.ie8Compat=8==c,b.ie7Compat=7==c,b.ie6Compat=7>c||b.quirks);b.gecko&&(d=a.match(/rv:([\d\.]+)/))&&(d=d[1].split("."),c=1E4*d[0]+100*(d[1]||0)+1*(d[2]||0));b.air&&(c=parseFloat(a.match(/ adobeair\/(\d+)/)[1]));
b.webkit&&(c=parseFloat(a.match(/ applewebkit\/(\d+)/)[1]));b.version=c;b.isCompatible=!(b.ie&&7>c)&&!(b.gecko&&4E4>c)&&!(b.webkit&&534>c);b.hidpi=2<=window.devicePixelRatio;b.needsBrFiller=b.gecko||b.webkit||b.ie&&10<c;b.needsNbspFiller=b.ie&&11>c;b.cssClass="cke_browser_"+(b.ie?"ie":b.gecko?"gecko":b.webkit?"webkit":"unknown");b.quirks&&(b.cssClass+=" cke_browser_quirks");b.ie&&(b.cssClass+=" cke_browser_ie"+(b.quirks?"6 cke_browser_iequirks":b.version));b.air&&(b.cssClass+=" cke_browser_air");
b.iOS&&(b.cssClass+=" cke_browser_ios");b.hidpi&&(b.cssClass+=" cke_hidpi");return b}());
"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var a=document.createElement("script");a.type="text/javascript";a.src=CKEDITOR.basePath+"ckeditor.js";document.getElementsByTagName("head")[0].appendChild(a)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(a){(this._.pending||(this._.pending=[])).push(a)};(function(){CKEDITOR.domReady(function(){var a=
CKEDITOR.loadFullCore,d=CKEDITOR.loadFullCoreTimeout;a&&(CKEDITOR.status="basic_ready",a&&a._load?a():d&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1E3*d))})})();CKEDITOR.status="basic_loaded"}();"use strict";CKEDITOR.VERBOSITY_WARN=1;CKEDITOR.VERBOSITY_ERROR=2;CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR;CKEDITOR.warn=function(a,d){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:a,additionalData:d})};
CKEDITOR.error=function(a,d){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:a,additionalData:d})};
CKEDITOR.on("log",function(a){if(window.console&&window.console.log){var d=console[a.data.type]?a.data.type:"log",b=a.data.errorCode;if(a=a.data.additionalData)console[d]("[CKEDITOR] Error code: "+b+".",a);else console[d]("[CKEDITOR] Error code: "+b+".");console[d]("[CKEDITOR] For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+b)}},null,null,999);CKEDITOR.dom={};
(function(){function a(a,b,e){this._minInterval=a;this._context=e;this._lastOutput=this._scheduledTimer=0;this._output=CKEDITOR.tools.bind(b,e||{});var c=this;this.input=function(){function a(){c._lastOutput=(new Date).getTime();c._scheduledTimer=0;c._call()}if(!c._scheduledTimer||!1!==c._reschedule()){var x=(new Date).getTime()-c._lastOutput;x<c._minInterval?c._scheduledTimer=setTimeout(a,c._minInterval-x):a()}}}function d(x,b,e){a.call(this,x,b,e);this._args=[];var c=this;this.input=CKEDITOR.tools.override(this.input,
function(a){return function(){c._args=Array.prototype.slice.call(arguments);a.call(this)}})}var b=[],c=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",f=/&/g,h=/>/g,k=/</g,g=/"/g,l=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,v={lt:"\x3c",gt:"\x3e",amp:"\x26",quot:'"',nbsp:" ",shy:"­"},e=function(a,b){return"#"==b[0]?String.fromCharCode(parseInt(b.slice(1),10)):v[b]};CKEDITOR.on("reset",function(){b=[]});CKEDITOR.tools={arrayCompare:function(a,b){if(!a&&!b)return!0;
if(!a||!b||a.length!=b.length)return!1;for(var e=0;e<a.length;e++)if(a[e]!=b[e])return!1;return!0},getIndex:function(a,b){for(var e=0;e<a.length;++e)if(b(a[e]))return e;return-1},clone:function(a){var b;if(a&&a instanceof Array){b=[];for(var e=0;e<a.length;e++)b[e]=CKEDITOR.tools.clone(a[e]);return b}if(null===a||"object"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;b=new a.constructor;for(e in a)b[e]=
CKEDITOR.tools.clone(a[e]);return b},capitalize:function(a,b){return a.charAt(0).toUpperCase()+(b?a.slice(1):a.slice(1).toLowerCase())},extend:function(a){var b=arguments.length,e,c;"boolean"==typeof(e=arguments[b-1])?b--:"boolean"==typeof(e=arguments[b-2])&&(c=arguments[b-1],b-=2);for(var g=1;g<b;g++){var n=arguments[g]||{};CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(n),function(b){if(!0===e||null==a[b])if(!c||b in c)a[b]=n[b]})}return a},prototypedCopy:function(a){var b=function(){};
b.prototype=a;return new b},copy:function(a){var b={},e;for(e in a)b[e]=a[e];return b},isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},cssVendorPrefix:function(a,b,e){if(e)return c+a+":"+b+";"+a+":"+b;e={};e[a]=b;e[c+a]=b;return e},cssStyleToDomStyle:function(){var a=document.createElement("div").style,b="undefined"!=typeof a.cssFloat?"cssFloat":"undefined"!=typeof a.styleFloat?"styleFloat":
"float";return function(a){return"float"==a?b:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){a=[].concat(a);for(var b,e=[],c=0;c<a.length;c++)if(b=a[c])/@import|[{}]/.test(b)?e.push("\x3cstyle\x3e"+b+"\x3c/style\x3e"):e.push('\x3clink type\x3d"text/css" rel\x3dstylesheet href\x3d"'+b+'"\x3e');return e.join("")},htmlEncode:function(a){return void 0===a||null===a?"":String(a).replace(f,"\x26amp;").replace(h,"\x26gt;").replace(k,"\x26lt;")},htmlDecode:function(a){return a.replace(l,
e)},htmlEncodeAttr:function(a){return CKEDITOR.tools.htmlEncode(a).replace(g,"\x26quot;")},htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},transformPlainTextToHtml:function(a,b){var e=b==CKEDITOR.ENTER_BR,c=this.htmlEncode(a.replace(/\r\n/g,"\n")),c=c.replace(/\t/g,"\x26nbsp;\x26nbsp; \x26nbsp;"),g=b==CKEDITOR.ENTER_P?"p":"div";if(!e){var n=/\n{2}/g;if(n.test(c))var d="\x3c"+g+"\x3e",l="\x3c/"+g+"\x3e",c=d+c.replace(n,function(){return l+d})+l}c=c.replace(/\n/g,"\x3cbr\x3e");e||(c=
c.replace(new RegExp("\x3cbr\x3e(?\x3d\x3c/"+g+"\x3e)"),function(a){return CKEDITOR.tools.repeat(a,2)}));c=c.replace(/^ | $/g,"\x26nbsp;");return c=c.replace(/(>|\s) /g,function(a,b){return b+"\x26nbsp;"}).replace(/ (?=<)/g,"\x26nbsp;")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var a="e",b=0;8>b;b++)a+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return a},override:function(a,
b){var e=b(a);e.prototype=a.prototype;return e},setTimeout:function(a,b,e,c,g){g||(g=window);e||(e=g);return g.setTimeout(function(){c?a.apply(e,[].concat(c)):a.apply(e)},b||0)},throttle:function(a,b,e){return new this.buffers.throttle(a,b,e)},trim:function(){var a=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(b){return b.replace(a,"")}}(),ltrim:function(){var a=/^[ \t\n\r]+/g;return function(b){return b.replace(a,"")}}(),rtrim:function(){var a=/[ \t\n\r]+$/g;return function(b){return b.replace(a,
"")}}(),indexOf:function(a,b){if("function"==typeof b)for(var e=0,c=a.length;e<c;e++){if(b(a[e]))return e}else{if(a.indexOf)return a.indexOf(b);e=0;for(c=a.length;e<c;e++)if(a[e]===b)return e}return-1},search:function(a,b){var e=CKEDITOR.tools.indexOf(a,b);return 0<=e?a[e]:null},bind:function(a,b){var e=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,e.concat(Array.prototype.slice.call(arguments)))}},createClass:function(a){var b=a.$,e=a.base,c=a.privates||a._,g=a.proto;
a=a.statics;!b&&(b=function(){e&&this.base.apply(this,arguments)});if(c)var n=b,b=function(){var a=this._||(this._={}),b;for(b in c){var e=c[b];a[b]="function"==typeof e?CKEDITOR.tools.bind(e,this):e}n.apply(this,arguments)};e&&(b.prototype=this.prototypedCopy(e.prototype),b.prototype.constructor=b,b.base=e,b.baseProto=e.prototype,b.prototype.base=function y(){this.base=e.prototype.base;e.apply(this,arguments);this.base=y});g&&this.extend(b.prototype,g,!0);a&&this.extend(b,a,!0);return b},addFunction:function(a,
e){return b.push(function(){return a.apply(e||this,arguments)})-1},removeFunction:function(a){b[a]=null},callFunction:function(a){var e=b[a];return e&&e.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=/^-?\d+\.?\d*px$/,b;return function(e){b=CKEDITOR.tools.trim(e+"")+"px";return a.test(b)?b:e||""}}(),convertToPx:function(){var a;return function(b){a||(a=CKEDITOR.dom.element.createFromHtml('\x3cdiv style\x3d"position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"\x3e\x3c/div\x3e',
CKEDITOR.document),CKEDITOR.document.getBody().append(a));if(!/%$/.test(b)){var e=0>parseFloat(b);e&&(b=b.replace("-",""));a.setStyle("width",b);b=a.$.clientWidth;return e?-b:b}return b}}(),repeat:function(a,b){return Array(b+1).join(a)},tryThese:function(){for(var a,b=0,e=arguments.length;b<e;b++){var c=arguments[b];try{a=c();break}catch(g){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(a){return function(){var b=arguments,e=this;window.setTimeout(function(){a.apply(e,
b)},0)}},normalizeCssText:function(a,b){var e=[],c,g=CKEDITOR.tools.parseCssText(a,!0,b);for(c in g)e.push(c+":"+g[c]);e.sort();return e.length?e.join(";")+";":""},convertRgbToHex:function(a){return a.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(a,b,e,c){a=[b,e,c];for(b=0;3>b;b++)a[b]=("0"+parseInt(a[b],10).toString(16)).slice(-2);return"#"+a.join("")})},normalizeHex:function(a){return a.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(a,b,e,c){a=b.toLowerCase();3==a.length&&
(a=a.split(""),a=[a[0],a[0],a[1],a[1],a[2],a[2]].join(""));return"#"+a+c})},parseCssText:function(a,b,e){var c={};e&&(a=(new CKEDITOR.dom.element("span")).setAttribute("style",a).getAttribute("style")||"");a&&(a=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(a)));if(!a||";"==a)return c;a.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,e,x){b&&(e=e.toLowerCase(),"font-family"==e&&(x=x.replace(/\s*,\s*/g,",")),x=CKEDITOR.tools.trim(x));c[e]=x});return c},
writeCssText:function(a,b){var e,c=[];for(e in a)c.push(e+":"+a[e]);b&&c.sort();return c.join("; ")},objectCompare:function(a,b,e){var c;if(!a&&!b)return!0;if(!a||!b)return!1;for(c in a)if(a[c]!=b[c])return!1;if(!e)for(c in b)if(a[c]!=b[c])return!1;return!0},objectKeys:function(a){return CKEDITOR.tools.object.keys(a)},convertArrayToObject:function(a,b){var e={};1==arguments.length&&(b=!0);for(var c=0,g=a.length;c<g;++c)e[a[c]]=b;return e},fixDomain:function(){for(var a;;)try{a=window.parent.document.domain;
break}catch(b){a=a?a.replace(/.+?(?:\.|$)/,""):document.domain;if(!a)break;document.domain=a}return!!a},eventsBuffer:function(a,b,e){return new this.buffers.event(a,b,e)},enableHtml5Elements:function(a,b){for(var e="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),c=e.length,g;c--;)g=a.createElement(e[c]),b&&a.appendChild(g)},checkIfAnyArrayItemMatches:function(a,b){for(var e=
0,c=a.length;e<c;++e)if(a[e].match(b))return!0;return!1},checkIfAnyObjectPropertyMatches:function(a,b){for(var e in a)if(e.match(b))return!0;return!1},keystrokeToString:function(a,b){var e=this.keystrokeToArray(a,b);e.display=e.display.join("+");e.aria=e.aria.join("+");return e},keystrokeToArray:function(a,b){var e=b&16711680,c=b&65535,g=CKEDITOR.env.mac,n=[],d=[];e&CKEDITOR.CTRL&&(n.push(g?"⌘":a[17]),d.push(g?a[224]:a[17]));e&CKEDITOR.ALT&&(n.push(g?"⌥":a[18]),d.push(a[18]));e&CKEDITOR.SHIFT&&(n.push(g?
"⇧":a[16]),d.push(a[16]));c&&(a[c]?(n.push(a[c]),d.push(a[c])):(n.push(String.fromCharCode(c)),d.push(String.fromCharCode(c))));return{display:n,aria:d}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d",getCookie:function(a){a=a.toLowerCase();for(var b=document.cookie.split(";"),e,c,g=0;g<b.length;g++)if(e=b[g].split("\x3d"),c=decodeURIComponent(CKEDITOR.tools.trim(e[0]).toLowerCase()),c===a)return decodeURIComponent(1<e.length?e[1]:"");
return null},setCookie:function(a,b){document.cookie=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)+";path\x3d/"},getCsrfToken:function(){var a=CKEDITOR.tools.getCookie("ckCsrfToken");if(!a||40!=a.length){var a=[],b="";if(window.crypto&&window.crypto.getRandomValues)a=new Uint8Array(40),window.crypto.getRandomValues(a);else for(var e=0;40>e;e++)a.push(Math.floor(256*Math.random()));for(e=0;e<a.length;e++)var c="abcdefghijklmnopqrstuvwxyz0123456789".charAt(a[e]%36),b=b+(.5<Math.random()?c.toUpperCase():
c);a=b;CKEDITOR.tools.setCookie("ckCsrfToken",a)}return a},escapeCss:function(a){return a?window.CSS&&CSS.escape?CSS.escape(a):isNaN(parseInt(a.charAt(0),10))?a:"\\3"+a.charAt(0)+" "+a.substring(1,a.length):""},getMouseButton:function(a){return(a=a&&a.data?a.data.$:a)?CKEDITOR.tools.normalizeMouseButton(a.button):!1},normalizeMouseButton:function(a,b){if(!CKEDITOR.env.ie||9<=CKEDITOR.env.version&&!CKEDITOR.env.ie6Compat)return a;for(var e=[[CKEDITOR.MOUSE_BUTTON_LEFT,1],[CKEDITOR.MOUSE_BUTTON_MIDDLE,
4],[CKEDITOR.MOUSE_BUTTON_RIGHT,2]],c=0;c<e.length;c++){var g=e[c];if(g[0]===a&&b)return g[1];if(!b&&g[1]===a)return g[0]}},convertHexStringToBytes:function(a){var b=[],e=a.length/2,c;for(c=0;c<e;c++)b.push(parseInt(a.substr(2*c,2),16));return b},convertBytesToBase64:function(a){var b="",e=a.length,c;for(c=0;c<e;c+=3){var g=a.slice(c,c+3),n=g.length,d=[],l;if(3>n)for(l=n;3>l;l++)g[l]=0;d[0]=(g[0]&252)>>2;d[1]=(g[0]&3)<<4|g[1]>>4;d[2]=(g[1]&15)<<2|(g[2]&192)>>6;d[3]=g[2]&63;for(l=0;4>l;l++)b=l<=n?
b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d[l]):b+"\x3d"}return b},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",
cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",
firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",
lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",
mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",
red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",windowtext:"windowtext",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",
yellowgreen:"#9ACD32"},_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(a){var b={},e=this._findColor(a);e.length&&(b.color=e[0],CKEDITOR.tools.array.forEach(e,function(b){a=a.replace(b,"")}));
if(a=CKEDITOR.tools.trim(a))b.unprocessed=a;return b},margin:function(a){return CKEDITOR.tools.style.parse.sideShorthand(a,function(a){return a.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset|revert)/g)||["0px"]})},sideShorthand:function(a,b){function e(a){c.top=g[a[0]];c.right=g[a[1]];c.bottom=g[a[2]];c.left=g[a[3]]}var c={},g=b?b(a):a.split(/\s+/);switch(g.length){case 1:e([0,0,0,0]);break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}return c},border:function(a){return CKEDITOR.tools.style.border.fromCssRule(a)},
_findColor:function(a){var b=[],e=CKEDITOR.tools.array,b=b.concat(a.match(this._rgbaRegExp)||[]),b=b.concat(a.match(this._hslaRegExp)||[]);return b=b.concat(e.filter(a.split(/\s+/),function(a){return a.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)?!0:a.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(a,b,e){var c=[];this.forEach(a,function(g,n){b.call(e,g,n,a)&&c.push(g)});return c},find:function(a,b,e){for(var c=a.length,g=0;g<c;){if(b.call(e,a[g],g,a))return a[g];g++}},
forEach:function(a,b,e){var c=a.length,g;for(g=0;g<c;g++)b.call(e,a[g],g,a)},map:function(a,b,e){for(var c=[],g=0;g<a.length;g++)c.push(b.call(e,a[g],g,a));return c},reduce:function(a,b,e,c){for(var g=0;g<a.length;g++)e=b.call(c,e,a[g],g,a);return e},every:function(a,b,e){if(!a.length)return!0;b=this.filter(a,b,e);return a.length===b.length},some:function(a,b,e){for(var c=0;c<a.length;c++)if(b.call(e,a[c],c,a))return!0;return!1}},object:{DONT_ENUMS:"toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),
entries:function(a){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(a),function(b){return[b,a[b]]})},values:function(a){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(a),function(b){return a[b]})},keys:function(a){var b=Object.prototype.hasOwnProperty,e=[],c=CKEDITOR.tools.object.DONT_ENUMS;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(!a||"object"!==typeof a)){b=[];if("string"===typeof a)for(e=0;e<a.length;e++)b.push(String(e));return b}for(var g in a)e.push(g);if(CKEDITOR.env.ie&&
9>CKEDITOR.env.version)for(g=0;g<c.length;g++)b.call(a,c[g])&&e.push(c[g]);return e},findKey:function(a,b){if("object"!==typeof a)return null;for(var e in a)if(a[e]===b)return e;return null},merge:function(a,b){var e=CKEDITOR.tools,c=e.clone(a),g=e.clone(b);e.array.forEach(e.object.keys(g),function(a){c[a]="object"===typeof g[a]&&"object"===typeof c[a]?e.object.merge(c[a],g[a]):g[a]});return c}},getAbsoluteRectPosition:function(a,b){function e(a){if(a){var b=a.getClientRect();c.top+=b.top;c.left+=
b.left;"x"in c&&"y"in c&&(c.x+=b.x,c.y+=b.y);e(a.getWindow().getFrame())}}var c=CKEDITOR.tools.copy(b);e(a.getFrame());var g=CKEDITOR.document.getWindow().getScrollPosition();c.top+=g.y;c.left+=g.x;"x"in c&&"y"in c&&(c.y+=g.y,c.x+=g.x);c.right=c.left+c.width;c.bottom=c.top+c.height;return c}};a.prototype={reset:function(){this._lastOutput=0;this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer);
this._scheduledTimer=0}};d.prototype=CKEDITOR.tools.prototypedCopy(a.prototype);d.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()};d.prototype._call=function(){this._output.apply(this._context,this._args)};CKEDITOR.tools.buffers={};CKEDITOR.tools.buffers.event=a;CKEDITOR.tools.buffers.throttle=d;CKEDITOR.tools.style.border=CKEDITOR.tools.createClass({$:function(a){a=a||{};this.width=a.width;this.style=a.style;this.color=a.color;this._.normalize()},_:{normalizeMap:{color:[[/windowtext/g,
"black"]]},normalize:function(){for(var a in this._.normalizeMap){var b=this[a];b&&(this[a]=CKEDITOR.tools.array.reduce(this._.normalizeMap[a],function(a,b){return a.replace(b[0],b[1])},b))}}},proto:{toString:function(){return CKEDITOR.tools.array.filter([this.width,this.style,this.color],function(a){return!!a}).join(" ")}},statics:{fromCssRule:function(a){var b={},e=a.split(/\s+/g);a=CKEDITOR.tools.style.parse._findColor(a);a.length&&(b.color=a[0]);CKEDITOR.tools.array.forEach(e,function(a){b.style||
-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,a)?!b.width&&CKEDITOR.tools.style.parse._widthRegExp.test(a)&&(b.width=a):b.style=a});return new CKEDITOR.tools.style.border(b)},splitCssValues:function(a,b){b=b||{};var e=CKEDITOR.tools.array.reduce(["width","style","color"],function(e,c){var g=a["border-"+c]||b[c];e[c]=g?CKEDITOR.tools.style.parse.sideShorthand(g):null;return e},{});return CKEDITOR.tools.array.reduce(["top","right","bottom","left"],function(b,c){var g={},d;for(d in e){var l=
a["border-"+c+"-"+d];g[d]=l?l:e[d]&&e[d][c]}b["border-"+c]=new CKEDITOR.tools.style.border(g);return b},{})}}});CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf;CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray;CKEDITOR.MOUSE_BUTTON_LEFT=0;CKEDITOR.MOUSE_BUTTON_MIDDLE=1;CKEDITOR.MOUSE_BUTTON_RIGHT=2})();
CKEDITOR.dtd=function(){var a=CKEDITOR.tools.extend,d=function(a,b){for(var c=CKEDITOR.tools.clone(a),g=1;g<arguments.length;g++){b=arguments[g];for(var d in b)delete c[d]}return c},b={},c={},f={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},h={command:1,link:1,meta:1,noscript:1,script:1,style:1},k={},g={"#":1},l={center:1,dir:1,noframes:1};
a(b,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},g,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});a(c,f,b,l);d={a:d(b,{a:1,button:1}),abbr:b,address:c,
area:k,article:c,aside:c,audio:a({source:1,track:1},c),b:b,base:k,bdi:b,bdo:b,blockquote:c,body:c,br:k,button:d(b,{a:1,button:1}),canvas:b,caption:c,cite:b,code:b,col:k,colgroup:{col:1},command:k,datalist:a({option:1},b),dd:c,del:b,details:a({summary:1},c),dfn:b,div:c,dl:{dt:1,dd:1},dt:c,em:b,embed:k,fieldset:a({legend:1},c),figcaption:c,figure:a({figcaption:1},c),footer:c,form:c,h1:b,h2:b,h3:b,h4:b,h5:b,h6:b,head:a({title:1,base:1},h),header:c,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:k,html:a({head:1,
body:1},c,h),i:b,iframe:g,img:k,input:k,ins:b,kbd:b,keygen:k,label:b,legend:b,li:c,link:k,main:c,map:c,mark:b,menu:a({li:1},c),meta:k,meter:d(b,{meter:1}),nav:c,noscript:a({link:1,meta:1,style:1},b),object:a({param:1},b),ol:{li:1},optgroup:{option:1},option:g,output:b,p:b,param:k,pre:b,progress:d(b,{progress:1}),q:b,rp:b,rt:b,ruby:a({rp:1,rt:1},b),s:b,samp:b,script:g,section:c,select:{optgroup:1,option:1},small:b,source:k,span:b,strong:b,style:g,sub:b,summary:a({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},b),
sup:b,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:c,textarea:g,tfoot:{tr:1},th:c,thead:{tr:1},time:d(b,{time:1}),title:g,tr:{th:1,td:1},track:k,u:b,ul:{li:1},"var":b,video:a({source:1,track:1},c),wbr:k,acronym:b,applet:a({param:1},c),basefont:k,big:b,center:c,dialog:k,dir:{li:1},font:b,isindex:k,noframes:c,strike:b,tt:b};a(d,{$block:a({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},f,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,
fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,
track:1,wbr:1},$inline:b,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:a({body:1,head:1,html:1},d.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,
s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return d}();
CKEDITOR.dom.event=function(a){this.$=a};
CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this.getKey();if(this.$.ctrlKey||this.$.metaKey)a+=CKEDITOR.CTRL;this.$.shiftKey&&(a+=CKEDITOR.SHIFT);this.$.altKey&&(a+=CKEDITOR.ALT);return a},preventDefault:function(a){var d=this.$;d.preventDefault?d.preventDefault():d.returnValue=!1;a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getTarget:function(){var a=
this.$.target||this.$.srcElement;return a?new CKEDITOR.dom.node(a):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var a=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(a.documentElement.scrollLeft||a.body.scrollLeft),y:this.$.pageY||this.$.clientY+(a.documentElement.scrollTop||a.body.scrollTop)}}};CKEDITOR.CTRL=1114112;CKEDITOR.SHIFT=2228224;CKEDITOR.ALT=4456448;CKEDITOR.EVENT_PHASE_CAPTURING=1;CKEDITOR.EVENT_PHASE_AT_TARGET=2;
CKEDITOR.EVENT_PHASE_BUBBLING=3;CKEDITOR.dom.domObject=function(a){a&&(this.$=a)};
CKEDITOR.dom.domObject.prototype=function(){var a=function(a,b){return function(c){"undefined"!=typeof CKEDITOR&&a.fire(b,new CKEDITOR.dom.event(c))}};return{getPrivate:function(){var a;(a=this.getCustomData("_"))||this.setCustomData("_",a={});return a},on:function(d){var b=this.getCustomData("_cke_nativeListeners");b||(b={},this.setCustomData("_cke_nativeListeners",b));b[d]||(b=b[d]=a(this,d),this.$.addEventListener?this.$.addEventListener(d,b,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+
d,b));return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(a){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(a)){var b=this.getCustomData("_cke_nativeListeners"),c=b&&b[a];c&&(this.$.removeEventListener?this.$.removeEventListener(a,c,!1):this.$.detachEvent&&this.$.detachEvent("on"+a,c),delete b[a])}},removeAllListeners:function(){try{var a=this.getCustomData("_cke_nativeListeners"),b;for(b in a){var c=a[b];this.$.detachEvent?this.$.detachEvent("on"+
b,c):this.$.removeEventListener&&this.$.removeEventListener(b,c,!1);delete a[b]}}catch(f){if(!CKEDITOR.env.edge||-2146828218!==f.number)throw f;}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}();
(function(a){var d={};CKEDITOR.on("reset",function(){d={}});a.equals=function(a){try{return a&&a.$===this.$}catch(c){return!1}};a.setCustomData=function(a,c){var f=this.getUniqueId();(d[f]||(d[f]={}))[a]=c;return this};a.getCustomData=function(a){var c=this.$["data-cke-expando"];return(c=c&&d[c])&&a in c?c[a]:null};a.removeCustomData=function(a){var c=this.$["data-cke-expando"],c=c&&d[c],f,h;c&&(f=c[a],h=a in c,delete c[a]);return h?f:null};a.clearCustomData=function(){this.removeAllListeners();var a=
this.getUniqueId();a&&delete d[a]};a.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(a)})(CKEDITOR.dom.domObject.prototype);
CKEDITOR.dom.node=function(a){return a?new CKEDITOR.dom[a.nodeType==CKEDITOR.NODE_DOCUMENT?"document":a.nodeType==CKEDITOR.NODE_ELEMENT?"element":a.nodeType==CKEDITOR.NODE_TEXT?"text":a.nodeType==CKEDITOR.NODE_COMMENT?"comment":a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](a):this};CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject;CKEDITOR.NODE_ELEMENT=1;CKEDITOR.NODE_DOCUMENT=9;CKEDITOR.NODE_TEXT=3;CKEDITOR.NODE_COMMENT=8;CKEDITOR.NODE_DOCUMENT_FRAGMENT=11;
CKEDITOR.POSITION_IDENTICAL=0;CKEDITOR.POSITION_DISCONNECTED=1;CKEDITOR.POSITION_FOLLOWING=2;CKEDITOR.POSITION_PRECEDING=4;CKEDITOR.POSITION_IS_CONTAINED=8;CKEDITOR.POSITION_CONTAINS=16;
CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(a,d){a.append(this,d);return a},clone:function(a,d){function b(c){c["data-cke-expando"]&&(c["data-cke-expando"]=!1);if(c.nodeType==CKEDITOR.NODE_ELEMENT||c.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)if(d||c.nodeType!=CKEDITOR.NODE_ELEMENT||c.removeAttribute("id",!1),a){c=c.childNodes;for(var f=0;f<c.length;f++)b(c[f])}}function c(b){if(b.type==CKEDITOR.NODE_ELEMENT||b.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(b.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var d=
b.getName();":"==d[0]&&b.renameNode(d.substring(1))}if(a)for(d=0;d<b.getChildCount();d++)c(b.getChild(d))}}var f=this.$.cloneNode(a);b(f);f=new CKEDITOR.dom.node(f);CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&c(f);return f},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){a.$.parentNode.insertBefore(this.$,a.$.nextSibling);return a},insertBefore:function(a){a.$.parentNode.insertBefore(this.$,
a.$);return a},insertBeforeMe:function(a){this.$.parentNode.insertBefore(a.$,this.$);return a},getAddress:function(a){for(var d=[],b=this.getDocument().$.documentElement,c=this;c&&c!=b;){var f=c.getParent();f&&d.unshift(this.getIndex.call(c,a));c=f}return d},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){function d(a,b){var c=b?a.getNext():a.getPrevious();return c&&c.type==CKEDITOR.NODE_TEXT?c.isEmpty()?d(c,b):c:
null}var b=this,c=-1,f;if(!this.getParent()||a&&b.type==CKEDITOR.NODE_TEXT&&b.isEmpty()&&!d(b)&&!d(b,!0))return-1;do if(!a||b.equals(this)||b.type!=CKEDITOR.NODE_TEXT||!f&&!b.isEmpty())c++,f=b.type==CKEDITOR.NODE_TEXT;while(b=b.getPrevious());return c},getNextSourceNode:function(a,d,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getFirst&&this.getFirst();var f;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getNext()}for(;!a&&(f=(f||this).getParent());){if(b&&
!1===b(f,!0))return null;a=f.getNext()}return!a||b&&!1===b(a)?null:d&&d!=a.type?a.getNextSourceNode(!1,d,b):a},getPreviousSourceNode:function(a,d,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getLast&&this.getLast();var f;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getPrevious()}for(;!a&&(f=(f||this).getParent());){if(b&&!1===b(f,!0))return null;a=f.getPrevious()}return!a||b&&!1===b(a)?null:d&&a.type!=d?a.getPreviousSourceNode(!1,d,b):
a},getPrevious:function(a){var d=this.$,b;do b=(d=d.previousSibling)&&10!=d.nodeType&&new CKEDITOR.dom.node(d);while(b&&a&&!a(b));return b},getNext:function(a){var d=this.$,b;do b=(d=d.nextSibling)&&new CKEDITOR.dom.node(d);while(b&&a&&!a(b));return b},getParent:function(a){var d=this.$.parentNode;return d&&(d.nodeType==CKEDITOR.NODE_ELEMENT||a&&d.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(d):null},getParents:function(a){var d=this,b=[];do b[a?"push":"unshift"](d);while(d=d.getParent());
return b},getCommonAncestor:function(a){if(a.equals(this))return this;if(a.contains&&a.contains(this))return a;var d=this.contains?this:this.getParent();do if(d.contains(a))return d;while(d=d.getParent());return null},getPosition:function(a){var d=this.$,b=a.$;if(d.compareDocumentPosition)return d.compareDocumentPosition(b);if(d==b)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(d.contains){if(d.contains(b))return CKEDITOR.POSITION_CONTAINS+
CKEDITOR.POSITION_PRECEDING;if(b.contains(d))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in d)return 0>d.sourceIndex||0>b.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:d.sourceIndex<b.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}d=this.getAddress();a=a.getAddress();for(var b=Math.min(d.length,a.length),c=0;c<b;c++)if(d[c]!=a[c])return d[c]<a[c]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return d.length<a.length?CKEDITOR.POSITION_CONTAINS+
CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(a,d){var b=this.$,c,f;d||(b=b.parentNode);"function"==typeof a?(f=!0,c=a):(f=!1,c=function(b){b="string"==typeof b.nodeName?b.nodeName.toLowerCase():"";return"string"==typeof a?b==a:b in a});for(;b;){if(c(f?new CKEDITOR.dom.node(b):b))return new CKEDITOR.dom.node(b);try{b=b.parentNode}catch(h){b=null}}return null},hasAscendant:function(a,d){var b=this.$;d||(b=b.parentNode);for(;b;){if(b.nodeName&&
b.nodeName.toLowerCase()==a)return!0;b=b.parentNode}return!1},move:function(a,d){a.append(this.remove(),d)},remove:function(a){var d=this.$,b=d.parentNode;if(b){if(a)for(;a=d.firstChild;)b.insertBefore(d.removeChild(a),d);b.removeChild(d)}return this},replace:function(a){this.insertBefore(a);a.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var a;this.getFirst&&(a=this.getFirst());){if(a.type==CKEDITOR.NODE_TEXT){var d=CKEDITOR.tools.ltrim(a.getText()),b=a.getLength();if(d)d.length<
b&&(a.split(b-d.length),this.$.removeChild(this.$.firstChild));else{a.remove();continue}}break}},rtrim:function(){for(var a;this.getLast&&(a=this.getLast());){if(a.type==CKEDITOR.NODE_TEXT){var d=CKEDITOR.tools.rtrim(a.getText()),b=a.getLength();if(d)d.length<b&&(a.split(d.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild));else{a.remove();continue}}break}CKEDITOR.env.needsBrFiller&&(a=this.$.lastChild)&&1==a.type&&"br"==a.nodeName.toLowerCase()&&a.parentNode.removeChild(a)},isReadOnly:function(a){var d=
this;this.type!=CKEDITOR.NODE_ELEMENT&&(d=this.getParent());CKEDITOR.env.edge&&d&&d.is("textarea","input")&&(a=!0);if(!a&&d&&"undefined"!=typeof d.$.isContentEditable)return!(d.$.isContentEditable||d.data("cke-editable"));for(;d;){if(d.data("cke-editable"))return!1;if(d.hasAttribute("contenteditable"))return"false"==d.getAttribute("contenteditable");d=d.getParent()}return!0}});CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject;
CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var a=this.$.document,d="CSS1Compat"==a.compatMode;return{width:(d?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(d?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if("pageXOffset"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||
a.body.scrollTop||0}},getFrame:function(){var a=this.$.frameElement;return a?new CKEDITOR.dom.element.get(a):null}});CKEDITOR.dom.document=function(a){CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject;
CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(a){if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var d=new CKEDITOR.dom.element("link");d.setAttributes({rel:"stylesheet",type:"text/css",href:a});this.getHead().append(d)}},appendStyleText:function(a){if(this.$.createStyleSheet){var d=this.$.createStyleSheet("");d.cssText=a}else{var b=new CKEDITOR.dom.element("style",this);b.append(new CKEDITOR.dom.text(a,this));this.getHead().append(b)}return d||
b.$.sheet},createElement:function(a,d){var b=new CKEDITOR.dom.element(a,this);d&&(d.attributes&&b.setAttributes(d.attributes),d.styles&&b.setStyles(d.styles));return b},createText:function(a){return new CKEDITOR.dom.text(a,this)},focus:function(){this.getWindow().focus()},getActive:function(){var a;try{a=this.$.activeElement}catch(d){return null}return new CKEDITOR.dom.element(a)},getById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:function(a,d){for(var b=
this.$.documentElement,c=0;b&&c<a.length;c++){var f=a[c];if(d)for(var h=-1,k=0;k<b.childNodes.length;k++){var g=b.childNodes[k];if(!0!==d||3!=g.nodeType||!g.previousSibling||3!=g.previousSibling.nodeType)if(h++,h==f){b=g;break}}else b=b.childNodes[f]}return b?new CKEDITOR.dom.node(b):null},getElementsByTag:function(a,d){CKEDITOR.env.ie&&8>=document.documentMode||!d||(a=d+":"+a);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName("head")[0];
return a=a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(a){this.$.open("text/html","replace");CKEDITOR.env.ie&&(a=a.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$\x26\n\x3cscript data-cke-temp\x3d"1"\x3e('+
CKEDITOR.tools.fixDomain+")();\x3c/script\x3e"));this.$.write(a);this.$.close()},find:function(a){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a))},findOne:function(a){return(a=this.$.querySelector(a))?new CKEDITOR.dom.element(a):null},_getHtml5ShivFrag:function(){var a=this.getCustomData("html5ShivFrag");a||(a=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(a,!0),this.setCustomData("html5ShivFrag",a));return a}});CKEDITOR.dom.nodeList=function(a){this.$=a};
CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){return 0>a||a>=this.$.length?null:(a=this.$[a])?new CKEDITOR.dom.node(a):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(a){return new CKEDITOR.dom.node(a)})}};CKEDITOR.dom.element=function(a,d){"string"==typeof a&&(a=(d?d.$:document).createElement(a));CKEDITOR.dom.domObject.call(this,a)};
CKEDITOR.dom.element.get=function(a){return(a="string"==typeof a?document.getElementById(a)||document.getElementsByName(a)[0]:a)&&(a.$?a:new CKEDITOR.dom.element(a))};CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node;CKEDITOR.dom.element.createFromHtml=function(a,d){var b=new CKEDITOR.dom.element("div",d);b.setHtml(a);return b.getFirst().remove()};
CKEDITOR.dom.element.setMarker=function(a,d,b,c){var f=d.getCustomData("list_marker_id")||d.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),h=d.getCustomData("list_marker_names")||d.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");a[f]=d;h[b]=1;return d.setCustomData(b,c)};CKEDITOR.dom.element.clearAllMarkers=function(a){for(var d in a)CKEDITOR.dom.element.clearMarkers(a,a[d],1)};
CKEDITOR.dom.element.clearMarkers=function(a,d,b){var c=d.getCustomData("list_marker_names"),f=d.getCustomData("list_marker_id"),h;for(h in c)d.removeCustomData(h);d.removeCustomData("list_marker_names");b&&(d.removeCustomData("list_marker_id"),delete a[f])};
(function(){function a(a,b){return-1<(" "+a+" ").replace(h," ").indexOf(" "+b+" ")}function d(a){var b=!0;a.$.id||(a.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),b=!1);return function(){b||a.removeAttribute("id")}}function b(a,b){var c=CKEDITOR.tools.escapeCss(a.$.id);return"#"+c+" "+b.split(/,\s*/).join(", #"+c+" ")}function c(a){for(var b=0,c=0,e=k[a].length;c<e;c++)b+=parseFloat(this.getComputedStyle(k[a][c])||0,10)||0;return b}var f=document.createElement("_").classList,f="undefined"!==typeof f&&
null!==String(f.add).match(/\[Native code\]/gi),h=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:f?function(a){this.$.classList.add(a);return this}:function(b){var c=this.$.className;c&&(a(c,b)||(c+=" "+b));this.$.className=c||b;return this},removeClass:f?function(a){var b=this.$;b.classList.remove(a);b.className||b.removeAttribute("class");return this}:function(b){var c=this.getAttribute("class");c&&a(c,b)&&((c=c.replace(new RegExp("(?:^|\\s+)"+
b+"(?\x3d\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",c):this.removeAttribute("class"));return this},hasClass:function(b){return a(this.$.className,b)},append:function(a,b){"string"==typeof a&&(a=this.getDocument().createElement(a));b?this.$.insertBefore(a.$,this.$.firstChild):this.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var b=new CKEDITOR.dom.element("div",this.getDocument());b.setHtml(a);b.moveChildren(this)}else this.setHtml(a)},appendText:function(a){null!=
this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=a:this.append(new CKEDITOR.dom.text(a))},appendBogus:function(a){if(a||CKEDITOR.env.needsBrFiller){for(a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();a&&a.is&&a.is("br")||(a=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&a.setAttribute("type","_moz"),this.append(a))}},breakParent:function(a,b){var c=new CKEDITOR.dom.range(this.getDocument());c.setStartAfter(this);c.setEndAfter(a);
var e=c.extractContents(!1,b||!1),d;c.insertNode(this.remove());if(CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(c=new CKEDITOR.dom.element("div");d=e.getFirst();)d.$.style.backgroundColor&&(d.$.style.backgroundColor=d.$.style.backgroundColor),c.append(d);c.insertAfter(this);c.remove(!0)}else e.insertAfterNode(this)},contains:document.compareDocumentPosition?function(a){return!!(this.$.compareDocumentPosition(a.$)&16)}:function(a){var b=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?b.contains(a.getParent().$):
b!=a.$&&b.contains(a.$)},focus:function(){function a(){try{this.$.focus()}catch(b){}}return function(b){b?CKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\?[^>]*>/g,""):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var a=this.$.ownerDocument.createElement("div");a.appendChild(this.$.cloneNode(!0));return a.innerHTML},getClientRect:function(a){var b=CKEDITOR.tools.extend({},
this.$.getBoundingClientRect());!b.width&&(b.width=b.right-b.left);!b.height&&(b.height=b.bottom-b.top);return a?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),b):b},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(a){try{var b=this.$;if(this.getParent())return b.innerHTML=a;var c=this.getDocument()._getHtml5ShivFrag();c.appendChild(b);b.innerHTML=a;c.removeChild(b);return a}catch(e){this.$.innerHTML="";b=new CKEDITOR.dom.element("body",this.getDocument());b.$.innerHTML=a;for(b=b.getChildren();b.count();)this.append(b.getItem(0));
return a}}:function(a){return this.$.innerHTML=a},setText:function(){var a=document.createElement("p");a.innerHTML="x";a=a.textContent;return function(b){this.$[a?"textContent":"innerText"]=b}}(),getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){switch(a){case "class":a="className";break;case "http-equiv":a="httpEquiv";break;case "name":return this.$.name;case "tabindex":return a=this.$.getAttribute(a,
2),0!==a&&0===this.$.tabIndex&&(a=null),a;case "checked":return a=this.$.attributes.getNamedItem(a),(a.specified?a.nodeValue:this.$.checked)?"checked":null;case "hspace":case "value":return this.$[a];case "style":return this.$.style.cssText;case "contenteditable":case "contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(a,2)}:a}(),getAttributes:function(a){var b={},c=this.$.attributes,e;a=CKEDITOR.tools.isArray(a)?
a:[];for(e=0;e<c.length;e++)-1===CKEDITOR.tools.indexOf(a,c[e].name)&&(b[c[e].name]=c[e].value);return b},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getClientSize:function(){return{width:this.$.clientWidth,height:this.$.clientHeight}},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(a){var b=this.getWindow().$.getComputedStyle(this.$,null);return b?b.getPropertyValue(a):""}:function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]},
getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=function(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var a=this.$.tabIndex;return 0!==a||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?a:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||
null},getName:function(){var a=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var b=this.$.scopeName;"HTML"!=b&&(a=b.toLowerCase()+":"+a)}this.getName=function(){return a};return this.getName()},getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getNext(a));return b},getLast:function(a){var b=this.$.lastChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getPrevious(a));return b},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},
is:function(){var a=this.getName();if("object"==typeof arguments[0])return!!arguments[0][a];for(var b=0;b<arguments.length;b++)if(arguments[b]==a)return!0;return!1},isEditable:function(a){var b=this.getName();return this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[b]||CKEDITOR.dtd.$empty[b]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()?!1:!1!==a?(a=CKEDITOR.dtd[b]||
CKEDITOR.dtd.span,!(!a||!a["#"])):!0},isIdentical:function(a){var b=this.clone(0,1);a=a.clone(0,1);b.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);a.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);if(b.$.isEqualNode)return b.$.style.cssText=CKEDITOR.tools.normalizeCssText(b.$.style.cssText),a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText),b.$.isEqualNode(a.$);b=b.getOuterHtml();a=
a.getOuterHtml();if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var c=this.getParent();c.type==CKEDITOR.NODE_ELEMENT&&(c=c.clone(),c.setHtml(b),b=c.getHtml(),c.setHtml(a),a=c.getHtml())}return b==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility"),b,c;a&&CKEDITOR.env.webkit&&(b=this.getWindow(),!b.equals(CKEDITOR.document.getWindow())&&(c=b.$.frameElement)&&(a=(new CKEDITOR.dom.element(c)).isVisible()));return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;
for(var a=this.getChildren(),b=0,c=a.count();b<c;b++){var e=a.getItem(b);if(e.type!=CKEDITOR.NODE_ELEMENT||!e.data("cke-bookmark"))if(e.type==CKEDITOR.NODE_ELEMENT&&!e.isEmptyInlineRemoveable()||e.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(e.getText()))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var a=this.$.attributes,b=0;b<a.length;b++){var c=a[b];switch(c.nodeName){case "class":if(this.getAttribute("class"))return!0;case "data-cke-expando":continue;
default:if(c.specified)return!0}}return!1}:function(){var a=this.$.attributes,b=a.length,c={"data-cke-expando":1,_moz_dirty:1};return 0<b&&(2<b||!c[a[0].nodeName]||2==b&&!c[a[1].nodeName])},hasAttribute:function(){function a(b){var c=this.$.attributes.getNamedItem(b);if("input"==this.getName())switch(b){case "class":return 0<this.$.className.length;case "checked":return!!this.$.checked;case "value":return b=this.getAttribute("type"),"checkbox"==b||"radio"==b?"on"!=this.$.value:!!this.$.value}return c?
c.specified:!1}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(b){return"name"==b?!!this.$.name:a.call(this,b)}:a:function(a){return!!this.$.attributes.getNamedItem(a)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(a,b){var c=this.$;a=a.$;if(c!=a){var e;if(b)for(;e=c.lastChild;)a.insertBefore(c.removeChild(e),a.firstChild);else for(;e=c.firstChild;)a.appendChild(c.removeChild(e))}},mergeSiblings:function(){function a(b,c,e){if(c&&c.type==CKEDITOR.NODE_ELEMENT){for(var d=
[];c.data("cke-bookmark")||c.isEmptyInlineRemoveable();)if(d.push(c),c=e?c.getNext():c.getPrevious(),!c||c.type!=CKEDITOR.NODE_ELEMENT)return;if(b.isIdentical(c)){for(var g=e?b.getLast():b.getFirst();d.length;)d.shift().move(b,!e);c.moveChildren(b,!e);c.remove();g&&g.type==CKEDITOR.NODE_ELEMENT&&g.mergeSiblings()}}}return function(b){if(!1===b||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))a(this,this.getNext(),!0),a(this,this.getPrevious())}}(),show:function(){this.setStyles({display:"",
visibility:""})},setAttribute:function(){var a=function(a,b){this.$.setAttribute(a,b);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(b,c){"class"==b?this.$.className=c:"style"==b?this.$.style.cssText=c:"tabindex"==b?this.$.tabIndex=c:"checked"==b?this.$.checked=c:"contenteditable"==b?a.call(this,"contentEditable",c):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(b,c){if("src"==b&&c.match(/^http:\/\//))try{a.apply(this,
arguments)}catch(e){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(a){for(var b in a)this.setAttribute(b,a[b]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){"class"==a?a="className":"tabindex"==a?a="tabIndex":"contenteditable"==a&&(a="contentEditable");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){if(CKEDITOR.tools.isArray(a))for(var b=
0;b<a.length;b++)this.removeAttribute(a[b]);else for(b in a=a||this.getAttributes(),a)a.hasOwnProperty(b)&&this.removeAttribute(b)},removeStyle:function(a){var b=this.$.style;if(b.removeProperty||"border"!=a&&"margin"!=a&&"padding"!=a)b.removeProperty?b.removeProperty(a):b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a)),this.$.style.cssText||this.removeAttribute("style");else{var c=["top","left","right","bottom"],e;"border"==a&&(e=["color","style","width"]);for(var b=[],d=0;d<c.length;d++)if(e)for(var t=
0;t<e.length;t++)b.push([a,c[d],e[t]].join("-"));else b.push([a,c[d]].join("-"));for(a=0;a<b.length;a++)this.removeStyle(b[a])}},setStyle:function(a,b){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=b;return this},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},setOpacity:function(a){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(a=Math.round(100*a),this.setStyle("filter",100<=a?"":"progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+a+")")):this.setStyle("opacity",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select",
"none"));if(CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var a,b=this.getElementsByTag("*"),c=0,e=b.count();c<e;c++)a=b.getItem(c),a.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var a=this;"html"!=a.getName();){if("static"!=a.getComputedStyle("position"))return a;a=a.getParent()}return null},getDocumentPosition:function(a){var b=0,c=0,e=this.getDocument(),d=e.getBody(),t="BackCompat"==e.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?
8!==CKEDITOR.env.version:1)){var f=this.$.getBoundingClientRect(),h=e.$.documentElement,u=h.clientTop||d.$.clientTop||0,n=h.clientLeft||d.$.clientLeft||0,k=!0;CKEDITOR.env.ie&&(k=e.getDocumentElement().contains(this),e=e.getBody().contains(this),k=t&&e||!t&&k);k&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(b=d.$.scrollLeft||h.scrollLeft,c=d.$.scrollTop||h.scrollTop):(c=t?d.$:h,b=c.scrollLeft,c=c.scrollTop),b=f.left+b-n,c=f.top+c-u)}else for(u=this,n=null;u&&"body"!=u.getName()&&
"html"!=u.getName();){b+=u.$.offsetLeft-u.$.scrollLeft;c+=u.$.offsetTop-u.$.scrollTop;u.equals(this)||(b+=u.$.clientLeft||0,c+=u.$.clientTop||0);for(;n&&!n.equals(u);)b-=n.$.scrollLeft,c-=n.$.scrollTop,n=n.getParent();n=u;u=(f=u.$.offsetParent)?new CKEDITOR.dom.element(f):null}a&&(f=this.getWindow(),u=a.getWindow(),!f.equals(u)&&f.$.frameElement&&(a=(new CKEDITOR.dom.element(f.$.frameElement)).getDocumentPosition(a),b+=a.x,c+=a.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||
t||(b+=this.$.clientLeft?1:0,c+=this.$.clientTop?1:0);return{x:b,y:c}},scrollIntoView:function(a){var b=this.getParent();if(b){do if((b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<b.$.scrollHeight)&&!b.is("body")&&this.scrollIntoParent(b,a,1),b.is("html")){var c=b.getWindow();try{var e=c.$.frameElement;e&&(b=new CKEDITOR.dom.element(e))}catch(d){}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var e,d,t,f;function h(b,c){/body|html/.test(a.getName())?
a.getWindow().$.scrollBy(b,c):(a.$.scrollLeft+=b,a.$.scrollTop+=c)}function u(a,b){var c={x:0,y:0};if(!a.is(k?"body":"html")){var e=a.$.getBoundingClientRect();c.x=e.left;c.y=e.top}e=a.getWindow();e.equals(b)||(e=u(CKEDITOR.dom.element.get(e.$.frameElement),b),c.x+=e.x,c.y+=e.y);return c}function n(a,b){return parseInt(a.getComputedStyle("margin-"+b)||0,10)||0}!a&&(a=this.getWindow());t=a.getDocument();var k="BackCompat"==t.$.compatMode;a instanceof CKEDITOR.dom.window&&(a=k?t.getBody():t.getDocumentElement());
CKEDITOR.env.webkit&&(t=this.getEditor(!1))&&(t._.previousScrollTop=null);t=a.getWindow();d=u(this,t);var y=u(a,t),H=this.$.offsetHeight;e=this.$.offsetWidth;var I=a.$.clientHeight,m=a.$.clientWidth;t=d.x-n(this,"left")-y.x||0;f=d.y-n(this,"top")-y.y||0;e=d.x+e+n(this,"right")-(y.x+m)||0;d=d.y+H+n(this,"bottom")-(y.y+I)||0;(0>f||0<d)&&h(0,!0===b?f:!1===b?d:0>f?f:d);c&&(0>t||0<e)&&h(0>t?t:e,0)},setState:function(a,b,c){b=b||"cke";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+"_on");this.removeClass(b+
"_off");this.removeClass(b+"_disabled");c&&this.setAttribute("aria-pressed",!0);c&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+"_disabled");this.removeClass(b+"_off");this.removeClass(b+"_on");c&&this.setAttribute("aria-disabled",!0);c&&this.removeAttribute("aria-pressed");break;default:this.addClass(b+"_off"),this.removeClass(b+"_on"),this.removeClass(b+"_disabled"),c&&this.removeAttribute("aria-pressed"),c&&this.removeAttribute("aria-disabled")}},
getFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},copyAttributes:function(a,b){var c=this.$.attributes;b=b||{};for(var e=0;e<c.length;e++){var d=c[e],t=d.nodeName.toLowerCase(),f;if(!(t in b))if("checked"==t&&(f=this.getAttribute(t)))a.setAttribute(t,f);else if(!CKEDITOR.env.ie||this.hasAttribute(t))f=this.getAttribute(t),null===f&&(f=d.nodeValue),a.setAttribute(t,f)}""!==this.$.style.cssText&&
(a.$.style.cssText=this.$.style.cssText)},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument();a=new CKEDITOR.dom.element(a,b);this.copyAttributes(a);this.moveChildren(a);this.getParent(!0)&&this.$.parentNode.replaceChild(a.$,this.$);a.$["data-cke-expando"]=this.$["data-cke-expando"];this.$=a.$;delete this.getName}},getChild:function(){function a(b,c){var e=b.childNodes;if(0<=c&&c<e.length)return e[c]}return function(b){var c=this.$;if(b.slice)for(b=b.slice();0<b.length&&c;)c=a(c,
b.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT&&b.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(b){b.data.getTarget().getAscendant(a,!0)||b.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||
"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(a,b){a="data-"+a;if(void 0===b)return this.getAttribute(a);!1===b?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(a){var b=CKEDITOR.instances,c,e,d;a=a||void 0===a;for(c in b)if(e=b[c],e.element.equals(this)&&e.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!a&&(d=e.editable())&&(d.equals(this)||d.contains(this)))return e;return null},find:function(a){var c=d(this);a=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(b(this,
a)));c();return a},findOne:function(a){var c=d(this);a=this.$.querySelector(b(this,a));c();return a?new CKEDITOR.dom.element(a):null},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var e=a(this);if(!1!==e){c=this.getChildren();for(var d=0;d<c.count();d++)e=c.getItem(d),e.type==CKEDITOR.NODE_ELEMENT?e.forEach(a,b):b&&e.type!=b||a(e)}},fireEventHandler:function(a,b){var c="on"+a,e=this.$;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version){var d=e.ownerDocument.createEventObject(),f;for(f in b)d[f]=b[f];e.fireEvent(c,
d)}else e[e[a]?a:c](b)},isDetached:function(){var a=this.getDocument(),b=a.getDocumentElement();return b.equals(this)||b.contains(this)?!CKEDITOR.env.ie||8<CKEDITOR.env.version&&!CKEDITOR.env.quirks?!a.$.defaultView:!1:!0}});var k={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(a,b,d){"number"==typeof b&&(!d||CKEDITOR.env.ie&&CKEDITOR.env.quirks||
(b-=c.call(this,a)),this.setStyle(a,b+"px"))};CKEDITOR.dom.element.prototype.getSize=function(a,b){var d=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(a)],this.$["client"+CKEDITOR.tools.capitalize(a)])||0;b&&(d-=c.call(this,a));return d}})();CKEDITOR.dom.documentFragment=function(a){a=a||CKEDITOR.document;this.$=a.type==CKEDITOR.NODE_DOCUMENT?a.$.createDocumentFragment():a};
CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(a){a=a.$;a.parentNode.insertBefore(this.$,a.nextSibling)},getHtml:function(){var a=new CKEDITOR.dom.element("div");this.clone(1,1).appendTo(a);return a.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,
insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.document.prototype,!0,{find:1,findOne:1});
(function(){function a(a,b){var c=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(c.collapsed)return this.end(),null;c.optimize()}var e,d=c.startContainer;e=c.endContainer;var f=c.startOffset,x=c.endOffset,h,g=this.guard,m=this.type,B=a?"getPreviousSourceNode":"getNextSourceNode";if(!a&&!this._.guardLTR){var K=e.type==CKEDITOR.NODE_ELEMENT?e:e.getParent(),A=e.type==CKEDITOR.NODE_ELEMENT?e.getChild(x):e.getNext();this._.guardLTR=function(a,b){return(!b||!K.equals(a))&&(!A||
!a.equals(A))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}if(a&&!this._.guardRTL){var k=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),r=d.type==CKEDITOR.NODE_ELEMENT?f?d.getChild(f-1):null:d.getPrevious();this._.guardRTL=function(a,b){return(!b||!k.equals(a))&&(!r||!a.equals(r))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}var C=a?this._.guardRTL:this._.guardLTR;h=g?function(a,b){return!1===C(a,b)?!1:g(a,b)}:C;this.current?e=this.current[B](!1,m,h):(a?e.type==CKEDITOR.NODE_ELEMENT&&
(e=0<x?e.getChild(x-1):!1===h(e,!0)?null:e.getPreviousSourceNode(!0,m,h)):(e=d,e.type==CKEDITOR.NODE_ELEMENT&&((e=e.getChild(f))||(e=!1===h(d,!0)?null:d.getNextSourceNode(!0,m,h)))),e&&!1===h(e)&&(e=null));for(;e&&!this._.end;){this.current=e;if(!this.evaluator||!1!==this.evaluator(e)){if(!b)return e}else if(b&&this.evaluator)return!1;e=e[B](!1,m,h)}this.end();return this.current=null}function d(b){for(var c,e=null;c=a.call(this,b);)e=c;return e}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(a){this.range=
a;this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:function(){return!1!==a.call(this,1,1)},lastForward:function(){return d.call(this)},lastBackward:function(){return d.call(this,1)},reset:function(){delete this.current;this._={}}}});var b={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,
"table-column":1,"table-cell":1,"table-caption":1},c={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(a){return"none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in c||!b[this.getComputedStyle("display")]?!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a)):!0};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})};
CKEDITOR.dom.walker.bookmark=function(a,b){function c(a){return a&&a.getName&&"span"==a.getName()&&a.data("cke-bookmark")}return function(e){var d,f;d=e&&e.type!=CKEDITOR.NODE_ELEMENT&&(f=e.getParent())&&c(f);d=a?d:d||c(e);return!!(b^d)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var c;b&&b.type==CKEDITOR.NODE_TEXT&&(c=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE);return!!(a^c)}};CKEDITOR.dom.walker.invisible=
function(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.env.webkit?1:0;return function(e){b(e)?e=1:(e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent()),e=e.$.offsetWidth<=c);return!!(a^e)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(c){return!!(b^c.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!h(a)&&!k(a)}return function(c){var e=CKEDITOR.env.needsBrFiller?c.is&&c.is("br"):c.getText&&f.test(c.getText());e&&(e=c.getParent(),c=c.getNext(b),e=e.isBlockBoundary()&&
(!c||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()));return!!(a^e)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute("data-cke-temp");return!!(a^b)}};var f=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,h=CKEDITOR.dom.walker.whitespaces(),k=CKEDITOR.dom.walker.bookmark(),g=CKEDITOR.dom.walker.temp(),l=function(a){return k(a)||h(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=
function(a){return function(b){b=h(b)||k(b)||g(b);return!!(a^b)}};var v=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(a){return function(b){for(var c=0,e=b.getChildCount();c<e;++c)if(!v(b.getChild(c)))return!!a;return!a}};var e=CKEDITOR.dom.walker.empty(),x=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(a){var b={},c;for(c in a)CKEDITOR.dtd[c]["#"]&&(b[c]=1);return b}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(a){return function(b){b=
v(b)?!1:b.type==CKEDITOR.NODE_TEXT||b.type==CKEDITOR.NODE_ELEMENT&&(b.is(CKEDITOR.dtd.$inline)||b.is("hr")||"false"==b.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&b.is(x)&&e(b))?!0:!1;return!!(a^b)}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(l(a));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is("br"):a.getText&&f.test(a.getText()))?a:!1}})();
CKEDITOR.dom.range=function(a){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null;this.collapsed=!0;var d=a instanceof CKEDITOR.dom.document;this.document=d?a:a.getDocument();this.root=d?a.getBody():a};
(function(){function a(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset}function d(a,b,c,d,f){function h(a,b,c,e){var D=c?a.getPrevious():a.getNext();if(e&&k)return D;l||e?b.append(a.clone(!0,f),c):(a.remove(),v&&b.append(a,c));return D}function n(){var a,b,c,e=Math.min(S.length,p.length);for(a=0;a<e;a++)if(b=S[a],c=p[a],!b.equals(c))return a;return a-1}function g(){var b=N-1,c=C&&F&&!m.equals(B);b<O-1||b<q-1||c?(c?a.moveToPosition(B,
CKEDITOR.POSITION_BEFORE_START):q==b+1&&r?a.moveToPosition(p[b],CKEDITOR.POSITION_BEFORE_END):a.moveToPosition(p[b+1],CKEDITOR.POSITION_BEFORE_START),d&&(b=S[b+1])&&b.type==CKEDITOR.NODE_ELEMENT&&(c=CKEDITOR.dom.element.createFromHtml('\x3cspan data-cke-bookmark\x3d"1" style\x3d"display:none"\x3e\x26nbsp;\x3c/span\x3e',a.document),c.insertAfter(b),b.mergeSiblings(!1),a.moveToBookmark({startNode:c}))):a.collapse(!0)}a.optimizeBookmark();var k=0===b,v=1==b,l=2==b;b=l||v;var m=a.startContainer,B=a.endContainer,
K=a.startOffset,A=a.endOffset,M,r,C,F,w,T;if(l&&B.type==CKEDITOR.NODE_TEXT&&(m.equals(B)||m.type===CKEDITOR.NODE_ELEMENT&&m.getFirst().equals(B)))c.append(a.document.createText(B.substring(K,A)));else{B.type==CKEDITOR.NODE_TEXT?l?T=!0:B=B.split(A):0<B.getChildCount()?A>=B.getChildCount()?(B=B.getChild(A-1),r=!0):B=B.getChild(A):F=r=!0;m.type==CKEDITOR.NODE_TEXT?l?w=!0:m.split(K):0<m.getChildCount()?0===K?(m=m.getChild(K),M=!0):m=m.getChild(K-1):C=M=!0;for(var S=m.getParents(),p=B.getParents(),N=n(),
O=S.length-1,q=p.length-1,E=c,D,ba,J,da=-1,U=N;U<=O;U++){ba=S[U];J=ba.getNext();for(U!=O||ba.equals(p[U])&&O<q?b&&(D=E.append(ba.clone(0,f))):M?h(ba,E,!1,C):w&&E.append(a.document.createText(ba.substring(K)));J;){if(J.equals(p[U])){da=U;break}J=h(J,E)}E=D}E=c;for(U=N;U<=q;U++)if(c=p[U],J=c.getPrevious(),c.equals(S[U]))b&&(E=E.getChild(0));else{U!=q||c.equals(S[U])&&q<O?b&&(D=E.append(c.clone(0,f))):r?h(c,E,!1,F):T&&E.append(a.document.createText(c.substring(0,A)));if(U>da)for(;J;)J=h(J,E,!0);E=D}l||
g()}}function b(){var a=!1,b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!0),d=CKEDITOR.dom.walker.bogus();return function(f){return c(f)||b(f)?!0:d(f)&&!a?a=!0:f.type==CKEDITOR.NODE_TEXT&&(f.hasAscendant("pre")||CKEDITOR.tools.trim(f.getText()).length)||f.type==CKEDITOR.NODE_ELEMENT&&!f.is(h)?!1:!0}}function c(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(1);return function(d){return c(d)||b(d)?!0:!a&&k(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.is(CKEDITOR.dtd.$removeEmpty)}}
function f(a){return function(){var b;return this[a?"getPreviousNode":"getNextNode"](function(a){!b&&v(a)&&(b=a);return l(a)&&!(k(a)&&a.equals(b))})}}var h={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},k=CKEDITOR.dom.walker.bogus(),g=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,l=CKEDITOR.dom.walker.editable(),v=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var a=
new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset);this.collapsed=!0},cloneContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||
d(this,2,b,!1,"undefined"==typeof a?!0:a);return b},deleteContents:function(a){this.collapsed||d(this,0,null,a)},extractContents:function(a,b){var c=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||d(this,1,c,a,"undefined"==typeof b?!0:b);return c},equals:function(a){return this.startOffset===a.startOffset&&this.endOffset===a.endOffset&&this.startContainer.equals(a.startContainer)&&this.endContainer.equals(a.endContainer)},createBookmark:function(a){function b(a){return a.getAscendant(function(a){var b;
if(b=a.data&&a.data("cke-temp"))b=-1===CKEDITOR.tools.array.indexOf(["cke_copybin","cke_pastebin"],a.getAttribute("id"));return b},!0)}var c=this.startContainer,d=this.endContainer,f=this.collapsed,h,n,g,k;h=this.document.createElement("span");h.data("cke-bookmark",1);h.setStyle("display","none");h.setHtml("\x26nbsp;");a&&(g="cke_bm_"+CKEDITOR.tools.getNextNumber(),h.setAttribute("id",g+(f?"C":"S")));f||(n=h.clone(),n.setHtml("\x26nbsp;"),a&&n.setAttribute("id",g+"E"),k=this.clone(),b(d)&&(d=b(d),
k.moveToPosition(d,CKEDITOR.POSITION_AFTER_END)),k.collapse(),k.insertNode(n));k=this.clone();b(c)&&(d=b(c),k.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START));k.collapse(!0);k.insertNode(h);n?(this.setStartAfter(h),this.setEndBefore(n)):this.moveToPosition(h,CKEDITOR.POSITION_AFTER_END);return{startNode:a?g+(f?"C":"S"):h,endNode:a?g+"E":n,serializable:a,collapsed:f}},createBookmark2:function(){function a(b){var e=b.container,d=b.offset,n;n=e;var f=d;n=n.type!=CKEDITOR.NODE_ELEMENT||0===f||f==n.getChildCount()?
0:n.getChild(f-1).type==CKEDITOR.NODE_TEXT&&n.getChild(f).type==CKEDITOR.NODE_TEXT;n&&(e=e.getChild(d-1),d=e.getLength());if(e.type==CKEDITOR.NODE_ELEMENT&&0<d){a:{for(n=e;d--;)if(f=n.getChild(d).getIndex(!0),0<=f){d=f;break a}d=-1}d+=1}if(e.type==CKEDITOR.NODE_TEXT){n=e;for(f=0;(n=n.getPrevious())&&n.type==CKEDITOR.NODE_TEXT;)f+=n.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;n=f;e.isEmpty()?(f=e.getPrevious(c),n?(d=n,e=f?f.getNext():e.getParent().getFirst()):(e=e.getParent(),
d=f?f.getIndex(!0)+1:0)):d+=n}b.container=e;b.offset=d}function b(a,c){var e=c.getCustomData("cke-fillingChar");if(e){var d=a.container;e.equals(d)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=d.getIndex(),a.container=d.getParent()))}}var c=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(c){var d=this.collapsed,f={container:this.startContainer,offset:this.startOffset},n={container:this.endContainer,offset:this.endOffset};c&&(a(f),b(f,this.root),
d||(a(n),b(n,this.root)));return{start:f.container.getAddress(c),end:d?null:n.container.getAddress(c),startOffset:f.offset,endOffset:n.offset,normalized:c,collapsed:d,is2:!0}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),c=a.startOffset,d=a.end&&this.document.getByAddress(a.end,a.normalized);a=a.endOffset;this.setStart(b,c);d?this.setEnd(d,a):this.collapse(!0)}else b=(c=a.serializable)?this.document.getById(a.startNode):a.startNode,a=c?this.document.getById(a.endNode):
a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,d=this.endOffset,f;if(a.type==CKEDITOR.NODE_ELEMENT)if(f=a.getChildCount(),f>c)a=a.getChild(c);else if(1>f)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=a.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(f=b.getChildCount(),f>d)b=b.getChild(d).getPreviousSourceNode(!0);
else if(1>f)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var c=this.startContainer,d=this.endContainer,c=c.equals(d)?a&&c.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?c.getChild(this.startOffset):c:c.getCommonAncestor(d);return b&&!c.is?c.getParent():c},optimize:function(){var a=this.startContainer,b=this.startOffset;
a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is("span")&&a.data("cke-bookmark")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);b&&b.is&&b.is("span")&&b.data("cke-bookmark")&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,
b){var c=this.startContainer,d=this.startOffset,f=this.collapsed;if((!a||f)&&c&&c.type==CKEDITOR.NODE_TEXT){if(d)if(d>=c.getLength())d=c.getIndex()+1,c=c.getParent();else{var h=c.split(d),d=c.getIndex()+1,c=c.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(h,this.endOffset-this.startOffset):c.equals(this.endContainer)&&(this.endOffset+=1)}else d=c.getIndex(),c=c.getParent();this.setStart(c,d);if(f){this.collapse(!0);return}}c=this.endContainer;d=this.endOffset;b||f||!c||c.type!=
CKEDITOR.NODE_TEXT||(d?(d>=c.getLength()||c.split(d),d=c.getIndex()+1):d=c.getIndex(),c=c.getParent(),this.setEnd(c,d))},enlarge:function(a,b){function c(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("contenteditable")?null:a}var d=new RegExp(/[^\s\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var f=1;case CKEDITOR.ENLARGE_ELEMENT:var h=function(a,b){var c=new CKEDITOR.dom.range(g);c.setStart(a,b);c.setEndAt(g,CKEDITOR.POSITION_BEFORE_END);var c=new CKEDITOR.dom.walker(c),e;for(c.guard=
function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};e=c.next();){if(e.type!=CKEDITOR.NODE_TEXT)return!1;M=e!=a?e.getText():e.substring(b);if(d.test(M))return!1}return!0};if(this.collapsed)break;var n=this.getCommonAncestor(),g=this.root,k,v,l,m,B,K=!1,A,M;A=this.startContainer;var r=this.startOffset;A.type==CKEDITOR.NODE_TEXT?(r&&(A=!CKEDITOR.tools.trim(A.substring(0,r)).length&&A,K=!!A),A&&((m=A.getPrevious())||(l=A.getParent()))):(r&&(m=A.getChild(r-1)||A.getLast()),m||(l=A));
for(l=c(l);l||m;){if(l&&!m){!B&&l.equals(n)&&(B=!0);if(f?l.isBlockBoundary():!g.contains(l))break;K&&"inline"==l.getComputedStyle("display")||(K=!1,B?k=l:this.setStartBefore(l));m=l.getPrevious()}for(;m;)if(A=!1,m.type==CKEDITOR.NODE_COMMENT)m=m.getPrevious();else{if(m.type==CKEDITOR.NODE_TEXT)M=m.getText(),d.test(M)&&(m=null),A=/[\s\ufeff]$/.test(M);else if((m.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||b&&m.is("br"))&&!m.data("cke-bookmark"))if(K&&CKEDITOR.dtd.$removeEmpty[m.getName()]){M=m.getText();
if(d.test(M))m=null;else for(var r=m.$.getElementsByTagName("*"),C=0,F;F=r[C++];)if(!CKEDITOR.dtd.$removeEmpty[F.nodeName.toLowerCase()]){m=null;break}m&&(A=!!M.length)}else m=null;A&&(K?B?k=l:l&&this.setStartBefore(l):K=!0);if(m){A=m.getPrevious();if(!l&&!A){l=m;m=null;break}m=A}else l=null}l&&(l=c(l.getParent()))}A=this.endContainer;r=this.endOffset;l=m=null;B=K=!1;A.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(A.substring(r)).length?K=!0:(K=!A.getLength(),r==A.getLength()?(m=A.getNext())||(l=A.getParent()):
h(A,r)&&(l=A.getParent())):(m=A.getChild(r))||(l=A);for(;l||m;){if(l&&!m){!B&&l.equals(n)&&(B=!0);if(f?l.isBlockBoundary():!g.contains(l))break;K&&"inline"==l.getComputedStyle("display")||(K=!1,B?v=l:l&&this.setEndAfter(l));m=l.getNext()}for(;m;){A=!1;if(m.type==CKEDITOR.NODE_TEXT)M=m.getText(),h(m,0)||(m=null),A=/^[\s\ufeff]/.test(M);else if(m.type==CKEDITOR.NODE_ELEMENT){if((0<m.$.offsetWidth||b&&m.is("br"))&&!m.data("cke-bookmark"))if(K&&CKEDITOR.dtd.$removeEmpty[m.getName()]){M=m.getText();if(d.test(M))m=
null;else for(r=m.$.getElementsByTagName("*"),C=0;F=r[C++];)if(!CKEDITOR.dtd.$removeEmpty[F.nodeName.toLowerCase()]){m=null;break}m&&(A=!!M.length)}else m=null}else A=1;A&&K&&(B?v=l:this.setEndAfter(l));if(m){A=m.getNext();if(!l&&!A){l=m;m=null;break}m=A}else l=null}l&&(l=c(l.getParent()))}k&&v&&(n=k.contains(v)?v:k,this.setStartBefore(n),this.setEndAfter(n));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:l=new CKEDITOR.dom.range(this.root);g=this.root;l.setStartAt(g,
CKEDITOR.POSITION_AFTER_START);l.setEnd(this.startContainer,this.startOffset);l=new CKEDITOR.dom.walker(l);var w,T,S=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),p=null,N=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&"false"==a.getAttribute("contenteditable"))if(p){if(p.equals(a)){p=null;return}}else p=a;else if(p)return;var b=S(a);b||(w=a);return b},f=function(a){var b=N(a);!b&&a.is&&a.is("br")&&(T=a);return b};l.guard=N;l=l.lastBackward();w=w||g;this.setStartAt(w,
!w.is("br")&&(!l&&this.checkStartOfBlock()||l&&w.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone();l=new CKEDITOR.dom.walker(l);var O=CKEDITOR.dom.walker.whitespaces(),q=CKEDITOR.dom.walker.bookmark();l.evaluator=function(a){return!O(a)&&!q(a)};if((l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}l=this.clone();l.collapse();l.setEndAt(g,CKEDITOR.POSITION_BEFORE_END);l=new CKEDITOR.dom.walker(l);l.guard=
a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?f:N;w=p=T=null;l=l.lastForward();w=w||g;this.setEndAt(w,!l&&this.checkEndOfBlock()||l&&w.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);T&&this.setEndAfter(T)}},shrink:function(a,b,c){var d="boolean"===typeof c?c:c&&"boolean"===typeof c.shrinkOnBlockBoundary?c.shrinkOnBlockBoundary:!0,f=c&&c.skipBogus;if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var h=this.clone(),n=this.startContainer,g=this.endContainer,k=this.startOffset,l=this.endOffset,
v=c=1;n&&n.type==CKEDITOR.NODE_TEXT&&(k?k>=n.getLength()?h.setStartAfter(n):(h.setStartBefore(n),c=0):h.setStartBefore(n));g&&g.type==CKEDITOR.NODE_TEXT&&(l?l>=g.getLength()?h.setEndAfter(g):(h.setEndAfter(g),v=0):h.setEndBefore(g));var h=new CKEDITOR.dom.walker(h),m=CKEDITOR.dom.walker.bookmark(),B=CKEDITOR.dom.walker.bogus();h.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var K;h.guard=function(b,c){if(f&&B(b)||m(b))return!0;if(a==CKEDITOR.SHRINK_ELEMENT&&
b.type==CKEDITOR.NODE_TEXT||c&&b.equals(K)||!1===d&&b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute("contenteditable"))return!1;c||b.type!=CKEDITOR.NODE_ELEMENT||(K=b);return!0};c&&(n=h[a==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(n,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);v&&(h.reset(),(h=h[a==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(h,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END));
return!(!c&&!v)}},insertNode:function(a){this.optimizeBookmark();this.trim(!1,!0);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(!0)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);this.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,
a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},setStart:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex(),b=b.getParent());this._setStartContainer(b);this.startOffset=c;this.endContainer||(this._setEndContainer(b),this.endOffset=c);a(this)},setEnd:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex()+1,b=b.getParent());this._setEndContainer(b);this.endOffset=c;this.startContainer||(this._setStartContainer(b),
this.startOffset=c);a(this)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setStart(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setStart(b,b.getLength()):this.setStart(b,
b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(b)}a(this)},setEndAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setEnd(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setEnd(b,b.getLength()):this.setEnd(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(b)}a(this)},fixBlock:function(a,
b){var c=this.createBookmark(),d=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(d);d.trim();this.insertNode(d);var f=d.getBogus();f&&f.remove();d.appendBogus();this.moveToBookmark(c);return d},splitBlock:function(a,b){var c=new CKEDITOR.dom.elementPath(this.startContainer,this.root),d=new CKEDITOR.dom.elementPath(this.endContainer,this.root),f=c.block,h=d.block,n=null;if(!c.blockLimit.equals(d.blockLimit))return null;"br"!=
a&&(f||(f=this.fixBlock(!0,a),h=(new CKEDITOR.dom.elementPath(this.endContainer,this.root)).block),h||(h=this.fixBlock(!1,a)));c=f&&this.checkStartOfBlock();d=h&&this.checkEndOfBlock();this.deleteContents();f&&f.equals(h)&&(d?(n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(h,CKEDITOR.POSITION_AFTER_END),h=null):c?(n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START),f=null):(h=this.splitElement(f,b||
!1),f.is("ul","ol")||f.appendBogus()));return{previousBlock:f,nextBlock:h,wasStartOfBlock:c,wasEndOfBlock:d,elementPath:n}},splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var c=this.extractContents(!1,b||!1),d=a.clone(!1,b||!1);c.appendTo(d);d.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return d},removeEmptyBlocksAtEnd:function(){function a(e){return function(a){return b(a)||c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable()||
e.is("table")&&a.is("caption")?!1:!0}}var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!1);return function(b){for(var c=this.createBookmark(),d=this[b?"endPath":"startPath"](),f=d.block||d.blockLimit,h;f&&!f.equals(d.root)&&!f.getFirst(a(f));)h=f.getParent(),this[b?"setEndAt":"setStartAt"](f,CKEDITOR.POSITION_AFTER_END),f.remove(1),f=h;this.moveToBookmark(c)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,
this.root)},checkBoundaryOfElement:function(a,b){var d=b==CKEDITOR.START,f=this.clone();f.collapse(d);f[d?"setStartAt":"setEndAt"](a,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);f=new CKEDITOR.dom.walker(f);f.evaluator=c(d);return f[d?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var a=this.startContainer,c=this.startOffset;CKEDITOR.env.ie&&c&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.ltrim(a.substring(0,c)),g.test(a)&&this.trim(0,1));this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,
this.root);c=this.clone();c.collapse(!0);c.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkBackward()},checkEndOfBlock:function(){var a=this.endContainer,c=this.endOffset;CKEDITOR.env.ie&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.rtrim(a.substring(c)),g.test(a)&&this.trim(1,0));this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,this.root);c=this.clone();c.collapse(!1);c.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);
a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkForward()},getPreviousNode:function(a,b,c){var d=this.clone();d.collapse(1);d.setStartAt(c||this.root,CKEDITOR.POSITION_AFTER_START);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.previous()},getNextNode:function(a,b,c){var d=this.clone();d.collapse();d.setEndAt(c||this.root,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.next()},checkReadOnly:function(){function a(b,c){for(;b;){if(b.type==
CKEDITOR.NODE_ELEMENT){if("false"==b.getAttribute("contentEditable")&&!b.data("cke-editable"))return 0;if(b.is("html")||"true"==b.getAttribute("contentEditable")&&(b.contains(c)||b.equals(c)))break}b=b.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),
!0;for(var c=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&g.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);c=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),c=1;else if(b&&a.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);
else if("false"==a.getAttribute("contenteditable")&&a.is(CKEDITOR.dtd.$block))return this.setStartBefore(a),this.setEndAfter(a),!0;var d=a,f=c,h=void 0;d.type==CKEDITOR.NODE_ELEMENT&&d.isEditable(!1)&&(h=d[b?"getLast":"getFirst"](v));f||h||(h=d[b?"getPrevious":"getNext"](v));a=h}return!!c},moveToClosestEditablePosition:function(a,b){var c,d=0,f,h,n=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(c=new CKEDITOR.dom.range(this.root),c.moveToPosition(a,n[b?0:1])):c=this.clone();if(a&&
!a.is(CKEDITOR.dtd.$block))d=1;else if(f=c[b?"getNextEditableNode":"getPreviousEditableNode"]())d=1,(h=f.type==CKEDITOR.NODE_ELEMENT)&&f.is(CKEDITOR.dtd.$block)&&"false"==f.getAttribute("contenteditable")?(c.setStartAt(f,CKEDITOR.POSITION_BEFORE_START),c.setEndAt(f,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&h&&f.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(c.setEnd(f,0),c.collapse()):c.moveToPosition(f,n[b?1:0]);d&&this.moveToRange(c);return!!d},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},
moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();a.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:function(){var a=this.startContainer;
return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:f(),getPreviousEditableNode:f(1),_getTableElement:function(a){a=a||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var b=this.getTouchedStartNode(),c=this.getTouchedEndNode(),d=b.getAscendant("table",!0),c=c.getAscendant("table",!0);return d&&!this.root.contains(d)?
null:this.getEnclosedNode()?this.getEnclosedNode().getAscendant(a,!0):d&&c&&(d.equals(c)||d.contains(c)||c.contains(d))?b.getAscendant(a,!0):null},scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml("\x3cspan\x3e\x26nbsp;\x3c/span\x3e",this.document),b,c,d,f=this.clone();f.optimize();(d=f.startContainer.type==CKEDITOR.NODE_TEXT)?(c=f.startContainer.getText(),b=f.startContainer.split(f.startOffset),a.insertAfter(f.startContainer)):f.insertNode(a);a.scrollIntoView();d&&(f.startContainer.setText(c),
b.remove());a.remove()},getClientRects:function(){function a(b,c){var d=CKEDITOR.tools.array.map(b,function(a){return a}),e=new CKEDITOR.dom.range(c.root),f,h,g;c.startContainer instanceof CKEDITOR.dom.element&&(h=0===c.startOffset&&c.startContainer.hasAttribute("data-widget"));c.endContainer instanceof CKEDITOR.dom.element&&(g=(g=c.endOffset===(c.endContainer.getChildCount?c.endContainer.getChildCount():c.endContainer.length))&&c.endContainer.hasAttribute("data-widget"));h&&e.setStart(c.startContainer.getParent(),
c.startContainer.getIndex());g&&e.setEnd(c.endContainer.getParent(),c.endContainer.getIndex()+1);if(h||g)c=e;e=c.cloneContents().find("[data-cke-widget-id]").toArray();if(e=CKEDITOR.tools.array.map(e,function(a){var b=c.root.editor;a=a.getAttribute("data-cke-widget-id");return b.widgets.instances[a].element}))return e=CKEDITOR.tools.array.map(e,function(a){var b;b=a.getParent().hasClass("cke_widget_wrapper")?a.getParent():a;f=this.root.getDocument().$.createRange();f.setStart(b.getParent().$,b.getIndex());
f.setEnd(b.getParent().$,b.getIndex()+1);b=f.getClientRects();b.widgetRect=a.getClientRect();return b},c),CKEDITOR.tools.array.forEach(e,function(a){function b(e){CKEDITOR.tools.array.forEach(d,function(b,f){var h=CKEDITOR.tools.objectCompare(a[e],b);h||(h=CKEDITOR.tools.objectCompare(a.widgetRect,b));h&&(Array.prototype.splice.call(d,f,a.length-e,a.widgetRect),c=!0)});c||(e<d.length-1?b(e+1):d.push(a.widgetRect))}var c;b(0)}),d}function b(a,c,e){var f;c.collapsed?e.startContainer instanceof CKEDITOR.dom.element?
(a=e.checkStartOfBlock(),f=new CKEDITOR.dom.text("​"),a?e.startContainer.append(f,!0):0===e.startOffset?f.insertBefore(e.startContainer.getFirst()):(e=e.startContainer.getChildren().getItem(e.startOffset-1),f.insertAfter(e)),c.setStart(f.$,0),c.setEnd(f.$,0),a=c.getClientRects(),f.remove()):e.startContainer instanceof CKEDITOR.dom.text&&(""===e.startContainer.getText()?(e.startContainer.setText("​"),a=c.getClientRects(),e.startContainer.setText("")):a=[d(e.createBookmark())]):a=[d(e.createBookmark())];
return a}function c(a,b,d){a=CKEDITOR.tools.extend({},a);b&&(a=CKEDITOR.tools.getAbsoluteRectPosition(d.document.getWindow(),a));!a.width&&(a.width=a.right-a.left);!a.height&&(a.height=a.bottom-a.top);return a}function d(a){var b=a.startNode;a=a.endNode;var c;b.setText("​");b.removeStyle("display");a?(a.setText("​"),a.removeStyle("display"),c=[b.getClientRect(),a.getClientRect()],a.remove()):c=[b.getClientRect(),b.getClientRect()];b.remove();return{right:Math.max(c[0].right,c[1].right),bottom:Math.max(c[0].bottom,
c[1].bottom),left:Math.min(c[0].left,c[1].left),top:Math.min(c[0].top,c[1].top),width:Math.abs(c[0].left-c[1].left),height:Math.max(c[0].bottom,c[1].bottom)-Math.min(c[0].top,c[1].top)}}return void 0!==this.document.getSelection?function(d){var f=this.root.getDocument().$.createRange(),n;f.setStart(this.startContainer.$,this.startOffset);f.setEnd(this.endContainer.$,this.endOffset);n=f.getClientRects();n=a(n,this);n.length||(n=b(n,f,this));return CKEDITOR.tools.array.map(n,function(a){return c(a,
d,this)},this)}:function(a){return[c(d(this.createBookmark()),a,this)]}}(),_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a},_find:function(a,b){var c=this.getCommonAncestor(),d=this.getBoundaryNodes(),f=[],h,n,g,k;if(c&&c.find)for(n=c.find(a),h=0;h<n.count();h++)if(c=n.getItem(h),b||!c.isReadOnly())g=c.getPosition(d.startNode)&CKEDITOR.POSITION_FOLLOWING||d.startNode.equals(c),k=c.getPosition(d.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||
d.endNode.equals(c),g&&k&&f.push(c);return f}};CKEDITOR.dom.range.mergeRanges=function(a){return CKEDITOR.tools.array.reduce(a,function(a,b){var c=a[a.length-1],d=!1;b=b.clone();b.enlarge(CKEDITOR.ENLARGE_ELEMENT);if(c){var e=new CKEDITOR.dom.range(b.root),d=new CKEDITOR.dom.walker(e),f=CKEDITOR.dom.walker.whitespaces();e.setStart(c.endContainer,c.endOffset);e.setEnd(b.startContainer,b.startOffset);for(e=d.next();f(e)||b.endContainer.equals(e);)e=d.next();d=!e}d?c.setEnd(b.endContainer,b.endOffset):
a.push(b);return a},[])}})();CKEDITOR.POSITION_AFTER_START=1;CKEDITOR.POSITION_BEFORE_END=2;CKEDITOR.POSITION_BEFORE_START=3;CKEDITOR.POSITION_AFTER_END=4;CKEDITOR.ENLARGE_ELEMENT=1;CKEDITOR.ENLARGE_BLOCK_CONTENTS=2;CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3;CKEDITOR.ENLARGE_INLINE=4;CKEDITOR.START=1;CKEDITOR.END=2;CKEDITOR.SHRINK_ELEMENT=1;CKEDITOR.SHRINK_TEXT=2;"use strict";
(function(){function a(a){1>arguments.length||(this.range=a,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function d(a){var b=[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function b(a,c,f,h){a:{null==h&&(h=d(f));for(var g;g=h.shift();)if(g.getDtd().p){h={element:g,remaining:h};break a}h=null}if(!h)return 0;if((g=CKEDITOR.filter.instances[h.element.data("cke-filter")])&&!g.check(c))return b(a,
c,f,h.remaining);c=new CKEDITOR.dom.range(h.element);c.selectNodeContents(h.element);c=c.createIterator();c.enlargeBr=a.enlargeBr;c.enforceRealBlocks=a.enforceRealBlocks;c.activeFilter=c.filter=g;a._.nestedEditable={element:h.element,container:f,remaining:h.remaining,iterator:c};return 1}function c(a,b,c){if(!b)return!1;a=a.clone();a.collapse(!c);return a.checkBoundaryOfElement(b,c?CKEDITOR.START:CKEDITOR.END)}var f=/^[\r\n\t ]+$/,h=CKEDITOR.dom.walker.bookmark(!1,!0),k=CKEDITOR.dom.walker.whitespaces(!0),
g=function(a){return h(a)&&k(a)},l={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){var d,k,t,z,G;a=a||"p";if(this._.nestedEditable){if(d=this._.nestedEditable.iterator.getNextParagraph(a))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,d;this.activeFilter=this.filter;if(b(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(a);this._.nestedEditable=
null}if(!this.range.root.getDtd()[a])return null;if(!this._.started){var u=this.range.clone();k=u.startPath();var n=u.endPath(),L=!u.collapsed&&c(u,k.block),y=!u.collapsed&&c(u,n.block,1);u.shrink(CKEDITOR.SHRINK_ELEMENT,!0);L&&u.setStartAt(k.block,CKEDITOR.POSITION_BEFORE_END);y&&u.setEndAt(n.block,CKEDITOR.POSITION_AFTER_START);k=u.endContainer.hasAscendant("pre",!0)||u.startContainer.hasAscendant("pre",!0);u.enlarge(this.forceBrBreak&&!k||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);
u.collapsed||(k=new CKEDITOR.dom.walker(u.clone()),n=CKEDITOR.dom.walker.bookmark(!0,!0),k.evaluator=n,this._.nextNode=k.next(),k=new CKEDITOR.dom.walker(u.clone()),k.evaluator=n,k=k.previous(),this._.lastNode=k.getNextSourceNode(!0,null,u.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(n=this.range.clone(),n.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),n.checkEndOfBlock()&&
(n=new CKEDITOR.dom.elementPath(n.endContainer,n.root),this._.lastNode=(n.block||n.blockLimit).getNextSourceNode(!0))),this._.lastNode&&u.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=u.document.createText(""),this._.lastNode.insertAfter(k)),u=null);this._.started=1;k=u}n=this._.nextNode;u=this._.lastNode;for(this._.nextNode=null;n;){var L=0,y=n.hasAscendant("pre"),H=n.type!=CKEDITOR.NODE_ELEMENT,I=0;if(H)n.type==CKEDITOR.NODE_TEXT&&f.test(n.getText())&&(H=0);else{var m=n.getName();
if(CKEDITOR.dtd.$block[m]&&"false"==n.getAttribute("contenteditable")){d=n;b(this,a,d);break}else if(n.isBlockBoundary(this.forceBrBreak&&!y&&{br:1})){if("br"==m)H=1;else if(!k&&!n.getChildCount()&&"hr"!=m){d=n;t=n.equals(u);break}k&&(k.setEndAt(n,CKEDITOR.POSITION_BEFORE_START),"br"!=m&&(this._.nextNode=n));L=1}else{if(n.getFirst()){k||(k=this.range.clone(),k.setStartAt(n,CKEDITOR.POSITION_BEFORE_START));n=n.getFirst();continue}H=1}}H&&!k&&(k=this.range.clone(),k.setStartAt(n,CKEDITOR.POSITION_BEFORE_START));
t=(!L||H)&&n.equals(u);if(k&&!L)for(;!n.getNext(g)&&!t;){m=n.getParent();if(m.isBlockBoundary(this.forceBrBreak&&!y&&{br:1})){L=1;H=0;t||m.equals(u);k.setEndAt(m,CKEDITOR.POSITION_BEFORE_END);break}n=m;H=1;t=n.equals(u);I=1}H&&k.setEndAt(n,CKEDITOR.POSITION_AFTER_END);n=this._getNextSourceNode(n,I,u);if((t=!n)||L&&k)break}if(!d){if(!k)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;d=new CKEDITOR.dom.elementPath(k.startContainer,k.root);n=d.blockLimit;L={div:1,th:1,td:1};
d=d.block;!d&&n&&!this.enforceRealBlocks&&L[n.getName()]&&k.checkStartOfBlock()&&k.checkEndOfBlock()&&!n.equals(k.root)?d=n:!d||this.enforceRealBlocks&&d.is(l)?(d=this.range.document.createElement(a),k.extractContents().appendTo(d),d.trim(),k.insertNode(d),z=G=!0):"li"!=d.getName()?k.checkStartOfBlock()&&k.checkEndOfBlock()||(d=d.clone(!1),k.extractContents().appendTo(d),d.trim(),G=k.splitBlock(),z=!G.wasStartOfBlock,G=!G.wasEndOfBlock,k.insertNode(d)):t||(this._.nextNode=d.equals(u)?null:this._getNextSourceNode(k.getBoundaryNodes().endNode,
1,u))}z&&(z=d.getPrevious())&&z.type==CKEDITOR.NODE_ELEMENT&&("br"==z.getName()?z.remove():z.getLast()&&"br"==z.getLast().$.nodeName.toLowerCase()&&z.getLast().remove());G&&(z=d.getLast())&&z.type==CKEDITOR.NODE_ELEMENT&&"br"==z.getName()&&(!CKEDITOR.env.needsBrFiller||z.getPrevious(h)||z.getNext(h))&&z.remove();this._.nextNode||(this._.nextNode=t||d.equals(u)||!u?null:this._getNextSourceNode(d,1,u));return d},_getNextSourceNode:function(a,b,c){function d(a){return!(a.equals(c)||a.equals(f))}var f=
this.range.root;for(a=a.getNextSourceNode(b,null,d);!h(a);)a=a.getNextSourceNode(b,null,d);return a}};CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}})();
CKEDITOR.command=function(a,d){this.uiItems=[];this.exec=function(b){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return!1;this.editorFocus&&a.focus();return!1===this.fire("exec")?!0:!1!==d.exec.call(this,a,b)};this.refresh=function(a,b){if(!this.readOnly&&a.readOnly)return!0;if(this.context&&!b.isContextFor(this.context)||!this.checkAllowed(!0))return this.disable(),!0;this.startDisabled||this.enable();this.modes&&!this.modes[a.mode]&&this.disable();return!1===this.fire("refresh",
{editor:a,path:b})?!0:d.refresh&&!1!==d.refresh.apply(this,arguments)};var b;this.checkAllowed=function(c){return c||"boolean"!=typeof b?b=a.activeFilter.checkFeature(this):b};CKEDITOR.tools.extend(this,d,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!d.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)};
CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(a){if(this.state==a||a!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return!1;this.previousState=this.state;this.state=a;this.fire("state");return!0},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?
this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.event.implementOn(CKEDITOR.command.prototype);CKEDITOR.ENTER_P=1;CKEDITOR.ENTER_BR=2;CKEDITOR.ENTER_DIV=3;
CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"\x3c!DOCTYPE html\x3e",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]};
(function(){function a(a,b,c,d,e){var f,m;a=[];for(f in b){m=b[f];m="boolean"==typeof m?{}:"function"==typeof m?{match:m}:C(m);"$"!=f.charAt(0)&&(m.elements=f);c&&(m.featureName=c.toLowerCase());var q=m;q.elements=k(q.elements,/\s+/)||null;q.propertiesOnly=q.propertiesOnly||!0===q.elements;var F=/\s*,\s*/,r=void 0;for(r in T){q[r]=k(q[r],F)||null;var h=q,p=S[r],n=k(q[S[r]],F),g=q[r],w=[],E=!0,N=void 0;n?E=!1:n={};for(N in g)"!"==N.charAt(0)&&(N=N.slice(1),w.push(N),n[N]=!0,E=!1);for(;N=w.pop();)g[N]=
g["!"+N],delete g["!"+N];h[p]=(E?!1:n)||null}q.match=q.match||null;d.push(m);a.push(m)}b=e.elements;e=e.generic;var B;c=0;for(d=a.length;c<d;++c){f=C(a[c]);m=!0===f.classes||!0===f.styles||!0===f.attributes;q=f;r=p=F=void 0;for(F in T)q[F]=L(q[F]);h=!0;for(r in S){F=S[r];p=q[F];n=[];g=void 0;for(g in p)-1<g.indexOf("*")?n.push(new RegExp("^"+g.replace(/\*/g,".*")+"$")):n.push(g);p=n;p.length&&(q[F]=p,h=!1)}q.nothingRequired=h;q.noProperties=!(q.attributes||q.classes||q.styles);if(!0===f.elements||
null===f.elements)e[m?"unshift":"push"](f);else for(B in q=f.elements,delete f.elements,q)if(b[B])b[B][m?"unshift":"push"](f);else b[B]=[f]}}function d(a,c,d,e){if(!a.match||a.match(c))if(e||g(a,c))if(a.propertiesOnly||(d.valid=!0),d.allAttributes||(d.allAttributes=b(a.attributes,c.attributes,d.validAttributes)),d.allStyles||(d.allStyles=b(a.styles,c.styles,d.validStyles)),!d.allClasses){a=a.classes;c=c.classes;e=d.validClasses;if(a)if(!0===a)a=!0;else{for(var f=0,m=c.length,q;f<m;++f)q=c[f],e[q]||
(e[q]=a(q));a=!1}else a=!1;d.allClasses=a}}function b(a,b,c){if(!a)return!1;if(!0===a)return!0;for(var d in b)c[d]||(c[d]=a(d));return!1}function c(a,b,c){if(!a.match||a.match(b)){if(a.noProperties)return!1;c.hadInvalidAttribute=f(a.attributes,b.attributes)||c.hadInvalidAttribute;c.hadInvalidStyle=f(a.styles,b.styles)||c.hadInvalidStyle;a=a.classes;b=b.classes;if(a){for(var d=!1,e=!0===a,m=b.length;m--;)if(e||a(b[m]))b.splice(m,1),d=!0;a=d}else a=!1;c.hadInvalidClass=a||c.hadInvalidClass}}function f(a,
b){if(!a)return!1;var c=!1,d=!0===a,e;for(e in b)if(d||a(e))delete b[e],c=!0;return c}function h(a,b,c){if(a.disabled||a.customConfig&&!c||!b)return!1;a._.cachedChecks={};return!0}function k(a,b){if(!a)return!1;if(!0===a)return a;if("string"==typeof a)return a=F(a),"*"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));if(CKEDITOR.tools.isArray(a))return a.length?CKEDITOR.tools.convertArrayToObject(a):!1;var c={},d=0,e;for(e in a)c[e]=a[e],d++;return d?c:!1}function g(a,b){if(a.nothingRequired)return!0;
var c,d,e,f;if(e=a.requiredClasses)for(f=b.classes,c=0;c<e.length;++c)if(d=e[c],"string"==typeof d){if(-1==CKEDITOR.tools.indexOf(f,d))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(f,d))return!1;return l(b.styles,a.requiredStyles)&&l(b.attributes,a.requiredAttributes)}function l(a,b){if(!b)return!0;for(var c=0,d;c<b.length;++c)if(d=b[c],"string"==typeof d){if(!(d in a))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,d))return!1;return!0}function v(a){if(!a)return{};
a=a.split(/\s*,\s*/).sort();for(var b={};a.length;)b[a.shift()]="cke-test";return b}function e(a){var b,c,d,e,f={},m=1;for(a=F(a);b=a.match(p);)(c=b[2])?(d=x(c,"styles"),e=x(c,"attrs"),c=x(c,"classes")):d=e=c=null,f["$"+m++]={elements:b[1],classes:c,styles:d,attributes:e},a=a.slice(b[0].length);return f}function x(a,b){var c=a.match(N[b]);return c?F(c[1]):null}function t(a){var b=a.styleBackup=a.attributes.style,c=a.classBackup=a.attributes["class"];a.styles||(a.styles=CKEDITOR.tools.parseCssText(b||
"",1));a.classes||(a.classes=c?c.split(/\s+/):[])}function z(a,b,e,f){var F=0,r;f.toHtml&&(b.name=b.name.replace(O,"$1"));if(f.doCallbacks&&a.elementCallbacks){a:{r=a.elementCallbacks;for(var p=0,h=r.length,g;p<h;++p)if(g=r[p](b)){r=g;break a}r=void 0}if(r)return r}if(f.doTransform&&(r=a._.transformations[b.name])){t(b);for(p=0;p<r.length;++p)m(a,b,r[p]);u(b)}if(f.doFilter){a:{p=b.name;h=a._;a=h.allowedRules.elements[p];r=h.allowedRules.generic;p=h.disallowedRules.elements[p];h=h.disallowedRules.generic;
g=f.skipRequired;var k={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},w,C;if(a||r){t(b);if(p)for(w=0,C=p.length;w<C;++w)if(!1===c(p[w],b,k)){a=null;break a}if(h)for(w=0,C=h.length;w<C;++w)c(h[w],b,k);if(a)for(w=0,C=a.length;w<C;++w)d(a[w],b,k,g);if(r)for(w=0,C=r.length;w<C;++w)d(r[w],b,k,g);a=k}else a=null}if(!a||!a.valid)return e.push(b),1;C=a.validAttributes;var N=a.validStyles;
r=a.validClasses;var p=b.attributes,E=b.styles,h=b.classes;g=b.classBackup;var B=b.styleBackup,A,K,l=[],k=[],M=/^data-cke-/;w=!1;delete p.style;delete p["class"];delete b.classBackup;delete b.styleBackup;if(!a.allAttributes)for(A in p)C[A]||(M.test(A)?A==(K=A.replace(/^data-cke-saved-/,""))||C[K]||(delete p[A],w=!0):(delete p[A],w=!0));if(!a.allStyles||a.hadInvalidStyle){for(A in E)a.allStyles||N[A]?l.push(A+":"+E[A]):w=!0;l.length&&(p.style=l.sort().join("; "))}else B&&(p.style=B);if(!a.allClasses||
a.hadInvalidClass){for(A=0;A<h.length;++A)(a.allClasses||r[h[A]])&&k.push(h[A]);k.length&&(p["class"]=k.sort().join(" "));g&&k.length<g.split(/\s+/).length&&(w=!0)}else g&&(p["class"]=g);w&&(F=1);if(!f.skipFinalValidation&&!n(b))return e.push(b),1}f.toHtml&&(b.name=b.name.replace(q,"cke:$1"));return F}function G(a){var b=[],c;for(c in a)-1<c.indexOf("*")&&b.push(c.replace(/\*/g,".*"));return b.length?new RegExp("^(?:"+b.join("|")+")$"):null}function u(a){var b=a.attributes,c;delete b.style;delete b["class"];
if(c=CKEDITOR.tools.writeCssText(a.styles,!0))b.style=c;a.classes.length&&(b["class"]=a.classes.sort().join(" "))}function n(a){switch(a.name){case "a":if(!(a.children.length||a.attributes.name||a.attributes.id))return!1;break;case "img":if(!a.attributes.src)return!1}return!0}function L(a){if(!a)return!1;if(!0===a)return!0;var b=G(a);return function(c){return c in a||b&&c.match(b)}}function y(){return new CKEDITOR.htmlParser.element("br")}function H(a){return a.type==CKEDITOR.NODE_ELEMENT&&("br"==
a.name||r.$block[a.name])}function I(a,b,c){var d=a.name;if(r.$empty[d]||!a.children.length)"hr"==d&&"br"==b?a.replaceWith(y()):(a.parent&&c.push({check:"it",el:a.parent}),a.remove());else if(r.$block[d]||"tr"==d)if("br"==b)a.previous&&!H(a.previous)&&(b=y(),b.insertBefore(a)),a.next&&!H(a.next)&&(b=y(),b.insertAfter(a)),a.replaceWithChildren();else{var d=a.children,e;b:{e=r[b];for(var f=0,m=d.length,q;f<m;++f)if(q=d[f],q.type==CKEDITOR.NODE_ELEMENT&&!e[q.name]){e=!1;break b}e=!0}if(e)a.name=b,a.attributes=
{},c.push({check:"parent-down",el:a});else{e=a.parent;for(var f=e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==e.name,p,h,m=d.length;0<m;)q=d[--m],f&&(q.type==CKEDITOR.NODE_TEXT||q.type==CKEDITOR.NODE_ELEMENT&&r.$inline[q.name])?(p||(p=new CKEDITOR.htmlParser.element(b),p.insertAfter(a),c.push({check:"parent-down",el:p})),p.add(q,0)):(p=null,h=r[e.name]||r.span,q.insertAfter(a),e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||q.type!=CKEDITOR.NODE_ELEMENT||h[q.name]||c.push({check:"el-up",el:q}));a.remove()}}else d in
{style:1,script:1}?a.remove():(a.parent&&c.push({check:"it",el:a.parent}),a.replaceWithChildren())}function m(a,b,c){var d,e;for(d=0;d<c.length;++d)if(e=c[d],!(e.check&&!a.check(e.check,!1)||e.left&&!e.left(b))){e.right(b,E);break}}function B(a,b){var c=b.getDefinition(),d=c.attributes,e=c.styles,f,m,q,p;if(a.name!=c.element)return!1;for(f in d)if("class"==f)for(c=d[f].split(/\s+/),q=a.classes.join("|");p=c.pop();){if(-1==q.indexOf(p))return!1}else if(a.attributes[f]!=d[f])return!1;for(m in e)if(a.styles[m]!=
e[m])return!1;return!0}function K(a,b){var c,d;"string"==typeof a?c=a:a instanceof CKEDITOR.style?d=a:(c=a[0],d=a[1]);return[{element:c,left:d,right:function(a,c){c.transform(a,b)}}]}function A(a){return function(b){return B(b,a)}}function M(a){return function(b,c){c[a](b)}}var r=CKEDITOR.dtd,C=CKEDITOR.tools.copy,F=CKEDITOR.tools.trim,w=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a,b){this.allowedContent=[];this.disallowedContent=[];this.elementCallbacks=null;this.disabled=
!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}};CKEDITOR.filter.instances[this.id]=this;var c=this.editor=a instanceof CKEDITOR.editor?a:null;if(c&&!b){this.customConfig=!0;var d=c.config.allowedContent;!0===d?this.disabled=!0:(d||(this.customConfig=!1),this.allow(d,"config",1),this.allow(c.config.extraAllowedContent,"extra",1),this.allow(w[c.enterMode]+
" "+w[c.shiftEnterMode],"default",1),this.disallow(c.config.disallowedContent))}else this.customConfig=!1,this.allow(b||a,"default",1)};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,c,d){if(!h(this,b,d))return!1;var f,m;if("string"==typeof b)b=e(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),c,d);f=b.getDefinition();b={};d=f.attributes;b[f.element]=f={styles:f.styles,requiredStyles:f.styles&&CKEDITOR.tools.object.keys(f.styles)};
d&&(d=C(d),f.classes=d["class"]?d["class"].split(/\s+/):null,f.requiredClasses=f.classes,delete d["class"],f.attributes=d,f.requiredAttributes=d&&CKEDITOR.tools.object.keys(d))}else if(CKEDITOR.tools.isArray(b)){for(f=0;f<b.length;++f)m=this.allow(b[f],c,d);return m}a(this,b,c,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,c,d){if(this.disabled)return!1;var e=this,f=[],m=this.editor&&this.editor.config.protectedSource,q,p=!1,h={doFilter:!c,doTransform:!0,doCallbacks:!0,toHtml:b};
a.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if("off"==a.attributes["data-cke-filter"])return!1;if(!b||"span"!=a.name||!~CKEDITOR.tools.object.keys(a.attributes).join("|").indexOf("data-cke-"))if(q=z(e,a,f,h),q&1)p=!0;else if(q&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\{cke_protected\}(?!\{C\})/)){var c;a:{var d=decodeURIComponent(a.value.replace(/^\{cke_protected\}/,""));c=[];var r,F,n;if(m)for(F=0;F<m.length;++F)if((n=d.match(m[F]))&&n[0].length==d.length){c=
!0;break a}d=CKEDITOR.htmlParser.fragment.fromHtml(d);1==d.children.length&&(r=d.children[0]).type==CKEDITOR.NODE_ELEMENT&&z(e,r,c,h);c=!c.length}c||f.push(a)}},null,!0);f.length&&(p=!0);var F;a=[];d=w[d||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var g;c=f.pop();)c.type==CKEDITOR.NODE_ELEMENT?I(c,d,a):c.remove();for(;F=a.pop();)if(c=F.el,c.parent)switch(g=r[c.parent.name]||r.span,F.check){case "it":r.$removeEmpty[c.name]&&!c.children.length?I(c,d,a):n(c)||I(c,d,a);break;case "el-up":c.parent.type==
CKEDITOR.NODE_DOCUMENT_FRAGMENT||g[c.name]||I(c,d,a);break;case "parent-down":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||g[c.name]||I(c.parent,d,a)}return p},checkFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=!0},disallow:function(b){if(!h(this,b,!0))return!1;"string"==typeof b&&(b=e(b));a(this,b,null,this.disallowedContent,this._.disallowedRules);return!0},
addContentForms:function(a){if(!this.disabled&&a){var b,c,d=[],e;for(b=0;b<a.length&&!e;++b)c=a[b],("string"==typeof c||c instanceof CKEDITOR.style)&&this.check(c)&&(e=c);if(e){for(b=0;b<a.length;++b)d.push(K(a[b],e));this.addTransformations(d)}}},addElementCallback:function(a){this.elementCallbacks||(this.elementCallbacks=[]);this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));this.allow(a.allowedContent,a.name);this.addTransformations(a.contentTransformations);
this.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(a.requiredContent):!0},addTransformations:function(a){var b,c;if(!this.disabled&&a){var d=this._.transformations,e;for(e=0;e<a.length;++e){b=a[e];var f=void 0,m=void 0,q=void 0,p=void 0,r=void 0,h=void 0;c=[];for(m=0;m<b.length;++m)q=b[m],"string"==typeof q?(q=q.split(/\s*:\s*/),p=q[0],r=null,h=q[1]):(p=q.check,r=q.left,h=q.right),f||(f=q,f=f.element?f.element:p?p.match(/^([a-z0-9]+)/i)[0]:
f.left.getDefinition().element),r instanceof CKEDITOR.style&&(r=A(r)),c.push({check:p==f?null:p,left:r,right:"string"==typeof h?M(h):h});b=f;d[b]||(d[b]=[]);d[b].push(c)}}},check:function(a,b,c){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(a)){for(var d=a.length;d--;)if(this.check(a[d],b,c))return!0;return!1}var f,q;if("string"==typeof a){q=a+"\x3c"+(!1===b?"0":"1")+(c?"1":"0")+"\x3e";if(q in this._.cachedChecks)return this._.cachedChecks[q];f=e(a).$1;var p=f.styles,d=f.classes;f.name=f.elements;
f.classes=d=d?d.split(/\s*,\s*/):[];f.styles=v(p);f.attributes=v(f.attributes);f.children=[];d.length&&(f.attributes["class"]=d.join(" "));p&&(f.attributes.style=CKEDITOR.tools.writeCssText(f.styles))}else f=a.getDefinition(),p=f.styles,d=f.attributes||{},p&&!CKEDITOR.tools.isEmpty(p)?(p=C(p),d.style=CKEDITOR.tools.writeCssText(p,!0)):p={},f={name:f.element,attributes:d,classes:d["class"]?d["class"].split(/\s+/):[],styles:p,children:[]};var p=CKEDITOR.tools.clone(f),r=[],h;if(!1!==b&&(h=this._.transformations[f.name])){for(d=
0;d<h.length;++d)m(this,f,h[d]);u(f)}z(this,p,r,{doFilter:!0,doTransform:!1!==b,skipRequired:!c,skipFinalValidation:!c});0<r.length?c=!1:((b=f.attributes["class"])&&(f.attributes["class"]=f.attributes["class"].split(" ").sort().join(" ")),c=CKEDITOR.tools.objectCompare(f.attributes,p.attributes,!0),b&&(f.attributes["class"]=b));"string"==typeof a&&(this._.cachedChecks[q]=c);return c},getAllowedEnterMode:function(){var a=["p","div","br"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};
return function(c,d){var f=a.slice(),e;if(this.check(w[c]))return c;for(d||(f=f.reverse());e=f.pop();)if(this.check(e))return b[e];return CKEDITOR.ENTER_BR}}(),clone:function(){var a=new CKEDITOR.filter,b=CKEDITOR.tools.clone;a.allowedContent=b(this.allowedContent);a._.allowedRules=b(this._.allowedRules);a.disallowedContent=b(this.disallowedContent);a._.disallowedRules=b(this._.disallowedRules);a._.transformations=b(this._.transformations);a.disabled=this.disabled;a.editor=this.editor;return a},destroy:function(){delete CKEDITOR.filter.instances[this.id];
delete this._;delete this.allowedContent;delete this.disallowedContent}};var T={styles:1,attributes:1,classes:1},S={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},p=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,N={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},O=/^cke:(object|embed|param)$/,q=/^(object|embed|param)$/,E;E=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,
"width");this.lengthToStyle(a,"height")},sizeToAttribute:function(a){this.lengthToAttribute(a,"width");this.lengthToAttribute(a,"height")},lengthToStyle:function(a,b,c){c=c||b;if(!(c in a.styles)){var d=a.attributes[b];d&&(/^\d+$/.test(d)&&(d+="px"),a.styles[c]=d)}delete a.attributes[b]},lengthToAttribute:function(a,b,c){c=c||b;if(!(c in a.attributes)){var d=a.styles[b],f=d&&d.match(/^(\d+)(?:\.\d*)?px$/);f?a.attributes[c]=f[1]:"cke-test"==d&&(a.attributes[c]="cke-test")}delete a.styles[b]},alignmentToStyle:function(a){if(!("float"in
a.styles)){var b=a.attributes.align;if("left"==b||"right"==b)a.styles["float"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!("align"in a.attributes)){var b=a.styles["float"];if("left"==b||"right"==b)a.attributes.align=b}delete a.styles["float"]},splitBorderShorthand:function(a){if(a.styles.border){var b=CKEDITOR.tools.style.parse.border(a.styles.border);b.color&&(a.styles["border-color"]=b.color);b.style&&(a.styles["border-style"]=b.style);b.width&&(a.styles["border-width"]=b.width);
delete a.styles.border}},listTypeToStyle:function(a){if(a.attributes.type)switch(a.attributes.type){case "a":a.styles["list-style-type"]="lower-alpha";break;case "A":a.styles["list-style-type"]="upper-alpha";break;case "i":a.styles["list-style-type"]="lower-roman";break;case "I":a.styles["list-style-type"]="upper-roman";break;case "1":a.styles["list-style-type"]="decimal";break;default:a.styles["list-style-type"]=a.attributes.type}},splitMarginShorthand:function(a){function b(d){a.styles["margin-top"]=
c[d[0]];a.styles["margin-right"]=c[d[1]];a.styles["margin-bottom"]=c[d[2]];a.styles["margin-left"]=c[d[3]]}if(a.styles.margin){var c=a.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(c.length){case 1:b([0,0,0,0]);break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}delete a.styles.margin}},matchesStyle:B,transform:function(a,b){if("string"==typeof b)a.name=b;else{var c=b.getDefinition(),d=c.styles,f=c.attributes,e,m,q,p;a.name=c.element;for(e in f)if("class"==e)for(c=
a.classes.join("|"),q=f[e].split(/\s+/);p=q.pop();)-1==c.indexOf(p)&&a.classes.push(p);else a.attributes[e]=f[e];for(m in d)a.styles[m]=d[m]}}}})();
(function(){CKEDITOR.focusManager=function(a){if(a.focusManager)return a.focusManager;this.hasFocus=!1;this.currentActive=null;this._={editor:a};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(a){this._.timer&&clearTimeout(this._.timer);a&&(this.currentActive=a);this.hasFocus||this._.locked||((a=CKEDITOR.currentInstance)&&a.focusManager.blur(1),this.hasFocus=!0,(a=this._.editor.container)&&a.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=
1},unlock:function(){delete this._.locked},blur:function(a){function d(){if(this.hasFocus){this.hasFocus=!1;var a=this._.editor.container;a&&a.removeClass("cke_focus");this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var b=CKEDITOR.focusManager._.blurDelay;a||!b?d.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;d.call(this)},b,this)}},add:function(a,d){var b=a.getCustomData("focusmanager");if(!b||b!=this){b&&b.remove(a);var b=
"focus",c="blur";d&&(CKEDITOR.env.ie?(b="focusin",c="focusout"):CKEDITOR.event.useCapture=1);var f={blur:function(){a.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(a)}};a.on(b,f.focus,this);a.on(c,f.blur,this);d&&(CKEDITOR.event.useCapture=0);a.setCustomData("focusmanager",this);a.setCustomData("focusmanager_handlers",f)}},remove:function(a){a.removeCustomData("focusmanager");var d=a.removeCustomData("focusmanager_handlers");a.removeListener("blur",d.blur);a.removeListener("focus",
d.focus)}}})();CKEDITOR.keystrokeHandler=function(a){if(a.keystrokeHandler)return a.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:a};return this};
(function(){var a,d=function(b){b=b.data;var d=b.getKeystroke(),h=this.keystrokes[d],k=this._.editor;a=!1===k.fire("key",{keyCode:d,domEvent:b});a||(h&&(a=!1!==k.execCommand(h,{from:"keystrokeHandler"})),a||(a=!!this.blockedKeystrokes[d]));a&&b.preventDefault(!0);return!a},b=function(b){a&&(a=!1,b.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(a){a.on("keydown",d,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)a.on("keypress",b,this)}}})();
(function(){CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(a,d,b){a&&CKEDITOR.lang.languages[a]||
(a=this.detect(d,a));var c=this;d=function(){c[a].dir=c.rtl[a]?"rtl":"ltr";b(a,c[a])};this[a]?d():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+a+".js"),d,this)},detect:function(a,d){var b=this.languages;d=d||navigator.userLanguage||navigator.language||a;var c=d.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),f=c[1],c=c[2];b[f+"-"+c]?f=f+"-"+c:b[f]||(f=null);CKEDITOR.lang.detect=f?function(){return f}:function(a){return a};return f||a}}})();
CKEDITOR.scriptLoader=function(){var a={},d={};return{load:function(b,c,f,h){var k="string"==typeof b;k&&(b=[b]);f||(f=CKEDITOR);var g=b.length,l=[],v=[],e=function(a){c&&(k?c.call(f,a):c.call(f,l,v))};if(0===g)e(!0);else{var x=function(a,b){(b?l:v).push(a);0>=--g&&(h&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),e(b))},t=function(b,c){a[b]=1;var f=d[b];delete d[b];for(var e=0;e<f.length;e++)f[e](b,c)},z=function(b){if(a[b])x(b,!0);else{var f=d[b]||(d[b]=[]);f.push(x);if(!(1<f.length)){var e=
new CKEDITOR.dom.element("script");e.setAttributes({type:"text/javascript",src:b});c&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?e.$.onreadystatechange=function(){if("loaded"==e.$.readyState||"complete"==e.$.readyState)e.$.onreadystatechange=null,t(b,!0)}:(e.$.onload=function(){setTimeout(function(){e.$.onload=null;e.$.onerror=null;t(b,!0)},0)},e.$.onerror=function(){e.$.onload=null;e.$.onerror=null;t(b,!1)}));e.appendTo(CKEDITOR.document.getHead())}}};h&&CKEDITOR.document.getDocumentElement().setStyle("cursor",
"wait");for(var G=0;G<g;G++)z(b[G])}},queue:function(){function a(){var b;(b=c[0])&&this.load(b.scriptUrl,b.callback,CKEDITOR,0)}var c=[];return function(d,h){var k=this;c.push({scriptUrl:d,callback:function(){h&&h.apply(this,arguments);c.shift();a.call(k)}});1==c.length&&a.call(this)}}()}}();CKEDITOR.resourceManager=function(a,d){this.basePath=a;this.fileName=d;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}};
CKEDITOR.resourceManager.prototype={add:function(a,d){if(this.registered[a])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+a+'" is already registered.');var b=this.registered[a]=d||{};b.name=a;b.path=this.getPath(a);CKEDITOR.fire(a+CKEDITOR.tools.capitalize(this.fileName)+"Ready",b);return this.get(a)},get:function(a){return this.registered[a]||null},getPath:function(a){var d=this.externals[a];return CKEDITOR.getUrl(d&&d.dir||this.basePath+a+"/")},getFilePath:function(a){var d=this.externals[a];
return CKEDITOR.getUrl(this.getPath(a)+(d?d.file:this.fileName+".js"))},addExternal:function(a,d,b){b||(d=d.replace(/[^\/]+$/,function(a){b=a;return""}));b=b||this.fileName+".js";a=a.split(",");for(var c=0;c<a.length;c++)this.externals[a[c]]={dir:d,file:b}},load:function(a,d,b){CKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var c=this.loaded,f=this.registered,h=[],k={},g={},l=0;l<a.length;l++){var v=a[l];if(v)if(c[v]||f[v])g[v]=this.get(v);else{var e=this.getFilePath(v);h.push(e);e in k||(k[e]=[]);k[e].push(v)}}CKEDITOR.scriptLoader.load(h,
function(a,e){if(e.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+k[e[0]].join(",")+'" was not found at "'+e[0]+'".');for(var f=0;f<a.length;f++)for(var h=k[a[f]],l=0;l<h.length;l++){var n=h[l];g[n]=this.get(n);c[n]=1}d.call(b,g)},this)}};CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin");
CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(a){var d={};return function(b,c,f){var h={},k=function(b){a.call(this,b,function(a){CKEDITOR.tools.extend(h,a);var b=[],e;for(e in a){var g=a[e],t=g&&g.requires;if(!d[e]){if(g.icons)for(var z=g.icons.split(","),G=z.length;G--;)CKEDITOR.skin.addIcon(z[G],g.path+"icons/"+(CKEDITOR.env.hidpi&&g.hidpi?"hidpi/":"")+z[G]+".png");g.isSupportedEnvironment=g.isSupportedEnvironment||function(){return!0};d[e]=1}if(t)for(t.split&&(t=
t.split(",")),g=0;g<t.length;g++)h[t[g]]||b.push(t[g])}if(b.length)k.call(this,b);else{for(e in h)g=h[e],g.onLoad&&!g.onLoad._called&&(!1===g.onLoad()&&delete h[e],g.onLoad._called=1);c&&c.call(f||window,h)}},this)};k.call(this,b)}});CKEDITOR.plugins.setLang=function(a,d,b){var c=this.get(a);a=c.langEntries||(c.langEntries={});c=c.lang||(c.lang=[]);c.split&&(c=c.split(","));-1==CKEDITOR.tools.indexOf(c,d)&&c.push(d);a[d]=b};
CKEDITOR.ui=function(a){if(a.ui)return a.ui;this.items={};this.instances={};this.editor=a;this._={handlers:{}};return this};
CKEDITOR.ui.prototype={add:function(a,d,b){b.name=a.toLowerCase();var c=this.items[a]={type:d,command:b.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(c,b)},get:function(a){return this.instances[a]},create:function(a){var d=this.items[a],b=d&&this._.handlers[d.type],c=d&&d.command&&this.editor.getCommand(d.command),b=b&&b.create.apply(this,d.args);this.instances[a]=b;c&&c.uiItems.push(b);b&&!b.type&&(b.type=d.type);return b},addHandler:function(a,d){this._.handlers[a]=
d},space:function(a){return CKEDITOR.document.getById(this.spaceId(a))},spaceId:function(a){return this.editor.id+"_"+a}};CKEDITOR.event.implementOn(CKEDITOR.ui);
(function(){function a(a,e,f){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);if(void 0!==e){if(!(e instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!f)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!b(e,f))throw Error('The specified element mode is not supported on element: "'+e.getName()+'".');
this.element=e;this.elementMode=f;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(e.getId()||e.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||d();this.id=CKEDITOR.tools.getNextId();this.status="unloaded";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on("readOnly",
c);this.on("selectionChange",function(a){h(this,a.data.path)});this.on("activeFilterChange",function(){h(this,this.elementPath(),!0)});this.on("mode",c);CKEDITOR.dom.selection.setupEditorOptimization(this);this.on("instanceReady",function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var a=this.createRange();a.selectNodeContents(this.editable());a.shrink(CKEDITOR.SHRINK_ELEMENT,!0);a.collapse();this.getSelection().selectRanges([a])}this.focus()}});CKEDITOR.fire("instanceCreated",
null,this);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){this.isDestroyed()||this.isDetached()||g(this,a)},0,this)}function d(){do var a="editor"+ ++G;while(CKEDITOR.instances[a]);return a}function b(a,b){return b==CKEDITOR.ELEMENT_MODE_INLINE?a.is(CKEDITOR.dtd.$editable)||a.is("textarea"):b==CKEDITOR.ELEMENT_MODE_REPLACE?!a.is(CKEDITOR.dtd.$nonBodyContent):1}function c(){var a=this.commands,b;for(b in a)f(this,a[b])}function f(a,b){b[b.startDisabled?"disable":a.readOnly&&!b.readOnly?"disable":
b.modes[a.mode]?"enable":"disable"]()}function h(a,b,c){if(b){var d,e,f=a.commands;for(e in f)d=f[e],(c||d.contextSensitive)&&d.refresh(a,b)}}function k(a){var b=a.config.customConfig;if(!b)return!1;var b=CKEDITOR.getUrl(b),c=u[b]||(u[b]={});c.fn?(c.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&k(a)||a.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(b,function(){c.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};k(a)});return!0}function g(a,b){a.on("customConfigLoaded",
function(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);CKEDITOR.tools.extend(a.config,b,!0);delete a.config.on}c=a.config;a.readOnly=c.readOnly?!0:a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.is("textarea")?a.element.hasAttribute("disabled")||a.element.hasAttribute("readonly"):a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.element.hasAttribute("disabled")||a.element.hasAttribute("readonly"):!1;a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(a.element.is("textarea")||
CKEDITOR.dtd[a.element.getName()].p):!1;a.tabIndex=c.tabIndex||a.element&&a.element.getAttribute("tabindex")||0;a.activeEnterMode=a.enterMode=a.blockless?CKEDITOR.ENTER_BR:c.enterMode;a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:c.shiftEnterMode;c.skin&&(CKEDITOR.skinName=c.skin);a.fireOnce("configLoaded");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);a.filter=a.activeFilter=new CKEDITOR.filter(a);l(a)});b&&null!=b.customConfig&&(a.config.customConfig=b.customConfig);
k(a)||a.fireOnce("customConfigLoaded")}function l(a){CKEDITOR.skin.loadPart("editor",function(){v(a)})}function v(a){CKEDITOR.lang.load(a.config.language,a.config.defaultLanguage,function(b,c){var d=a.config.title;a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(c);a.title="string"==typeof d||!1===d?d:[a.lang.editor,a.name].join(", ");a.config.contentsLangDirection||(a.config.contentsLangDirection=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):a.lang.dir);a.fire("langLoaded");
e(a)})}function e(a){a.getStylesSet(function(b){a.once("loaded",function(){a.fire("stylesSet",{styles:b})},null,null,1);x(a)})}function x(a){function b(a){if(!a)return"";CKEDITOR.tools.isArray(a)&&(a=a.join(","));return a.replace(/\s/g,"")}var c=a.config,d=b(c.plugins),e=b(c.extraPlugins),f=b(c.removePlugins);if(e)var h=new RegExp("(?:^|,)(?:"+e.replace(/,/g,"|")+")(?\x3d,|$)","g"),d=d.replace(h,""),d=d+(","+e);if(f)var g=new RegExp("(?:^|,)(?:"+f.replace(/,/g,"|")+")(?\x3d,|$)","g"),d=d.replace(g,
"");CKEDITOR.env.air&&(d+=",adobeair");CKEDITOR.plugins.load(d.split(","),function(b){var d=[],e=[],f=[];a.plugins=CKEDITOR.tools.extend({},a.plugins,b);for(var m in b){var h=b[m],k=h.lang,B=null,p=h.requires,N;CKEDITOR.tools.isArray(p)&&(p=p.join(","));if(p&&(N=p.match(g)))for(;p=N.pop();)CKEDITOR.error("editor-plugin-required",{plugin:p.replace(",",""),requiredBy:m});k&&!a.lang[m]&&(k.split&&(k=k.split(",")),0<=CKEDITOR.tools.indexOf(k,a.langCode)?B=a.langCode:(B=a.langCode.replace(/-.*/,""),B=
B!=a.langCode&&0<=CKEDITOR.tools.indexOf(k,B)?B:0<=CKEDITOR.tools.indexOf(k,"en")?"en":k[0]),h.langEntries&&h.langEntries[B]?(a.lang[m]=h.langEntries[B],B=null):f.push(CKEDITOR.getUrl(h.path+"lang/"+B+".js")));e.push(B);d.push(h)}CKEDITOR.scriptLoader.load(f,function(){if(!a.isDestroyed()&&!a.isDetached()){for(var b=["beforeInit","init","afterInit"],f=0;f<b.length;f++)for(var m=0;m<d.length;m++){var p=d[m];0===f&&e[m]&&p.lang&&p.langEntries&&(a.lang[p.name]=p.langEntries[e[m]]);if(p[b[f]])p[b[f]](a)}a.fireOnce("pluginsLoaded");
c.keystrokes&&a.setKeystroke(a.config.keystrokes);for(m=0;m<a.config.blockedKeystrokes.length;m++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[m]]=1;a.status="loaded";a.fireOnce("loaded");CKEDITOR.fire("instanceLoaded",null,a)}})})}function t(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();this.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is("textarea")?a.setValue(b):a.setHtml(b);return!0}return!1}function z(a,b){function c(a){var b=
a.startContainer,d=a.endContainer;return b.is&&(b.is("tr")||b.is("td")&&b.equals(d)&&a.endOffset===b.getChildCount())?!0:!1}function d(a){var b=a.startContainer;return b.is("tr")?a.cloneContents():b.clone(!0)}for(var e=new CKEDITOR.dom.documentFragment,f,h,g,k=0;k<a.length;k++){var l=a[k],r=l.startContainer.getAscendant("tr",!0);c(l)?(f||(f=r.getAscendant("table").clone(),f.append(r.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),e.append(f),f=f.findOne("thead, tbody, tfoot")),h&&h.equals(r)||(h=
r,g=r.clone(),f.append(g)),g.append(d(l))):e.append(l.cloneContents())}return f?e:b.getHtmlFromRange(a[0])}a.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=a;var G=0,u={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(this[d])return CKEDITOR.warn("editor-plugin-conflict",{plugin:a,replacedWith:d}),!0}return!1}},addCommand:function(a,b){b.name=a.toLowerCase();var c=b instanceof CKEDITOR.command?b:new CKEDITOR.command(this,
b);this.mode&&f(this,c);return this.commands[a]=c},_attachToForm:function(){function a(b){c.updateElement();c._.required&&!d.getValue()&&!1===c.fire("required")&&b.data.preventDefault()}function b(a){return!!(a&&a.call&&a.apply)}var c=this,d=c.element,e=new CKEDITOR.dom.element(d.$.form);d.is("textarea")&&e&&(e.on("submit",a),b(e.$.submit)&&(e.$.submit=CKEDITOR.tools.override(e.$.submit,function(b){return function(){a();b.apply?b.apply(this):b()}})),c.on("destroy",function(){e.removeListener("submit",
a)}))},destroy:function(a){var b=CKEDITOR.filter.instances,c=this;this.fire("beforeDestroy");!a&&t.call(this);this.editable(null);this.filter&&delete this.filter;CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(b),function(a){a=b[a];c===a.editor&&a.destroy()});delete this.activeFilter;this.status="destroyed";this.fire("destroy");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;
a=a.getStartElement()}return a?new CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):null},execCommand:function(a,b){var c=this.getCommand(a),d={name:a,commandData:b||{},command:c};return c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&!1!==this.fire("beforeCommandExec",d)&&(d.returnValue=c.exec(d.commandData),!c.async&&!1!==this.fire("afterCommandExec",d))?d.returnValue:!1},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&
this.fire("beforeGetData");var b=this._.data;"string"!=typeof b&&(b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is("textarea")?b.getValue():b.getHtml():"");b={dataValue:b};!a&&this.fire("getData",b);return b.dataValue},getSnapshot:function(){var a=this.fire("getSnapshot");"string"!=typeof a&&(a=(a=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.is("textarea")?a.getValue():a.getHtml():"");return a},loadSnapshot:function(a){this.fire("loadSnapshot",a)},setData:function(a,
b,c){var d=!0,e=b;b&&"object"==typeof b&&(c=b.internal,e=b.callback,d=!b.noSnapshot);!c&&d&&this.fire("saveSnapshot");if(e||!c)this.once("dataReady",function(a){!c&&d&&this.fire("saveSnapshot");e&&e.call(a.editor)});a={dataValue:a};!c&&this.fire("setData",a);this._.data=a.dataValue;!c&&this.fire("afterSetData",a)},setReadOnly:function(a){a=null==a||a;this.readOnly!=a&&(this.readOnly=a,this.keystrokeHandler.blockedKeystrokes[8]=+a,this.editable().setReadOnly(a),this.fire("readOnly"))},insertHtml:function(a,
b,c){this.fire("insertHtml",{dataValue:a,mode:b,range:c})},insertText:function(a){this.fire("insertText",a)},insertElement:function(a){this.fire("insertElement",a)},getSelectedHtml:function(a){var b=this.editable(),c=this.getSelection(),c=c&&c.getRanges();if(!b||!c||0===c.length)return null;b=z(c,b);return a?b.getHtml():b},extractSelectedHtml:function(a,b){var c=this.editable(),d=this.getSelection().getRanges(),e=new CKEDITOR.dom.documentFragment,f;if(!c||0===d.length)return null;for(f=0;f<d.length;f++)e.append(c.extractHtmlFromRange(d[f],
b));b||this.getSelection().selectRanges([d[0]]);return a?e.getHtml():e},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return t.call(this)},setKeystroke:function(){for(var a=this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],c,d,e=b.length;e--;)c=b[e],d=0,CKEDITOR.tools.isArray(c)&&
(d=c[1],c=c[0]),d?a[c]=d:delete a[c]},getCommandKeystroke:function(a,b){var c="string"===typeof a?this.getCommand(a):a,d=[];if(c){var e=CKEDITOR.tools.object.findKey(this.commands,c),f=this.keystrokeHandler.keystrokes;if(c.fakeKeystroke)d.push(c.fakeKeystroke);else for(var h in f)f[h]===e&&d.push(h)}return b?d:d[0]||null},addFeature:function(a){return this.filter.addFeature(a)},setActiveFilter:function(a){a||(a=this.filter);this.activeFilter!==a&&(this.activeFilter=a,this.fire("activeFilterChange"),
a===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),a.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(a,b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b)this.activeEnterMode=a,this.activeShiftEnterMode=b,this.fire("activeEnterModeChange")},showNotification:function(a){alert(a)},isDetached:function(){return!!this.container&&
this.container.isDetached()},isDestroyed:function(){return"destroyed"===this.status}});CKEDITOR.editor._getEditorElement=function(a){if(!CKEDITOR.env.isCompatible)return null;var b=CKEDITOR.dom.element.get(a);return b?b.getEditor()?(CKEDITOR.error("editor-element-conflict",{editorName:b.getEditor().name}),null):b:(CKEDITOR.error("editor-incorrect-element",{element:a}),null)}})();CKEDITOR.ELEMENT_MODE_NONE=0;CKEDITOR.ELEMENT_MODE_REPLACE=1;CKEDITOR.ELEMENT_MODE_APPENDTO=2;
CKEDITOR.ELEMENT_MODE_INLINE=3;CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}};
(function(){var a=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,d={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(b){for(var c,f,h=0,k;c=this._.htmlPartsRegex.exec(b);){f=c.index;if(f>h)if(h=b.substring(h,f),k)k.push(h);else this.onText(h);
h=this._.htmlPartsRegex.lastIndex;if(f=c[1])if(f=f.toLowerCase(),k&&CKEDITOR.dtd.$cdata[f]&&(this.onCDATA(k.join("")),k=null),!k){this.onTagClose(f);continue}if(k)k.push(c[0]);else if(f=c[3]){if(f=f.toLowerCase(),!/="/.test(f)){var g={},l,v=c[4];c=!!c[5];if(v)for(;l=a.exec(v);){var e=l[1].toLowerCase();l=l[2]||l[3]||l[4]||"";g[e]=!l&&d[e]?e:CKEDITOR.tools.htmlDecodeAttr(l)}this.onTagOpen(f,g,c);!k&&CKEDITOR.dtd.$cdata[f]&&(k=[])}}else if(f=c[2])this.onComment(f)}if(b.length>h)this.onText(b.substring(h,
b.length))}}})();
CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a){this._.output.push("\x3c",a)},openTagClose:function(a,d){d?this._.output.push(" /\x3e"):this._.output.push("\x3e")},attribute:function(a,d){"string"==typeof d&&(d=CKEDITOR.tools.htmlEncodeAttr(d));this._.output.push(" ",a,'\x3d"',d,'"')},closeTag:function(a){this._.output.push("\x3c/",a,"\x3e")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push("\x3c!--",a,
"--\x3e")},write:function(a){this._.output.push(a)},reset:function(){this._.output=[];this._.indent=!1},getHtml:function(a){var d=this._.output.join("");a&&this.reset();return d}}});"use strict";
(function(){CKEDITOR.htmlParser.node=function(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var a=this.parent.children,d=CKEDITOR.tools.indexOf(a,this),b=this.previous,c=this.next;b&&(b.next=c);c&&(c.previous=b);a.splice(d,1);this.parent=null},replaceWith:function(a){var d=this.parent.children,b=CKEDITOR.tools.indexOf(d,this),c=a.previous=this.previous,f=a.next=this.next;c&&(c.next=a);f&&(f.previous=a);d[b]=a;a.parent=this.parent;this.parent=null},insertAfter:function(a){var d=a.parent.children,
b=CKEDITOR.tools.indexOf(d,a),c=a.next;d.splice(b+1,0,this);this.next=a.next;this.previous=a;a.next=this;c&&(c.previous=this);this.parent=a.parent},insertBefore:function(a){var d=a.parent.children,b=CKEDITOR.tools.indexOf(d,a);d.splice(b,0,this);this.next=a;(this.previous=a.previous)&&(a.previous.next=this);a.previous=this;this.parent=a.parent},getAscendant:function(a){var d="function"==typeof a?a:"string"==typeof a?function(b){return b.name==a}:function(b){return b.name in a},b=this.parent;for(;b&&
b.type==CKEDITOR.NODE_ELEMENT;){if(d(b))return b;b=b.parent}return null},wrapWith:function(a){this.replaceWith(a);a.add(this);return a},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(a){return a||{}}}})();"use strict";CKEDITOR.htmlParser.comment=function(a){this.value=a;this._={isBlockLike:!1}};
CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(a,d){var b=this.value;if(!(b=a.onComment(d,b,this)))return this.remove(),!1;if("string"!=typeof b)return this.replaceWith(b),!1;this.value=b;return!0},writeHtml:function(a,d){d&&this.filter(d);a.comment(this.value)}});"use strict";
(function(){CKEDITOR.htmlParser.text=function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a,d){if(!(this.value=a.onText(d,this.value,this)))return this.remove(),!1},writeHtml:function(a,d){d&&this.filter(d);a.text(this.value)}})})();"use strict";
(function(){CKEDITOR.htmlParser.cdata=function(a){this.value=a};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(a){a.write(this.value)}})})();"use strict";CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:!0,hasInlineStarted:!1}};
(function(){function a(a){return a.attributes["data-cke-survive"]?!1:"a"==a.name&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}var d=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),b={ol:1,ul:1},c=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),f={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=
function(h,k,g){function l(a){var b;if(0<n.length)for(var c=0;c<n.length;c++){var d=n[c],e=d.name,f=CKEDITOR.dtd[e],h=y.name&&CKEDITOR.dtd[y.name];h&&!h[e]||a&&f&&!f[a]&&CKEDITOR.dtd[a]?e==y.name&&(x(y,y.parent,1),c--):(b||(v(),b=1),d=d.clone(),d.parent=y,y=d,n.splice(c,1),c--)}}function v(){for(;L.length;)x(L.shift(),y)}function e(a){if(a._.isBlockLike&&"pre"!=a.name&&"textarea"!=a.name){var b=a.children.length,c=a.children[b-1],d;c&&c.type==CKEDITOR.NODE_TEXT&&((d=CKEDITOR.tools.rtrim(c.value))?
c.value=d:a.children.length=b-1)}}function x(b,c,d){c=c||y||u;var f=y;void 0===b.previous&&(t(c,b)&&(y=c,G.onTagOpen(g,{}),b.returnPoint=c=y),e(b),a(b)&&!b.children.length||c.add(b),"pre"==b.name&&(I=!1),"textarea"==b.name&&(H=!1));b.returnPoint?(y=b.returnPoint,delete b.returnPoint):y=d?c:f}function t(a,b){if((a==u||"body"==a.name)&&g&&(!a.name||CKEDITOR.dtd[a.name][g])){var c,d;return(c=b.attributes&&(d=b.attributes["data-cke-real-element-type"])?d:b.name)&&c in CKEDITOR.dtd.$inline&&!(c in CKEDITOR.dtd.head)&&
!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function z(a,b){return a in CKEDITOR.dtd.$listItem||a in CKEDITOR.dtd.$tableContent?a==b||"dt"==a&&"dd"==b||"dd"==a&&"dt"==b:!1}var G=new CKEDITOR.htmlParser,u=k instanceof CKEDITOR.htmlParser.element?k:"string"==typeof k?new CKEDITOR.htmlParser.element(k):new CKEDITOR.htmlParser.fragment,n=[],L=[],y=u,H="textarea"==u.name,I="pre"==u.name;G.onTagOpen=function(e,f,h,g){f=new CKEDITOR.htmlParser.element(e,f);f.isUnknown&&h&&(f.isEmpty=!0);f.isOptionalClose=g;
if(a(f))n.push(f);else{if("pre"==e)I=!0;else{if("br"==e&&I){y.add(new CKEDITOR.htmlParser.text("\n"));return}"textarea"==e&&(H=!0)}if("br"==e)L.push(f);else{for(;!(g=(h=y.name)?CKEDITOR.dtd[h]||(y._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c,f.isUnknown||y.isUnknown||g[e]);)if(y.isOptionalClose)G.onTagClose(h);else if(e in b&&h in b)h=y.children,(h=h[h.length-1])&&"li"==h.name||x(h=new CKEDITOR.htmlParser.element("li"),y),!f.returnPoint&&(f.returnPoint=y),y=h;else if(e in CKEDITOR.dtd.$listItem&&
!z(e,h))G.onTagOpen("li"==e?"ul":"dl",{},0,1);else if(h in d&&!z(e,h))!f.returnPoint&&(f.returnPoint=y),y=y.parent;else if(h in CKEDITOR.dtd.$inline&&n.unshift(y),y.parent)x(y,y.parent,1);else{f.isOrphan=1;break}l(e);v();f.parent=y;f.isEmpty?x(f):y=f}}};G.onTagClose=function(a){for(var b=n.length-1;0<=b;b--)if(a==n[b].name){n.splice(b,1);return}for(var c=[],d=[],e=y;e!=u&&e.name!=a;)e._.isBlockLike||d.unshift(e),c.push(e),e=e.returnPoint||e.parent;if(e!=u){for(b=0;b<c.length;b++){var f=c[b];x(f,f.parent)}y=
e;e._.isBlockLike&&v();x(e,e.parent);e==y&&(y=y.parent);n=n.concat(d)}"body"==a&&(g=!1)};G.onText=function(a){if(!(y._.hasInlineStarted&&!L.length||I||H)&&(a=CKEDITOR.tools.ltrim(a),0===a.length))return;var b=y.name,e=b?CKEDITOR.dtd[b]||(y._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c;if(!H&&!e["#"]&&b in d)G.onTagOpen(f[b]||""),G.onText(a);else{v();l();I||H||(a=a.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," "));a=new CKEDITOR.htmlParser.text(a);if(t(y,a))this.onTagOpen(g,{},0,1);y.add(a)}};G.onCDATA=
function(a){y.add(new CKEDITOR.htmlParser.cdata(a))};G.onComment=function(a){v();l();y.add(new CKEDITOR.htmlParser.comment(a))};G.parse(h);for(v();y!=u;)x(y,y.parent,1);e(u);return u};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=0<b?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT&&(c.value=CKEDITOR.tools.rtrim(c.value),0===c.value.length)){this.children.pop();this.add(a);return}c.next=
a}a.previous=c;a.parent=this;this.children.splice(b,0,a);this._.hasInlineStarted||(this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&!a._.isBlockLike)},filter:function(a,b){b=this.getFilterContext(b);a.onRoot(b,this);this.filterChildren(a,!1,b)},filterChildren:function(a,b,c){if(this.childrenFilteredBy!=a.id){c=this.getFilterContext(c);if(b&&!this.parent)a.onRoot(c,this);this.childrenFilteredBy=a.id;for(b=0;b<this.children.length;b++)!1===this.children[b].filter(a,
c)&&b--}},writeHtml:function(a,b){b&&this.filter(b);this.writeChildrenHtml(a)},writeChildrenHtml:function(a,b,c){var d=this.getFilterContext();if(c&&!this.parent&&b)b.onRoot(d,this);b&&this.filterChildren(b,!1,d);b=0;c=this.children;for(d=c.length;b<d;b++)c[b].writeHtml(a)},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var d=a(this);if(!1!==d){c=this.children;for(var f=0;f<c.length;f++)d=c[f],d.type==CKEDITOR.NODE_ELEMENT?d.forEach(a,b):b&&d.type!=b||a(d)}},getFilterContext:function(a){return a||
{}}}})();"use strict";
(function(){function a(){this.rules=[]}function d(b,c,d,h){var k,g;for(k in c)(g=b[k])||(g=b[k]=new a),g.add(c[k],d,h)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(b){this.id=CKEDITOR.tools.getNextNumber();this.elementNameRules=new a;this.attributeNameRules=new a;this.elementsRules={};this.attributesRules={};this.textRules=new a;this.commentRules=new a;this.rootRules=new a;b&&this.addRules(b,10)},proto:{addRules:function(a,c){var f;"number"==typeof c?f=c:c&&"priority"in c&&(f=
c.priority);"number"!=typeof f&&(f=10);"object"!=typeof c&&(c={});a.elementNames&&this.elementNameRules.addMany(a.elementNames,f,c);a.attributeNames&&this.attributeNameRules.addMany(a.attributeNames,f,c);a.elements&&d(this.elementsRules,a.elements,f,c);a.attributes&&d(this.attributesRules,a.attributes,f,c);a.text&&this.textRules.add(a.text,f,c);a.comment&&this.commentRules.add(a.comment,f,c);a.root&&this.rootRules.add(a.root,f,c)},applyTo:function(a){a.filter(this)},onElementName:function(a,c){return this.elementNameRules.execOnName(a,
c)},onAttributeName:function(a,c){return this.attributeNameRules.execOnName(a,c)},onText:function(a,c,d){return this.textRules.exec(a,c,d)},onComment:function(a,c,d){return this.commentRules.exec(a,c,d)},onRoot:function(a,c){return this.rootRules.exec(a,c)},onElement:function(a,c){for(var d=[this.elementsRules["^"],this.elementsRules[c.name],this.elementsRules.$],h,k=0;3>k;k++)if(h=d[k]){h=h.exec(a,c,this);if(!1===h)return null;if(h&&h!=c)return this.onNode(a,h);if(c.parent&&!c.name)break}return c},
onNode:function(a,c){var d=c.type;return d==CKEDITOR.NODE_ELEMENT?this.onElement(a,c):d==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a,c.value,c)):d==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a,c.value,c)):null},onAttribute:function(a,c,d,h){return(d=this.attributesRules[d])?d.exec(a,h,c,this):h}}});CKEDITOR.htmlParser.filterRulesGroup=a;a.prototype={add:function(a,c,d){this.rules.splice(this.findIndex(c),0,{value:a,priority:c,options:d})},addMany:function(a,
c,d){for(var h=[this.findIndex(c),0],k=0,g=a.length;k<g;k++)h.push({value:a[k],priority:c,options:d});this.rules.splice.apply(this.rules,h)},findIndex:function(a){for(var c=this.rules,d=c.length-1;0<=d&&a<c[d].priority;)d--;return d+1},exec:function(a,c){var d=c instanceof CKEDITOR.htmlParser.node||c instanceof CKEDITOR.htmlParser.fragment,h=Array.prototype.slice.call(arguments,1),k=this.rules,g=k.length,l,v,e,x;for(x=0;x<g;x++)if(d&&(l=c.type,v=c.name),e=k[x],!(a.nonEditable&&!e.options.applyToAll||
a.nestedEditable&&e.options.excludeNestedEditable)){e=e.value.apply(null,h);if(!1===e||d&&e&&(e.name!=v||e.type!=l))return e;null!=e&&(h[0]=c=e)}return c},execOnName:function(a,c){for(var d=0,h=this.rules,k=h.length,g;c&&d<k;d++)g=h[d],a.nonEditable&&!g.options.applyToAll||a.nestedEditable&&g.options.excludeNestedEditable||(c=c.replace(g.value[0],g.value[1]));return c}}})();
(function(){function a(a,d){function e(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(" "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function p(a,d){return function(f){if(f.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var q=[],p=b(f),m,F;if(p)for(r(p,1)&&q.push(p);p;)h(p)&&(m=c(p))&&r(m)&&((F=c(m))&&!h(F)?q.push(m):(e(g).insertAfter(m),m.remove())),p=p.previous;for(p=0;p<q.length;p++)q[p].remove();if(q=!a||!1!==("function"==typeof d?d(f):d))g||CKEDITOR.env.needsBrFiller||
f.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT?g||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||f.name in CKEDITOR.dtd.tr||f.name in CKEDITOR.dtd.$listItem)?(q=b(f),q=!q||"form"==f.name&&"input"==q.name):q=!1:q=!1;q&&f.add(e(a))}}}function r(a,b){if((!g||CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&"br"==a.name&&!a.attributes["data-cke-eol"])return!0;var c;return a.type==CKEDITOR.NODE_TEXT&&(c=a.value.match(L))&&(c.index&&((new CKEDITOR.htmlParser.text(a.value.substring(0,c.index))).insertBefore(a),
a.value=c[0]),!CKEDITOR.env.needsBrFiller&&g&&(!b||a.parent.name in w)||!g&&((c=a.previous)&&"br"==c.name||!c||h(c)))?!0:!1}var F={elements:{}},g="html"==d,w=CKEDITOR.tools.extend({},m),C;for(C in w)"#"in H[C]||delete w[C];for(C in w)F.elements[C]=p(g,a.config.fillEmptyBlocks);F.root=p(g,!1);F.elements.br=function(a){return function(b){if(b.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var d=b.attributes;if("data-cke-bogus"in d||"data-cke-eol"in d)delete d["data-cke-bogus"];else{for(d=b.next;d&&f(d);)d=
d.next;var q=c(b);!d&&h(b.parent)?k(b.parent,e(a)):h(d)&&q&&!h(q)&&e(a).insertBefore(d)}}}}(g);return F}function d(a,b){return a!=CKEDITOR.ENTER_BR&&!1!==b?a==CKEDITOR.ENTER_DIV?"div":"p":!1}function b(a){for(a=a.children[a.children.length-1];a&&f(a);)a=a.previous;return a}function c(a){for(a=a.previous;a&&f(a);)a=a.previous;return a}function f(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes["data-cke-bookmark"]}function h(a){return a&&
(a.type==CKEDITOR.NODE_ELEMENT&&a.name in m||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function k(a,b){var c=a.children[a.children.length-1];a.children.push(b);b.parent=a;c&&(c.next=b,b.previous=c)}function g(a){a=a.attributes;"false"!=a.contenteditable&&(a["data-cke-editable"]=a.contenteditable?"true":1);a.contenteditable="false"}function l(a){a=a.attributes;switch(a["data-cke-editable"]){case "true":a.contenteditable="true";break;case "1":delete a.contenteditable}}function v(a){return a.replace(r,
function(a,b,c){return"\x3c"+b+c.replace(C,function(a,b){return F.test(b)&&-1==c.indexOf("data-cke-saved-"+b)?" data-cke-saved-"+a+" data-cke-"+CKEDITOR.rnd+"-"+a:a})+"\x3e"})}function e(a,b){return a.replace(b,function(a,b,c){0===a.indexOf("\x3ctextarea")&&(a=b+z(c).replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")+"\x3c/textarea\x3e");return"\x3ccke:encoded\x3e"+encodeURIComponent(a)+"\x3c/cke:encoded\x3e"})}function x(a){return a.replace(S,function(a,b){return decodeURIComponent(b)})}function t(a){return a.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,
function(a){return"\x3c!--"+y+"{C}"+encodeURIComponent(a).replace(/--/g,"%2D%2D")+"--\x3e"})}function z(a){return a.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(a,b){return decodeURIComponent(b)})}function G(a,b){var c=b._.dataStore;return a.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(a,b){return decodeURIComponent(b)}).replace(/\{cke_protected_(\d+)\}/g,function(a,b){return c&&c[b]||""})}function u(a,b){var c=[],d=b.config.protectedSource,e=b._.dataStore||(b._.dataStore=
{id:1}),f=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g,d=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(d);a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,function(a){return"\x3c!--{cke_tempcomment}"+(c.push(a)-1)+"--\x3e"});for(var p=0;p<d.length;p++)a=a.replace(d[p],function(a){a=a.replace(f,function(a,b,d){return c[d]});return/cke_temp(comment)?/.test(a)?a:"\x3c!--{cke_temp}"+(c.push(a)-1)+"--\x3e"});a=a.replace(f,function(a,b,d){return"\x3c!--"+y+(b?"{C}":
"")+encodeURIComponent(c[d]).replace(/--/g,"%2D%2D")+"--\x3e"});a=a.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(a){return a.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(a,b){e[e.id]=decodeURIComponent(b);return"{cke_protected_"+e.id++ +"}"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(a,c,d,e){return"\x3c"+c+d+"\x3e"+G(z(e),b)+"\x3c/"+c+"\x3e"})}var n;CKEDITOR.htmlDataProcessor=function(b){var c,
f,m=this;this.editor=b;this.dataFilter=c=new CKEDITOR.htmlParser.filter;this.htmlFilter=f=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;c.addRules(B);c.addRules(K,{applyToAll:!0});c.addRules(a(b,"data"),{applyToAll:!0});f.addRules(A);f.addRules(M,{applyToAll:!0});f.addRules(a(b,"html"),{applyToAll:!0});b.on("toHtml",function(a){a=a.data;var c=a.dataValue,f,c=n(c),c=u(c,b),c=e(c,T),c=v(c),c=e(c,w),c=c.replace(p,"$1cke:$2"),c=c.replace(O,"\x3ccke:$1$2\x3e\x3c/cke:$1\x3e"),
c=c.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),c=c.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");f=a.context||b.editable().getName();var m;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==f&&(f="div",c="\x3cpre\x3e"+c+"\x3c/pre\x3e",m=1);f=b.document.createElement(f);f.setHtml("a"+c);c=f.getHtml().substr(1);c=c.replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),"");m&&(c=c.replace(/^<pre>|<\/pre>$/gi,""));c=c.replace(N,"$1$2");c=x(c);c=z(c);f=!1===a.fixForBody?!1:
d(a.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,a.context,f);f&&(m=c,!m.children.length&&CKEDITOR.dtd[m.name][f]&&(f=new CKEDITOR.htmlParser.element(f),m.add(f)));a.dataValue=c},null,null,5);b.on("toHtml",function(a){a.data.filter.applyTo(a.data.dataValue,!0,a.data.dontFilter,a.data.enterMode)&&b.fire("dataFiltered")},null,null,6);b.on("toHtml",function(a){a.data.dataValue.filterChildren(m.dataFilter,!0)},null,null,10);b.on("toHtml",function(a){a=a.data;var b=a.dataValue,
c=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(c);b=c.getHtml(!0);a.dataValue=t(b)},null,null,15);b.on("toDataFormat",function(a){var c=a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/^<br *\/?>/i,""));a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(c,a.data.context,d(a.data.enterMode,b.config.autoParagraph))},null,null,5);b.on("toDataFormat",function(a){a.data.dataValue.filterChildren(m.htmlFilter,!0)},null,null,10);b.on("toDataFormat",function(a){a.data.filter.applyTo(a.data.dataValue,
!1,!0)},null,null,11);b.on("toDataFormat",function(a){var c=a.data.dataValue,d=m.writer;d.reset();c.writeChildrenHtml(d);c=d.getHtml(!0);c=z(c);c=G(c,b);a.data.dataValue=c},null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(a,b,c,d){var e=this.editor,f,p,m,h;b&&"object"==typeof b?(f=b.context,c=b.fixForBody,d=b.dontFilter,p=b.filter,m=b.enterMode,h=b.protectedWhitespaces):f=b;f||null===f||(f=e.editable().getName());return e.fire("toHtml",{dataValue:a,context:f,fixForBody:c,dontFilter:d,
filter:p||e.filter,enterMode:m||e.enterMode,protectedWhitespaces:h}).dataValue},toDataFormat:function(a,b){var c,d,e;b&&(c=b.context,d=b.filter,e=b.enterMode);c||null===c||(c=this.editor.editable().getName());return this.editor.fire("toDataFormat",{dataValue:a,filter:d||this.editor.filter,context:c,enterMode:e||this.editor.enterMode}).dataValue}};var L=/(?:&nbsp;|\xa0)$/,y="{cke_protected}",H=CKEDITOR.dtd,I="caption colgroup col thead tfoot tbody".split(" "),m=CKEDITOR.tools.extend({},H.$blockLimit,
H.$block),B={elements:{input:g,textarea:g}},K={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(a){if(a.attributes&&a.attributes.src){var b=a.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");if(0===b.indexOf("javascript")||0===b.indexOf("data"))a.attributes["data-cke-pa-src"]=a.attributes.src,delete a.attributes.src}}}},A={elements:{embed:function(a){var b=a.parent;if(b&&"object"==b.name){var c=b.attributes.width,b=b.attributes.height;
c&&(a.attributes.width=c);b&&(a.attributes.height=b)}},a:function(a){var b=a.attributes;if(!(a.children.length||b.name||b.id||a.attributes["data-cke-saved-name"]))return!1}}},M={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(a){var b=a.attributes;if(b){if(b["data-cke-temp"])return!1;for(var c=["name","href","src"],d,e=0;e<c.length;e++)d="data-cke-saved-"+c[e],d in b&&delete b[c[e]]}return a},
table:function(a){a.children.slice(0).sort(function(a,b){var c,d;a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type&&(c=CKEDITOR.tools.indexOf(I,a.name),d=CKEDITOR.tools.indexOf(I,b.name));-1<c&&-1<d&&c!=d||(c=a.parent?a.getIndex():-1,d=b.parent?b.getIndex():-1);return c>d?1:-1})},param:function(a){a.children=[];a.isEmpty=!0;return a},span:function(a){"Apple-style-span"==a.attributes["class"]&&delete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes["class"]},body:function(a){delete a.attributes.spellcheck;
delete a.attributes.contenteditable},style:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));a.attributes.type||(a.attributes.type="text/css")},title:function(a){var b=a.children[0];!b&&k(a,b=new CKEDITOR.htmlParser.text);b.value=a.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{"class":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(M.attributes.style=function(a){return a.replace(/(^|;)([^\:]+)/g,
function(a){return a.toLowerCase()})});var r=/<(a|area|img|input|source)\b([^>]*)>/gi,C=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,F=/^(href|src|name)$/i,w=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,T=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,S=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,p=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,N=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,O=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;
n=function(){function a(c){return CKEDITOR.tools.array.reduce(c.split(""),function(a,c){var d=c.toLowerCase(),e=c.toUpperCase(),f=b(d);d!==e&&(f+="|"+b(e));return a+("("+f+")")},"")}function b(a){var c;c=a.charCodeAt(0);var d=c.toString(16);c={htmlCode:"\x26#"+c+";?",hex:"\x26#x0*"+d+";?",entity:{"\x3c":"\x26lt;","\x3e":"\x26gt;",":":"\x26colon;"}[a]};for(var e in c)c[e]&&(a+="|"+c[e]);return a}var c=new RegExp("("+a("\x3ccke:encoded\x3e")+"(.*?)"+a("\x3c/cke:encoded\x3e")+")|("+a("\x3c")+a("/")+
"?"+a("cke:encoded\x3e")+")","gi"),d=new RegExp("(("+a("{cke_protected")+")(_[0-9]*)?"+a("}")+")","gi");return function(a){return a.replace(c,"").replace(d,"")}}()})();"use strict";
CKEDITOR.htmlParser.element=function(a,d){this.name=a;this.attributes=d||{};this.children=[];var b=a||"",c=b.match(/^cke:(.*)/);c&&(b=c[1]);b=!!(CKEDITOR.dtd.$nonBodyContent[b]||CKEDITOR.dtd.$block[b]||CKEDITOR.dtd.$listItem[b]||CKEDITOR.dtd.$tableContent[b]||CKEDITOR.dtd.$nonEditable[b]||"br"==b);this.isEmpty=!!CKEDITOR.dtd.$empty[a];this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:b,hasInlineStarted:this.isEmpty||!b}};
CKEDITOR.htmlParser.cssStyle=function(a){var d={};((a instanceof CKEDITOR.htmlParser.element?a.attributes.style:a)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,c,f){"font-family"==c&&(f=f.replace(/["']/g,""));d[c.toLowerCase()]=f});return{rules:d,populate:function(a){var c=this.toString();c&&(a instanceof CKEDITOR.dom.element?a.setAttribute("style",c):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=c:a.style=c)},toString:function(){var a=[],c;
for(c in d)d[c]&&a.push(c,":",d[c],";");return a.join("")}}};
(function(){function a(a){return function(b){return b.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof a?b.name==a:b.name in a)}}var d=function(a,b){a=a[0];b=b[0];return a<b?-1:a>b?1:0},b=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:b.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(a,b){var d=this,k,g;b=d.getFilterContext(b);if(!d.parent)a.onRoot(b,
d);for(;;){k=d.name;if(!(g=a.onElementName(b,k)))return this.remove(),!1;d.name=g;if(!(d=a.onElement(b,d)))return this.remove(),!1;if(d!==this)return this.replaceWith(d),!1;if(d.name==k)break;if(d.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(d),!1;if(!d.name)return this.replaceWithChildren(),!1}k=d.attributes;var l,v;for(l in k){for(g=k[l];;)if(v=a.onAttributeName(b,l))if(v!=l)delete k[l],l=v;else break;else{delete k[l];break}v&&(!1===(g=a.onAttribute(b,d,v,g))?delete k[v]:k[v]=g)}d.isEmpty||
this.filterChildren(a,!1,b);return!0},filterChildren:b.filterChildren,writeHtml:function(a,b){b&&this.filter(b);var h=this.name,k=[],g=this.attributes,l,v;a.openTag(h,g);for(l in g)k.push([l,g[l]]);a.sortAttributes&&k.sort(d);l=0;for(v=k.length;l<v;l++)g=k[l],a.attribute(g[0],g[1]);a.openTagClose(h,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(h)},writeChildrenHtml:b.writeChildrenHtml,replaceWithChildren:function(){for(var a=this.children,b=a.length;b;)a[--b].insertAfter(this);
this.remove()},forEach:b.forEach,getFirst:function(b){if(!b)return this.children.length?this.children[0]:null;"function"!=typeof b&&(b=a(b));for(var d=0,h=this.children.length;d<h;++d)if(b(this.children[d]))return this.children[d];return null},getHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:function(a){a=this.children=CKEDITOR.htmlParser.fragment.fromHtml(a).children;for(var b=0,d=a.length;b<d;++b)a[b].parent=this},getOuterHtml:function(){var a=
new CKEDITOR.htmlParser.basicWriter;this.writeHtml(a);return a.getHtml()},split:function(a){for(var b=this.children.splice(a,this.children.length-a),d=this.clone(),k=0;k<b.length;++k)b[k].parent=d;d.children=b;b[0]&&(b[0].previous=null);0<a&&(this.children[a-1].next=null);this.parent.add(d,this.getIndex()+1);return d},find:function(a,b){void 0===b&&(b=!1);var d=[],k;for(k=0;k<this.children.length;k++){var g=this.children[k];"function"==typeof a&&a(g)?d.push(g):"string"==typeof a&&g.name===a&&d.push(g);
b&&g.find&&(d=d.concat(g.find(a,b)))}return d},findOne:function(a,b){var d=null,k=CKEDITOR.tools.array.find(this.children,function(g){var k="function"===typeof a?a(g):g.name===a;if(k||!b)return k;g.children&&g.findOne&&(d=g.findOne(a,!0));return!!d});return d||k||null},addClass:function(a){if(!this.hasClass(a)){var b=this.attributes["class"]||"";this.attributes["class"]=b+(b?" ":"")+a}},removeClass:function(a){var b=this.attributes["class"];b&&((b=CKEDITOR.tools.trim(b.replace(new RegExp("(?:\\s+|^)"+
a+"(?:\\s+|$)")," ")))?this.attributes["class"]=b:delete this.attributes["class"])},hasClass:function(a){var b=this.attributes["class"];return b?(new RegExp("(?:^|\\s)"+a+"(?\x3d\\s|$)")).test(b):!1},getFilterContext:function(a){var b=[];a||(a={nonEditable:!1,nestedEditable:!1});a.nonEditable||"false"!=this.attributes.contenteditable?a.nonEditable&&!a.nestedEditable&&"true"==this.attributes.contenteditable&&b.push("nestedEditable",!0):b.push("nonEditable",!0);if(b.length){a=CKEDITOR.tools.copy(a);
for(var d=0;d<b.length;d+=2)a[b[d]]=b[d+1]}return a}},!0)})();(function(){var a=/{([^}]+)}/g;CKEDITOR.template=function(a){this.source="function"===typeof a?a:String(a)};CKEDITOR.template.prototype.output=function(d,b){var c=("function"===typeof this.source?this.source(d):this.source).replace(a,function(a,b){return void 0!==d[b]?d[b]:a});return b?b.push(c):c}})();delete CKEDITOR.loadFullCore;CKEDITOR.instances={};CKEDITOR.document=new CKEDITOR.dom.document(document);
CKEDITOR.add=function(a){function d(){CKEDITOR.currentInstance==a&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}CKEDITOR.instances[a.name]=a;a.on("focus",function(){CKEDITOR.currentInstance!=a&&(CKEDITOR.currentInstance=a,CKEDITOR.fire("currentInstance"))});a.on("blur",d);a.on("destroy",d);CKEDITOR.fire("instance",null,a)};CKEDITOR.remove=function(a){delete CKEDITOR.instances[a.name]};
(function(){var a={};CKEDITOR.addTemplate=function(d,b){var c=a[d];if(c)return c;c={name:d,source:b};CKEDITOR.fire("template",c);return a[d]=new CKEDITOR.template(c.source)};CKEDITOR.getTemplate=function(d){return a[d]}})();(function(){var a=[];CKEDITOR.addCss=function(d){a.push(d)};CKEDITOR.getCss=function(){return a.join("\n")}})();CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")});CKEDITOR.TRISTATE_ON=1;CKEDITOR.TRISTATE_OFF=2;
CKEDITOR.TRISTATE_DISABLED=0;
(function(){CKEDITOR.inline=function(a,d){a=CKEDITOR.editor._getEditorElement(a);if(!a)return null;var b=new CKEDITOR.editor(d,a,CKEDITOR.ELEMENT_MODE_INLINE),c=a.is("textarea")?a:null;c?(b.setData(c.getValue(),null,!0),a=CKEDITOR.dom.element.createFromHtml('\x3cdiv contenteditable\x3d"'+!!b.readOnly+'" class\x3d"cke_textarea_inline"\x3e'+c.getValue()+"\x3c/div\x3e",CKEDITOR.document),a.insertAfter(c),c.hide(),c.$.form&&b._attachToForm()):b.setData(a.getHtml(),null,!0);b.on("loaded",function(){b.fire("uiReady");
b.editable(a);b.container=a;b.ui.contentsElement=a;b.setData(b.getData(1));b.resetDirty();b.fire("contentDom");b.mode="wysiwyg";b.fire("mode");b.status="ready";b.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,b)},null,null,1E4);b.on("destroy",function(){var a=b.container;c&&a&&(a.clearCustomData(),a.remove());c&&c.show();b.element.clearCustomData();delete b.element});return b};CKEDITOR.inlineAll=function(){var a,d,b;for(b in CKEDITOR.dtd.$editable)for(var c=CKEDITOR.document.getElementsByTag(b),
f=0,h=c.count();f<h;f++)a=c.getItem(f),"true"==a.getAttribute("contenteditable")&&(d={element:a,config:{}},!1!==CKEDITOR.fire("inline",d)&&CKEDITOR.inline(a,d.config))};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})})();CKEDITOR.replaceClass="ckeditor";
(function(){function a(a,f,h,k){a=CKEDITOR.editor._getEditorElement(a);if(!a)return null;var g=new CKEDITOR.editor(f,a,k);k==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.setStyle("visibility","hidden"),g._.required=a.hasAttribute("required"),a.removeAttribute("required"));h&&g.setData(h,null,!0);g.on("loaded",function(){g.isDestroyed()||g.isDetached()||(b(g),k==CKEDITOR.ELEMENT_MODE_REPLACE&&g.config.autoUpdateElement&&a.$.form&&g._attachToForm(),g.setMode(g.config.startupMode,function(){g.resetDirty();g.status=
"ready";g.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,g)}))});g.on("destroy",d);return g}function d(){var a=this.container,b=this.element;a&&(a.clearCustomData(),a.remove());b&&(b.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(b.show(),this._.required&&b.setAttribute("required","required")),delete this.element)}function b(a){var b=a.name,d=a.element,k=a.elementMode,g=a.fire("uiSpace",{space:"top",html:""}).html,l=a.fire("uiSpace",{space:"bottom",html:""}).html,
v=new CKEDITOR.template('\x3c{outerEl} id\x3d"cke_{name}" class\x3d"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir\x3d"{langDir}" lang\x3d"{langCode}" role\x3d"application"'+(a.title?' aria-labelledby\x3d"cke_{name}_arialbl"':"")+"\x3e"+(a.title?'\x3cspan id\x3d"cke_{name}_arialbl" class\x3d"cke_voice_label"\x3e{voiceLabel}\x3c/span\x3e':"")+'\x3c{outerEl} class\x3d"cke_inner cke_reset" role\x3d"presentation"\x3e{topHtml}\x3c{outerEl} id\x3d"{contentId}" class\x3d"cke_contents cke_reset" role\x3d"presentation"\x3e\x3c/{outerEl}\x3e{bottomHtml}\x3c/{outerEl}\x3e\x3c/{outerEl}\x3e'),
b=CKEDITOR.dom.element.createFromHtml(v.output({id:a.id,name:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.title,topHtml:g?'\x3cspan id\x3d"'+a.ui.spaceId("top")+'" class\x3d"cke_top cke_reset_all" role\x3d"presentation" style\x3d"height:auto"\x3e'+g+"\x3c/span\x3e":"",contentId:a.ui.spaceId("contents"),bottomHtml:l?'\x3cspan id\x3d"'+a.ui.spaceId("bottom")+'" class\x3d"cke_bottom cke_reset_all" role\x3d"presentation"\x3e'+l+"\x3c/span\x3e":"",outerEl:CKEDITOR.env.ie?"span":"div"}));k==CKEDITOR.ELEMENT_MODE_REPLACE?
(d.hide(),b.insertAfter(d)):d.append(b);a.container=b;a.ui.contentsElement=a.ui.space("contents");g&&a.ui.space("top").unselectable();l&&a.ui.space("bottom").unselectable();d=a.config.width;k=a.config.height;d&&b.setStyle("width",CKEDITOR.tools.cssLength(d));k&&a.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(k));b.disableContextMenu();CKEDITOR.env.webkit&&b.on("focus",function(){a.focus()});a.fireOnce("uiReady")}CKEDITOR.replace=function(b,d){return a(b,d,null,CKEDITOR.ELEMENT_MODE_REPLACE)};
CKEDITOR.appendTo=function(b,d,h){return a(b,d,h,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var a=document.getElementsByTagName("textarea"),b=0;b<a.length;b++){var d=null,k=a[b];if(k.name||k.id){if("string"==typeof arguments[0]){if(!(new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)")).test(k.className))continue}else if("function"==typeof arguments[0]&&(d={},!1===arguments[0](k,d)))continue;this.replace(k,d)}}};CKEDITOR.editor.prototype.addMode=function(a,b){(this._.modes||(this._.modes=
{}))[a]=b};CKEDITOR.editor.prototype.setMode=function(a,b){var d=this,k=this._.modes;if(a!=d.mode&&k&&k[a]){d.fire("beforeSetMode",a);if(d.mode){var g=d.checkDirty(),k=d._.previousModeData,l,v=0;d.fire("beforeModeUnload");d.editable(0);d._.previousMode=d.mode;d._.previousModeData=l=d.getData(1);"source"==d.mode&&k==l&&(d.fire("lockSnapshot",{forceUpdate:!0}),v=1);d.ui.space("contents").setHtml("");d.mode=""}else d._.previousModeData=d.getData(1);this._.modes[a](function(){d.mode=a;void 0!==g&&!g&&
d.resetDirty();v?d.fire("unlockSnapshot"):"wysiwyg"==a&&d.fire("saveSnapshot");setTimeout(function(){d.isDestroyed()||d.isDetached()||(d.fire("mode"),b&&b.call(d))},0)})}};CKEDITOR.editor.prototype.resize=function(a,b,d,k){var g=this.container,l=this.ui.space("contents"),v=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;k=k?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_inner")}):g;k.setSize("width",a,!0);v&&(v.style.width="1%");
var e=(k.$.offsetHeight||0)-(l.$.clientHeight||0),g=Math.max(b-(d?0:e),0);b=d?b+e:b;l.setStyle("height",g+"px");v&&(v.style.width="100%");this.fire("resize",{outerHeight:b,contentsHeight:g,outerWidth:a||k.getSize("width")})};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space("contents"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})})();CKEDITOR.config.startupMode="wysiwyg";
(function(){function a(a){var b=a.editor,e=a.data.path,f=e.blockLimit,g=a.data.selection,r=g.getRanges()[0],h;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(g=d(g,e))g.appendBogus(),h=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.edge&&b._.previousActive;k(b,e.block,f)&&r.collapsed&&!r.getCommonAncestor().isReadOnly()&&(e=r.clone(),e.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),f=new CKEDITOR.dom.walker(e),f.guard=function(a){return!c(a)||a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()},
!f.checkForward()||e.checkStartOfBlock()&&e.checkEndOfBlock())&&(b=r.fixBlock(!0,b.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(b=b.getFirst(c))&&b.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(b.getText()).match(/^(?:&nbsp;|\xa0)$/)&&b.remove(),h=1,a.cancel());h&&r.select()}function d(a,b){if(a.isFake)return 0;var d=b.block||b.blockLimit,e=d&&d.getLast(c);if(!(!d||!d.isBlockBoundary()||e&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||d.is("pre")||d.getBogus()))return d}
function b(a){var b=a.data.getTarget();b.is("input")&&(b=b.getAttribute("type"),"submit"!=b&&"reset"!=b||a.data.preventDefault())}function c(a){return x(a)&&t(a)}function f(a,b){return function(c){var d=c.data.$.toElement||c.data.$.fromElement||c.data.$.relatedTarget;(d=d&&d.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(d):null)&&(b.equals(d)||b.contains(d))||a.call(this,c)}}function h(a){function b(a){return function(b,e){e&&b.type==CKEDITOR.NODE_ELEMENT&&b.is(f)&&(d=b);if(!(e||!c(b)||
a&&G(b)))return!1}}var d,e=a.getRanges()[0];a=a.root;var f={table:1,ul:1,ol:1,dl:1};if(e.startPath().contains(f)){var r=e.clone();r.collapse(1);r.setStartAt(a,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(r);a.guard=b();a.checkBackward();if(d)return r=e.clone(),r.collapse(),r.setEndAt(d,CKEDITOR.POSITION_AFTER_END),a=new CKEDITOR.dom.walker(r),a.guard=b(!0),d=!1,a.checkForward(),d}return null}function k(a,b,c){return!1!==a.config.autoParagraph&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&(a.editable().equals(c)&&
!b||b&&"true"==b.getAttribute("contenteditable"))}function g(a){return a.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==a.config.autoParagraph?a.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p":!1}function l(a){a&&a.isEmptyInlineRemoveable()&&a.remove()}function v(a){var b=a.editor;b.getSelection().scrollIntoView();setTimeout(function(){b.fire("saveSnapshot")},0)}function e(a,b,c){var d=a.getCommonAncestor(b);for(b=a=c?b:a;(a=a.getParent())&&!d.equals(a)&&1==a.getChildCount();)b=a;b.remove()}var x,t,z,G,u,
n,L,y,H,I;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||b);this.editor=a;this.status="unloaded";this.hasFocus=!1;this.setup()},proto:{focus:function(){var a;if(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),this.contains(a))){a.focus();return}CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);
try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var b=this.$.scrollTop;this.$.focus();this.$.scrollTop=b}else this.$.focus();else this.$.setActive()}catch(c){if(!CKEDITOR.env.ie)throw c;}CKEDITOR.env.safari&&!this.isInline()&&(a=CKEDITOR.document.getActive(),a.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(a,b){var c=Array.prototype.slice.call(arguments,0);CKEDITOR.env.ie&&/^focus|blur$/.exec(a)&&
(a="focus"==a?"focusin":"focusout",b=f(b,this),c[0]=a,c[1]=b);return CKEDITOR.dom.element.prototype.on.apply(this,c)},attachListener:function(a){!this._.listeners&&(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,1),b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=this._.attrChanges,b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],null!==b?this.setAttribute(c,
b):this.removeAttribute(c))},attachClass:function(a){var b=this.getCustomData("classes");this.hasClass(a)||(!b&&(b=[]),b.push(a),this.setCustomData("classes",b),this.addClass(a))},changeAttr:function(a,b){var c=this.getAttribute(a);b!==c&&(!this._.attrChanges&&(this._.attrChanges={}),a in this._.attrChanges||(this._.attrChanges[a]=c),this.setAttribute(a,b))},insertText:function(a){this.editor.focus();this.insertHtml(this.transformPlainTextToHtml(a),"text")},transformPlainTextToHtml:function(a){var b=
this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(a,b)},insertHtml:function(a,b,c){var d=this.editor;d.focus();d.fire("saveSnapshot");c||(c=d.getSelection().getRanges()[0]);n(this,b||"html",a,c);c.select();v(this);this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(a,b,c){n(this,c||"html",a,b);this.editor.fire("afterInsertHtml",{intoRange:b})},insertElement:function(a,b){var d=
this.editor;d.focus();d.fire("saveSnapshot");var e=d.activeEnterMode,d=d.getSelection(),f=a.getName(),f=CKEDITOR.dtd.$block[f];b||(b=d.getRanges()[0]);this.insertElementIntoRange(a,b)&&(b.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),f&&((f=a.getNext(function(a){return c(a)&&!G(a)}))&&f.type==CKEDITOR.NODE_ELEMENT&&f.is(CKEDITOR.dtd.$block)?f.getDtd()["#"]?b.moveToElementEditStart(f):b.moveToElementEditEnd(a):f||e==CKEDITOR.ENTER_BR||(f=b.fixBlock(!0,e==CKEDITOR.ENTER_DIV?"div":"p"),b.moveToElementEditStart(f))));
d.selectRanges([b]);v(this)},insertElementIntoSelection:function(a){this.insertElement(a)},insertElementIntoRange:function(a,b){var c=this.editor,d=c.config.enterMode,e=a.getName(),f=CKEDITOR.dtd.$block[e];if(b.checkReadOnly())return!1;b.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&(b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?L(b):b.startContainer.is(CKEDITOR.dtd.$list)&&y(b));var g,F;if(f)for(;(g=b.getCommonAncestor(0,1))&&(F=CKEDITOR.dtd[g.getName()])&&(!F||!F[e]);)if(g.getName()in
CKEDITOR.dtd.span){var f=b.splitElement(g),h=b.createBookmark();l(g);l(f);b.moveToBookmark(h)}else b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(g),b.collapse(!0),g.remove()):b.splitBlock(d==CKEDITOR.ENTER_DIV?"div":"p",c.editable());b.insertNode(a);return!0},setData:function(a,b){b||(a=this.editor.dataProcessor.toHtml(a));this.setHtml(a);this.fixInitialSelection();"unloaded"==this.status&&(this.status="ready");this.editor.fire("dataReady")},getData:function(a){var b=this.getHtml();
a||(b=this.editor.dataProcessor.toDataFormat(b));return b},setReadOnly:function(a){this.setAttribute("contenteditable",!a)},detach:function(){this.status="detached";this.editor.setData(this.editor.getData(),{internal:!0});this.clearListeners();try{this._.cleanCustomData()}catch(a){if(!CKEDITOR.env.ie||-2146828218!==a.number)throw a;}this.editor.fire("contentDomUnload");delete this.editor.document;delete this.editor.window;delete this.editor},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},
fixInitialSelection:function(){function a(){var b=c.getDocument().$,d=b.getSelection(),e;a:if(d.anchorNode&&d.anchorNode==c.$)e=!0;else{if(CKEDITOR.env.webkit&&(e=c.getDocument().getActive())&&e.equals(c)&&!d.anchorNode){e=!0;break a}e=void 0}e&&(e=new CKEDITOR.dom.range(c),e.moveToElementEditStart(c),b=b.createRange(),b.setStart(e.startContainer.$,e.startOffset),b.collapse(!0),d.removeAllRanges(),d.addRange(b))}function b(){var a=c.getDocument().$,d=a.selection,e=c.getDocument().getActive();"None"==
d.type&&e.equals(c)&&(d=new CKEDITOR.dom.range(c),a=a.body.createTextRange(),d.moveToElementEditStart(c),d=d.startContainer,d.type!=CKEDITOR.NODE_ELEMENT&&(d=d.getParent()),a.moveToElementText(d.$),a.collapse(!0),a.select())}var c=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once("focus",function(){a()},null,null,-999)},getHtmlFromRange:function(a){if(a.collapsed)return new CKEDITOR.dom.documentFragment(a.document);
a={doc:this.getDocument(),range:a.clone()};H.eol.detect(a,this);H.bogus.exclude(a);H.cell.shrink(a);a.fragment=a.range.cloneContents();H.tree.rebuild(a,this);H.eol.fix(a,this);return new CKEDITOR.dom.documentFragment(a.fragment.$)},extractHtmlFromRange:function(a,b){var c=I,d={range:a,doc:a.document},e=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),e;a.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.table.detectPurge(d);d.bookmark=a.createBookmark();delete d.range;var f=this.editor.createRange();
f.moveToPosition(d.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START);d.targetBookmark=f.createBookmark();c.list.detectMerge(d,this);c.table.detectRanges(d,this);c.block.detectMerge(d,this);d.tableContentsRanges?(c.table.deleteRanges(d),a.moveToBookmark(d.bookmark),d.range=a):(a.moveToBookmark(d.bookmark),d.range=a,a.extractContents(c.detectExtractMerge(d)));a.moveToBookmark(d.targetBookmark);a.optimize();c.fixUneditableRangePosition(a);c.list.merge(d,this);c.table.purge(d,this);c.block.merge(d,this);
if(b){c=a.startPath();if(d=a.checkStartOfBlock()&&a.checkEndOfBlock()&&c.block&&!a.root.equals(c.block)){a:{var d=c.block.getElementsByTag("span"),f=0,g;if(d)for(;g=d.getItem(f++);)if(!t(g)){d=!0;break a}d=!1}d=!d}d&&(a.moveToPosition(c.block,CKEDITOR.POSITION_BEFORE_START),c.block.remove())}else c.autoParagraph(this.editor,a),z(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();return e},setup:function(){var a=this.editor;this.attachListener(a,"beforeGetData",function(){var b=
this.getData();this.is("textarea")||!1!==a.config.ignoreEmptyParagraph&&(b=b.replace(u,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,"getSnapshot",function(a){a.data=this.getData(1)},this);this.attachListener(a,"afterSetData",function(){this.setData(a.getData(1))},this);this.attachListener(a,"loadSnapshot",function(a){this.setData(a.data,1)},this);this.attachListener(a,"beforeFocus",function(){var b=a.getSelection();(b=b&&b.getNative())&&"Control"==b.type||this.focus()},
this);this.attachListener(a,"insertHtml",function(a){this.insertHtml(a.data.dataValue,a.data.mode,a.data.range)},this);this.attachListener(a,"insertElement",function(a){this.insertElement(a.data)},this);this.attachListener(a,"insertText",function(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass("cke_editable");a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):a.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||
this.attachClass("cke_editable_themed");this.attachClass("cke_contents_"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);this.on("blur",function(){this.hasFocus=!1},null,null,-1);this.on("focus",function(){this.hasFocus=!0},null,null,-1);if(CKEDITOR.env.webkit)this.on("scroll",function(){a._.previousScrollTop=a.editable().$.scrollTop},null,null,-1);if(CKEDITOR.env.edge&&14<CKEDITOR.env.version){var d=function(){var b=a.editable();
null!=a._.previousScrollTop&&b.getDocument().equals(CKEDITOR.document)&&(b.$.scrollTop=a._.previousScrollTop,a._.previousScrollTop=null,this.removeListener("scroll",d))};this.on("scroll",d)}a.focusManager.add(this);this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,a.once("contentDom",function(){a.focusManager.focus(this)},this));this.isInline()&&this.changeAttr("tabindex",a.tabIndex);if(!this.is("textarea")){a.document=this.getDocument();a.window=this.getWindow();var f=a.document;this.changeAttr("spellcheck",
!a.config.disableNativeSpellChecker);var g=a.config.contentsLangDirection;this.getDirection(1)!=g&&this.changeAttr("dir",g);var k=CKEDITOR.getCss();if(k){var g=f.getHead(),r=g.getCustomData("stylesheet");r?k!=r.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?r.$.styleSheet.cssText=k:r.setText(k)):(k=f.appendStyleText(k),k=new CKEDITOR.dom.element(k.ownerNode||k.owningElement),g.setCustomData("stylesheet",k),k.data("cke-temp",1))}g=f.getCustomData("stylesheet_ref")||0;f.setCustomData("stylesheet_ref",
g+1);this.setCustomData("cke_includeReadonly",!a.config.disableReadonlyStyling);this.attachListener(this,"click",function(a){a=a.data;var b=(new CKEDITOR.dom.elementPath(a.getTarget(),this)).contains("a");b&&2!=a.$.button&&b.isReadOnly()&&a.preventDefault()});var C={8:1,46:1};this.attachListener(a,"key",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey(),d;b=a.getSelection();if(0!==b.getRanges().length){if(c in C){var e,f=b.getRanges()[0],r=f.startPath(),g,q,k,c=8==c;CKEDITOR.env.ie&&
11>CKEDITOR.env.version&&(e=b.getSelectedElement())||(e=h(b))?(a.fire("saveSnapshot"),f.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),f.select(),a.fire("saveSnapshot"),d=1):f.collapsed&&((g=r.block)&&(k=g[c?"getPrevious":"getNext"](x))&&k.type==CKEDITOR.NODE_ELEMENT&&k.is("table")&&f[c?"checkStartOfBlock":"checkEndOfBlock"]()?(a.fire("saveSnapshot"),f[c?"checkEndOfBlock":"checkStartOfBlock"]()&&g.remove(),f["moveToElementEdit"+(c?"End":"Start")](k),f.select(),a.fire("saveSnapshot"),
d=1):r.blockLimit&&r.blockLimit.is("td")&&(q=r.blockLimit.getAscendant("table"))&&f.checkBoundaryOfElement(q,c?CKEDITOR.START:CKEDITOR.END)&&(k=q[c?"getPrevious":"getNext"](x))?(a.fire("saveSnapshot"),f["moveToElementEdit"+(c?"End":"Start")](k),f.checkStartOfBlock()&&f.checkEndOfBlock()?k.remove():f.select(),a.fire("saveSnapshot"),d=1):(q=r.contains(["td","th","caption"]))&&f.checkBoundaryOfElement(q,c?CKEDITOR.START:CKEDITOR.END)&&(d=1))}return!d}});a.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&
this.attachListener(this,"keyup",function(b){b.data.getKeystroke()in C&&!this.getFirst(c)&&(this.appendBogus(),b=a.createRange(),b.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),b.select())});this.attachListener(this,"dblclick",function(b){if(a.readOnly)return!1;b={element:b.data.getTarget()};a.fire("doubleclick",b)});CKEDITOR.env.ie&&this.attachListener(this,"click",b);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(b){var c=b.data.getTarget();c.is("img","hr",
"input","textarea","select")&&!c.isReadOnly()&&(a.getSelection().selectElement(c),c.is("input","textarea","select")&&b.data.preventDefault())});CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(b){(b=b.data.getTarget())&&b.is("img")&&!b.isReadOnly()&&a.getSelection().selectElement(b)});CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(b){if(2==b.data.$.button&&(b=b.data.getTarget(),!b.getAscendant("table")&&!b.getOuterHtml().replace(u,""))){var c=a.createRange();c.moveToElementEditStart(b);
c.select(!0)}});CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(a){a.data.getTarget().is("input","select")&&a.data.preventDefault()}),this.attachListener(this,"mouseup",function(a){a.data.getTarget().is("input","textarea")&&a.data.preventDefault()}));CKEDITOR.env.webkit&&this.attachListener(a,"key",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey();if(c in C&&(b=a.getSelection(),0!==b.getRanges().length)){var c=8==c,d=b.getRanges()[0];b=d.startPath();if(d.collapsed)a:{var f=
b.block;if(f&&d[c?"checkStartOfBlock":"checkEndOfBlock"]()&&d.moveToClosestEditablePosition(f,!c)&&d.collapsed){if(d.startContainer.type==CKEDITOR.NODE_ELEMENT){var p=d.startContainer.getChild(d.startOffset-(c?1:0));if(p&&p.type==CKEDITOR.NODE_ELEMENT&&p.is("hr")){a.fire("saveSnapshot");p.remove();b=!0;break a}}d=d.startPath().block;if(!d||d&&d.contains(f))b=void 0;else{a.fire("saveSnapshot");var r;(r=(c?d:f).getBogus())&&r.remove();r=a.getSelection();p=r.createBookmarks();(c?f:d).moveChildren(c?
d:f,!1);b.lastElement.mergeSiblings();e(f,d,!c);r.selectBookmarks(p);b=!0}}else b=!1}else c=d,r=b.block,d=c.endPath().block,r&&d&&!r.equals(d)?(a.fire("saveSnapshot"),(f=r.getBogus())&&f.remove(),c.enlarge(CKEDITOR.ENLARGE_INLINE),c.deleteContents(),d.getParent()&&(d.moveChildren(r,!1),b.lastElement.mergeSiblings(),e(r,d,!0)),c=a.getSelection().getRanges()[0],c.collapse(1),c.optimize(),""===c.startContainer.getHtml()&&c.startContainer.appendBogus(),c.select(),b=!0):b=!1;if(!b)return;a.getSelection().scrollIntoView();
a.fire("saveSnapshot");return!1}},this,null,100)}},getUniqueId:function(){var a;try{this._.expandoNumber=a=CKEDITOR.dom.domObject.prototype.getUniqueId.call(this)}catch(b){a=this._&&this._.expandoNumber}return a}},_:{cleanCustomData:function(){this.removeClass("cke_editable");this.restoreAttrs();for(var a=this.removeCustomData("classes");a&&a.length;)this.removeClass(a.pop());if(!this.is("textarea")){var a=this.getDocument(),b=a.getHead();if(b.getCustomData("stylesheet")){var c=a.getCustomData("stylesheet_ref");
--c?a.setCustomData("stylesheet_ref",c):(a.removeCustomData("stylesheet_ref"),b.removeCustomData("stylesheet").remove())}}}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;if(!arguments.length)return b;a?b=a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),b=null);return this._.editable=b};CKEDITOR.on("instanceLoaded",function(b){var c=b.editor;c.on("insertElement",function(a){a=a.data;a.type==CKEDITOR.NODE_ELEMENT&&(a.is("input")||
a.is("textarea"))&&("false"!=a.getAttribute("contentEditable")&&a.data("cke-editable",a.hasAttribute("contenteditable")?"true":"1"),a.setAttribute("contentEditable",!1))});c.on("selectionChange",function(b){if(!c.readOnly){var d=c.getSelection();d&&!d.isLocked&&(d=c.checkDirty(),c.fire("lockSnapshot"),a(b),c.fire("unlockSnapshot"),!d&&c.resetDirty())}})});CKEDITOR.on("instanceCreated",function(a){var b=a.editor;b.on("mode",function(){var a=b.editable();if(a&&a.isInline()){var c=b.title;a.changeAttr("role",
"textbox");a.changeAttr("aria-multiline","true");a.changeAttr("aria-label",c);c&&a.changeAttr("title",c);var d=b.fire("ariaEditorHelpLabel",{}).label;if(d&&(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var e=CKEDITOR.tools.getNextId(),d=CKEDITOR.dom.element.createFromHtml('\x3cspan id\x3d"'+e+'" class\x3d"cke_voice_label"\x3e'+d+"\x3c/span\x3e");c.append(d);a.changeAttr("aria-describedby",e)}}})});CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");
x=CKEDITOR.dom.walker.whitespaces(!0);t=CKEDITOR.dom.walker.bookmark(!1,!0);z=CKEDITOR.dom.walker.empty();G=CKEDITOR.dom.walker.bogus();u=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi;n=function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT}function b(c,d){var e,f,r,g,h=[],k=d.range.startContainer;e=d.range.startPath();for(var k=F[k.getName()],C=0,w=c.getChildren(),l=w.count(),n=-1,A=-1,v=0,T=e.contains(F.$list);C<
l;++C)e=w.getItem(C),a(e)?(r=e.getName(),T&&r in CKEDITOR.dtd.$list?h=h.concat(b(e,d)):(g=!!k[r],"br"!=r||!e.data("cke-eol")||C&&C!=l-1||(v=(f=C?h[C-1].node:w.getItem(C+1))&&(!a(f)||!f.is("br")),f=f&&a(f)&&F.$block[f.getName()]),-1!=n||g||(n=C),g||(A=C),h.push({isElement:1,isLineBreak:v,isBlock:e.isBlockBoundary(),hasBlockSibling:f,node:e,name:r,allowed:g}),f=v=0)):h.push({isElement:0,node:e,allowed:1});-1<n&&(h[n].firstNotAllowed=1);-1<A&&(h[A].lastNotAllowed=1);return h}function d(b,c){var e=[],
f=b.getChildren(),r=f.count(),g,h=0,k=F[c],C=!b.is(F.$inline)||b.is("br");for(C&&e.push(" ");h<r;h++)g=f.getItem(h),a(g)&&!g.is(k)?e=e.concat(d(g,c)):e.push(g);C&&e.push(" ");return e}function e(b){return a(b.startContainer)&&b.startContainer.getChild(b.startOffset-1)}function f(b){return b&&a(b)&&(b.is(F.$removeEmpty)||b.is("a")&&!b.isBlockBoundary())}function r(b,c,d,e){var f=b.clone(),g,h;f.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);(g=(new CKEDITOR.dom.walker(f)).next())&&a(g)&&w[g.getName()]&&
(h=g.getPrevious())&&a(h)&&!h.getParent().equals(b.startContainer)&&d.contains(h)&&e.contains(g)&&g.isIdentical(h)&&(g.moveChildren(h),g.remove(),r(b,c,d,e))}function h(b,c){function d(b,c){if(c.isBlock&&c.isElement&&!c.node.is("br")&&a(b)&&b.is("br"))return b.remove(),1}var e=c.endContainer.getChild(c.endOffset),f=c.endContainer.getChild(c.endOffset-1);e&&d(e,b[b.length-1]);f&&d(f,b[0])&&(c.setEnd(c.endContainer,c.endOffset-1),c.collapse())}var F=CKEDITOR.dtd,w={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,
h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},n={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},v=CKEDITOR.tools.extend({},F.$inline);delete v.br;return function(p,w,O,q){var E=p.editor,D=!1;"unfiltered_html"==w&&(w="html",D=!0);if(!q.checkReadOnly()){var t=(new CKEDITOR.dom.elementPath(q.startContainer,q.root)).blockLimit||q.root;w={type:w,dontFilter:D,editable:p,editor:E,range:q,blockLimit:t,mergeCandidates:[],zombies:[]};var D=w.range,t=w.mergeCandidates,J="html"===w.type,x,u,z,y,G,V;"text"==w.type&&
D.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(u=CKEDITOR.dom.element.createFromHtml("\x3cspan\x3e\x26nbsp;\x3c/span\x3e",D.document),D.insertNode(u),D.setStartAfter(u));z=new CKEDITOR.dom.elementPath(D.startContainer);w.endPath=y=new CKEDITOR.dom.elementPath(D.endContainer);if(!D.collapsed){x=y.block||y.blockLimit;var aa=D.getCommonAncestor();x&&!x.equals(aa)&&!x.contains(aa)&&D.checkEndOfBlock()&&w.zombies.push(x);D.deleteContents()}for(;(G=e(D))&&a(G)&&G.isBlockBoundary()&&z.contains(G);)D.moveToPosition(G,
CKEDITOR.POSITION_BEFORE_END);r(D,w.blockLimit,z,y);u&&(D.setEndBefore(u),D.collapse(),u.remove());u=D.startPath();if(x=u.contains(f,!1,1))V=D.splitElement(x),w.inlineStylesRoot=x,w.inlineStylesPeak=u.lastElement;u=D.createBookmark();J&&(l(x),l(V));(x=u.startNode.getPrevious(c))&&a(x)&&f(x)&&t.push(x);(x=u.startNode.getNext(c))&&a(x)&&f(x)&&t.push(x);for(x=u.startNode;(x=x.getParent())&&f(x);)t.push(x);D.moveToBookmark(u);E.enterMode===CKEDITOR.ENTER_DIV&&""===E.getData(!0)&&((E=p.getFirst())&&E.remove(),
q.setStartAt(p,CKEDITOR.POSITION_AFTER_START),q.collapse(!0));if(p=O){p=w.range;if("text"==w.type&&w.inlineStylesRoot){q=w.inlineStylesPeak;E=q.getDocument().createText("{cke-peak}");for(V=w.inlineStylesRoot.getParent();!q.equals(V);)E=E.appendTo(q.clone()),q=q.getParent();O=E.getOuterHtml().split("{cke-peak}").join(O)}q=w.blockLimit.getName();if(/^\s+|\s+$/.test(O)&&"span"in CKEDITOR.dtd[q]){var H='\x3cspan data-cke-marker\x3d"1"\x3e\x26nbsp;\x3c/span\x3e';O=H+O+H}O=w.editor.dataProcessor.toHtml(O,
{context:null,fixForBody:!1,protectedWhitespaces:!!H,dontFilter:w.dontFilter,filter:w.editor.activeFilter,enterMode:w.editor.activeEnterMode});q=p.document.createElement("body");q.setHtml(O);H&&(q.getFirst().remove(),q.getLast().remove());if((H=p.startPath().block)&&(1!=H.getChildCount()||!H.getBogus()))a:{var P;if(1==q.getChildCount()&&a(P=q.getFirst())&&P.is(n)&&!P.hasAttribute("contenteditable")){H=P.getElementsByTag("*");p=0;for(V=H.count();p<V;p++)if(E=H.getItem(p),!E.is(v))break a;P.moveChildren(P.getParent(1));
P.remove()}}w.dataWrapper=q;p=O}if(p){P=w.range;p=P.document;q=w.blockLimit;V=0;var R,H=[],Q,I;O=u=0;var L,E=P.startContainer;G=w.endPath.elements[0];var Z,D=G.getPosition(E),t=!!G.getCommonAncestor(E)&&D!=CKEDITOR.POSITION_IDENTICAL&&!(D&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED),E=b(w.dataWrapper,w);for(h(E,P);V<E.length;V++){D=E[V];if(J=D.isLineBreak)J=P,x=q,y=z=void 0,D.hasBlockSibling?J=1:(z=J.startContainer.getAscendant(F.$block,1))&&z.is({div:1,p:1})?(y=z.getPosition(x),y==
CKEDITOR.POSITION_IDENTICAL||y==CKEDITOR.POSITION_CONTAINS?J=0:(x=J.splitElement(z),J.moveToPosition(x,CKEDITOR.POSITION_AFTER_START),J=1)):J=0;if(J)O=0<V;else{J=P.startPath();!D.isBlock&&k(w.editor,J.block,J.blockLimit)&&(I=g(w.editor))&&(I=p.createElement(I),I.appendBogus(),P.insertNode(I),CKEDITOR.env.needsBrFiller&&(R=I.getBogus())&&R.remove(),P.moveToPosition(I,CKEDITOR.POSITION_BEFORE_END));if((J=P.startPath().block)&&!J.equals(Q)){if(R=J.getBogus())R.remove(),H.push(J);Q=J}D.firstNotAllowed&&
(u=1);if(u&&D.isElement){J=P.startContainer;for(x=null;J&&!F[J.getName()][D.name];){if(J.equals(q)){J=null;break}x=J;J=J.getParent()}if(J)x&&(L=P.splitElement(x),w.zombies.push(L),w.zombies.push(x));else{x=q.getName();Z=!V;J=V==E.length-1;x=d(D.node,x);z=[];y=x.length;for(var aa=0,ca=void 0,X=0,W=-1;aa<y;aa++)ca=x[aa]," "==ca?(X||Z&&!aa||(z.push(new CKEDITOR.dom.text(" ")),W=z.length),X=1):(z.push(ca),X=0);J&&W==z.length&&z.pop();Z=z}}if(Z){for(;J=Z.pop();)P.insertNode(J);Z=0}else P.insertNode(D.node);
D.lastNotAllowed&&V<E.length-1&&((L=t?G:L)&&P.setEndAt(L,CKEDITOR.POSITION_AFTER_START),u=0);P.collapse()}}1!=E.length?R=!1:(R=E[0],R=R.isElement&&"false"==R.node.getAttribute("contenteditable"));R&&(O=!0,J=E[0].node,P.setStartAt(J,CKEDITOR.POSITION_BEFORE_START),P.setEndAt(J,CKEDITOR.POSITION_AFTER_END));w.dontMoveCaret=O;w.bogusNeededBlocks=H}R=w.range;var Y;L=w.bogusNeededBlocks;for(Z=R.createBookmark();Q=w.zombies.pop();)Q.getParent()&&(I=R.clone(),I.moveToElementEditStart(Q),I.removeEmptyBlocksAtEnd());
if(L)for(;Q=L.pop();)CKEDITOR.env.needsBrFiller?Q.appendBogus():Q.append(R.document.createText(" "));for(;Q=w.mergeCandidates.pop();)Q.mergeSiblings();R.moveToBookmark(Z);if(!w.dontMoveCaret){for(Q=e(R);Q&&a(Q)&&!Q.is(F.$empty);){if(Q.isBlockBoundary())R.moveToPosition(Q,CKEDITOR.POSITION_BEFORE_END);else{if(f(Q)&&Q.getHtml().match(/(\s|&nbsp;)$/g)){Y=null;break}Y=R.clone();Y.moveToPosition(Q,CKEDITOR.POSITION_BEFORE_END)}Q=Q.getLast(c)}Y&&R.moveToRange(Y)}}}}();L=function(){function a(b){b=new CKEDITOR.dom.walker(b);
b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT};return b}function b(a,c,d){c=a.getDocument().createElement(c);a.append(c,d);return c}function c(a){var b=a.count(),d;for(b;0<b--;)d=a.getItem(b),CKEDITOR.tools.trim(d.getHtml())||(d.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&d.getChildCount()&&d.getFirst().remove())}return function(d){var e=d.startContainer,f=e.getAscendant("table",
1),g=!1;c(f.getElementsByTag("td"));c(f.getElementsByTag("th"));f=d.clone();f.setStart(e,0);f=a(f).lastBackward();f||(f=d.clone(),f.setEndAt(e,CKEDITOR.POSITION_BEFORE_END),f=a(f).lastForward(),g=!0);f||(f=e);f.is("table")?(d.setStartAt(f,CKEDITOR.POSITION_BEFORE_START),d.collapse(!0),f.remove()):(f.is({tbody:1,thead:1,tfoot:1})&&(f=b(f,"tr",g)),f.is("tr")&&(f=b(f,f.getParent().is("thead")?"th":"td",g)),(e=f.getBogus())&&e.remove(),d.moveToPosition(f,g?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}();
y=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$list)||a.is(CKEDITOR.dtd.$listItem)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$listItem)};return b}return function(b){var c=b.startContainer,d=!1,e;e=b.clone();e.setStart(c,0);e=a(e).lastBackward();e||(e=b.clone(),e.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),e=a(e).lastForward(),d=!0);e||(e=c);e.is(CKEDITOR.dtd.$list)?
(b.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),b.collapse(!0),e.remove()):((c=e.getBogus())&&c.remove(),b.moveToPosition(e,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),b.select())}}();H={eol:{detect:function(a,b){var c=a.range,d=c.clone(),e=c.clone(),f=new CKEDITOR.dom.elementPath(c.startContainer,b),g=new CKEDITOR.dom.elementPath(c.endContainer,b);d.collapse(1);e.collapse();f.block&&d.checkBoundaryOfElement(f.block,CKEDITOR.END)&&(c.setStartAfter(f.block),a.prependEolBr=1);g.block&&
e.checkBoundaryOfElement(g.block,CKEDITOR.START)&&(c.setEndBefore(g.block),a.appendEolBr=1)},fix:function(a,b){var c=b.getDocument(),d;a.appendEolBr&&(d=this.createEolBr(c),a.fragment.append(d));!a.prependEolBr||d&&!d.getPrevious()||a.fragment.append(this.createEolBr(c),1)},createEolBr:function(a){return a.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),c=b.startNode,b=b.endNode;!b||!G(b)||c&&c.equals(b)||a.range.setEndBefore(b)}},
tree:{rebuild:function(a,b){var c=a.range,d=c.getCommonAncestor(),e=new CKEDITOR.dom.elementPath(d,b),f=new CKEDITOR.dom.elementPath(c.startContainer,b),c=new CKEDITOR.dom.elementPath(c.endContainer,b),g;d.type==CKEDITOR.NODE_TEXT&&(d=d.getParent());if(e.blockLimit.is({tr:1,table:1})){var h=e.contains("table").getParent();g=function(a){return!a.equals(h)}}else if(e.block&&e.block.is(CKEDITOR.dtd.$listItem)&&(f=f.contains(CKEDITOR.dtd.$list),c=c.contains(CKEDITOR.dtd.$list),!f.equals(c))){var k=e.contains(CKEDITOR.dtd.$list).getParent();
g=function(a){return!a.equals(k)}}g||(g=function(a){return!a.equals(e.block)&&!a.equals(e.blockLimit)});this.rebuildFragment(a,b,d,g)},rebuildFragment:function(a,b,c,d){for(var e;c&&!c.equals(b)&&d(c);)e=c.clone(0,1),a.fragment.appendTo(e),a.fragment=e,c=c.getParent()}},cell:{shrink:function(a){a=a.range;var b=a.startContainer,c=a.endContainer,d=a.startOffset,e=a.endOffset;b.type==CKEDITOR.NODE_ELEMENT&&b.equals(c)&&b.is("tr")&&++d==e&&a.shrink(CKEDITOR.SHRINK_TEXT)}}};I=function(){function a(b,c){var d=
b.getParent();if(d.is(CKEDITOR.dtd.$inline))b[c?"insertBefore":"insertAfter"](d)}function b(c,d,e){a(d);a(e,1);for(var f;f=e.getNext();)f.insertAfter(d),d=f;z(c)&&c.remove()}function c(a,b){var d=new CKEDITOR.dom.range(a);d.setStartAfter(b.startNode);d.setEndBefore(b.endNode);return d}return{list:{detectMerge:function(a,b){var d=c(b,a.bookmark),e=d.startPath(),f=d.endPath(),g=e.contains(CKEDITOR.dtd.$list),h=f.contains(CKEDITOR.dtd.$list);a.mergeList=g&&h&&g.getParent().equals(h.getParent())&&!g.equals(h);
a.mergeListItems=e.block&&f.block&&e.block.is(CKEDITOR.dtd.$listItem)&&f.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)d=d.clone(),d.setStartBefore(a.bookmark.startNode),d.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=d.createBookmark()},merge:function(a,c){if(a.mergeListBookmark){var d=a.mergeListBookmark.startNode,e=a.mergeListBookmark.endNode,f=new CKEDITOR.dom.elementPath(d,c),g=new CKEDITOR.dom.elementPath(e,c);if(a.mergeList){var h=f.contains(CKEDITOR.dtd.$list),k=
g.contains(CKEDITOR.dtd.$list);h.equals(k)||(k.moveChildren(h),k.remove())}a.mergeListItems&&(f=f.contains(CKEDITOR.dtd.$listItem),g=g.contains(CKEDITOR.dtd.$listItem),f.equals(g)||b(g,d,e));d.remove();e.remove()}}},block:{detectMerge:function(a,b){if(!a.tableContentsRanges&&!a.mergeListBookmark){var c=new CKEDITOR.dom.range(b);c.setStartBefore(a.bookmark.startNode);c.setEndAfter(a.bookmark.endNode);a.mergeBlockBookmark=c.createBookmark()}},merge:function(a,c){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var d=
a.mergeBlockBookmark.startNode,e=a.mergeBlockBookmark.endNode,f=new CKEDITOR.dom.elementPath(d,c),g=new CKEDITOR.dom.elementPath(e,c),f=f.block,g=g.block;f&&g&&!f.equals(g)&&b(g,d,e);d.remove();e.remove()}}},table:function(){function a(c){var e=[],f,g=new CKEDITOR.dom.walker(c),h=c.startPath().contains(d),p=c.endPath().contains(d),k={};g.guard=function(a,g){if(a.type==CKEDITOR.NODE_ELEMENT){var l="visited_"+(g?"out":"in");if(a.getCustomData(l))return;CKEDITOR.dom.element.setMarker(k,a,l,1)}if(g&&
h&&a.equals(h))f=c.clone(),f.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),e.push(f);else if(!g&&p&&a.equals(p))f=c.clone(),f.setStartAt(p,CKEDITOR.POSITION_AFTER_START),e.push(f);else{if(l=!g)l=a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&(!h||b(a,h))&&(!p||b(a,p));if(!l&&(l=g))if(a.is(d))var l=h&&h.getAscendant("table",!0),n=p&&p.getAscendant("table",!0),m=a.getAscendant("table",!0),l=l&&l.contains(m)||n&&n.contains(m);else l=void 0;l&&(f=c.clone(),f.selectNodeContents(a),e.push(f))}};g.lastForward();CKEDITOR.dom.element.clearAllMarkers(k);
return e}function b(a,c){var d=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,e=a.getPosition(c);return e===CKEDITOR.POSITION_IDENTICAL?!1:0===(e&d)}var d={td:1,th:1,caption:1};return{detectPurge:function(a){var b=a.range,c=b.clone();c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var c=new CKEDITOR.dom.walker(c),e=0;c.evaluator=function(a){a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&++e};c.checkForward();if(1<e){var c=b.startPath().contains("table"),f=b.endPath().contains("table");c&&f&&b.checkBoundaryOfElement(c,
CKEDITOR.START)&&b.checkBoundaryOfElement(f,CKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(c),b.setEndAfter(f),a.purgeTableBookmark=b.createBookmark())}},detectRanges:function(e,f){var g=c(f,e.bookmark),h=g.clone(),k,p,l=g.getCommonAncestor();l.is(CKEDITOR.dtd.$tableContent)&&!l.is(d)&&(l=l.getAscendant("table",!0));p=l;l=new CKEDITOR.dom.elementPath(g.startContainer,p);p=new CKEDITOR.dom.elementPath(g.endContainer,p);l=l.contains("table");p=p.contains("table");if(l||p)l&&p&&b(l,p)?(e.tableSurroundingRange=
h,h.setStartAt(l,CKEDITOR.POSITION_AFTER_END),h.setEndAt(p,CKEDITOR.POSITION_BEFORE_START),h=g.clone(),h.setEndAt(l,CKEDITOR.POSITION_AFTER_END),k=g.clone(),k.setStartAt(p,CKEDITOR.POSITION_BEFORE_START),k=a(h).concat(a(k))):l?p||(e.tableSurroundingRange=h,h.setStartAt(l,CKEDITOR.POSITION_AFTER_END),g.setEndAt(l,CKEDITOR.POSITION_AFTER_END)):(e.tableSurroundingRange=h,h.setEndAt(p,CKEDITOR.POSITION_BEFORE_START),g.setStartAt(p,CKEDITOR.POSITION_AFTER_START)),e.tableContentsRanges=k?k:a(g)},deleteRanges:function(a){for(var b;b=
a.tableContentsRanges.pop();)b.extractContents(),z(b.startContainer)&&b.startContainer.appendBogus();a.tableSurroundingRange&&a.tableSurroundingRange.extractContents()},purge:function(a){if(a.purgeTableBookmark){var b=a.doc,c=a.range.clone(),b=b.createElement("p");b.insertBefore(a.purgeTableBookmark.startNode);c.moveToBookmark(a.purgeTableBookmark);c.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(a){return!(a.range.startPath().contains(CKEDITOR.dtd.$listItem)&&
a.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(a){a.startContainer.getDtd()["#"]||a.moveToClosestEditablePosition(null,!0)},autoParagraph:function(a,b){var c=b.startPath(),d;k(a,c.block,c.blockLimit)&&(d=g(a))&&(d=b.document.createElement(d),d.appendBogus(),b.insertNode(d),b.moveToPosition(d,CKEDITOR.POSITION_AFTER_START))}}}()})();
(function(){function a(a){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(a)}function d(b,c){if(0===b.length||a(b[0].getEnclosedNode()))return!1;var d,e;if((d=!c&&1===b.length)&&!(d=b[0].collapsed)){var f=b[0];d=f.startContainer.getAscendant({td:1,th:1},!0);var g=f.endContainer.getAscendant({td:1,th:1},!0);e=CKEDITOR.tools.trim;d&&d.equals(g)&&!d.findOne("td, th, tr, tbody, table")?(f=f.cloneContents(),d=f.getFirst()?e(f.getFirst().getText())!==e(d.getText()):!0):d=!1}if(d)return!1;
for(e=0;e<b.length;e++)if(d=b[e]._getTableElement(),!d)return!1;return!0}function b(a){function b(a){a=a.find("td, th");var c=[],d;for(d=0;d<a.count();d++)c.push(a.getItem(d));return c}var c=[],d,e;for(e=0;e<a.length;e++)d=a[e]._getTableElement(),d.is&&d.is({td:1,th:1})?c.push(d):c=c.concat(b(d));return c}function c(a){a=b(a);var c="",d=[],e,f;for(f=0;f<a.length;f++)e&&!e.equals(a[f].getAscendant("tr"))?(c+=d.join("\t")+"\n",e=a[f].getAscendant("tr"),d=[]):0===f&&(e=a[f].getAscendant("tr")),d.push(a[f].getText());
return c+=d.join("\t")}function f(a){var b=this.root.editor,d=b.getSelection(1);this.reset();I=!0;d.root.once("selectionchange",function(a){a.cancel()},null,null,0);d.selectRanges([a[0]]);d=this._.cache;d.ranges=new CKEDITOR.dom.rangeList(a);d.type=CKEDITOR.SELECTION_TEXT;d.selectedElement=a[0]._getTableElement();d.selectedText=c(a);d.nativeSel=null;this.isFake=1;this.rev=L++;b._.fakeSelection=this;I=!1;this.root.fire("selectionchange")}function h(){var b=this._.fakeSelection,c;if(b){c=this.getSelection(1);
var e;if(!(e=!c)&&(e=!c.isHidden())){e=b;var f=c.getRanges(),g=e.getRanges(),h=f.length&&f[0]._getTableElement()&&f[0]._getTableElement().getAscendant("table",!0),p=g.length&&g[0]._getTableElement()&&g[0]._getTableElement().getAscendant("table",!0),k=1===f.length&&f[0]._getTableElement()&&f[0]._getTableElement().is("table"),l=1===g.length&&g[0]._getTableElement()&&g[0]._getTableElement().is("table");if(a(e.getSelectedElement()))e=!1;else{var q=1===f.length&&f[0].collapsed,g=d(f,!!CKEDITOR.env.webkit)&&
d(g);h=h&&p?h.equals(p)||p.contains(h):!1;h&&(q||g)?(k&&!l&&e.selectRanges(f),e=!0):e=!1}e=!e}e&&(b.reset(),b=0)}if(!b&&(b=c||this.getSelection(1),!b||b.getType()==CKEDITOR.SELECTION_NONE))return;this.fire("selectionCheck",b);c=this.elementPath();c.compare(this._.selectionPreviousPath)||(e=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(c.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||e||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=
c,this.fire("selectionChange",{selection:b,path:c}))}function k(){B=!0;m||(g.call(this),m=CKEDITOR.tools.setTimeout(g,200,this))}function g(){m=null;B&&(CKEDITOR.tools.setTimeout(h,0,this),B=!1)}function l(a){return K(a)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?!0:!1}function v(a){function b(c,d){return c&&c.type!=CKEDITOR.NODE_TEXT?a.clone()["moveToElementEdit"+(d?"End":"Start")](c):!1}if(!(a.root instanceof CKEDITOR.editable))return!1;var c=a.startContainer,d=a.getPreviousNode(l,
null,c),e=a.getNextNode(l,null,c);return b(d)||b(e,1)||!(d||e||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()&&c.getBogus())?!0:!1}function e(a){x(a,!1);var b=a.getDocument().createText(y);a.setCustomData("cke-fillingChar",b);return b}function x(a,b){var c=a&&a.removeCustomData("cke-fillingChar");if(c){if(!1!==b){var d=a.getDocument().getSelection().getNative(),e=d&&"None"!=d.type&&d.getRangeAt(0),f=y.length;if(c.getLength()>f&&e&&e.intersectsNode(c.$)){var g=[{node:d.anchorNode,offset:d.anchorOffset},
{node:d.focusNode,offset:d.focusOffset}];d.anchorNode==c.$&&d.anchorOffset>f&&(g[0].offset-=f);d.focusNode==c.$&&d.focusOffset>f&&(g[1].offset-=f)}}c.setText(t(c.getText(),1));g&&(c=a.getDocument().$,d=c.getSelection(),c=c.createRange(),c.setStart(g[0].node,g[0].offset),c.collapse(!0),d.removeAllRanges(),d.addRange(c),d.extend(g[1].node,g[1].offset))}}function t(a,b){return b?a.replace(H,function(a,b){return b?" ":""}):a.replace(y,"")}function z(a,b){var c=b&&CKEDITOR.tools.htmlEncode(b)||"\x26nbsp;",
c=CKEDITOR.dom.element.createFromHtml('\x3cdiv data-cke-hidden-sel\x3d"1" data-cke-temp\x3d"1" style\x3d"'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+'"\x3e'+c+"\x3c/div\x3e",a.document);a.fire("lockSnapshot");a.editable().append(c);var d=a.getSelection(1),e=a.createRange(),f=d.root.on("selectionchange",function(a){a.cancel()},null,null,0);e.setStartAt(c,CKEDITOR.POSITION_AFTER_START);e.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);
d.selectRanges([e]);f.removeListener();a.fire("unlockSnapshot");a._.hiddenSelectionContainer=c}function G(a){var b={37:1,39:1,8:1,46:1};return function(c){var d=c.data.getKeystroke();if(b[d]){var e=a.getSelection().getRanges(),f=e[0];1==e.length&&f.collapsed&&(d=f[38>d?"getPreviousEditableNode":"getNextEditableNode"]())&&d.type==CKEDITOR.NODE_ELEMENT&&"false"==d.getAttribute("contenteditable")&&(a.getSelection().fake(d),c.data.preventDefault(),c.cancel())}}}function u(a){for(var b=0;b<a.length;b++){var c=
a[b];c.getCommonAncestor().isReadOnly()&&a.splice(b,1);if(!c.collapsed){if(c.startContainer.isReadOnly())for(var d=c.startContainer,e;d&&!((e=d.type==CKEDITOR.NODE_ELEMENT)&&d.is("body")||!d.isReadOnly());)e&&"false"==d.getAttribute("contentEditable")&&c.setStartAfter(d),d=d.getParent();d=c.startContainer;e=c.endContainer;var f=c.startOffset,g=c.endOffset,h=c.clone();d&&d.type==CKEDITOR.NODE_TEXT&&(f>=d.getLength()?h.setStartAfter(d):h.setStartBefore(d));e&&e.type==CKEDITOR.NODE_TEXT&&(g?h.setEndAfter(e):
h.setEndBefore(e));d=new CKEDITOR.dom.walker(h);d.evaluator=function(d){if(d.type==CKEDITOR.NODE_ELEMENT&&d.isReadOnly()){var e=c.clone();c.setEndBefore(d);c.collapsed&&a.splice(b--,1);d.getPosition(h.endContainer)&CKEDITOR.POSITION_CONTAINS||(e.setStartAfter(d),e.collapsed||a.splice(b+1,0,e));return!0}return!1};d.next()}}return a}var n="function"!=typeof window.getSelection,L=1,y=CKEDITOR.tools.repeat("​",7),H=new RegExp(y+"( )?","g"),I,m,B,K=CKEDITOR.dom.walker.invisible(1),A=function(){function a(b){return function(a){var c=
a.editor.createRange();c.moveToClosestEditablePosition(a.selected,b)&&a.editor.getSelection().selectRanges([c]);return!1}}function b(a){return function(b){var c=b.editor,d=c.createRange(),e;if(!c.readOnly)return(e=d.moveToClosestEditablePosition(b.selected,a))||(e=d.moveToClosestEditablePosition(b.selected,!a)),e&&c.getSelection().selectRanges([d]),c.fire("saveSnapshot"),b.selected.remove(),e||(d.moveToElementEditablePosition(c.editable()),c.getSelection().selectRanges([d])),c.fire("saveSnapshot"),
!1}}var c=a(),d=a(1);return{37:c,38:c,39:d,40:d,8:b(),46:b(1)}}();CKEDITOR.on("instanceCreated",function(a){function b(){var a=c.getSelection();a&&a.removeAllRanges()}var c=a.editor;c.on("contentDom",function(){function a(){v=new CKEDITOR.dom.selection(c.getSelection());v.lock()}function b(){g.removeListener("mouseup",b);l.removeListener("mouseup",b);var a=CKEDITOR.document.$.selection,c=a.createRange();"None"!=a.type&&c.parentElement()&&c.parentElement().ownerDocument==f.$&&c.select()}function d(a){var b,
c;b=(b=this.document.getActive())?"input"===b.getName()||"textarea"===b.getName():!1;b||(b=this.getSelection(1),(c=e(b))&&!c.equals(q)&&(b.selectElement(c),a.data.preventDefault()))}function e(a){a=a.getRanges()[0];return a?(a=a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("contenteditable")},!0))&&"false"===a.getAttribute("contenteditable")?a:null:null}var f=c.document,g=CKEDITOR.document,q=c.editable(),r=f.getBody(),l=f.getDocumentElement(),C=q.isInline(),
m,v;CKEDITOR.env.gecko&&q.attachListener(q,"focus",function(a){a.removeListener();0!==m&&(a=c.getSelection().getNative())&&a.isCollapsed&&a.anchorNode==q.$&&(a=c.createRange(),a.moveToElementEditStart(q),a.select())},null,null,-2);q.attachListener(q,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){if(m&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){m=c._.previousActive&&c._.previousActive.equals(f.getActive());var a=null!=c._.previousScrollTop&&c._.previousScrollTop!=q.$.scrollTop;
CKEDITOR.env.webkit&&m&&a&&(q.$.scrollTop=c._.previousScrollTop)}c.unlockSelection(m);m=0},null,null,-1);q.attachListener(q,"mousedown",function(){m=0});if(CKEDITOR.env.ie||CKEDITOR.env.gecko||C)n?q.attachListener(q,"beforedeactivate",a,null,null,-1):q.attachListener(c,"selectionCheck",a,null,null,-1),q.attachListener(q,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",function(){var a=v&&(v.isFake||2>v.getRanges().length);CKEDITOR.env.gecko&&!C&&a||(c.lockSelection(v),m=1)},null,null,-1),
q.attachListener(q,"mousedown",function(){m=0});if(CKEDITOR.env.ie&&!C){var t;q.attachListener(q,"mousedown",function(a){2==a.data.$.button&&((a=c.document.getSelection())&&a.getType()!=CKEDITOR.SELECTION_NONE||(t=c.window.getScrollPosition()))});q.attachListener(q,"mouseup",function(a){2==a.data.$.button&&t&&(c.document.$.documentElement.scrollLeft=t.x,c.document.$.documentElement.scrollTop=t.y);t=null});if("BackCompat"!=f.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var u,z;
l.on("mousedown",function(a){function b(a){a=a.data.$;if(u){var c=r.$.createTextRange();try{c.moveToPoint(a.clientX,a.clientY)}catch(d){}u.setEndPoint(0>z.compareEndPoints("StartToStart",c)?"EndToEnd":"StartToStart",c);u.select()}}function c(){l.removeListener("mousemove",b);g.removeListener("mouseup",c);l.removeListener("mouseup",c);u.select()}a=a.data;if(a.getTarget().is("html")&&a.$.y<l.$.clientHeight&&a.$.x<l.$.clientWidth){u=r.$.createTextRange();try{u.moveToPoint(a.$.clientX,a.$.clientY)}catch(d){}z=
u.duplicate();l.on("mousemove",b);g.on("mouseup",c);l.on("mouseup",c)}})}if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)l.on("mousedown",function(a){a.data.getTarget().is("html")&&(g.on("mouseup",b),l.on("mouseup",b))})}}q.attachListener(q,"selectionchange",h,c);q.attachListener(q,"keyup",k,c);q.attachListener(q,"touchstart",k,c);q.attachListener(q,"touchend",k,c);CKEDITOR.env.ie&&q.attachListener(q,"keydown",d,c);q.attachListener(q,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){c.forceNextSelectionCheck();
c.selectionChange(1)});if(C&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var y;q.attachListener(q,"mousedown",function(){y=1});q.attachListener(f.getDocumentElement(),"mouseup",function(){y&&k.call(c);y=0})}else q.attachListener(CKEDITOR.env.ie?q:f.getDocumentElement(),"mouseup",k,c);CKEDITOR.env.webkit&&q.attachListener(f,"keydown",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:q.hasFocus&&x(q)}},null,null,-1);q.attachListener(q,
"keydown",G(c),null,null,-1)});c.on("setData",function(){c.unlockSelection();CKEDITOR.env.webkit&&b()});c.on("contentDomUnload",function(){c.unlockSelection()});if(CKEDITOR.env.ie9Compat)c.on("beforeDestroy",b,null,null,9);c.on("dataReady",function(){delete c._.fakeSelection;delete c._.hiddenSelectionContainer;c.selectionChange(1)});c.on("loadSnapshot",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=c.editable().getLast(a);b&&b.hasAttribute("data-cke-hidden-sel")&&(b.remove(),
CKEDITOR.env.gecko&&(a=c.editable().getFirst(a))&&a.is("br")&&a.getAttribute("_moz_editor_bogus_node")&&a.remove())},null,null,100);c.on("key",function(a){if("wysiwyg"==c.mode){var b=c.getSelection();if(b.isFake){var d=A[a.data.keyCode];if(d)return d({editor:c,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});if(CKEDITOR.env.webkit)CKEDITOR.on("instanceReady",function(a){var b=a.editor;b.on("selectionChange",function(){var a=b.editable(),c=a.getCustomData("cke-fillingChar");c&&(c.getCustomData("ready")?
(x(a),a.editor.fire("selectionCheck")):c.setCustomData("ready",1))},null,null,-1);b.on("beforeSetMode",function(){x(b.editable())},null,null,-1);b.on("getSnapshot",function(a){a.data&&(a.data=t(a.data))},b,null,20);b.on("toDataFormat",function(a){a.data.dataValue=t(a.data.dataValue)},null,null,0)});CKEDITOR.editor.prototype.selectionChange=function(a){(a?h:k).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){return!this._.savedSelection&&!this._.fakeSelection||a?(a=this.editable())&&
"wysiwyg"==this.mode?new CKEDITOR.dom.selection(a):null:this._.savedSelection||this._.fakeSelection};CKEDITOR.editor.prototype.getSelectedRanges=function(a){var b=this.getSelection();return b&&b.getRanges(a)||[]};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);return a.getType()!=CKEDITOR.SELECTION_NONE?(!a.isLocked&&a.lock(),this._.savedSelection=a,!0):!1};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;return b?(b.unlock(a),delete this._.savedSelection,
!0):!1};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;CKEDITOR.dom.selection=
function(a){if(a instanceof CKEDITOR.dom.selection){var b=a;a=a.root}var c=a instanceof CKEDITOR.dom.element;this.rev=b?b.rev:L++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=c?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),this.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var d,e;if(a)if(a.getRangeAt)d=(e=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(e.commonAncestorContainer);
else{try{e=a.createRange()}catch(f){}d=e&&CKEDITOR.dom.element.get(e.item&&e.item(0)||e.parentElement())}if(!d||d.type!=CKEDITOR.NODE_ELEMENT&&d.type!=CKEDITOR.NODE_TEXT||!this.root.equals(d)&&!this.root.contains(d))this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var M={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,
select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:t,_createFillingCharSequenceNode:e,FILLING_CHAR_SEQUENCE:y});CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=n?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:n?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_NONE;
try{var c=this.getNative(),d=c.type;"Text"==d&&(b=CKEDITOR.SELECTION_TEXT);"Control"==d&&(b=CKEDITOR.SELECTION_ELEMENT);c.createRange().parentElement()&&(b=CKEDITOR.SELECTION_TEXT)}catch(e){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;else if(1==c.rangeCount){var c=c.getRangeAt(0),d=c.startContainer;d==c.endContainer&&1==d.nodeType&&1==c.endOffset-c.startOffset&&M[d.childNodes[c.startOffset].nodeName.toLowerCase()]&&
(b=CKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=n?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}var b=function(b,c){b=b.duplicate();b.collapse(c);var d=b.parentElement();if(!d.hasChildNodes())return{container:d,offset:0};for(var e=d.children,f,g,h=b.duplicate(),k=0,l=e.length-1,r=-1,n,m;k<=l;)if(r=Math.floor((k+l)/2),f=e[r],h.moveToElementText(f),n=h.compareEndPoints("StartToStart",b),0<n)l=r-1;else if(0>n)k=r+1;else return{container:d,offset:a(f)};
if(-1==r||r==e.length-1&&0>n){h.moveToElementText(d);h.setEndPoint("StartToStart",b);h=h.text.replace(/(\r\n|\r)/g,"\n").length;e=d.childNodes;if(!h)return f=e[e.length-1],f.nodeType!=CKEDITOR.NODE_TEXT?{container:d,offset:e.length}:{container:f,offset:f.nodeValue.length};for(d=e.length;0<h&&0<d;)g=e[--d],g.nodeType==CKEDITOR.NODE_TEXT&&(m=g,h-=g.nodeValue.length);return{container:m,offset:-h}}h.collapse(0<n?!0:!1);h.setEndPoint(0<n?"StartToStart":"EndToStart",b);h=h.text.replace(/(\r\n|\r)/g,"\n").length;
if(!h)return{container:d,offset:a(f)+(0<n?0:1)};for(;0<h;)try{g=f[0<n?"previousSibling":"nextSibling"],g.nodeType==CKEDITOR.NODE_TEXT&&(h-=g.nodeValue.length,m=g),f=g}catch(v){return{container:d,offset:a(f)}}return{container:m,offset:0<n?-h:m.nodeValue.length+h}};return function(){var a=this.getNative(),c=a&&a.createRange(),d=this.getType();if(!a)return[];if(d==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),d=b(c,!0),a.setStart(new CKEDITOR.dom.node(d.container),d.offset),d=b(c),
a.setEnd(new CKEDITOR.dom.node(d.container),d.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(d==CKEDITOR.SELECTION_ELEMENT){for(var d=[],e=0;e<c.length;e++){for(var f=c.item(e),g=f.parentNode,h=0,a=new CKEDITOR.dom.range(this.root);h<g.childNodes.length&&g.childNodes[h]!=f;h++);a.setStart(new CKEDITOR.dom.node(g),h);a.setEnd(new CKEDITOR.dom.node(g),h+1);d.push(a)}return d}return[]}}():function(){var a=
[],b,c=this.getNative();if(!c)return a;for(var d=0;d<c.rangeCount;d++){var e=c.getRangeAt(d);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(e.startContainer),e.startOffset);b.setEnd(new CKEDITOR.dom.node(e.endContainer),e.endOffset);a.push(b)}return a};return function(b){var c=this._.cache,d=c.ranges;d||(c.ranges=d=new CKEDITOR.dom.rangeList(a.call(this)));return b?u(new CKEDITOR.dom.rangeList(d.slice())):d}}(),getStartElement:function(){var a=this._.cache;if(void 0!==a.startElement)return a.startElement;
var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var c=this.getRanges()[0];if(c){if(c.collapsed)b=c.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());else{for(c.optimize();b=c.startContainer,c.startOffset==(b.getChildCount?b.getChildCount():b.getLength())&&!b.isBlockBoundary();)c.setStartAfter(b);b=c.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();if((b=b.getChild(c.startOffset))&&b.type==
CKEDITOR.NODE_ELEMENT)for(c=b.getFirst();c&&c.type==CKEDITOR.NODE_ELEMENT;)b=c,c=c.getFirst();else b=c.startContainer}b=b.$}}return a.startElement=b?new CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(void 0!==a.selectedElement)return a.selectedElement;var b=this,c=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},function(){for(var a=b.getRanges()[0].clone(),c,d,e=2;e&&!((c=a.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&M[c.getName()]&&
(d=c));e--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return d&&d.$});return a.selectedElement=c?new CKEDITOR.dom.element(c):null},getSelectedText:function(){var a=this._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative(),b=n?"Control"==b.type?"":b.createRange().text:b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(a){if(this.isLocked){if(a)var b=
this.getSelectedElement(),c=this.getRanges(),e=this.isFake;this.isLocked=0;this.reset();a&&(a=b||c[0]&&c[0].getCommonAncestor())&&a.getAscendant("body",1)&&(this.root.editor.plugins.tableselection&&d(c)?f.call(this,c):e?this.fake(b):b&&2>c.length?this.selectElement(b):this.selectRanges(c))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection)if(this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;var b=a._.hiddenSelectionContainer;if(b){var c=a.checkDirty();
a.fire("lockSnapshot");b.remove();a.fire("unlockSnapshot");!c&&a.resetDirty()}delete a._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=L++},selectElement:function(a){var b=new CKEDITOR.dom.range(this.root);b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(a){var b=this.root.editor,c=b&&b._.hiddenSelectionContainer;this.reset();if(c)for(var c=this.root,g,h=0;h<a.length;++h)g=a[h],g.endContainer.equals(c)&&(g.endOffset=Math.min(g.endOffset,
c.getChildCount()));if(a.length)if(this.isLocked){var k=CKEDITOR.document.getActive();this.unlock();this.selectRanges(a);this.lock();k&&!k.equals(this.root)&&k.focus()}else{var p;a:{var l,m;if(1==a.length&&!(m=a[0]).collapsed&&(p=m.getEnclosedNode())&&p.type==CKEDITOR.NODE_ELEMENT&&(m=m.clone(),m.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(l=m.getEnclosedNode())&&l.type==CKEDITOR.NODE_ELEMENT&&(p=l),"false"==p.getAttribute("contenteditable")))break a;p=void 0}if(p)this.fake(p);else if(b&&b.plugins.tableselection&&
b.plugins.tableselection.isSupportedEnvironment()&&d(a)&&!I&&!a[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored"))f.call(this,a);else{if(n){l=CKEDITOR.dom.walker.whitespaces(!0);p=/\ufeff|\u00a0/;m={table:1,tbody:1,tr:1};1<a.length&&(b=a[a.length-1],a[0].setEnd(b.endContainer,b.endOffset));b=a[0];a=b.collapsed;var q,E,D;if((c=b.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in M&&(!c.is("a")||!c.getText()))try{D=c.$.createControlRange();D.addElement(c.$);
D.select();return}catch(t){}if(b.startContainer.type==CKEDITOR.NODE_ELEMENT&&b.startContainer.getName()in m||b.endContainer.type==CKEDITOR.NODE_ELEMENT&&b.endContainer.getName()in m)b.shrink(CKEDITOR.NODE_ELEMENT,!0),a=b.collapsed;D=b.createBookmark();m=D.startNode;a||(k=D.endNode);D=b.document.$.body.createTextRange();D.moveToElementText(m.$);D.moveStart("character",1);k?(p=b.document.$.body.createTextRange(),p.moveToElementText(k.$),D.setEndPoint("EndToEnd",p),D.moveEnd("character",-1)):(q=m.getNext(l),
E=m.hasAscendant("pre"),q=!(q&&q.getText&&q.getText().match(p))&&(E||!m.hasPrevious()||m.getPrevious().is&&m.getPrevious().is("br")),E=b.document.createElement("span"),E.setHtml("\x26#65279;"),E.insertBefore(m),q&&b.document.createText("﻿").insertBefore(m));b.setStartBefore(m);m.remove();a?(q?(D.moveStart("character",-1),D.select(),b.document.$.selection.clear()):D.select(),b.moveToPosition(E,CKEDITOR.POSITION_BEFORE_START),E.remove()):(b.setEndBefore(k),k.remove(),D.select())}else{k=this.getNative();
if(!k)return;this.removeAllRanges();for(D=0;D<a.length;D++){if(D<a.length-1&&(q=a[D],E=a[D+1],p=q.clone(),p.setStart(q.endContainer,q.endOffset),p.setEnd(E.startContainer,E.startOffset),!p.collapsed&&(p.shrink(CKEDITOR.NODE_ELEMENT,!0),b=p.getCommonAncestor(),p=p.getEnclosedNode(),b.isReadOnly()||p&&p.isReadOnly()))){E.setStart(q.startContainer,q.startOffset);a.splice(D--,1);continue}b=a[D];E=this.document.$.createRange();b.collapsed&&CKEDITOR.env.webkit&&v(b)&&(p=e(this.root),b.insertNode(p),(q=
p.getNext())&&!p.getPrevious()&&q.type==CKEDITOR.NODE_ELEMENT&&"br"==q.getName()?(x(this.root),b.moveToPosition(q,CKEDITOR.POSITION_BEFORE_START)):b.moveToPosition(p,CKEDITOR.POSITION_AFTER_END));E.setStart(b.startContainer.$,b.startOffset);try{E.setEnd(b.endContainer.$,b.endOffset)}catch(u){if(0<=u.toString().indexOf("NS_ERROR_ILLEGAL_VALUE"))b.collapse(1),E.setEnd(b.endContainer.$,b.endOffset);else throw u;}k.addRange(E)}}this.reset();this.root.fire("selectionchange")}}},fake:function(a,b){var c=
this.root.editor;void 0===b&&a.hasAttribute("aria-label")&&(b=a.getAttribute("aria-label"));this.reset();z(c,b);var d=this._.cache,e=new CKEDITOR.dom.range(this.root);e.setStartBefore(a);e.setEndAfter(a);d.ranges=new CKEDITOR.dom.rangeList(e);d.selectedElement=d.startElement=a;d.type=CKEDITOR.SELECTION_ELEMENT;d.selectedText=d.nativeSel=null;this.isFake=1;this.rev=L++;c._.fakeSelection=this;this.root.fire("selectionchange")},isHidden:function(){var a=this.getCommonAncestor();a&&a.type==CKEDITOR.NODE_TEXT&&
(a=a.getParent());return!(!a||!a.data("cke-hidden-sel"))},isInTable:function(a){return d(this.getRanges(),a)},isCollapsed:function(){var a=this.getRanges();return 1===a.length&&a[0].collapsed},createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(a){for(var b=[],c,e=0;e<a.length;e++){var f=new CKEDITOR.dom.range(this.root);
f.moveToBookmark(a[e]);b.push(f)}a.isFake&&(c=d(b)?b[0]._getTableElement():b[0].getEnclosedNode(),c&&c.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),a.isFake=0));a.isFake&&!d(b)?this.fake(c):this.selectRanges(b);return this},getCommonAncestor:function(){var a=this.getRanges();return a.length?a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=
CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[n?"empty":"removeAllRanges"]()}catch(b){}this.reset()}}}})();"use strict";CKEDITOR.STYLE_BLOCK=1;CKEDITOR.STYLE_INLINE=2;CKEDITOR.STYLE_OBJECT=3;
(function(){function a(a,b){for(var c,d;(a=a.getParent())&&!a.equals(b);)if(a.getAttribute("data-nostyle"))c=a;else if(!d){var e=a.getAttribute("contentEditable");"false"==e?c=a:"true"==e&&(d=1)}return c}function d(a,b,c,d){return(a.getPosition(b)|d)==d&&(!c.childRule||c.childRule(a))}function b(c){var e=c.document;if(c.collapsed)e=L(this,e),c.insertNode(e),c.moveToPosition(e,CKEDITOR.POSITION_BEFORE_END);else{var g=this.element,h=this._.definition,k,l=h.ignoreReadonly,m=l||h.includeReadonly;null==
m&&(m=c.root.getCustomData("cke_includeReadonly"));var n=CKEDITOR.dtd[g];n||(k=!0,n=CKEDITOR.dtd.span);c.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.trim();var v=c.createBookmark(),r=v.startNode,x=v.endNode,t=r,u;if(!l){var w=c.getCommonAncestor(),l=a(r,w),w=a(x,w);l&&(t=l.getNextSourceNode(!0));w&&(x=w)}for(t.getPosition(x)==CKEDITOR.POSITION_FOLLOWING&&(t=0);t;){l=!1;if(t.equals(x))t=null,l=!0;else{var z=t.type==CKEDITOR.NODE_ELEMENT?t.getName():null,w=z&&"false"==t.getAttribute("contentEditable"),y=z&&
t.getAttribute("data-nostyle");if(z&&t.data("cke-bookmark")||t.type===CKEDITOR.NODE_COMMENT){t=t.getNextSourceNode(!0);continue}if(w&&m&&CKEDITOR.dtd.$block[z])for(var A=t,B=f(A),C=void 0,H=B.length,I=0,A=H&&new CKEDITOR.dom.range(A.getDocument());I<H;++I){var C=B[I],K=CKEDITOR.filter.instances[C.data("cke-filter")];if(K?K.check(this):1)A.selectNodeContents(C),b.call(this,A)}B=z?!n[z]||y?0:w&&!m?0:d(t,x,h,T):1;if(B)if(C=t.getParent(),B=h,H=g,I=k,!C||!(C.getDtd()||CKEDITOR.dtd.span)[H]&&!I||B.parentRule&&
!B.parentRule(C))l=!0;else{if(u||z&&CKEDITOR.dtd.$removeEmpty[z]&&(t.getPosition(x)|T)!=T||(u=c.clone(),u.setStartBefore(t)),z=t.type,z==CKEDITOR.NODE_TEXT||w||z==CKEDITOR.NODE_ELEMENT&&!t.getChildCount()){for(var z=t,M;(l=!z.getNext(F))&&(M=z.getParent(),n[M.getName()])&&d(M,r,h,S);)z=M;u.setEndAfter(z)}}else l=!0;t=t.getNextSourceNode(y||w)}if(l&&u&&!u.collapsed){for(var l=L(this,e),w=l.hasAttributes(),y=u.getCommonAncestor(),z={},B={},C={},H={},X,W,Y;l&&y;){if(y.getName()==g){for(X in h.attributes)!H[X]&&
(Y=y.getAttribute(W))&&(l.getAttribute(X)==Y?B[X]=1:H[X]=1);for(W in h.styles)!C[W]&&(Y=y.getStyle(W))&&(l.getStyle(W)==Y?z[W]=1:C[W]=1)}y=y.getParent()}for(X in B)l.removeAttribute(X);for(W in z)l.removeStyle(W);w&&!l.hasAttributes()&&(l=null);l?(u.extractContents().appendTo(l),u.insertNode(l),G.call(this,l),l.mergeSiblings(),CKEDITOR.env.ie||l.$.normalize()):(l=new CKEDITOR.dom.element("span"),u.extractContents().appendTo(l),u.insertNode(l),G.call(this,l),l.remove(!0));u=null}}c.moveToBookmark(v);
c.shrink(CKEDITOR.SHRINK_TEXT);c.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function c(a){function b(){for(var a=new CKEDITOR.dom.elementPath(d.getParent()),c=new CKEDITOR.dom.elementPath(m.getParent()),e=null,f=null,g=0;g<a.elements.length;g++){var h=a.elements[g];if(h==a.block||h==a.blockLimit)break;n.checkElementRemovable(h,!0)&&(e=h)}for(g=0;g<c.elements.length;g++){h=c.elements[g];if(h==c.block||h==c.blockLimit)break;n.checkElementRemovable(h,!0)&&(f=h)}f&&m.breakParent(f);e&&d.breakParent(e)}a.enlarge(CKEDITOR.ENLARGE_INLINE,
1);var c=a.createBookmark(),d=c.startNode,e=this._.definition.alwaysRemoveElement;if(a.collapsed){for(var f=new CKEDITOR.dom.elementPath(d.getParent(),a.root),g,h=0,k;h<f.elements.length&&(k=f.elements[h])&&k!=f.block&&k!=f.blockLimit;h++)if(this.checkElementRemovable(k)){var l;!e&&a.collapsed&&(a.checkBoundaryOfElement(k,CKEDITOR.END)||(l=a.checkBoundaryOfElement(k,CKEDITOR.START)))?(g=k,g.match=l?"start":"end"):(k.mergeSiblings(),k.is(this.element)?z.call(this,k):u(k,I(this)[k.getName()]))}if(g){e=
d;for(h=0;;h++){k=f.elements[h];if(k.equals(g))break;else if(k.match)continue;else k=k.clone();k.append(e);e=k}e["start"==g.match?"insertBefore":"insertAfter"](g)}}else{var m=c.endNode,n=this;b();for(f=d;!f.equals(m);)g=f.getNextSourceNode(),f.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(f)&&(f.getName()==this.element?z.call(this,f):u(f,I(this)[f.getName()]),g.type==CKEDITOR.NODE_ELEMENT&&g.contains(d)&&(b(),g=d.getNext())),f=g}a.moveToBookmark(c);a.shrink(CKEDITOR.NODE_ELEMENT,!0)}function f(a){var b=
[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function h(a){var b=a.getEnclosedNode()||a.getCommonAncestor(!1,!0);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&y(a,this)}function k(a){var b=a.getCommonAncestor(!0,!0);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,c=b.attributes;if(c)for(var d in c)a.removeAttribute(d,c[d]);if(b.styles)for(var e in b.styles)b.styles.hasOwnProperty(e)&&
a.removeStyle(e)}}function g(a){var b=a.createBookmark(!0),c=a.createIterator();c.enforceRealBlocks=!0;this._.enterMode&&(c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var d,e=a.document,f;d=c.getNextParagraph();)!d.isReadOnly()&&(c.activeFilter?c.activeFilter.check(this):1)&&(f=L(this,e,d),v(d,f));a.moveToBookmark(b)}function l(a){var b=a.createBookmark(1),c=a.createIterator();c.enforceRealBlocks=!0;c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var d,e;d=c.getNextParagraph();)this.checkElementRemovable(d)&&
(d.is("pre")?((e=this._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&d.copyAttributes(e),v(d,e)):z.call(this,d));a.moveToBookmark(b)}function v(a,b){var c=!b;c&&(b=a.getDocument().createElement("div"),a.copyAttributes(b));var d=b&&b.is("pre"),f=a.is("pre"),g=!d&&f;if(d&&!f){f=b;(g=a.getBogus())&&g.remove();g=a.getHtml();g=x(g,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"");g=g.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1");g=g.replace(/([ \t\n\r]+|&nbsp;)/g,
" ");g=g.replace(/<br\b[^>]*>/gi,"\n");if(CKEDITOR.env.ie){var h=a.getDocument().createElement("div");h.append(f);f.$.outerHTML="\x3cpre\x3e"+g+"\x3c/pre\x3e";f.copyAttributes(h.getFirst());f=h.getFirst().remove()}else f.setHtml(g);b=f}else g?b=t(c?[a.getHtml()]:e(a),b):a.moveChildren(b);b.replace(a);if(d){var c=b,k;(k=c.getPrevious(w))&&k.type==CKEDITOR.NODE_ELEMENT&&k.is("pre")&&(d=x(k.getHtml(),/\n$/,"")+"\n\n"+x(c.getHtml(),/^\n/,""),CKEDITOR.env.ie?c.$.outerHTML="\x3cpre\x3e"+d+"\x3c/pre\x3e":
c.setHtml(d),k.remove())}else c&&n(b)}function e(a){var b=[];x(a.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(a,b,c){return b+"\x3c/pre\x3e"+c+"\x3cpre\x3e"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(a,c){b.push(c)});return b}function x(a,b,c){var d="",e="";a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(a,b,c){b&&(d=b);c&&(e=c);return""});return d+a.replace(b,c)+e}function t(a,b){var c;
1<a.length&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var d=0;d<a.length;d++){var e=a[d],e=e.replace(/(\r\n|\r)/g,"\n"),e=x(e,/^[ \t]*\n/,""),e=x(e,/\n$/,""),e=x(e,/^[ \t]+|[ \t]+$/g,function(a,b){return 1==a.length?"\x26nbsp;":b?" "+CKEDITOR.tools.repeat("\x26nbsp;",a.length-1):CKEDITOR.tools.repeat("\x26nbsp;",a.length-1)+" "}),e=e.replace(/\n/g,"\x3cbr\x3e"),e=e.replace(/[ \t]{2,}/g,function(a){return CKEDITOR.tools.repeat("\x26nbsp;",a.length-1)+" "});if(c){var f=b.clone();f.setHtml(e);
c.append(f)}else b.setHtml(e)}return c||b}function z(a,b){var c=this._.definition,d=c.attributes,c=c.styles,e=I(this)[a.getName()],f=CKEDITOR.tools.isEmpty(d)&&CKEDITOR.tools.isEmpty(c),g;for(g in d)if("class"!=g&&!this._.definition.fullMatch||a.getAttribute(g)==m(g,d[g]))b&&"data-"==g.slice(0,5)||(f=a.hasAttribute(g),a.removeAttribute(g));for(var h in c)this._.definition.fullMatch&&a.getStyle(h)!=m(h,c[h],!0)||(f=f||!!a.getStyle(h),a.removeStyle(h));u(a,e,A[a.getName()]);f&&(this._.definition.alwaysRemoveElement?
n(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?n(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function G(a){for(var b=I(this),c=a.getElementsByTag(this.element),d,e=c.count();0<=--e;)d=c.getItem(e),d.isReadOnly()||z.call(this,d,!0);for(var f in b)if(f!=this.element)for(c=a.getElementsByTag(f),e=c.count()-1;0<=e;e--)d=c.getItem(e),d.isReadOnly()||u(d,b[f])}function u(a,b,c){if(b=b&&b.attributes)for(var d=0;d<b.length;d++){var e=b[d][0],
f;if(f=a.getAttribute(e)){var g=b[d][1];(null===g||g.test&&g.test(f)||"string"==typeof g&&f==g)&&a.removeAttribute(e)}}c||n(a)}function n(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var c=a.getPrevious(w),d=a.getNext(w);!c||c.type!=CKEDITOR.NODE_TEXT&&c.isBlockBoundary({br:1})||a.append("br",1);!d||d.type!=CKEDITOR.NODE_TEXT&&d.isBlockBoundary({br:1})||a.append("br");a.remove(!0)}else c=a.getFirst(),d=a.getLast(),a.remove(!0),c&&(c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings(),
d&&!c.equals(d)&&d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings())}function L(a,b,c){var d;d=a.element;"*"==d&&(d="span");d=new CKEDITOR.dom.element(d,b);c&&c.copyAttributes(d);d=y(d,a);b.getCustomData("doc_processing_style")&&d.hasAttribute("id")?d.removeAttribute("id"):b.setCustomData("doc_processing_style",1);return d}function y(a,b){var c=b._.definition,d=c.attributes,c=CKEDITOR.style.getStyleText(c);if(d)for(var e in d)a.setAttribute(e,d[e]);c&&a.setAttribute("style",c);a.getDocument().removeCustomData("doc_processing_style");
return a}function H(a,b){for(var c in a)a[c]=a[c].replace(C,function(a,c){return b[c]})}function I(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var e=c[d],f,g;"string"==typeof e?f=e.toLowerCase():(f=e.element?e.element.toLowerCase():a.element,g=e.attributes);e=b[f]||(b[f]={});if(g){var e=e.attributes=e.attributes||[],h;for(h in g)e.push([h.toLowerCase(),g[h]])}}}return b}function m(a,
b,c){var d=new CKEDITOR.dom.element("span");d[c?"setStyle":"setAttribute"](a,b);return d[c?"getStyle":"getAttribute"](a)}function B(a,b){function c(a,b){return"font-family"==b.toLowerCase()?a.replace(/["']/g,""):a}"string"==typeof a&&(a=CKEDITOR.tools.parseCssText(a));"string"==typeof b&&(b=CKEDITOR.tools.parseCssText(b,!0));for(var d in a)if(!(d in b)||c(b[d],d)!=c(a[d],d)&&"inherit"!=a[d]&&"inherit"!=b[d])return!1;return!0}function K(a,b,c){var d=a.getRanges();b=b?this.removeFromRange:this.applyToRange;
for(var e,f=d.createIterator();e=f.getNextRange();)b.call(this,e,c);a.selectRanges(d)}var A={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},M={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},r=/\s*(?:;\s*|$)/,C=/#\((.+?)\)/g,F=CKEDITOR.dom.walker.bookmark(0,
1),w=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if("string"==typeof a.type)return new CKEDITOR.style.customHandlers[a.type](a);var c=a.attributes;c&&c.style&&(a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(c.style)),delete c.style);b&&(a=CKEDITOR.tools.clone(a),H(a.attributes,b),H(a.styles,b));c=this.element=a.element?"string"==typeof a.element?a.element.toLowerCase():a.element:"*";this.type=a.type||(A[c]?CKEDITOR.STYLE_BLOCK:M[c]?CKEDITOR.STYLE_OBJECT:
CKEDITOR.STYLE_INLINE);"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT);this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return K.call(this,a.getSelection());if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);K.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof CKEDITOR.dom.document)return K.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),
a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);K.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?b:this.type==CKEDITOR.STYLE_BLOCK?g:this.type==CKEDITOR.STYLE_OBJECT?h:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?c:this.type==CKEDITOR.STYLE_BLOCK?l:this.type==CKEDITOR.STYLE_OBJECT?k:null;return this.removeFromRange(a)},applyToObject:function(a){y(a,
this)},checkActive:function(a,b){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,!0,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var c=a.elements,d=0,e;d<c.length;d++)if(e=c[d],this.type!=CKEDITOR.STYLE_INLINE||e!=a.block&&e!=a.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var f=e.getName();if(!("string"==typeof this.element?f==this.element:f in this.element))continue}if(this.checkElementRemovable(e,!0,b))return!0}}return!1},checkApplicable:function(a,
b,c){b&&b instanceof CKEDITOR.filter&&(c=b);if(c&&!c.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(a,b){var c=this._.definition;if(!a||!c.ignoreReadonly&&a.isReadOnly())return!1;var d=a.getName();if("string"==typeof this.element?d==this.element:d in this.element){if(!b&&!a.hasAttributes())return!0;if(d=c._AC)c=d;else{var d={},e=0,f=c.attributes;
if(f)for(var g in f)e++,d[g]=f[g];if(g=CKEDITOR.style.getStyleText(c))d.style||e++,d.style=g;d._length=e;c=c._AC=d}if(c._length){for(var h in c)if("_length"!=h)if(d=a.getAttribute(h)||"","style"==h?B(c[h],d):c[h]==d){if(!b)return!0}else if(b)return!1;if(b)return!0}else return!0}return!1},checkElementRemovable:function(a,b,c){if(this.checkElementMatch(a,b,c))return!0;if(b=I(this)[a.getName()]){var d;if(!(b=b.attributes))return!0;for(c=0;c<b.length;c++)if(d=b[c][0],d=a.getAttribute(d)){var e=b[c][1];
if(null===e)return!0;if("string"==typeof e){if(d==e)return!0}else if(e.test(d))return!0}}return!1},buildPreview:function(a){var b=this._.definition,c=[],d=b.element;"bdo"==d&&(d="span");var c=["\x3c",d],e=b.attributes;if(e)for(var f in e)c.push(" ",f,'\x3d"',e[f],'"');(e=CKEDITOR.style.getStyleText(b))&&c.push(' style\x3d"',e,'"');c.push("\x3e",a||b.name,"\x3c/",d,"\x3e");return c.join("")},getDefinition:function(){return this._.definition}};CKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;
var b=a.styles,c=a.attributes&&a.attributes.style||"",d="";c.length&&(c=c.replace(r,";"));for(var e in b){var f=b[e],g=(e+":"+f).replace(r,";");"inherit"==f?d+=g:c+=g}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,!0));return a._ST=c+d};CKEDITOR.style.customHandlers={};CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};this.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},
a,!0);return this.customHandlers[a.type]=b};var T=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,S=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED})();CKEDITOR.styleCommand=function(a,d){this.requiredContent=this.allowedContent=this.style=a;CKEDITOR.tools.extend(this,d,!0)};
CKEDITOR.styleCommand.prototype.exec=function(a){a.focus();this.state==CKEDITOR.TRISTATE_OFF?a.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&a.removeStyle(this.style)};CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet");CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet);CKEDITOR.loadStylesSet=function(a,d,b){CKEDITOR.stylesSet.addExternal(a,d,"");CKEDITOR.stylesSet.load(a,b)};
CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(a,d){var b=this._.styleStateChangeCallbacks;b||(b=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(a){for(var d=0;d<b.length;d++){var h=b[d],k=h.style.checkActive(a.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;h.fn.call(this,k)}}));b.push({style:a,fn:d})},applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);
else{var d=this,b=d.config.stylesCombo_stylesSet||d.config.stylesSet;if(!1===b)a(null);else if(b instanceof Array)d._.stylesDefinitions=b,a(b);else{b||(b="default");var b=b.split(":"),c=b[0];CKEDITOR.stylesSet.addExternal(c,b[1]?b.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),"");CKEDITOR.stylesSet.load(c,function(b){d._.stylesDefinitions=b[c];a(d._.stylesDefinitions)})}}}});
(function(){if(window.Promise)CKEDITOR.tools.promise=Promise;else{var a=CKEDITOR.getUrl("vendor/promise.js");if("function"===typeof window.define&&window.define.amd&&"function"===typeof window.require)return window.require([a],function(a){CKEDITOR.tools.promise=a});CKEDITOR.scriptLoader.load(a,function(d){if(!d)return CKEDITOR.error("no-vendor-lib",{path:a});if("undefined"!==typeof window.ES6Promise)return CKEDITOR.tools.promise=ES6Promise})}})();
(function(){function a(a,f,h){a.once("selectionCheck",function(a){if(!d){var c=a.data.getRanges()[0];h.equals(c)?a.cancel():f.equals(c)&&(b=!0)}},null,null,-1)}var d=!0,b=!1;CKEDITOR.dom.selection.setupEditorOptimization=function(a){a.on("selectionCheck",function(a){a.data&&!b&&a.data.optimizeInElementEnds();b=!1});a.on("contentDom",function(){var b=a.editable();b&&(b.attachListener(b,"keydown",function(a){this._.shiftPressed=a.data.$.shiftKey},this),b.attachListener(b,"keyup",function(a){this._.shiftPressed=
a.data.$.shiftKey},this))})};CKEDITOR.dom.selection.prototype.optimizeInElementEnds=function(){var b=this.getRanges()[0],f=this.root.editor,h;if(this.root.editor._.shiftPressed||this.isFake||b.isCollapsed||b.startContainer.equals(b.endContainer))h=!1;else if(0===b.endOffset)h=!0;else{h=b.startContainer.type===CKEDITOR.NODE_TEXT;var k=b.endContainer.type===CKEDITOR.NODE_TEXT,g=h?b.startContainer.getLength():b.startContainer.getChildCount();h=b.startOffset===g||h^k}h&&(h=b.clone(),b.shrink(CKEDITOR.SHRINK_TEXT,
!1,{skipBogus:!CKEDITOR.env.webkit}),d=!1,a(f,b,h),b.select(),d=!0)}})();CKEDITOR.dom.comment=function(a,d){"string"==typeof a&&(a=(d?d.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node;CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}});"use strict";
(function(){var a={},d={},b;for(b in CKEDITOR.dtd.$blockLimit)b in CKEDITOR.dtd.$list||(a[b]=1);for(b in CKEDITOR.dtd.$block)b in CKEDITOR.dtd.$blockLimit||b in CKEDITOR.dtd.$empty||(d[b]=1);CKEDITOR.dom.elementPath=function(b,f){var h=null,k=null,g=[],l=b,v;f=f||b.getDocument().getBody();l||(l=f);do if(l.type==CKEDITOR.NODE_ELEMENT){g.push(l);if(!this.lastElement&&(this.lastElement=l,l.is(CKEDITOR.dtd.$object)||"false"==l.getAttribute("contenteditable")))continue;if(l.equals(f))break;if(!k&&(v=l.getName(),
"true"==l.getAttribute("contenteditable")?k=l:!h&&d[v]&&(h=l),a[v])){if(v=!h&&"div"==v){a:{v=l.getChildren();for(var e=0,x=v.count();e<x;e++){var t=v.getItem(e);if(t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[t.getName()]){v=!0;break a}}v=!1}v=!v}v?h=l:k=l}}while(l=l.getParent());k||(k=f);this.block=h;this.blockLimit=k;this.root=f;this.elements=g}})();
CKEDITOR.dom.elementPath.prototype={compare:function(a){var d=this.elements;a=a&&a.elements;if(!a||d.length!=a.length)return!1;for(var b=0;b<d.length;b++)if(!d[b].equals(a[b]))return!1;return!0},contains:function(a,d,b){var c=0,f;"string"==typeof a&&(f=function(b){return b.getName()==a});a instanceof CKEDITOR.dom.element?f=function(b){return b.equals(a)}:CKEDITOR.tools.isArray(a)?f=function(b){return-1<CKEDITOR.tools.indexOf(a,b.getName())}:"function"==typeof a?f=a:"object"==typeof a&&(f=function(b){return b.getName()in
a});var h=this.elements,k=h.length;d&&(b?c+=1:--k);b&&(h=Array.prototype.slice.call(h,0),h.reverse());for(;c<k;c++)if(f(h[c]))return h[c];return null},isContextFor:function(a){var d;return a in CKEDITOR.dtd.$block?(d=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!d.getDtd()[a]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}};
CKEDITOR.dom.text=function(a,d){"string"==typeof a&&(a=(d?d.$:document).createTextNode(a));this.$=a};CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node;
CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},isEmpty:function(a){var d=this.getText();a&&(d=CKEDITOR.tools.trim(d));return!d||d===CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE},split:function(a){var d=this.$.parentNode,b=d.childNodes.length,c=this.getLength(),f=this.getDocument(),h=new CKEDITOR.dom.text(this.$.splitText(a),f);d.childNodes.length==
b&&(a>=c?(h=f.createText(""),h.insertAfter(this)):(a=f.createText(""),a.insertAfter(h),a.remove()));return h},substring:function(a,d){return"number"!=typeof d?this.$.nodeValue.substr(a):this.$.nodeValue.substring(a,d)}});
(function(){function a(a,c,d){var h=a.serializable,k=c[d?"endContainer":"startContainer"],g=d?"endOffset":"startOffset",l=h?c.document.getById(a.startNode):a.startNode;a=h?c.document.getById(a.endNode):a.endNode;k.equals(l.getPrevious())?(c.startOffset=c.startOffset-k.getLength()-a.getPrevious().getLength(),k=a.getNext()):k.equals(a.getPrevious())&&(c.startOffset-=k.getLength(),k=a.getNext());k.equals(l.getParent())&&c[g]++;k.equals(a.getParent())&&c[g]++;c[d?"endContainer":"startContainer"]=k;return c}
CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,d)};var d={createIterator:function(){var a=this,c=CKEDITOR.dom.walker.bookmark(),d=[],h;return{getNextRange:function(k){h=void 0===h?0:h+1;var g=a[h];if(g&&1<a.length){if(!h)for(var l=a.length-1;0<=l;l--)d.unshift(a[l].createBookmark(!0));if(k)for(var v=0;a[h+v+1];){var e=g.document;k=0;l=e.getById(d[v].endNode);for(e=e.getById(d[v+1].startNode);;){l=
l.getNextSourceNode(!1);if(e.equals(l))k=1;else if(c(l)||l.type==CKEDITOR.NODE_ELEMENT&&l.isBlockBoundary())continue;break}if(!k)break;v++}for(g.moveToBookmark(d.shift());v--;)l=a[++h],l.moveToBookmark(d.shift()),g.setEnd(l.endContainer,l.endOffset)}return g}}},createBookmarks:function(b){for(var c=[],d,h=0;h<this.length;h++){c.push(d=this[h].createBookmark(b,!0));for(var k=h+1;k<this.length;k++)this[k]=a(d,this[k]),this[k]=a(d,this[k],!0)}return c},createBookmarks2:function(a){for(var c=[],d=0;d<
this.length;d++)c.push(this[d].createBookmark2(a));return c},moveToBookmarks:function(a){for(var c=0;c<this.length;c++)this[c].moveToBookmark(a[c])}}})();
(function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function d(b){var c=CKEDITOR.skin["ua_"+b],d=CKEDITOR.env;if(c)for(var c=c.split(",").sort(function(a,b){return a>b?-1:1}),f=0,g;f<c.length;f++)if(g=c[f],d.ie&&(g.replace(/^ie/,"")==d.version||d.quirks&&"iequirks"==g)&&(g="ie"),d[g]){b+="_"+c[f];break}return CKEDITOR.getUrl(a()+b+".css")}function b(a,b){h[a]||(CKEDITOR.document.appendStyleSheet(d(a)),h[a]=1);b&&b()}function c(a){var b=
a.getById(k);b||(b=a.getHead().append("style"),b.setAttribute("id",k),b.setAttribute("type","text/css"));return b}function f(a,b,c){var d,f,g;if(CKEDITOR.env.webkit)for(b=b.split("}").slice(0,-1),f=0;f<b.length;f++)b[f]=b[f].split("{");for(var h=0;h<a.length;h++)if(CKEDITOR.env.webkit)for(f=0;f<b.length;f++){g=b[f][1];for(d=0;d<c.length;d++)g=g.replace(c[d][0],c[d][1]);a[h].$.sheet.addRule(b[f][0],g)}else{g=b;for(d=0;d<c.length;d++)g=g.replace(c[d][0],c[d][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?
a[h].$.styleSheet.cssText+=g:a[h].$.innerHTML+=g}}var h={};CKEDITOR.skin={path:a,loadPart:function(c,d){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+"skin.js"),function(){b(c,d)}):b(c,d)},getPath:function(a){return CKEDITOR.getUrl(d(a))},icons:{},addIcon:function(a,b,c,d){a=a.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:c||0,bgsize:d||"16px"})},getIconStyle:function(a,b,c,d,f){var g;a&&(a=a.toLowerCase(),b&&(g=this.icons[a+"-rtl"]),
g||(g=this.icons[a]));a=c||g&&g.path||"";d=d||g&&g.offset;f=f||g&&g.bgsize||"16px";a&&(a=a.replace(/'/g,"\\'"));return a&&"background-image:url('"+CKEDITOR.getUrl(a)+"');background-position:0 "+d+"px;background-size:"+f+";"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(a){var b=c(CKEDITOR.document);return(this.setUiColor=function(a){this.uiColor=a;var c=CKEDITOR.skin.chameleon,d="",h="";"function"==typeof c&&(d=c(this,"editor"),h=
c(this,"panel"));a=[[l,a]];f([b],d,a);f(g,h,a)}).call(this,a)}});var k="cke_ui_color",g=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",function(a){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var b=a.editor;a=function(a){a=(a.data[0]||a.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument();if(!a.getById("cke_ui_color")){var d=c(a);g.push(d);b.on("destroy",function(){g=CKEDITOR.tools.array.filter(g,function(a){return d!==a})});(a=b.getUiColor())&&f([d],CKEDITOR.skin.chameleon(b,"panel"),
[[l,a]])}};b.on("panelShow",a);b.on("menuShow",a);b.config.uiColor&&b.setUiColor(b.config.uiColor)}})})();
(function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var a=CKEDITOR.dom.element.createFromHtml('\x3cdiv style\x3d"width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"\x3e\x3c/div\x3e',CKEDITOR.document);a.appendTo(CKEDITOR.document.getHead());try{var d=a.getComputedStyle("border-top-color"),b=a.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!d||d!=b)}catch(c){CKEDITOR.env.hc=!1}a.remove()}CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc");CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}");
CKEDITOR.status="loaded";CKEDITOR.fireOnce("loaded");if(a=CKEDITOR._.pending)for(delete CKEDITOR._.pending,d=0;d<a.length;d++)CKEDITOR.editor.prototype.constructor.apply(a[d][0],a[d][1]),CKEDITOR.add(a[d][0])})();/*
 Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
 For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
*/
CKEDITOR.skin.name="moono-lisa";CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko";CKEDITOR.skin.ua_dialog="ie,iequirks,ie8";
CKEDITOR.skin.chameleon=function(){var b=function(){return function(b,d){for(var a=b.match(/[^#]./g),e=0;3>e;e++){var f=e,c;c=parseInt(a[e],16);c=("0"+(0>d?0|c*(1+d):0|c+(255-c)*d).toString(16)).slice(-2);a[f]=c}return"#"+a.join("")}}(),f={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};
return function(g,d){var a=b(g.uiColor,.4),a={id:"."+g.id,defaultBorder:b(a,-.2),toolbarElementsBorder:b(a,-.25),defaultBackground:a,lightBackground:b(a,.8),darkBackground:b(a,-.15),ckeButtonOn:b(a,.4),ckeResizer:b(a,-.4),ckeColorauto:b(a,.8),dialogBody:b(a,.7),dialogTab:b(a,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:b(a,-.6),menubuttonHover:b(a,.1),menubuttonIcon:b(a,.5),menubuttonIconHover:b(a,.3)};return f[d].output(a).replace(/\[/g,"{").replace(/\]/g,"}")}}();CKEDITOR.plugins.add("dialogui",{onLoad:function(){var h=function(b){this._||(this._={});this._["default"]=this._.initValue=b["default"]||"";this._.required=b.required||!1;for(var a=[this._],d=1;d<arguments.length;d++)a.push(arguments[d]);a.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,a);return this._},r={build:function(b,a,d){return new CKEDITOR.ui.dialog.textInput(b,a,d)}},n={build:function(b,a,d){return new CKEDITOR.ui.dialog[a.type](b,a,d)}},q={isChanged:function(){return this.getValue()!=
this.getInitValue()},reset:function(b){this.setValue(this.getInitValue(),b)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},v=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(b,a){this._.domOnChangeRegistered||(b.on("load",function(){this.getInputElement().on("change",function(){b.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},
this)},this),this._.domOnChangeRegistered=!0);this.on("change",a)}},!0),x=/^on([A-Z]\w+)/,t=function(b){for(var a in b)(x.test(a)||"title"==a||"type"==a)&&delete b[a];return b},w=function(b){b=b.data.getKeystroke();b==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):b==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,a,d,f){if(!(4>arguments.length)){var c=h.call(this,a);c.labelId=CKEDITOR.tools.getNextId()+
"_label";this._.children=[];var e={role:a.role||"presentation"};a.includeLabel&&(e["aria-labelledby"]=c.labelId);CKEDITOR.ui.dialog.uiElement.call(this,b,a,d,"div",null,e,function(){var e=[],g=a.required?" cke_required":"";"horizontal"!=a.labelLayout?e.push('\x3clabel class\x3d"cke_dialog_ui_labeled_label'+g+'" ',' id\x3d"'+c.labelId+'"',c.inputId?' for\x3d"'+c.inputId+'"':"",(a.labelStyle?' style\x3d"'+a.labelStyle+'"':"")+"\x3e",a.label,"\x3c/label\x3e",'\x3cdiv class\x3d"cke_dialog_ui_labeled_content"',
a.controlStyle?' style\x3d"'+a.controlStyle+'"':"",' role\x3d"presentation"\x3e',f.call(this,b,a),"\x3c/div\x3e"):(g={type:"hbox",widths:a.widths,padding:0,children:[{type:"html",html:'\x3clabel class\x3d"cke_dialog_ui_labeled_label'+g+'" id\x3d"'+c.labelId+'" for\x3d"'+c.inputId+'"'+(a.labelStyle?' style\x3d"'+a.labelStyle+'"':"")+"\x3e"+CKEDITOR.tools.htmlEncode(a.label)+"\x3c/label\x3e"},{type:"html",html:'\x3cspan class\x3d"cke_dialog_ui_labeled_content"'+(a.controlStyle?' style\x3d"'+a.controlStyle+
'"':"")+"\x3e"+f.call(this,b,a)+"\x3c/span\x3e"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,g,e));return e.join("")})}},textInput:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);var f=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",c={"class":"cke_dialog_ui_input_"+a.type,id:f,type:a.type};a.validate&&(this.validate=a.validate);a.maxLength&&(c.maxlength=a.maxLength);a.size&&(c.size=a.size);a.inputStyle&&(c.style=a.inputStyle);var e=this,m=!1;b.on("load",function(){e.getInputElement().on("keydown",
function(a){13==a.data.getKeystroke()&&(m=!0)});e.getInputElement().on("keyup",function(a){13==a.data.getKeystroke()&&m&&(b.getButton("ok")&&setTimeout(function(){b.getButton("ok").click()},0),m=!1);e.bidi&&w.call(e,a)},null,null,1E3)});CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){var b=['\x3cdiv class\x3d"cke_dialog_ui_input_',a.type,'" role\x3d"presentation"'];a.width&&b.push('style\x3d"width:'+a.width+'" ');b.push("\x3e\x3cinput ");c["aria-labelledby"]=this._.labelId;this._.required&&
(c["aria-required"]=this._.required);for(var e in c)b.push(e+'\x3d"'+c[e]+'" ');b.push(" /\x3e\x3c/div\x3e");return b.join("")})}},textarea:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);var f=this,c=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",e={};a.validate&&(this.validate=a.validate);e.rows=a.rows||5;e.cols=a.cols||20;e["class"]="cke_dialog_ui_input_textarea "+(a["class"]||"");"undefined"!=typeof a.inputStyle&&(e.style=a.inputStyle);a.dir&&(e.dir=a.dir);if(f.bidi)b.on("load",
function(){f.getInputElement().on("keyup",w)},f);CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){e["aria-labelledby"]=this._.labelId;this._.required&&(e["aria-required"]=this._.required);var a=['\x3cdiv class\x3d"cke_dialog_ui_input_textarea" role\x3d"presentation"\x3e\x3ctextarea id\x3d"',c,'" '],b;for(b in e)a.push(b+'\x3d"'+CKEDITOR.tools.htmlEncode(e[b])+'" ');a.push("\x3e",CKEDITOR.tools.htmlEncode(f._["default"]),"\x3c/textarea\x3e\x3c/div\x3e");return a.join("")})}},checkbox:function(b,
a,d){if(!(3>arguments.length)){var f=h.call(this,a,{"default":!!a["default"]});a.validate&&(this.validate=a.validate);CKEDITOR.ui.dialog.uiElement.call(this,b,a,d,"span",null,null,function(){var c=CKEDITOR.tools.extend({},a,{id:a.id?a.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),e=[],d=CKEDITOR.tools.getNextId()+"_label",g={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":d};t(c);a["default"]&&(g.checked="checked");"undefined"!=typeof c.inputStyle&&(c.style=c.inputStyle);
f.checkbox=new CKEDITOR.ui.dialog.uiElement(b,c,e,"input",null,g);e.push(' \x3clabel id\x3d"',d,'" for\x3d"',g.id,'"'+(a.labelStyle?' style\x3d"'+a.labelStyle+'"':"")+"\x3e",CKEDITOR.tools.htmlEncode(a.label),"\x3c/label\x3e");return e.join("")})}},radio:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);this._["default"]||(this._["default"]=this._.initValue=a.items[0][1]);a.validate&&(this.validate=a.validate);var f=[],c=this;a.role="radiogroup";a.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,
b,a,d,function(){for(var e=[],d=[],g=(a.id?a.id:CKEDITOR.tools.getNextId())+"_radio",k=0;k<a.items.length;k++){var l=a.items[k],h=void 0!==l[2]?l[2]:l[0],n=void 0!==l[1]?l[1]:l[0],p=CKEDITOR.tools.getNextId()+"_radio_input",q=p+"_label",p=CKEDITOR.tools.extend({},a,{id:p,title:null,type:null},!0),h=CKEDITOR.tools.extend({},p,{title:h},!0),r={type:"radio","class":"cke_dialog_ui_radio_input",name:g,value:n,"aria-labelledby":q},u=[];c._["default"]==n&&(r.checked="checked");t(p);t(h);"undefined"!=typeof p.inputStyle&&
(p.style=p.inputStyle);p.keyboardFocusable=!0;f.push(new CKEDITOR.ui.dialog.uiElement(b,p,u,"input",null,r));u.push(" ");new CKEDITOR.ui.dialog.uiElement(b,h,u,"label",null,{id:q,"for":r.id},l[0]);e.push(u.join(""))}new CKEDITOR.ui.dialog.hbox(b,f,e,d);return d.join("")});this._.children=f}},button:function(b,a,d){if(arguments.length){"function"==typeof a&&(a=a(b.getParentEditor()));h.call(this,a,{disabled:a.disabled||!1});CKEDITOR.event.implementOn(this);var f=this;b.on("load",function(){var a=this.getElement();
(function(){a.on("click",function(a){f.click();a.data.preventDefault()});a.on("keydown",function(a){a.data.getKeystroke()in{32:1}&&(f.click(),a.data.preventDefault())})})();a.unselectable()},this);var c=CKEDITOR.tools.extend({},a);delete c.style;var e=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,"a",null,{style:a.style,href:"javascript:void(0)",title:a.label,hidefocus:"true","class":a["class"],role:"button","aria-labelledby":e},'\x3cspan id\x3d"'+e+'" class\x3d"cke_dialog_ui_button"\x3e'+
CKEDITOR.tools.htmlEncode(a.label)+"\x3c/span\x3e")}},select:function(b,a,d){if(!(3>arguments.length)){var f=h.call(this,a);a.validate&&(this.validate=a.validate);f.inputId=CKEDITOR.tools.getNextId()+"_select";CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){var c=CKEDITOR.tools.extend({},a,{id:a.id?a.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),e=[],d=[],g={id:f.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};e.push('\x3cdiv class\x3d"cke_dialog_ui_input_',
a.type,'" role\x3d"presentation"');a.width&&e.push('style\x3d"width:'+a.width+'" ');e.push("\x3e");void 0!==a.size&&(g.size=a.size);void 0!==a.multiple&&(g.multiple=a.multiple);t(c);for(var k=0,l;k<a.items.length&&(l=a.items[k]);k++)d.push('\x3coption value\x3d"',CKEDITOR.tools.htmlEncode(void 0!==l[1]?l[1]:l[0]).replace(/"/g,"\x26quot;"),'" /\x3e ',CKEDITOR.tools.htmlEncode(l[0]));"undefined"!=typeof c.inputStyle&&(c.style=c.inputStyle);f.select=new CKEDITOR.ui.dialog.uiElement(b,c,e,"select",null,
g,d.join(""));e.push("\x3c/div\x3e");return e.join("")})}},file:function(b,a,d){if(!(3>arguments.length)){void 0===a["default"]&&(a["default"]="");var f=CKEDITOR.tools.extend(h.call(this,a),{definition:a,buttons:[]});a.validate&&(this.validate=a.validate);b.on("load",function(){CKEDITOR.document.getById(f.frameId).getParent().addClass("cke_dialog_ui_input_file")});CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){f.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var b=['\x3ciframe frameborder\x3d"0" allowtransparency\x3d"0" class\x3d"cke_dialog_ui_input_file" role\x3d"presentation" id\x3d"',
f.frameId,'" title\x3d"',a.label,'" src\x3d"javascript:void('];b.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0");b.push(')"\x3e\x3c/iframe\x3e');return b.join("")})}},fileButton:function(b,a,d){var f=this;if(!(3>arguments.length)){h.call(this,a);a.validate&&(this.validate=a.validate);var c=CKEDITOR.tools.extend({},a),e=c.onClick;c.className=(c.className?c.className+" ":"")+"cke_dialog_ui_button";c.onClick=function(c){var d=
a["for"];c=e?e.call(this,c):!1;!1!==c&&("xhr"!==c&&b.getContentElement(d[0],d[1]).submit(),this.disable())};b.on("load",function(){b.getContentElement(a["for"][0],a["for"][1])._.buttons.push(f)});CKEDITOR.ui.dialog.button.call(this,b,c,d)}},html:function(){var b=/^\s*<[\w:]+\s+([^>]*)?>/,a=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,d=/\/$/;return function(f,c,e){if(!(3>arguments.length)){var m=[],g=c.html;"\x3c"!=g.charAt(0)&&(g="\x3cspan\x3e"+g+"\x3c/span\x3e");var k=c.focus;if(k){var l=this.focus;
this.focus=function(){("function"==typeof k?k:l).call(this);this.fire("focus")};c.isFocusable&&(this.isFocusable=this.isFocusable);this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,f,c,m,"span",null,null,"");m=m.join("").match(b);g=g.match(a)||["","",""];d.test(g[1])&&(g[1]=g[1].slice(0,-1),g[2]="/"+g[2]);e.push([g[1]," ",m[1]||"",g[2]].join(""))}}}(),fieldset:function(b,a,d,f,c){var e=c.label;this._={children:a};CKEDITOR.ui.dialog.uiElement.call(this,b,c,f,"fieldset",null,null,function(){var a=
[];e&&a.push("\x3clegend"+(c.labelStyle?' style\x3d"'+c.labelStyle+'"':"")+"\x3e"+e+"\x3c/legend\x3e");for(var b=0;b<d.length;b++)a.push(d[b]);return a.join("")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(b){var a=CKEDITOR.document.getById(this._.labelId);1>a.getChildCount()?(new CKEDITOR.dom.text(b,CKEDITOR.document)).appendTo(a):a.getChild(0).$.nodeValue=
b;return this},getLabel:function(){var b=CKEDITOR.document.getById(this._.labelId);return!b||1>b.getChildCount()?"":b.getChild(0).getText()},eventProcessors:v},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var b=this.getElement();b&&b.removeClass("cke_disabled")},disable:function(){this._.disabled=!0;this.getElement().addClass("cke_disabled")},
isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(b,a){this.on("click",function(){a.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},
focus:function(){var b=this.selectParentTab();setTimeout(function(){var a=b.getInputElement();a&&a.$.focus()},0)},select:function(){var b=this.selectParentTab();setTimeout(function(){var a=b.getInputElement();a&&(a.$.focus(),a.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(b){if(this.bidi){var a=b&&b.charAt(0);(a="‪"==a?"ltr":"‫"==a?"rtl":null)&&(b=b.slice(1));this.setDirectionMarker(a)}b||(b="");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},
getValue:function(){var b=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&b){var a=this.getDirectionMarker();a&&(b=("ltr"==a?"‪":"‫")+b)}return b},setDirectionMarker:function(b){var a=this.getInputElement();b?a.setAttributes({dir:b,"data-cke-dir-marker":b}):this.getDirectionMarker()&&a.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},q,!0);CKEDITOR.ui.dialog.textarea.prototype=
new CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(b,a,d){var f=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),c=this.getInputElement().$;f.$.text=b;f.$.value=void 0===a||null===a?b:a;void 0===d||null===d?CKEDITOR.env.ie?c.add(f.$):c.add(f.$,null):c.add(f.$,d);return this},remove:function(b){this.getInputElement().$.remove(b);
return this},clear:function(){for(var b=this.getInputElement().$;0<b.length;)b.remove(0);return this},keyboardFocusable:!0},q,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(b,a){this.getInputElement().$.checked=b;!a&&this.fire("change",{value:b})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(b,
a){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return v.onChange.apply(this,arguments);b.on("load",function(){var a=this._.checkbox.getElement();a.on("propertychange",function(b){b=b.data.$;"checked"==b.propertyName&&this.fire("change",{value:a.$.checked})},this)},this);this.on("change",a);return null}},keyboardFocusable:!0},q,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(b,a){for(var d=this._.children,f,c=0;c<d.length&&(f=d[c]);c++)f.getElement().$.checked=
f.getValue()==b;!a&&this.fire("change",{value:b})},getValue:function(){for(var b=this._.children,a=0;a<b.length;a++)if(b[a].getElement().$.checked)return b[a].getValue();return null},accessKeyUp:function(){var b=this._.children,a;for(a=0;a<b.length;a++)if(b[a].getElement().$.checked){b[a].getElement().focus();return}b[0].getElement().focus()},eventProcessors:{onChange:function(b,a){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return v.onChange.apply(this,arguments);b.on("load",function(){for(var a=
this._.children,b=this,c=0;c<a.length;c++)a[c].getElement().on("propertychange",function(a){a=a.data.$;"checked"==a.propertyName&&this.$.checked&&b.fire("change",{value:this.getAttribute("value")})})},this);this.on("change",a);return null}}},q,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,q,{getInputElement:function(){var b=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<b.$.forms.length?new CKEDITOR.dom.element(b.$.forms[0].elements[0]):
this.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(b){var a=/^on([A-Z]\w+)/,d,f=function(a,b,c,d){a.on("formLoaded",function(){a.getInputElement().on(c,d,a)})},c;for(c in b)if(d=c.match(a))this.eventProcessors[c]?this.eventProcessors[c].call(this,this._.dialog,b[c]):f(this,this._.dialog,d[1].toLowerCase(),b[c]);return this},reset:function(){function b(){d.$.open();
var b="";f.size&&(b=f.size-(CKEDITOR.env.ie?7:0));var h=a.frameId+"_input";d.$.write(['\x3chtml dir\x3d"'+g+'" lang\x3d"'+k+'"\x3e\x3chead\x3e\x3ctitle\x3e\x3c/title\x3e\x3c/head\x3e\x3cbody style\x3d"margin: 0; overflow: hidden; background: transparent;"\x3e','\x3cform enctype\x3d"multipart/form-data" method\x3d"POST" dir\x3d"'+g+'" lang\x3d"'+k+'" action\x3d"',CKEDITOR.tools.htmlEncode(f.action),'"\x3e\x3clabel id\x3d"',a.labelId,'" for\x3d"',h,'" style\x3d"display:none"\x3e',CKEDITOR.tools.htmlEncode(f.label),
'\x3c/label\x3e\x3cinput style\x3d"width:100%" id\x3d"',h,'" aria-labelledby\x3d"',a.labelId,'" type\x3d"file" name\x3d"',CKEDITOR.tools.htmlEncode(f.id||"cke_upload"),'" size\x3d"',CKEDITOR.tools.htmlEncode(0<b?b:""),'" /\x3e\x3c/form\x3e\x3c/body\x3e\x3c/html\x3e\x3cscript\x3e',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+e+");","window.onbeforeunload \x3d function() {window.parent.CKEDITOR.tools.callFunction("+m+")}","\x3c/script\x3e"].join(""));
d.$.close();for(b=0;b<c.length;b++)c[b].enable()}var a=this._,d=CKEDITOR.document.getById(a.frameId).getFrameDocument(),f=a.definition,c=a.buttons,e=this.formLoadedNumber,m=this.formUnloadNumber,g=a.dialog._.editor.lang.dir,k=a.dialog._.editor.langCode;e||(e=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),m=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(e);
CKEDITOR.tools.removeFunction(m)}));CKEDITOR.env.gecko?setTimeout(b,500):b()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(b,a){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on("change",a)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=
new CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement("text",r);CKEDITOR.dialog.addUIElement("password",r);CKEDITOR.dialog.addUIElement("tel",r);CKEDITOR.dialog.addUIElement("textarea",n);CKEDITOR.dialog.addUIElement("checkbox",n);CKEDITOR.dialog.addUIElement("radio",n);CKEDITOR.dialog.addUIElement("button",n);CKEDITOR.dialog.addUIElement("select",n);CKEDITOR.dialog.addUIElement("file",n);CKEDITOR.dialog.addUIElement("fileButton",
n);CKEDITOR.dialog.addUIElement("html",n);CKEDITOR.dialog.addUIElement("fieldset",{build:function(b,a,d){for(var f=a.children,c,e=[],h=[],g=0;g<f.length&&(c=f[g]);g++){var k=[];e.push(k);h.push(CKEDITOR.dialog._.uiElementBuilders[c.type].build(b,c,k))}return new CKEDITOR.ui.dialog[a.type](b,h,e,d,a)}})}});CKEDITOR.DIALOG_RESIZE_NONE=0;CKEDITOR.DIALOG_RESIZE_WIDTH=1;CKEDITOR.DIALOG_RESIZE_HEIGHT=2;CKEDITOR.DIALOG_RESIZE_BOTH=3;CKEDITOR.DIALOG_STATE_IDLE=1;CKEDITOR.DIALOG_STATE_BUSY=2;
(function(){function z(a){a._.tabBarMode=!0;a._.tabs[a._.currentTabId][0].focus();a._.currentFocusIndex=-1}function A(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,c=b-1;c>b-a;c--)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function V(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),c=b+1;c<b+a;c++)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%
a];return null}function K(a,b){for(var c=a.$.getElementsByTagName("input"),e=0,d=c.length;e<d;e++){var f=new CKEDITOR.dom.element(c[e]);"text"==f.getAttribute("type").toLowerCase()&&(b?(f.setAttribute("value",f.getCustomData("fake_value")||""),f.removeCustomData("fake_value")):(f.setCustomData("fake_value",f.getAttribute("value")),f.setAttribute("value","")))}}function W(a,b){var c=this.getInputElement();c&&(a?c.removeAttribute("aria-invalid"):c.setAttribute("aria-invalid",!0));a||(this.select?this.select():
this.focus());b&&alert(b);this.fire("validated",{valid:a,msg:b})}function X(){var a=this.getInputElement();a&&a.removeAttribute("aria-invalid")}function Y(a){var b=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",Z).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:"cke_editor_"+a.name.replace(/\./g,"\\.")+"_dialog",closeTitle:a.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),c=b.getChild([0,0,0,0,0]),e=c.getChild(0),
d=c.getChild(1);a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(c);!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(a="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('\x3ciframe frameBorder\x3d"0" class\x3d"cke_iframe_shim" src\x3d"'+a+'" tabIndex\x3d"-1"\x3e\x3c/iframe\x3e').appendTo(c.getParent()));e.unselectable();d.unselectable();return{element:b,
parts:{dialog:b.getChild(0),title:e,close:d,tabs:c.getChild(2),contents:c.getChild([3,0,0,0]),footer:c.getChild([3,0,1,0])}}}function L(a,b,c){this.element=b;this.focusIndex=c;this.tabIndex=0;this.isFocusable=function(){return!b.getAttribute("disabled")&&b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on("keydown",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire("click")});b.on("focus",function(){this.fire("mouseover")});b.on("blur",function(){this.fire("mouseout")})}
function aa(a){function b(){a.layout()}var c=CKEDITOR.document.getWindow();c.on("resize",b);a.on("hide",function(){c.removeListener("resize",b)})}function M(a,b){this.dialog=a;for(var c=b.contents,e=0,d;d=c[e];e++)c[e]=d&&new N(a,d);CKEDITOR.tools.extend(this,b)}function N(a,b){this._={dialog:a};CKEDITOR.tools.extend(this,b)}function ba(a){function b(b){var c=a.getSize(),k=a.parts.dialog.getParent().getClientSize(),q=b.data.$.screenX,l=b.data.$.screenY,r=q-e.x,n=l-e.y;e={x:q,y:l};d.x+=r;d.y+=n;q=
d.x+h[3]<g?-h[3]:d.x-h[1]>k.width-c.width-g?k.width-c.width+("rtl"==f.lang.dir?0:h[1]):d.x;c=d.y+h[0]<g?-h[0]:d.y-h[2]>k.height-c.height-g?k.height-c.height+h[2]:d.y;q=Math.floor(q);c=Math.floor(c);a.move(q,c,1);b.data.preventDefault()}function c(){CKEDITOR.document.removeListener("mousemove",b);CKEDITOR.document.removeListener("mouseup",c);if(CKEDITOR.env.ie6Compat){var a=u.getChild(0).getFrameDocument();a.removeListener("mousemove",b);a.removeListener("mouseup",c)}}var e=null,d=null,f=a.getParentEditor(),
g=f.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];"undefined"==typeof g&&(g=20);a.parts.title.on("mousedown",function(g){if(!a._.moved){var f=a._.element;f.getFirst().setStyle("position","absolute");f.removeStyle("display");a._.moved=!0;a.layout()}e={x:g.data.$.screenX,y:g.data.$.screenY};CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",c);d=a.getPosition();CKEDITOR.env.ie6Compat&&(f=u.getChild(0).getFrameDocument(),f.on("mousemove",b),f.on("mouseup",c));g.data.preventDefault()},
a)}function ca(a){function b(b){var c="rtl"==f.lang.dir,q=k.width,l=k.height,w=q+(b.data.$.screenX-m.x)*(c?-1:1)*(a._.moved?1:2),C=l+(b.data.$.screenY-m.y)*(a._.moved?1:2),E=a._.element.getFirst(),E=c&&parseInt(E.getComputedStyle("right"),10),v=a.getPosition();v.x=v.x||0;v.y=v.y||0;v.y+C>p.height&&(C=p.height-v.y);(c?E:v.x)+w>p.width&&(w=p.width-(c?E:v.x));C=Math.floor(C);w=Math.floor(w);if(d==CKEDITOR.DIALOG_RESIZE_WIDTH||d==CKEDITOR.DIALOG_RESIZE_BOTH)q=Math.max(e.minWidth||0,w-g);if(d==CKEDITOR.DIALOG_RESIZE_HEIGHT||
d==CKEDITOR.DIALOG_RESIZE_BOTH)l=Math.max(e.minHeight||0,C-h);a.resize(q,l);a._.moved&&O(a,a._.position.x,a._.position.y);a._.moved||a.layout();b.data.preventDefault()}function c(){CKEDITOR.document.removeListener("mouseup",c);CKEDITOR.document.removeListener("mousemove",b);q&&(q.remove(),q=null);if(CKEDITOR.env.ie6Compat){var a=u.getChild(0).getFrameDocument();a.removeListener("mouseup",c);a.removeListener("mousemove",b)}}var e=a.definition,d=e.resizable;if(d!=CKEDITOR.DIALOG_RESIZE_NONE){var f=
a.getParentEditor(),g,h,p,m,k,q,l=CKEDITOR.tools.addFunction(function(d){function e(a){return a.isVisible()}k=a.getSize();var f=a.parts.contents,l=f.$.getElementsByTagName("iframe").length,w=!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks);l&&(q=CKEDITOR.dom.element.createFromHtml('\x3cdiv class\x3d"cke_dialog_resize_cover" style\x3d"height: 100%; position: absolute; width: 100%; left:0; top:0;"\x3e\x3c/div\x3e'),f.append(q));h=k.height-a.parts.contents.getFirst(e).getSize("height",w);
g=k.width-a.parts.contents.getFirst(e).getSize("width",1);m={x:d.screenX,y:d.screenY};p=CKEDITOR.document.getWindow().getViewPaneSize();CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",c);CKEDITOR.env.ie6Compat&&(f=u.getChild(0).getFrameDocument(),f.on("mousemove",b),f.on("mouseup",c));d.preventDefault&&d.preventDefault()});a.on("load",function(){var b="";d==CKEDITOR.DIALOG_RESIZE_WIDTH?b=" cke_resizer_horizontal":d==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=" cke_resizer_vertical");b=CKEDITOR.dom.element.createFromHtml('\x3cdiv class\x3d"cke_resizer'+
b+" cke_resizer_"+f.lang.dir+'" title\x3d"'+CKEDITOR.tools.htmlEncode(f.lang.common.resize)+'" onmousedown\x3d"CKEDITOR.tools.callFunction('+l+', event )"\x3e'+("ltr"==f.lang.dir?"◢":"◣")+"\x3c/div\x3e");a.parts.footer.append(b,1)});f.on("destroy",function(){CKEDITOR.tools.removeFunction(l)})}}function O(a,b,c){var e=a.parts.dialog.getParent().getClientSize(),d=a.getSize(),f=a._.viewportRatio,g=Math.max(e.width-d.width,0),e=Math.max(e.height-d.height,0);f.width=g?b/g:f.width;f.height=e?c/e:f.height;
a._.viewportRatio=f}function J(a){a.data.preventDefault(1)}function P(a){var b=a.config,c=CKEDITOR.skinName||a.config.skin,e=b.dialog_backgroundCoverColor||("moono-lisa"==c?"black":"white"),c=b.dialog_backgroundCoverOpacity,d=b.baseFloatZIndex,b=CKEDITOR.tools.genKey(e,c,d),f=D[b];CKEDITOR.document.getBody().addClass("cke_dialog_open");f?f.show():(d=['\x3cdiv tabIndex\x3d"-1" style\x3d"position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",d,"; top: 0px; left: 0px; ","; width: 100%; height: 100%;",
CKEDITOR.env.ie6Compat?"":"background-color: "+e,'" class\x3d"cke_dialog_background_cover"\x3e'],CKEDITOR.env.ie6Compat&&(e="\x3chtml\x3e\x3cbody style\x3d\\'background-color:"+e+";\\'\x3e\x3c/body\x3e\x3c/html\x3e",d.push('\x3ciframe hidefocus\x3d"true" frameborder\x3d"0" id\x3d"cke_dialog_background_iframe" src\x3d"javascript:'),d.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+e+"' );document.close();")+"})())"),d.push('" style\x3d"position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity\x3d0)"\x3e\x3c/iframe\x3e')),
d.push("\x3c/div\x3e"),f=CKEDITOR.dom.element.createFromHtml(d.join("")),f.setOpacity(void 0!==c?c:.5),f.on("keydown",J),f.on("keypress",J),f.on("keyup",J),f.appendTo(CKEDITOR.document.getBody()),D[b]=f);a.focusManager.add(f);u=f;CKEDITOR.env.mac&&CKEDITOR.env.webkit||f.focus()}function Q(a){CKEDITOR.document.getBody().removeClass("cke_dialog_open");u&&(a.focusManager.remove(u),u.hide())}function R(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,e=a.data.$.shiftKey,d=String.fromCharCode(a.data.$.keyCode);
(b=x[(b?"CTRL+":"")+(c?"ALT+":"")+(e?"SHIFT+":"")+d])&&b.length&&(b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())}function S(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,e=a.data.$.shiftKey,d=String.fromCharCode(a.data.$.keyCode);(b=x[(b?"CTRL+":"")+(c?"ALT+":"")+(e?"SHIFT+":"")+d])&&b.length&&(b=b[b.length-1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),a.data.preventDefault()))}function T(a,b,c,e,d){(x[c]||(x[c]=[])).push({uiElement:a,
dialog:b,key:c,keyup:d||a.accessKeyUp,keydown:e||a.accessKeyDown})}function da(a){for(var b in x){for(var c=x[b],e=c.length-1;0<=e;e--)c[e].dialog!=a&&c[e].uiElement!=a||c.splice(e,1);0===c.length&&delete x[b]}}function ea(a,b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])}function fa(){}var y=CKEDITOR.tools.cssLength,U,u,F=!CKEDITOR.env.ie||CKEDITOR.env.edge,Z='\x3cdiv class\x3d"cke_reset_all cke_dialog_container {editorId} {editorDialogClass} {hidpi}" dir\x3d"{langDir}" style\x3d"'+(F?
"display:flex":"")+'" lang\x3d"{langCode}" role\x3d"dialog" aria-labelledby\x3d"cke_dialog_title_{id}"\x3e\x3ctable class\x3d"cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style\x3d"'+(F?"margin:auto":"position:absolute")+'" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd role\x3d"presentation"\x3e\x3cdiv class\x3d"cke_dialog_body" role\x3d"presentation"\x3e\x3cdiv id\x3d"cke_dialog_title_{id}" class\x3d"cke_dialog_title" role\x3d"presentation"\x3e\x3c/div\x3e\x3ca id\x3d"cke_dialog_close_button_{id}" class\x3d"cke_dialog_close_button" href\x3d"javascript:void(0)" title\x3d"{closeTitle}" role\x3d"button"\x3e\x3cspan class\x3d"cke_label"\x3eX\x3c/span\x3e\x3c/a\x3e\x3cdiv id\x3d"cke_dialog_tabs_{id}" class\x3d"cke_dialog_tabs" role\x3d"tablist"\x3e\x3c/div\x3e\x3ctable class\x3d"cke_dialog_contents" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd id\x3d"cke_dialog_contents_{id}" class\x3d"cke_dialog_contents_body" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd id\x3d"cke_dialog_footer_{id}" class\x3d"cke_dialog_footer" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e';
CKEDITOR.dialog=function(a,b){function c(){var a=n._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,c=0;c<b;c++)a[c].focusIndex=c}function e(a){var b=n._.focusList;a=a||0;if(!(1>b.length)){var c=n._.currentFocusIndex;n._.tabBarMode&&0>a&&(c=0);try{b[c].getInputElement().$.blur()}catch(d){}var e=c,g=1<n._.pageCount;do{e+=a;if(g&&!n._.tabBarMode&&(e==b.length||-1==e)){n._.tabBarMode=!0;n._.tabs[n._.currentTabId][0].focus();
n._.currentFocusIndex=-1;return}e=(e+b.length)%b.length;if(e==c)break}while(a&&!b[e].isFocusable());b[e].focus();"text"==b[e].type&&b[e].select()}}function d(b){if(n==CKEDITOR.dialog._.currentTop){var c=b.data.getKeystroke(),d="rtl"==a.lang.dir,g=[37,38,39,40];q=l=0;if(9==c||c==CKEDITOR.SHIFT+9)e(c==CKEDITOR.SHIFT+9?-1:1),q=1;else if(c==CKEDITOR.ALT+121&&!n._.tabBarMode&&1<n.getPageCount())z(n),q=1;else if(-1!=CKEDITOR.tools.indexOf(g,c)&&n._.tabBarMode)c=-1!=CKEDITOR.tools.indexOf([d?39:37,38],c)?
A.call(n):V.call(n),n.selectPage(c),n._.tabs[c][0].focus(),q=1;else if(13!=c&&32!=c||!n._.tabBarMode)if(13==c)c=b.data.getTarget(),c.is("a","button","select","textarea")||c.is("input")&&"button"==c.$.type||((c=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(c.click,0,c),q=1),l=1;else if(27==c)(c=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(c.click,0,c):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),l=1;else return;else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=
-1,e(1),q=1;f(b)}}function f(a){q?a.data.preventDefault(1):l&&a.data.stopPropagation()}var g=CKEDITOR.dialog._.dialogDefinitions[b],h=CKEDITOR.tools.clone(U),p=a.config.dialog_buttonsOrder||"OS",m=a.lang.dir,k={},q,l;("OS"==p&&CKEDITOR.env.mac||"rtl"==p&&"ltr"==m||"ltr"==p&&"rtl"==m)&&h.buttons.reverse();g=CKEDITOR.tools.extend(g(a),h);g=CKEDITOR.tools.clone(g);g=new M(this,g);h=Y(a);this._={editor:a,element:h.element,name:b,model:null,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},
buttons:{},accessKeyMap:{},viewportRatio:{width:.5,height:.5},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1};this.parts=h.parts;CKEDITOR.tools.setTimeout(function(){a.fire("ariaWidget",this.parts.contents)},0,this);h={top:0,visibility:"hidden"};CKEDITOR.env.ie6Compat&&(h.position="absolute");h["rtl"==m?"right":"left"]=0;this.parts.dialog.setStyles(h);CKEDITOR.event.call(this);this.definition=g=CKEDITOR.fire("dialogDefinition",
{name:b,definition:g,dialog:this},a).definition;if(!("removeDialogTabs"in a._)&&a.config.removeDialogTabs){h=a.config.removeDialogTabs.split(";");for(m=0;m<h.length;m++)if(p=h[m].split(":"),2==p.length){var r=p[0];k[r]||(k[r]=[]);k[r].push(p[1])}a._.removeDialogTabs=k}if(a._.removeDialogTabs&&(k=a._.removeDialogTabs[b]))for(m=0;m<k.length;m++)g.removeContents(k[m]);if(g.onLoad)this.on("load",g.onLoad);if(g.onShow)this.on("show",g.onShow);if(g.onHide)this.on("hide",g.onHide);if(g.onOk)this.on("ok",
function(b){a.fire("saveSnapshot");setTimeout(function(){a.fire("saveSnapshot")},0);!1===g.onOk.call(this,b)&&(b.data.hide=!1)});this.state=CKEDITOR.DIALOG_STATE_IDLE;if(g.onCancel)this.on("cancel",function(a){!1===g.onCancel.call(this,a)&&(a.data.hide=!1)});var n=this,t=function(a){var b=n._.contents,c=!1,d;for(d in b)for(var e in b[d])if(c=a.call(this,b[d][e]))return};this.on("ok",function(a){t(function(b){if(b.validate){var c=b.validate(this),d="string"==typeof c||!1===c;d&&(a.data.hide=!1,a.stop());
W.call(b,!d,"string"==typeof c?c:void 0);return d}})},this,null,0);this.on("cancel",function(b){t(function(c){if(c.isChanged())return a.config.dialog_noConfirmCancel||confirm(a.lang.common.confirmCancel)||(b.data.hide=!1),!0})},this,null,0);this.parts.close.on("click",function(a){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=e;var B=this._.element;a.focusManager.add(B,1);this.on("show",function(){B.on("keydown",d,this);if(CKEDITOR.env.gecko)B.on("keypress",
f,this)});this.on("hide",function(){B.removeListener("keydown",d);CKEDITOR.env.gecko&&B.removeListener("keypress",f);t(function(a){X.apply(a)})});this.on("iframeAdded",function(a){(new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document)).on("keydown",d,this,null,0)});this.on("show",function(){c();var b=1<n._.pageCount;a.config.dialog_startupFocusTab&&b?(n._.tabBarMode=!0,n._.tabs[n._.currentTabId][0].focus(),n._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=b?-1:this._.focusList.length-
1,g.onFocus?(b=g.onFocus.call(this))&&b.focus():e(1))},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on("load",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);ba(this);ca(this);(new CKEDITOR.dom.text(g.title,CKEDITOR.document)).appendTo(this.parts.title);for(m=0;m<g.contents.length;m++)(k=g.contents[m])&&this.addPage(k);this.parts.tabs.on("click",function(a){var b=a.data.getTarget();b.hasClass("cke_dialog_tab")&&(b=b.$.id,this.selectPage(b.substring(4,b.lastIndexOf("_"))),
z(this),a.data.preventDefault())},this);m=[];k=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:g.buttons},m).getChild();this.parts.footer.setHtml(m.join(""));for(m=0;m<k.length;m++)this._.buttons[k[m].id]=k[m]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(a,b){if(!this._.contentSize||this._.contentSize.width!=a||this._.contentSize.height!=b){CKEDITOR.dialog.fire("resize",
{dialog:this,width:a,height:b},this._.editor);this.fire("resize",{width:a,height:b},this._.editor);this.parts.contents.setStyles({width:a+"px",height:b+"px"});if("rtl"==this._.editor.lang.dir&&this._.position){var c=this.parts.dialog.getParent().getClientSize().width;this._.position.x=c-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)}this._.contentSize={width:a,height:b}}},getSize:function(){var a=this._.element.getFirst();return{width:a.$.offsetWidth||0,height:a.$.offsetHeight||
0}},move:function(a,b,c){var e=this._.element.getFirst(),d="rtl"==this._.editor.lang.dir;CKEDITOR.env.ie&&e.setStyle("zoom","100%");var f=this.parts.dialog.getParent().getClientSize(),g=this.getSize(),h=this._.viewportRatio,p=Math.max(f.width-g.width,0),f=Math.max(f.height-g.height,0);this._.position&&this._.position.x==a&&this._.position.y==b?(a=Math.floor(p*h.width),b=Math.floor(f*h.height)):O(this,a,b);this._.position={x:a,y:b};d&&(a=p-a);b={top:(0<b?b:0)+"px"};b[d?"right":"left"]=(0<a?a:0)+"px";
e.setStyles(b);c&&(this._.moved=1)},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var a=this._.element,b=this.definition,c=CKEDITOR.document.getBody(),e=this._.editor.config.baseFloatZIndex;a.getParent()&&a.getParent().equals(c)?a.setStyle("display",F?"flex":"block"):a.appendTo(c);this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();null===this._.currentTabId&&
this.selectPage(this.definition.contents[0].id);null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=e);this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10);this.getElement().setStyle("z-index",CKEDITOR.dialog._.currentZIndex);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,P(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,c=this._.parentDialog.getElement().getFirst(),c.$.style.zIndex-=
Math.floor(e/2),this._.parentDialog.getElement().setStyle("z-index",c.$.style.zIndex),CKEDITOR.dialog._.currentTop=this);a.on("keydown",R);a.on("keyup",S);this._.hasFocus=!1;for(var d in b.contents)if(b.contents[d]){var a=b.contents[d],e=this._.tabs[a.id],c=a.requiredContent,f=0;if(e){for(var g in this._.contents[a.id]){var h=this._.contents[a.id][g];"hbox"!=h.type&&"vbox"!=h.type&&h.getInputElement()&&(h.requiredContent&&!this._.editor.activeFilter.check(h.requiredContent)?h.disable():(h.enable(),
f++))}!f||c&&!this._.editor.activeFilter.check(c)?e[0].addClass("cke_dialog_tab_disabled"):e[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout();aa(this);this.parts.dialog.setStyle("visibility","");this.fireOnce("load",{});CKEDITOR.ui.fire("ready",this);this.fire("show",{});this._.editor.fire("dialogShow",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=
this.parts.dialog;if(this._.moved||!F){var b=this.getSize(),c=CKEDITOR.document.getWindow().getViewPaneSize(),e;this._.moved&&this._.position?(e=this._.position.x,b=this._.position.y):(e=(c.width-b.width)/2,b=(c.height-b.height)/2);CKEDITOR.env.ie6Compat||(a.setStyle("position","absolute"),a.removeStyle("margin"));e=Math.floor(e);b=Math.floor(b);this.move(e,b)}},foreach:function(a){for(var b in this._.contents)for(var c in this._.contents[b])a.call(this,this._.contents[b][c]);return this},reset:function(){var a=
function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},commitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{});this._.editor.fire("dialogHide",this);this.selectPage(this._.tabIdList[0]);
var a=this._.element;a.setStyle("display","none");this.parts.dialog.setStyle("visibility","hidden");for(da(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();this._.parentDialog.getElement().removeStyle("z-index");b.setStyle("z-index",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else Q(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=
10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener("keydown",R);a.removeListener("keyup",S);var c=this._.editor;c.focus();setTimeout(function(){c.focusManager.unlock();CKEDITOR.env.iOS&&c.window.focus()},0)}delete this._.parentDialog;this.foreach(function(a){a.resetInitValue&&a.resetInitValue()});this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(a){if(!a.requiredContent||this._.editor.filter.check(a.requiredContent)){for(var b=[],c=a.label?' title\x3d"'+CKEDITOR.tools.htmlEncode(a.label)+
'"':"",e=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||"width: 100%;"},b),d=this._.contents[a.id]={},f=e.getChild(),g=0;e=f.shift();)e.notAllowed||"hbox"==e.type||"vbox"==e.type||g++,d[e.id]=e,"function"==typeof e.getChild&&f.push.apply(f,e.getChild());g||(a.hidden=!0);b=CKEDITOR.dom.element.createFromHtml(b.join(""));b.setAttribute("role","tabpanel");b.setStyle("min-height",
"100%");e=CKEDITOR.env;d="cke_"+a.id+"_"+CKEDITOR.tools.getNextNumber();c=CKEDITOR.dom.element.createFromHtml(['\x3ca class\x3d"cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",c,a.hidden?' style\x3d"display:none"':"",' id\x3d"',d,'"',e.gecko&&!e.hc?"":' href\x3d"javascript:void(0)"',' tabIndex\x3d"-1" hidefocus\x3d"true" role\x3d"tab"\x3e',a.label,"\x3c/a\x3e"].join(""));b.setAttribute("aria-labelledby",d);this._.tabs[a.id]=[c,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;
this._.lastTab=c;this.updateStyle();b.setAttribute("name",a.id);b.appendTo(this.parts.contents);c.unselectable();this.parts.tabs.append(c);a.accessKey&&(T(this,this,"CTRL+"+a.accessKey,fa,ea),this._.accessKeyMap["CTRL+"+a.accessKey]=a.id)}},selectPage:function(a){if(this._.currentTabId!=a&&!this._.tabs[a][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:a,currentPage:this._.currentTabId})){for(var b in this._.tabs){var c=this._.tabs[b][0],e=this._.tabs[b][1];b!=a&&(c.removeClass("cke_dialog_tab_selected"),
c.removeAttribute("aria-selected"),e.hide());e.setAttribute("aria-hidden",b!=a)}var d=this._.tabs[a];d[0].addClass("cke_dialog_tab_selected");d[0].setAttribute("aria-selected",!0);CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(K(d[1]),d[1].show(),setTimeout(function(){K(d[1],1)},0)):d[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(a){var b=
this._.tabs[a]&&this._.tabs[a][0];b&&1!=this._.pageCount&&b.isVisible()&&(a==this._.currentTabId&&this.selectPage(A.call(this)),b.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=this._.tabs[a]&&this._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(a,b){var c=this._.contents[a];return c&&c[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},
setValueOf:function(a,b,c){return this.getContentElement(a,b).setValue(c)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},enableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,
b){if("undefined"==typeof b)b=this._.focusList.length,this._.focusList.push(new L(this,a,b));else{this._.focusList.splice(b,0,new L(this,a,b));for(var c=b+1;c<this._.focusList.length;c++)this._.focusList[c].focusIndex++}},setState:function(a){if(this.state!=a){this.state=a;if(a==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var b=this.getParentEditor().lang.dir,c={attributes:{"class":"cke_dialog_spinner"},styles:{"float":"rtl"==b?"right":"left"}};c.styles["margin-"+("rtl"==b?"left":"right")]=
"8px";this.parts.spinner=CKEDITOR.document.createElement("div",c);this.parts.spinner.setHtml("\x26#8987;");this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show();this.getButton("ok").disable()}else a==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",a)}},getModel:function(a){return this._.model?this._.model:this.definition.getModel?this.definition.getModel(a):null},setModel:function(a){this._.model=a},getMode:function(a){if(this.definition.getMode)return this.definition.getMode(a);
a=this.getModel(a);return!a||a instanceof CKEDITOR.dom.element&&!a.getParent()?CKEDITOR.dialog.CREATION_MODE:CKEDITOR.dialog.EDITING_MODE}};CKEDITOR.tools.extend(CKEDITOR.dialog,{CREATION_MODE:0,EDITING_MODE:1,add:function(a,b){this._.dialogDefinitions[a]&&"function"!=typeof b||(this._.dialogDefinitions[a]=b)},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(a,b,c){a=a.config.removeDialogTabs;return!(a&&a.match(new RegExp("(?:^|;)"+
b+":"+c+"(?:$|;)","i")))},okButton:function(){var a=function(a,c){c=c||{};return CKEDITOR.tools.extend({id:"ok",type:"button",label:a.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(a){a=a.data.dialog;!1!==a.fire("ok",{hide:!0}).hide&&a.hide()}},c,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:"button"},!0)};return a}(),cancelButton:function(){var a=function(a,c){c=c||{};return CKEDITOR.tools.extend({id:"cancel",type:"button",
label:a.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(a){a=a.data.dialog;!1!==a.fire("cancel",{hide:!0}).hide&&a.hide()}},c,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:"button"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);
U={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]};var G=function(a,b,c){for(var e=0,d;d=a[e];e++)if(d.id==b||c&&d[c]&&(d=G(d[c],b,c)))return d;return null},H=function(a,b,c,e,d){if(c){for(var f=0,g;g=a[f];f++){if(g.id==c)return a.splice(f,0,b),b;if(e&&g[e]&&(g=H(g[e],b,c,e,!0)))return g}if(d)return null}a.push(b);return b},I=function(a,b,c){for(var e=0,d;d=a[e];e++){if(d.id==b)return a.splice(e,1);if(c&&d[c]&&(d=I(d[c],
b,c)))return d}return null};M.prototype={getContents:function(a){return G(this.contents,a)},getButton:function(a){return G(this.buttons,a)},addContents:function(a,b){return H(this.contents,a,b)},addButton:function(a,b){return H(this.buttons,a,b)},removeContents:function(a){I(this.contents,a)},removeButton:function(a){I(this.buttons,a)}};N.prototype={get:function(a){return G(this.elements,a,"children")},add:function(a,b){return H(this.elements,a,b,"children")},remove:function(a){I(this.elements,a,
"children")}};var D={},x={};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,c,e,d,f,g){if(!(4>arguments.length)){var h=(e.call?e(b):e)||"div",p=["\x3c",h," "],m=(d&&d.call?d(b):d)||{},k=(f&&f.call?f(b):f)||{},q=(g&&g.call?g.call(this,a,b):g)||"",l=this.domId=k.id||CKEDITOR.tools.getNextId()+"_uiElement";b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(m.display="none",this.notAllowed=!0);k.id=l;var r={};b.type&&(r["cke_dialog_ui_"+b.type]=1);b.className&&(r[b.className]=
1);b.disabled&&(r.cke_disabled=1);for(var n=k["class"]&&k["class"].split?k["class"].split(" "):[],l=0;l<n.length;l++)n[l]&&(r[n[l]]=1);n=[];for(l in r)n.push(l);k["class"]=n.join(" ");b.title&&(k.title=b.title);r=(b.style||"").split(";");b.align&&(n=b.align,m["margin-left"]="left"==n?0:"auto",m["margin-right"]="right"==n?0:"auto");for(l in m)r.push(l+":"+m[l]);b.hidden&&r.push("display:none");for(l=r.length-1;0<=l;l--)""===r[l]&&r.splice(l,1);0<r.length&&(k.style=(k.style?k.style+"; ":"")+r.join("; "));
for(l in k)p.push(l+'\x3d"'+CKEDITOR.tools.htmlEncode(k[l])+'" ');p.push("\x3e",q,"\x3c/",h,"\x3e");c.push(p.join(""));(this._||(this._={})).dialog=a;"boolean"==typeof b.isChanged&&(this.isChanged=function(){return b.isChanged});"function"==typeof b.isChanged&&(this.isChanged=b.isChanged);"function"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(c){a.call(this,b.setValue.call(this,c))}}));"function"==typeof b.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,
function(a){return function(){return b.getValue.call(this,a.call(this))}}));CKEDITOR.event.implementOn(this);this.registerEvents(b);this.accessKeyUp&&this.accessKeyDown&&b.accessKey&&T(this,a,"CTRL+"+b.accessKey);var t=this;a.on("load",function(){var b=t.getInputElement();if(b){var c=t.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";b.on("focus",function(){a._.tabBarMode=!1;a._.hasFocus=!0;t.fire("focus");c&&this.addClass(c)});b.on("blur",function(){t.fire("blur");
c&&this.removeClass(c)})}});CKEDITOR.tools.extend(this,b);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=a._.focusList.push(this)-1,this.on("focus",function(){a._.currentFocusIndex=t.focusIndex}))}},hbox:function(a,b,c,e,d){if(!(4>arguments.length)){this._||(this._={});var f=this._.children=b,g=d&&d.widths||null,h=d&&d.height||null,p,m={role:"presentation"};d&&d.align&&(m.align=d.align);CKEDITOR.ui.dialog.uiElement.call(this,a,d||{type:"hbox"},e,"table",{},m,function(){var a=
['\x3ctbody\x3e\x3ctr class\x3d"cke_dialog_ui_hbox"\x3e'];for(p=0;p<c.length;p++){var b="cke_dialog_ui_hbox_child",e=[];0===p&&(b="cke_dialog_ui_hbox_first");p==c.length-1&&(b="cke_dialog_ui_hbox_last");a.push('\x3ctd class\x3d"',b,'" role\x3d"presentation" ');g?g[p]&&e.push("width:"+y(g[p])):e.push("width:"+Math.floor(100/c.length)+"%");h&&e.push("height:"+y(h));d&&void 0!==d.padding&&e.push("padding:"+y(d.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f[p].align&&e.push("text-align:"+f[p].align);
0<e.length&&a.push('style\x3d"'+e.join("; ")+'" ');a.push("\x3e",c[p],"\x3c/td\x3e")}a.push("\x3c/tr\x3e\x3c/tbody\x3e");return a.join("")})}},vbox:function(a,b,c,e,d){if(!(3>arguments.length)){this._||(this._={});var f=this._.children=b,g=d&&d.width||null,h=d&&d.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,d||{type:"vbox"},e,"div",null,{role:"presentation"},function(){var b=['\x3ctable role\x3d"presentation" cellspacing\x3d"0" border\x3d"0" '];b.push('style\x3d"');d&&d.expand&&b.push("height:100%;");
b.push("width:"+y(g||"100%"),";");CKEDITOR.env.webkit&&b.push("float:none;");b.push('"');b.push('align\x3d"',CKEDITOR.tools.htmlEncode(d&&d.align||("ltr"==a.getParentEditor().lang.dir?"left":"right")),'" ');b.push("\x3e\x3ctbody\x3e");for(var e=0;e<c.length;e++){var k=[];b.push('\x3ctr\x3e\x3ctd role\x3d"presentation" ');g&&k.push("width:"+y(g||"100%"));h?k.push("height:"+y(h[e])):d&&d.expand&&k.push("height:"+Math.floor(100/c.length)+"%");d&&void 0!==d.padding&&k.push("padding:"+y(d.padding));CKEDITOR.env.ie&&
CKEDITOR.env.quirks&&f[e].align&&k.push("text-align:"+f[e].align);0<k.length&&b.push('style\x3d"',k.join("; "),'" ');b.push(' class\x3d"cke_dialog_ui_vbox_child"\x3e',c[e],"\x3c/td\x3e\x3c/tr\x3e")}b.push("\x3c/tbody\x3e\x3c/table\x3e");return b.join("")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(a,b){this.getInputElement().setValue(a);
!b&&this.fire("change",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=this.getInputElement();(a=a.getParent())&&-1==a.$.className.search("cke_dialog_page_contents"););if(!a)return this;a=a.getAttribute("name");this._.dialog._.currentTabId!=a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(a){var b=
/^on([A-Z]\w+)/,c,e=function(a,b,c,d){b.on("load",function(){a.getInputElement().on(c,d,a)})},d;for(d in a)if(c=d.match(b))this.eventProcessors[d]?this.eventProcessors[d].call(this,this._.dialog,a[d]):e(this,this._.dialog,c[1].toLowerCase(),a[d]);return this},eventProcessors:{onLoad:function(a,b){a.on("load",b,this)},onShow:function(a,b){a.on("show",b,this)},onHide:function(a,b){a.on("hide",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var a=this.getElement();
this.getInputElement().setAttribute("disabled","true");a.addClass("cke_disabled")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute("disabled");a.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,
{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?this._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,c,e){for(var d=c.children,f,g=[],h=[],p=0;p<d.length&&(f=d[p]);p++){var m=[];g.push(m);h.push(CKEDITOR.dialog._.uiElementBuilders[f.type].build(a,f,m))}return new CKEDITOR.ui.dialog[c.type](a,
h,g,e,c)}};CKEDITOR.dialog.addUIElement("hbox",a);CKEDITOR.dialog.addUIElement("vbox",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;CKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){var b=this.tabId;a.openDialog(this.dialogName,function(a){b&&a.selectPage(b)})},canUndo:!1,editorFocus:1};(function(){var a=/^([a]|[^a])+$/,b=/^\d*$/,c=/^\d*(?:\.\d+)?$/,e=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,d=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,
f=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():a[0],c,d=CKEDITOR.VALIDATE_AND,e=[],f;for(f=0;f<a.length;f++)if("function"==typeof a[f])e.push(a[f]);else break;f<a.length&&"string"==typeof a[f]&&(c=a[f],f++);f<a.length&&"number"==typeof a[f]&&(d=a[f]);var l=d==CKEDITOR.VALIDATE_AND?!0:!1;for(f=0;f<e.length;f++)l=d==CKEDITOR.VALIDATE_AND?l&&
e[f](b):l||e[f](b);return l?!0:c}},regex:function(a,b){return function(c){c=this&&this.getValue?this.getValue():c;return a.test(c)?!0:b}},notEmpty:function(b){return this.regex(a,b)},integer:function(a){return this.regex(b,a)},number:function(a){return this.regex(c,a)},cssLength:function(a){return this.functions(function(a){return d.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return e.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return f.test(CKEDITOR.tools.trim(a))},
a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on("instanceDestroyed",function(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=CKEDITOR.dialog._.currentTop;)b.hide();for(var c in D)D[c].remove();D={}}a=a.editor._.storedDialogs;for(var d in a)a[d].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b,c){var e=null,d=CKEDITOR.dialog._.dialogDefinitions[a];
null===CKEDITOR.dialog._.currentTop&&P(this);if("function"==typeof d)d=this._.storedDialogs||(this._.storedDialogs={}),e=d[a]||(d[a]=new CKEDITOR.dialog(this,a)),e.setModel(c),b&&b.call(e,e),e.show();else{if("failed"==d)throw Q(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+a+'" failed when loading definition.');"string"==typeof d&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(d),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]="failed");
this.openDialog(a,b,c)},this,0,1)}CKEDITOR.skin.loadPart("dialog");if(e)e.once("hide",function(){e.setModel(null)},null,null,999);return e}})})();var stylesLoaded=!1;CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(z){stylesLoaded||(CKEDITOR.document.appendStyleSheet(this.path+"styles/dialog.css"),stylesLoaded=!0);z.on("doubleclick",function(A){A.data.dialog&&z.openDialog(A.data.dialog)},null,null,999)}});CKEDITOR.plugins.add("about",{requires:"dialog",init:function(a){var b=a.addCommand("about",new CKEDITOR.dialogCommand("about"));b.modes={wysiwyg:1,source:1};b.canUndo=!1;b.readOnly=1;a.ui.addButton&&a.ui.addButton("About",{label:a.lang.about.dlgTitle,command:"about",toolbar:"about"});CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}});(function(){CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(b){var c=this;b.addCommand("a11yHelp",{exec:function(){var a=
b.langCode,a=c.availableLangs[a]?a:c.availableLangs[a.replace(/-.*/,"")]?a.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(c.path+"dialogs/lang/"+a+".js"),function(){b.lang.a11yhelp=c.langEntries[a];b.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1});b.setKeystroke(CKEDITOR.ALT+48,"a11yHelp");CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js");b.on("ariaEditorHelpLabel",function(a){a.data.label=b.lang.common.editorHelp})}})})();(function(){function f(c){var a=this.att;c=c&&c.hasAttribute(a)&&c.getAttribute(a)||"";void 0!==c&&this.setValue(c)}function g(){for(var c,a=0;a<arguments.length;a++)if(arguments[a]instanceof CKEDITOR.dom.element){c=arguments[a];break}if(c){var a=this.att,b=this.getValue();b?c.setAttribute(a,b):c.removeAttribute(a,b)}}var k={id:1,dir:1,classes:1,styles:1};CKEDITOR.plugins.add("dialogadvtab",{requires:"dialog",allowedContent:function(c){c||(c=k);var a=[];c.id&&a.push("id");c.dir&&a.push("dir");var b=
"";a.length&&(b+="["+a.join(",")+"]");c.classes&&(b+="(*)");c.styles&&(b+="{*}");return b},createAdvancedTab:function(c,a,b){a||(a=k);var d=c.lang.common,h={id:"advanced",label:d.advancedTab,title:d.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},e=[];if(a.id||a.dir)a.id&&e.push({id:"advId",att:"id",type:"text",requiredContent:b?b+"[id]":null,label:d.id,setup:f,commit:g}),a.dir&&e.push({id:"advLangDir",att:"dir",type:"select",requiredContent:b?b+"[dir]":null,label:d.langDir,"default":"",
style:"width:100%",items:[[d.notSet,""],[d.langDirLTR,"ltr"],[d.langDirRTL,"rtl"]],setup:f,commit:g}),h.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(e)});if(a.styles||a.classes)e=[],a.styles&&e.push({id:"advStyles",att:"style",type:"text",requiredContent:b?b+"{cke-xyz}":null,label:d.styles,"default":"",validate:CKEDITOR.dialog.validate.inlineStyle(d.invalidInlineStyle),onChange:function(){},getStyle:function(a,c){var b=this.getValue().match(new RegExp("(?:^|;)\\s*"+
a+"\\s*:\\s*([^;]*)","i"));return b?b[1]:c},updateStyle:function(a,b){var d=this.getValue(),e=c.document.createElement("span");e.setAttribute("style",d);e.setStyle(a,b);d=CKEDITOR.tools.normalizeCssText(e.getAttribute("style"));this.setValue(d,1)},setup:f,commit:g}),a.classes&&e.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",requiredContent:b?b+"(cke-xyz)":null,label:d.cssClasses,"default":"",setup:f,commit:g}]}),h.elements[0].children.push({type:"hbox",
widths:["50%","50%"],children:[].concat(e)});return h}})})();CKEDITOR.plugins.add("basicstyles",{init:function(c){var e=0,d=function(g,d,b,a){if(a){a=new CKEDITOR.style(a);var f=h[b];f.unshift(a);c.attachStyleStateChange(a,function(a){!c.readOnly&&c.getCommand(b).setState(a)});c.addCommand(b,new CKEDITOR.styleCommand(a,{contentForms:f}));c.ui.addButton&&c.ui.addButton(g,{label:d,command:b,toolbar:"basicstyles,"+(e+=10)})}},h={bold:["strong","b",["span",function(a){a=a.styles["font-weight"];return"bold"==a||700<=+a}]],italic:["em","i",["span",function(a){return"italic"==
a.styles["font-style"]}]],underline:["u",["span",function(a){return"underline"==a.styles["text-decoration"]}]],strike:["s","strike",["span",function(a){return"line-through"==a.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},b=c.config,a=c.lang.basicstyles;d("Bold",a.bold,"bold",b.coreStyles_bold);d("Italic",a.italic,"italic",b.coreStyles_italic);d("Underline",a.underline,"underline",b.coreStyles_underline);d("Strike",a.strike,"strike",b.coreStyles_strike);d("Subscript",a.subscript,
"subscript",b.coreStyles_subscript);d("Superscript",a.superscript,"superscript",b.coreStyles_superscript);c.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}});CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"};CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"};CKEDITOR.config.coreStyles_underline={element:"u"};CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"};CKEDITOR.config.coreStyles_subscript={element:"sub"};
CKEDITOR.config.coreStyles_superscript={element:"sup"};(function(){function q(a,f,d,b){if(!a.isReadOnly()&&!a.equals(d.editable())){CKEDITOR.dom.element.setMarker(b,a,"bidi_processed",1);b=a;for(var c=d.editable();(b=b.getParent())&&!b.equals(c);)if(b.getCustomData("bidi_processed")){a.removeStyle("direction");a.removeAttribute("dir");return}b="useComputedState"in d.config?d.config.useComputedState:1;(b?a.getComputedStyle("direction"):a.getStyle("direction")||a.hasAttribute("dir"))!=f&&(a.removeStyle("direction"),b?(a.removeAttribute("dir"),f!=a.getComputedStyle("direction")&&
a.setAttribute("dir",f)):a.setAttribute("dir",f),d.forceNextSelectionCheck())}}function v(a,f,d){var b=a.getCommonAncestor(!1,!0);a=a.clone();a.enlarge(d==CKEDITOR.ENTER_BR?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);if(a.checkBoundaryOfElement(b,CKEDITOR.START)&&a.checkBoundaryOfElement(b,CKEDITOR.END)){for(var c;b&&b.type==CKEDITOR.NODE_ELEMENT&&(c=b.getParent())&&1==c.getChildCount()&&!(b.getName()in f);)b=c;return b.type==CKEDITOR.NODE_ELEMENT&&b.getName()in f&&b}}function p(a){return{context:"p",
allowedContent:{"h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td":{propertiesOnly:!0,attributes:"dir"}},requiredContent:"p[dir]",refresh:function(a,d){var b=a.config.useComputedState,c,b=void 0===b||b;if(!b){c=d.lastElement;for(var h=a.editable();c&&!(c.getName()in u||c.equals(h));){var e=c.getParent();if(!e)break;c=e}}c=c||d.block||d.blockLimit;c.equals(a.editable())&&(h=a.getSelection().getRanges()[0].getEnclosedNode())&&h.type==CKEDITOR.NODE_ELEMENT&&(c=h);c&&(b=b?c.getComputedStyle("direction"):
c.getStyle("direction")||c.getAttribute("dir"),a.getCommand("bidirtl").setState("rtl"==b?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),a.getCommand("bidiltr").setState("ltr"==b?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF));b=(d.block||d.blockLimit||a.editable()).getDirection(1);b!=(a._.selDir||a.lang.dir)&&(a._.selDir=b,a.fire("contentDirChanged",b))},exec:function(f){var d=f.getSelection(),b=f.config.enterMode,c=d.getRanges();if(c&&c.length){for(var h={},e=d.createBookmarks(),c=c.createIterator(),g,
l=0;g=c.getNextRange(1);){var k=g.getEnclosedNode();k&&(!k||k.type==CKEDITOR.NODE_ELEMENT&&k.getName()in r)||(k=v(g,t,b));k&&q(k,a,f,h);var m=new CKEDITOR.dom.walker(g),n=e[l].startNode,p=e[l++].endNode;m.evaluator=function(a){var c=b==CKEDITOR.ENTER_P?"p":"div",d;if(d=(a?a.type==CKEDITOR.NODE_ELEMENT:!1)&&a.getName()in t){if(c=a.is(c))c=(c=a.getParent())?c.type==CKEDITOR.NODE_ELEMENT:!1;d=!(c&&a.getParent().is("blockquote"))}return!!(d&&a.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(a.getPosition(p)&
CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_CONTAINS)==CKEDITOR.POSITION_PRECEDING)};for(;k=m.next();)q(k,a,f,h);g=g.createIterator();for(g.enlargeBr=b!=CKEDITOR.ENTER_BR;k=g.getNextParagraph(b==CKEDITOR.ENTER_P?"p":"div");)q(k,a,f,h)}CKEDITOR.dom.element.clearAllMarkers(h);f.forceNextSelectionCheck();d.selectBookmarks(e);f.focus()}}}}function w(a){var f=a==l.setAttribute,d=a==l.removeAttribute,b=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(c,h){if(!this.isReadOnly()){var e;if(e=c==(f||d?
"dir":"direction")||"style"==c&&(d||b.test(h))){a:{e=this;for(var g=e.getDocument().getBody().getParent();e;){if(e.equals(g)){e=!1;break a}e=e.getParent()}e=!0}e=!e}if(e&&(e=this.getDirection(1),g=a.apply(this,arguments),e!=this.getDirection(1)))return this.getDocument().fire("dirChanged",this),g}return a.apply(this,arguments)}}var t={table:1,ul:1,ol:1,blockquote:1,div:1},r={},u={};CKEDITOR.tools.extend(r,t,{tr:1,p:1,div:1,li:1});CKEDITOR.tools.extend(u,r,{td:1});CKEDITOR.plugins.add("bidi",{init:function(a){function f(b,
c,d,e,f){a.addCommand(d,new CKEDITOR.command(a,e));a.ui.addButton&&a.ui.addButton(b,{label:c,command:d,toolbar:"bidi,"+f})}if(!a.blockless){var d=a.lang.bidi;f("BidiLtr",d.ltr,"bidiltr",p("ltr"),10);f("BidiRtl",d.rtl,"bidirtl",p("rtl"),20);a.on("contentDom",function(){a.document.on("dirChanged",function(b){a.fire("dirChanged",{node:b.data,dir:b.data.getDirection(1)})})});a.on("contentDirChanged",function(b){b=(a.lang.dir!=b.data?"add":"remove")+"Class";var c=a.ui.space(a.config.toolbarLocation);if(c)c[b]("cke_mixed_dir_content")})}}});
for(var l=CKEDITOR.dom.element.prototype,n=["setStyle","removeStyle","setAttribute","removeAttribute"],m=0;m<n.length;m++)l[n[m]]=CKEDITOR.tools.override(l[n[m]],w)})();(function(){var m={exec:function(g){var a=g.getCommand("blockquote").state,k=g.getSelection(),c=k&&k.getRanges()[0];if(c){var h=k.createBookmarks();if(CKEDITOR.env.ie){var e=h[0].startNode,b=h[0].endNode,d;if(e&&"blockquote"==e.getParent().getName())for(d=e;d=d.getNext();)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){e.move(d,!0);break}if(b&&"blockquote"==b.getParent().getName())for(d=b;d=d.getPrevious();)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){b.move(d);break}}var f=c.createIterator();
f.enlargeBr=g.config.enterMode!=CKEDITOR.ENTER_BR;if(a==CKEDITOR.TRISTATE_OFF){for(e=[];a=f.getNextParagraph();)e.push(a);1>e.length&&(a=g.document.createElement(g.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),b=h.shift(),c.insertNode(a),a.append(new CKEDITOR.dom.text("﻿",g.document)),c.moveToBookmark(b),c.selectNodeContents(a),c.collapse(!0),b=c.createBookmark(),e.push(a),h.unshift(b));d=e[0].getParent();c=[];for(b=0;b<e.length;b++)a=e[b],d=d.getCommonAncestor(a.getParent());for(a={table:1,tbody:1,
tr:1,ol:1,ul:1};a[d.getName()];)d=d.getParent();for(b=null;0<e.length;){for(a=e.shift();!a.getParent().equals(d);)a=a.getParent();a.equals(b)||c.push(a);b=a}for(;0<c.length;)if(a=c.shift(),"blockquote"==a.getName()){for(b=new CKEDITOR.dom.documentFragment(g.document);a.getFirst();)b.append(a.getFirst().remove()),e.push(b.getLast());b.replace(a)}else e.push(a);c=g.document.createElement("blockquote");for(c.insertBefore(e[0]);0<e.length;)a=e.shift(),c.append(a)}else if(a==CKEDITOR.TRISTATE_ON){b=[];
for(d={};a=f.getNextParagraph();){for(e=c=null;a.getParent();){if("blockquote"==a.getParent().getName()){c=a.getParent();e=a;break}a=a.getParent()}c&&e&&!e.getCustomData("blockquote_moveout")&&(b.push(e),CKEDITOR.dom.element.setMarker(d,e,"blockquote_moveout",!0))}CKEDITOR.dom.element.clearAllMarkers(d);a=[];e=[];for(d={};0<b.length;)f=b.shift(),c=f.getParent(),f.getPrevious()?f.getNext()?(f.breakParent(f.getParent()),e.push(f.getNext())):f.remove().insertAfter(c):f.remove().insertBefore(c),c.getCustomData("blockquote_processed")||
(e.push(c),CKEDITOR.dom.element.setMarker(d,c,"blockquote_processed",!0)),a.push(f);CKEDITOR.dom.element.clearAllMarkers(d);for(b=e.length-1;0<=b;b--){c=e[b];a:{d=c;for(var f=0,m=d.getChildCount(),l=void 0;f<m&&(l=d.getChild(f));f++)if(l.type==CKEDITOR.NODE_ELEMENT&&l.isBlockBoundary()){d=!1;break a}d=!0}d&&c.remove()}if(g.config.enterMode==CKEDITOR.ENTER_BR)for(c=!0;a.length;)if(f=a.shift(),"div"==f.getName()){b=new CKEDITOR.dom.documentFragment(g.document);!c||!f.getPrevious()||f.getPrevious().type==
CKEDITOR.NODE_ELEMENT&&f.getPrevious().isBlockBoundary()||b.append(g.document.createElement("br"));for(c=f.getNext()&&!(f.getNext().type==CKEDITOR.NODE_ELEMENT&&f.getNext().isBlockBoundary());f.getFirst();)f.getFirst().remove().appendTo(b);c&&b.append(g.document.createElement("br"));b.replace(f);c=!1}}k.selectBookmarks(h);g.focus()}},refresh:function(g,a){this.setState(g.elementPath(a.block||a.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",
requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(g){g.blockless||(g.addCommand("blockquote",m),g.ui.addButton&&g.ui.addButton("Blockquote",{label:g.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})})();(function(){function q(b,a){CKEDITOR.tools.extend(this,a,{editor:b,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:b._.notificationArea});a.type||(this.type="info");this.element=this._createElement();b.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function r(b){var a=this;this.editor=b;this.notifications=[];this.element=this._createElement();this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this);this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,
this);b.on("destroy",function(){a._removeListeners();a.element.remove()})}CKEDITOR.plugins.add("notification",{init:function(b){function a(b){var a=new CKEDITOR.dom.element("div");a.setStyles({position:"fixed","margin-left":"-9999px"});a.setAttributes({"aria-live":"assertive","aria-atomic":"true"});a.setText(b);CKEDITOR.document.getBody().append(a);setTimeout(function(){a.remove()},100)}b._.notificationArea=new r(b);b.showNotification=function(a,d,e){var f,l;"progress"==d?f=e:l=e;a=new CKEDITOR.plugins.notification(b,
{message:a,type:d,progress:f,duration:l});a.show();return a};b.on("key",function(c){if(27==c.data.keyCode){var d=b._.notificationArea.notifications;d.length&&(a(b.lang.notification.closed),d[d.length-1].hide(),c.cancel())}})}});q.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(b){var a=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:b})&&(a=!1);var c=this.element,d=c.findOne(".cke_notification_message"),
e=c.findOne(".cke_notification_progress"),f=b.type;c.removeAttribute("role");b.progress&&"progress"!=this.type&&(f="progress");f&&(c.removeClass(this._getClass()),c.removeAttribute("aria-label"),this.type=f,c.addClass(this._getClass()),c.setAttribute("aria-label",this.type),"progress"!=this.type||e?"progress"!=this.type&&e&&e.remove():(e=this._createProgressElement(),e.insertBefore(d)));void 0!==b.message&&(this.message=b.message,d.setHtml(this.message));void 0!==b.progress&&(this.progress=b.progress,
e&&e.setStyle("width",this._getPercentageProgress()));a&&b.important&&(c.setAttribute("role","alert"),this.isVisible()||this.area.add(this));this.duration=b.duration;this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var b=this,a,c,d=this.editor.lang.common.close;a=new CKEDITOR.dom.element("div");a.addClass("cke_notification");
a.addClass(this._getClass());a.setAttributes({id:this.id,role:"alert","aria-label":this.type});"progress"==this.type&&a.append(this._createProgressElement());c=new CKEDITOR.dom.element("p");c.addClass("cke_notification_message");c.setHtml(this.message);a.append(c);c=CKEDITOR.dom.element.createFromHtml('\x3ca class\x3d"cke_notification_close" href\x3d"javascript:void(0)" title\x3d"'+d+'" role\x3d"button" tabindex\x3d"-1"\x3e\x3cspan class\x3d"cke_label"\x3eX\x3c/span\x3e\x3c/a\x3e');a.append(c);c.on("click",
function(){b.editor.focus();b.hide()});return a},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var b=new CKEDITOR.dom.element("span");b.addClass("cke_notification_progress");b.setStyle("width",this._getPercentageProgress());return b},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var b=this,a;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId);
if("number"==typeof this.duration)a=this.duration;else if("info"==this.type||"success"==this.type)a="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5E3;a&&(b._hideTimeoutId=setTimeout(function(){b.hide()},a))}};r.prototype={add:function(b){this.notifications.push(b);this.element.append(b.element);1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners());this._layout()},remove:function(b){var a=CKEDITOR.tools.indexOf(this.notifications,
b);0>a||(this.notifications.splice(a,1),b.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var b=this.editor,a=b.config,c=new CKEDITOR.dom.element("div");c.addClass("cke_notifications_area");c.setAttribute("id","cke_notifications_area_"+b.name);c.setStyle("z-index",a.baseFloatZIndex-2);return c},_attachListeners:function(){var b=CKEDITOR.document.getWindow(),a=this.editor;b.on("scroll",this._uiBuffer.input);b.on("resize",this._uiBuffer.input);
a.on("change",this._changeBuffer.input);a.on("floatingSpaceLayout",this._layout,this,null,20);a.on("blur",this._layout,this,null,20)},_removeListeners:function(){var b=CKEDITOR.document.getWindow(),a=this.editor;b.removeListener("scroll",this._uiBuffer.input);b.removeListener("resize",this._uiBuffer.input);a.removeListener("change",this._changeBuffer.input);a.removeListener("floatingSpaceLayout",this._layout);a.removeListener("blur",this._layout)},_layout:function(){function b(){a.setStyle("left",
k(n+d.width-g-h))}var a=this.element,c=this.editor,d=c.ui.contentsElement.getClientRect(),e=c.ui.contentsElement.getDocumentPosition(),f,l,u=a.getClientRect(),m,g=this._notificationWidth,h=this._notificationMargin;m=CKEDITOR.document.getWindow();var p=m.getScrollPosition(),t=m.getViewPaneSize(),q=CKEDITOR.document.getBody(),r=q.getDocumentPosition(),k=CKEDITOR.tools.cssLength;g&&h||(m=this.element.getChild(0),g=this._notificationWidth=m.getClientRect().width,h=this._notificationMargin=parseInt(m.getComputedStyle("margin-left"),
10)+parseInt(m.getComputedStyle("margin-right"),10));c.toolbar&&(f=c.ui.space("top"),l=f.getClientRect());f&&f.isVisible()&&l.bottom>d.top&&l.bottom<d.bottom-u.height?a.setStyles({position:"fixed",top:k(l.bottom)}):0<d.top?a.setStyles({position:"absolute",top:k(e.y)}):e.y+d.height-u.height>p.y?a.setStyles({position:"fixed",top:0}):a.setStyles({position:"absolute",top:k(e.y+d.height-u.height)});var n="fixed"==a.getStyle("position")?d.left:"static"!=q.getComputedStyle("position")?e.x-r.x:e.x;d.width<
g+h?e.x+g+h>p.x+t.width?b():a.setStyle("left",k(n)):e.x+g+h>p.x+t.width?a.setStyle("left",k(n)):e.x+d.width/2+g/2+h>p.x+t.width?a.setStyle("left",k(n-e.x+p.x+t.width-g-h)):0>d.left+d.width-g-h?b():0>d.left+d.width/2-g/2?a.setStyle("left",k(n-e.x+p.x)):a.setStyle("left",k(n+d.width/2-g/2-h/2))}};CKEDITOR.plugins.notification=q})();(function(){var c='\x3ca id\x3d"{id}" class\x3d"cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href\x3d\"javascript:void('{titleJs}')\"")+' title\x3d"{title}" tabindex\x3d"-1" hidefocus\x3d"true" role\x3d"button" aria-labelledby\x3d"{id}_label" aria-describedby\x3d"{id}_description" aria-haspopup\x3d"{hasArrow}" aria-disabled\x3d"{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(c+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(c+=
' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');var k="";CKEDITOR.env.ie&&(k='return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26');var c=c+(' onkeydown\x3d"return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus\x3d"return CKEDITOR.tools.callFunction({focusFn},event);" onclick\x3d"'+k+'CKEDITOR.tools.callFunction({clickFn},this);return false;"\x3e\x3cspan class\x3d"cke_button_icon cke_button__{iconName}_icon" style\x3d"{style}"')+
'\x3e\x26nbsp;\x3c/span\x3e\x3cspan id\x3d"{id}_label" class\x3d"cke_button_label cke_button__{name}_label" aria-hidden\x3d"false"\x3e{label}\x3c/span\x3e\x3cspan id\x3d"{id}_description" class\x3d"cke_button_label" aria-hidden\x3d"false"\x3e{ariaShortcut}\x3c/span\x3e{arrowHtml}\x3c/a\x3e',v=CKEDITOR.addTemplate("buttonArrow",'\x3cspan class\x3d"cke_button_arrow"\x3e'+(CKEDITOR.env.hc?"\x26#9660;":"")+"\x3c/span\x3e"),w=CKEDITOR.addTemplate("button",c);CKEDITOR.plugins.add("button",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,
CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON="button";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{title:a.label,click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};CKEDITOR.ui.button.prototype={render:function(a,b){function c(){var f=a.mode;f&&(f=this.modes[f]?void 0!==p[f]?p[f]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,f=a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:
f,this.setState(f),this.refresh&&this.refresh())}var p=null,q=CKEDITOR.env,r=this._.id=CKEDITOR.tools.getNextId(),g="",d=this.command,k,l,m;this._.editor=a;var e={id:r,button:this,editor:a,focus:function(){CKEDITOR.document.getById(r).focus()},execute:function(){this.button.click(a)},attach:function(a){this.button.attach(a)}},x=CKEDITOR.tools.addFunction(function(a){if(e.onkey)return a=new CKEDITOR.dom.event(a),!1!==e.onkey(e,a.getKeystroke())}),y=CKEDITOR.tools.addFunction(function(a){var b;e.onfocus&&
(b=!1!==e.onfocus(e,new CKEDITOR.dom.event(a)));return b}),u=0;e.clickFn=k=CKEDITOR.tools.addFunction(function(){u&&(a.unlockSelection(1),u=0);e.execute();q.iOS&&a.focus()});this.modes?(p={},a.on("beforeModeUnload",function(){a.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(p[a.mode]=this._.state)},this),a.on("activeFilterChange",c,this),a.on("mode",c,this),!this.readOnly&&a.on("readOnly",c,this)):d&&(d=a.getCommand(d))&&(d.on("state",function(){this.setState(d.state)},this),g+=d.state==CKEDITOR.TRISTATE_ON?
"on":d.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");var n;if(this.directional)a.on("contentDirChanged",function(b){var c=CKEDITOR.document.getById(this._.id),d=c.getFirst();b=b.data;b!=a.lang.dir?c.addClass("cke_"+b):c.removeClass("cke_ltr").removeClass("cke_rtl");d.setAttribute("style",CKEDITOR.skin.getIconStyle(n,"rtl"==b,this.icon,this.iconOffset))},this);d?(l=a.getCommandKeystroke(d))&&(m=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,l)):g+="off";l=this.name||this.command;var h=
null,t=this.icon;n=l;this.icon&&!/\./.test(this.icon)?(n=this.icon,t=null):(this.icon&&(h=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(h=this.iconHiDpi));h?(CKEDITOR.skin.addIcon(h,h),t=null):h=n;g={id:r,name:l,iconName:n,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":"")+(this.className||""),state:g,ariaDisabled:"disabled"==g?"true":"false",title:this.title+(m?" ("+m.display+")":""),ariaShortcut:m?a.lang.common.keyboardShortcut+" "+m.aria:"",titleJs:q.gecko&&!q.hc?"":(this.title||
"").replace("'",""),hasArrow:"string"===typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:x,focusFn:y,clickFn:k,style:CKEDITOR.skin.getIconStyle(h,"rtl"==a.lang.dir,t,this.iconOffset),arrowHtml:this.hasArrow?v.output():""};w.output(g,b);if(this.onRender)this.onRender();return e},setState:function(a){if(this._.state==a)return!1;this._.state=a;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a,"cke_button"),b.setAttribute("aria-disabled",a==CKEDITOR.TRISTATE_DISABLED),
this.hasArrow?b.setAttribute("aria-expanded",a==CKEDITOR.TRISTATE_ON):a===CKEDITOR.TRISTATE_ON?b.setAttribute("aria-pressed",!0):b.removeAttribute("aria-pressed"),!0):!1},getState:function(){return this._.state},toFeature:function(a){if(this._.feature)return this._.feature;var b=this;this.allowedContent||this.requiredContent||!this.command||(b=a.getCommand(this.command)||b);return this._.feature=b}};CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}})();(function(){function D(a){function d(){for(var b=f(),e=CKEDITOR.tools.clone(a.config.toolbarGroups)||v(a),n=0;n<e.length;n++){var g=e[n];if("/"!=g){"string"==typeof g&&(g=e[n]={name:g});var l,d=g.groups;if(d)for(var h=0;h<d.length;h++)l=d[h],(l=b[l])&&c(g,l);(l=b[g.name])&&c(g,l)}}return e}function f(){var b={},c,e,g;for(c in a.ui.items)e=a.ui.items[c],g=e.toolbar||"others",g=g.split(","),e=g[0],g=parseInt(g[1]||-1,10),b[e]||(b[e]=[]),b[e].push({name:c,order:g});for(e in b)b[e]=b[e].sort(function(b,
a){return b.order==a.order?0:0>a.order?-1:0>b.order?1:b.order<a.order?-1:1});return b}function c(c,e){if(e.length){c.items?c.items.push(a.ui.create("-")):c.items=[];for(var d;d=e.shift();)d="string"==typeof d?d:d.name,b&&-1!=CKEDITOR.tools.indexOf(b,d)||(d=a.ui.create(d))&&a.addFeature(d)&&c.items.push(d)}}function h(b){var a=[],e,d,h;for(e=0;e<b.length;++e)d=b[e],h={},"/"==d?a.push(d):CKEDITOR.tools.isArray(d)?(c(h,CKEDITOR.tools.clone(d)),a.push(h)):d.items&&(c(h,CKEDITOR.tools.clone(d.items)),
h.name=d.name,a.push(h));return a}var b=a.config.removeButtons,b=b&&b.split(","),e=a.config.toolbar;"string"==typeof e&&(e=a.config["toolbar_"+e]);return a.toolbar=e?h(e):d()}function v(a){return a._.toolbarGroups||(a._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list",
"indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var z=function(){this.toolbars=[];this.focusCommandExecuted=!1};z.prototype.focus=function(){for(var a=0,d;d=this.toolbars[a++];)for(var f=0,c;c=d.items[f++];)if(c.focus){c.focus();return}};var E={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(a.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},
100):a.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(a){var d,f=function(c,h){var b,e="rtl"==a.lang.dir,k=a.config.toolbarGroupCycling,q=e?37:39,e=e?39:37,k=void 0===k||k;switch(h){case 9:case CKEDITOR.SHIFT+9:for(;!b||!b.items.length;)if(b=9==h?(b?b.next:c.toolbar.next)||a.toolbox.toolbars[0]:(b?b.previous:c.toolbar.previous)||a.toolbox.toolbars[a.toolbox.toolbars.length-1],b.items.length)for(c=b.items[d?b.items.length-1:0];c&&!c.focus;)(c=d?c.previous:c.next)||
(b=0);c&&c.focus();return!1;case q:b=c;do b=b.next,!b&&k&&(b=c.toolbar.items[0]);while(b&&!b.focus);b?b.focus():f(c,9);return!1;case 40:return c.button&&c.button.hasArrow?c.execute():f(c,40==h?q:e),!1;case e:case 38:b=c;do b=b.previous,!b&&k&&(b=c.toolbar.items[c.toolbar.items.length-1]);while(b&&!b.focus);b?b.focus():(d=1,f(c,CKEDITOR.SHIFT+9),d=0);return!1;case 27:return a.focus(),!1;case 13:case 32:return c.execute(),!1}return!0};a.on("uiSpace",function(c){if(c.data.space==a.config.toolbarLocation){c.removeListener();
a.toolbox=new z;var d=CKEDITOR.tools.getNextId(),b=['\x3cspan id\x3d"',d,'" class\x3d"cke_voice_label"\x3e',a.lang.toolbar.toolbars,"\x3c/span\x3e",'\x3cspan id\x3d"'+a.ui.spaceId("toolbox")+'" class\x3d"cke_toolbox" role\x3d"group" aria-labelledby\x3d"',d,'" onmousedown\x3d"return false;"\x3e'],d=!1!==a.config.toolbarStartupExpanded,e,k;a.config.toolbarCanCollapse&&a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&b.push('\x3cspan class\x3d"cke_toolbox_main"'+(d?"\x3e":' style\x3d"display:none"\x3e'));
for(var q=a.toolbox.toolbars,n=D(a),g=n.length,l=0;l<g;l++){var r,m=0,w,p=n[l],v="/"!==p&&("/"===n[l+1]||l==g-1),x;if(p)if(e&&(b.push("\x3c/span\x3e"),k=e=0),"/"===p)b.push('\x3cspan class\x3d"cke_toolbar_break"\x3e\x3c/span\x3e');else{x=p.items||p;for(var y=0;y<x.length;y++){var t=x[y],A;if(t){var B=function(c){c=c.render(a,b);u=m.items.push(c)-1;0<u&&(c.previous=m.items[u-1],c.previous.next=c);c.toolbar=m;c.onkey=f;c.onfocus=function(){a.toolbox.focusCommandExecuted||a.focus()}};if(t.type==CKEDITOR.UI_SEPARATOR)k=
e&&t;else{A=!1!==t.canGroup;if(!m){r=CKEDITOR.tools.getNextId();m={id:r,items:[]};w=p.name&&(a.lang.toolbar.toolbarGroups[p.name]||p.name);b.push('\x3cspan id\x3d"',r,'" class\x3d"cke_toolbar'+(v?' cke_toolbar_last"':'"'),w?' aria-labelledby\x3d"'+r+'_label"':"",' role\x3d"toolbar"\x3e');w&&b.push('\x3cspan id\x3d"',r,'_label" class\x3d"cke_voice_label"\x3e',w,"\x3c/span\x3e");b.push('\x3cspan class\x3d"cke_toolbar_start"\x3e\x3c/span\x3e');var u=q.push(m)-1;0<u&&(m.previous=q[u-1],m.previous.next=
m)}A?e||(b.push('\x3cspan class\x3d"cke_toolgroup" role\x3d"presentation"\x3e'),e=1):e&&(b.push("\x3c/span\x3e"),e=0);k&&(B(k),k=0);B(t)}}}e&&(b.push("\x3c/span\x3e"),k=e=0);m&&b.push('\x3cspan class\x3d"cke_toolbar_end"\x3e\x3c/span\x3e\x3c/span\x3e')}}a.config.toolbarCanCollapse&&b.push("\x3c/span\x3e");if(a.config.toolbarCanCollapse&&a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var C=CKEDITOR.tools.addFunction(function(){a.execCommand("toolbarCollapse")});a.on("destroy",function(){CKEDITOR.tools.removeFunction(C)});
a.addCommand("toolbarCollapse",{readOnly:1,exec:function(b){var a=b.ui.space("toolbar_collapser"),c=a.getPrevious(),d=b.ui.space("contents"),e=c.getParent(),h=parseInt(d.$.style.height,10),g=e.$.offsetHeight,f=a.hasClass("cke_toolbox_collapser_min");f?(c.show(),a.removeClass("cke_toolbox_collapser_min"),a.setAttribute("title",b.lang.toolbar.toolbarCollapse)):(c.hide(),a.addClass("cke_toolbox_collapser_min"),a.setAttribute("title",b.lang.toolbar.toolbarExpand));a.getFirst().setText(f?"▲":"◀");d.setStyle("height",
h-(e.$.offsetHeight-g)+"px");b.fire("resize",{outerHeight:b.container.$.offsetHeight,contentsHeight:d.$.offsetHeight,outerWidth:b.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}});a.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse");b.push('\x3ca title\x3d"'+(d?a.lang.toolbar.toolbarCollapse:a.lang.toolbar.toolbarExpand)+'" id\x3d"'+a.ui.spaceId("toolbar_collapser")+'" tabIndex\x3d"-1" class\x3d"cke_toolbox_collapser');d||b.push(" cke_toolbox_collapser_min");
b.push('" onclick\x3d"CKEDITOR.tools.callFunction('+C+')"\x3e','\x3cspan class\x3d"cke_arrow"\x3e\x26#9650;\x3c/span\x3e',"\x3c/a\x3e")}b.push("\x3c/span\x3e");c.data.html+=b.join("")}});a.on("destroy",function(){if(this.toolbox){var a,d=0,b,e,f;for(a=this.toolbox.toolbars;d<a.length;d++)for(e=a[d].items,b=0;b<e.length;b++)f=e[b],f.clickFn&&CKEDITOR.tools.removeFunction(f.clickFn),f.keyDownFn&&CKEDITOR.tools.removeFunction(f.keyDownFn)}});a.on("uiReady",function(){var c=a.ui.space("toolbox");c&&a.focusManager.add(c,
1)});a.addCommand("toolbarFocus",E);a.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus");a.ui.add("-",CKEDITOR.UI_SEPARATOR,{});a.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,d){d.push('\x3cspan class\x3d"cke_toolbar_separator" role\x3d"separator"\x3e\x3c/span\x3e');return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(a,d,f){var c=v(this.editor),h=0===d,b={name:a};if(f){if(f=CKEDITOR.tools.search(c,function(a){return a.name==f})){!f.groups&&(f.groups=[]);if(d&&
(d=CKEDITOR.tools.indexOf(f.groups,d),0<=d)){f.groups.splice(d+1,0,a);return}h?f.groups.splice(0,0,a):f.groups.push(a);return}d=null}d&&(d=CKEDITOR.tools.indexOf(c,function(a){return a.name==d}));h?c.splice(0,0,a):"number"==typeof d?c.splice(d+1,0,b):c.push(a)}})();CKEDITOR.UI_SEPARATOR="separator";CKEDITOR.config.toolbarLocation="top";(function(){function r(a,b,c){b.type||(b.type="auto");if(c&&!1===a.fire("beforePaste",b)||!b.dataValue&&b.dataTransfer.isEmpty())return!1;b.dataValue||(b.dataValue="");if(CKEDITOR.env.gecko&&"drop"==b.method&&a.toolbox)a.once("afterPaste",function(){a.toolbox.focus()});return a.fire("paste",b)}function x(a){function b(){var b=a.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var c=function(b){a.getSelection().isCollapsed()||(a.readOnly&&"cut"==b.name||p.initPasteDataTransfer(b,
a),b.data.preventDefault())};b.on("copy",c);b.on("cut",c);b.on("cut",function(){a.readOnly||a.extractSelectedHtml()},null,null,999)}b.on(p.mainPasteEvent,function(a){"beforepaste"==p.mainPasteEvent&&n||k(a)});"beforepaste"==p.mainPasteEvent&&(b.on("paste",function(a){v||(f(),a.data.preventDefault(),k(a),e("paste"))}),b.on("contextmenu",h,null,null,0),b.on("beforepaste",function(a){!a.data||a.data.$.ctrlKey||a.data.$.shiftKey||h()},null,null,0));b.on("beforecut",function(){!n&&g(a)});var d;b.attachListener(CKEDITOR.env.ie?
b:a.document.getDocumentElement(),"mouseup",function(){d=setTimeout(u,0)});a.on("destroy",function(){clearTimeout(d)});b.on("keyup",u)}function c(b){return{type:b,canUndo:"cut"==b,startDisabled:!0,fakeKeystroke:"cut"==b?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){"cut"==this.type&&g();var b;var c=this.type;if(CKEDITOR.env.ie)b=e(c);else try{b=a.document.$.execCommand(c,!1,null)}catch(d){b=!1}b||a.showNotification(a.lang.clipboard[this.type+"Error"]);return b}}}function d(){return{canUndo:!1,
async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(a,b){function c(b,g){g="undefined"!==typeof g?g:!0;b?(b.method="paste",b.dataTransfer||(b.dataTransfer=p.initPasteDataTransfer()),r(a,b,g)):e&&!a._.forcePasteDialog&&a.showNotification(f,"info",a.config.clipboard_notificationDuration);a._.forcePasteDialog=!1;a.fire("afterCommandExec",{name:"paste",command:d,returnValue:!!b})}b="undefined"!==typeof b&&null!==b?b:{};var d=this,e="undefined"!==typeof b.notification?b.notification:!0,g=b.type,m=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,
a.getCommandKeystroke(this)),f="string"===typeof e?e:a.lang.clipboard.pasteNotification.replace(/%1/,'\x3ckbd aria-label\x3d"'+m.aria+'"\x3e'+m.display+"\x3c/kbd\x3e"),m="string"===typeof b?b:b.dataValue;g&&!0!==a.config.forcePasteAsPlainText&&"allow-word"!==a.config.forcePasteAsPlainText?a._.nextPasteType=g:delete a._.nextPasteType;"string"===typeof m?c({dataValue:m}):a.getClipboardData(c)}}}function f(){v=1;setTimeout(function(){v=0},100)}function h(){n=1;setTimeout(function(){n=0},10)}function e(b){var c=
a.document,d=c.getBody(),e=!1,g=function(){e=!0};d.on(b,g);7<CKEDITOR.env.version?c.$.execCommand(b):c.$.selection.createRange().execCommand(b);d.removeListener(b,g);return e}function g(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var b=a.getSelection(),c,d,e;b.getType()==CKEDITOR.SELECTION_ELEMENT&&(c=b.getSelectedElement())&&(d=b.getRanges()[0],e=a.document.createText(""),e.insertBefore(c),d.setStartBefore(e),d.setEndAfter(c),b.selectRanges([d]),setTimeout(function(){c.getParent()&&(e.remove(),b.selectElement(c))},
0))}}function l(b,c){var d=a.document,e=a.editable(),g=function(a){a.cancel()},m;if(!d.getById("cke_pastebin")){var f=a.getSelection(),l=f.createBookmarks();CKEDITOR.env.ie&&f.root.fire("selectionchange");var k=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!e.is("body")||CKEDITOR.env.ie?"div":"body",d);k.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var h=0,d=d.getWindow();CKEDITOR.env.webkit?(e.append(k),k.addClass("cke_editable"),e.is("body")||(h="static"!=e.getComputedStyle("position")?
e:CKEDITOR.dom.element.get(e.$.offsetParent),h=h.getDocumentPosition().y)):e.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(k);k.setStyles({position:"absolute",top:d.getScrollPosition().y-h+10+"px",width:"1px",height:Math.max(1,d.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0});CKEDITOR.env.safari&&k.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text"));(h=k.getParent().isReadOnly())?(k.setOpacity(0),k.setAttribute("contenteditable",!0)):k.setStyle("ltr"==a.config.contentsLangDirection?
"left":"right","-10000px");a.on("selectionChange",g,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)m=e.once("blur",g,null,null,-100);h&&k.focus();h=new CKEDITOR.dom.range(k);h.selectNodeContents(k);var u=h.select();CKEDITOR.env.ie&&(m=e.once("blur",function(){a.lockSelection(u)}));var q=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=q);m&&m.removeListener();CKEDITOR.env.ie&&e.focus();f.selectBookmarks(l);
k.remove();var b;CKEDITOR.env.webkit&&(b=k.getFirst())&&b.is&&b.hasClass("Apple-style-span")&&(k=b);a.removeListener("selectionChange",g);c(k.getHtml())},0)}}function t(){if("paste"==p.mainPasteEvent)return a.fire("beforePaste",{type:"auto",method:"paste"}),!1;a.focus();f();var b=a.focusManager;b.lock();if(a.editable().fire(p.mainPasteEvent)&&!e("paste"))return b.unlock(),!1;b.unlock();return!0}function m(b){if("wysiwyg"==a.mode)switch(b.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:b=
a.editable();f();"paste"==p.mainPasteEvent&&b.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:a.fire("saveSnapshot"),setTimeout(function(){a.fire("saveSnapshot")},50)}}function k(b){var c={type:"auto",method:"paste",dataTransfer:p.initPasteDataTransfer(b)};c.dataTransfer.cacheData();var e=!1!==a.fire("beforePaste",c);e&&p.canClipboardApiBeTrusted(c.dataTransfer,a)?(b.data.preventDefault(),setTimeout(function(){r(a,c)},0)):l(b,function(b){c.dataValue=b.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/ig,
"");e&&r(a,c)})}function u(){if("wysiwyg"==a.mode){var b=q("paste");a.getCommand("cut").setState(q("cut"));a.getCommand("copy").setState(q("copy"));a.getCommand("paste").setState(b);a.fire("pasteState",b)}}function q(b){var c=a.getSelection(),c=c&&c.getRanges()[0];if((a.readOnly||c&&c.checkReadOnly())&&b in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==b)return CKEDITOR.TRISTATE_OFF;b=a.getSelection();c=b.getRanges();return b.getType()==CKEDITOR.SELECTION_NONE||1==c.length&&c[0].collapsed?
CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var p=CKEDITOR.plugins.clipboard,n=0,v=0;(function(){a.on("key",m);a.on("contentDom",b);a.on("selectionChange",u);if(a.contextMenu){a.contextMenu.addListener(function(){return{cut:q("cut"),copy:q("copy"),paste:q("paste")}});var c=null;a.on("menuShow",function(){c&&(c.removeListener(),c=null);var b=a.contextMenu.findItemByCommandName("paste");b&&b.element&&(c=b.element.on("touchend",function(){a._.forcePasteDialog=!0}))})}if(a.ui.addButton)a.once("instanceReady",
function(){a._.pasteButtons&&CKEDITOR.tools.array.forEach(a._.pasteButtons,function(b){if(b=a.ui.get(b))if(b=CKEDITOR.document.getById(b._.id))b.on("touchend",function(){a._.forcePasteDialog=!0})})})})();(function(){function b(c,e,d,g,m){var k=a.lang.clipboard[e];a.addCommand(e,d);a.ui.addButton&&a.ui.addButton(c,{label:k,command:e,toolbar:"clipboard,"+g});a.addMenuItems&&a.addMenuItem(e,{label:k,command:e,group:"clipboard",order:m})}b("Cut","cut",c("cut"),10,1);b("Copy","copy",c("copy"),20,4);b("Paste",
"paste",d(),30,8);a._.pasteButtons||(a._.pasteButtons=[]);a._.pasteButtons.push("Paste")})();a.getClipboardData=function(b,c){function e(a){a.removeListener();a.cancel();c(a.data)}function d(a){a.removeListener();a.cancel();c({type:m,dataValue:a.data.dataValue,dataTransfer:a.data.dataTransfer,method:"paste"})}var g=!1,m="auto";c||(c=b,b=null);a.on("beforePaste",function(a){a.removeListener();g=!0;m=a.data.type},null,null,1E3);a.on("paste",e,null,null,0);!1===t()&&(a.removeListener("paste",e),a._.forcePasteDialog&&
g&&a.fire("pasteDialog")?(a.on("pasteDialogCommit",d),a.on("dialogHide",function(a){a.removeListener();a.data.removeListener("pasteDialogCommit",d);a.data._.committed||c(null)})):c(null))}}function y(a){if(CKEDITOR.env.webkit){if(!a.match(/^[^<]*$/g)&&!a.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!a.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!a.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else if(CKEDITOR.env.gecko){if(!a.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}else return"html";
return"htmlifiedtext"}function z(a,b){function c(a){return CKEDITOR.tools.repeat("\x3c/p\x3e\x3cp\x3e",~~(a/2))+(1==a%2?"\x3cbr\x3e":"")}b=b.replace(/(?!\u3000)\s+/g," ").replace(/> +</g,"\x3e\x3c").replace(/<br ?\/>/gi,"\x3cbr\x3e");b=b.replace(/<\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(b.match(/^[^<]$/))return b;CKEDITOR.env.webkit&&-1<b.indexOf("\x3cdiv\x3e")&&(b=b.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"\x3cbr\x3e").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"\x3cdiv\x3e\x3c/div\x3e"),
b.match(/<div>(<br>|)<\/div>/)&&(b="\x3cp\x3e"+b.replace(/(<div>(<br>|)<\/div>)+/g,function(a){return c(a.split("\x3c/div\x3e\x3cdiv\x3e").length+1)})+"\x3c/p\x3e"),b=b.replace(/<\/div><div>/g,"\x3cbr\x3e"),b=b.replace(/<\/?div>/g,""));CKEDITOR.env.gecko&&a.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(b=b.replace(/^<br><br>$/,"\x3cbr\x3e")),-1<b.indexOf("\x3cbr\x3e\x3cbr\x3e")&&(b="\x3cp\x3e"+b.replace(/(<br>){2,}/g,function(a){return c(a.length/4)})+"\x3c/p\x3e"));return A(a,b)}function B(a){function b(){var a=
{},b;for(b in CKEDITOR.dtd)"$"!=b.charAt(0)&&"div"!=b&&"span"!=b&&(a[b]=1);return a}var c={};return{get:function(d){return"plain-text"==d?c.plainText||(c.plainText=new CKEDITOR.filter(a,"br")):"semantic-content"==d?((d=c.semanticContent)||(d=new CKEDITOR.filter(a,{}),d.allow({$1:{elements:b(),attributes:!0,styles:!1,classes:!1}}),d=c.semanticContent=d),d):d?new CKEDITOR.filter(a,d):null}}}function w(a,b,c){b=CKEDITOR.htmlParser.fragment.fromHtml(b);var d=new CKEDITOR.htmlParser.basicWriter;c.applyTo(b,
!0,!1,a.activeEnterMode);b.writeHtml(d);return d.getHtml()}function A(a,b){a.enterMode==CKEDITOR.ENTER_BR?b=b.replace(/(<\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat("\x3cbr\x3e",a.length/7*2)}).replace(/<\/?p>/g,""):a.enterMode==CKEDITOR.ENTER_DIV&&(b=b.replace(/<(\/)?p>/g,"\x3c$1div\x3e"));return b}function C(a){a.data.preventDefault();a.data.$.dataTransfer.dropEffect="none"}function D(a){var b=CKEDITOR.plugins.clipboard;a.on("contentDom",function(){function c(b,c,e){c.select();r(a,{dataTransfer:e,
method:"drop"},1);e.sourceEditor.fire("saveSnapshot");e.sourceEditor.editable().extractHtmlFromRange(b);e.sourceEditor.getSelection().selectRanges([b]);e.sourceEditor.fire("saveSnapshot")}function d(c,e){c.select();r(a,{dataTransfer:e,method:"drop"},1);b.resetDragDataTransfer()}function f(b,c,e){var d={$:b.data.$,target:b.data.getTarget()};c&&(d.dragRange=c);e&&(d.dropRange=e);!1===a.fire(b.name,d)&&b.data.preventDefault()}function h(a){a.type!=CKEDITOR.NODE_ELEMENT&&(a=a.getParent());return a.getChildCount()}
var e=a.editable(),g=CKEDITOR.plugins.clipboard.getDropTarget(a),l=a.ui.space("top"),t=a.ui.space("bottom");b.preventDefaultDropOnElement(l);b.preventDefaultDropOnElement(t);e.attachListener(g,"dragstart",f);e.attachListener(a,"dragstart",b.resetDragDataTransfer,b,null,1);e.attachListener(a,"dragstart",function(c){b.initDragDataTransfer(c,a)},null,null,2);e.attachListener(a,"dragstart",function(){var c=b.dragRange=a.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(b.dragStartContainerChildCount=
c?h(c.startContainer):null,b.dragEndContainerChildCount=c?h(c.endContainer):null)},null,null,100);e.attachListener(g,"dragend",f);e.attachListener(a,"dragend",b.initDragDataTransfer,b,null,1);e.attachListener(a,"dragend",b.resetDragDataTransfer,b,null,100);e.attachListener(g,"dragover",function(a){if(CKEDITOR.env.edge)a.data.preventDefault();else{var b=a.data.getTarget();b&&b.is&&b.is("html")?a.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&a.data.$.dataTransfer.types.contains("Files")&&
a.data.preventDefault()}});e.attachListener(g,"drop",function(c){if(!c.data.$.defaultPrevented&&(c.data.preventDefault(),!a.readOnly)){var e=c.data.getTarget();if(!e.isReadOnly()||e.type==CKEDITOR.NODE_ELEMENT&&e.is("html")){var e=b.getRangeAtDropPosition(c,a),d=b.dragRange;e&&f(c,d,e)}}},null,null,9999);e.attachListener(a,"drop",b.initDragDataTransfer,b,null,1);e.attachListener(a,"drop",function(e){if(e=e.data){var g=e.dropRange,f=e.dragRange,l=e.dataTransfer;l.getTransferType(a)==CKEDITOR.DATA_TRANSFER_INTERNAL?
setTimeout(function(){b.internalDrop(f,g,l,a)},0):l.getTransferType(a)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?c(f,g,l):d(g,l)}},null,null,9999)})}var n;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",init:function(a){function b(a){if(!a||h===a.id)return!1;var b=a.getTypes(),b=1===b.length&&"Files"===b[0];a=1===a.getFilesCount();return b&&a}var c,d=B(a);a.config.forcePasteAsPlainText?c="plain-text":a.config.pasteFilter?c=a.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in
a.config||(c="semantic-content");a.pasteFilter=d.get(c);x(a);D(a);CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js"));if(CKEDITOR.env.gecko){var f=["image/png","image/jpeg","image/gif"],h;a.on("paste",function(c){var d=c.data,l=d.dataTransfer;if(!d.dataValue&&"paste"==d.method&&b(l)&&(l=l.getFile(0),-1!=CKEDITOR.tools.indexOf(f,l.type))){var t=new FileReader;t.addEventListener("load",function(){c.data.dataValue='\x3cimg src\x3d"'+t.result+'" /\x3e';a.fire("paste",c.data)},!1);
t.addEventListener("abort",function(){a.fire("paste",c.data)},!1);t.addEventListener("error",function(){a.fire("paste",c.data)},!1);t.readAsDataURL(l);h=d.dataTransfer.id;c.stop()}},null,null,1)}a.on("paste",function(b){b.data.dataTransfer||(b.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer);if(!b.data.dataValue){var c=b.data.dataTransfer,d=c.getData("text/html");if(d)b.data.dataValue=d,b.data.type="html";else if(d=c.getData("text/plain"))b.data.dataValue=a.editable().transformPlainTextToHtml(d),
b.data.type="text"}},null,null,1);a.on("paste",function(a){var b=a.data.dataValue,c=CKEDITOR.dtd.$block;-1<b.indexOf("Apple-")&&(b=b.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=a.data.type&&(b=b.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(a,b){return b.replace(/\t/g,"\x26nbsp;\x26nbsp; \x26nbsp;")})),-1<b.indexOf('\x3cbr class\x3d"Apple-interchange-newline"\x3e')&&(a.data.startsWithEOL=1,a.data.preSniffing="html",b=b.replace(/<br class="Apple-interchange-newline">/,
"")),b=b.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1"));if(b.match(/^<[^<]+cke_(editable|contents)/i)){var d,f,h=new CKEDITOR.dom.element("div");for(h.setHtml(b);1==h.getChildCount()&&(d=h.getFirst())&&d.type==CKEDITOR.NODE_ELEMENT&&(d.hasClass("cke_editable")||d.hasClass("cke_contents"));)h=f=d;f&&(b=f.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(b,d){return d.toLowerCase()in c?(a.data.preSniffing="html","\x3c"+d):b}):CKEDITOR.env.webkit?b=b.replace(/<\/(\w+)><div><br><\/div>$/,
function(b,d){return d in c?(a.data.endsWithEOL=1,"\x3c/"+d+"\x3e"):b}):CKEDITOR.env.gecko&&(b=b.replace(/(\s)<br>$/,"$1"));a.data.dataValue=b},null,null,3);a.on("paste",function(b){b=b.data;var c=a._.nextPasteType||b.type,f=b.dataValue,h,m=a.config.clipboard_defaultContentType||"html",k=b.dataTransfer.getTransferType(a)==CKEDITOR.DATA_TRANSFER_EXTERNAL,n=!0===a.config.forcePasteAsPlainText;h="html"==c||"html"==b.preSniffing?"html":y(f);delete a._.nextPasteType;"htmlifiedtext"==h&&(f=z(a.config,f));
if("text"==c&&"html"==h)f=w(a,f,d.get("plain-text"));else if(k&&a.pasteFilter&&!b.dontFilter||n)f=w(a,f,a.pasteFilter);b.startsWithEOL&&(f='\x3cbr data-cke-eol\x3d"1"\x3e'+f);b.endsWithEOL&&(f+='\x3cbr data-cke-eol\x3d"1"\x3e');"auto"==c&&(c="html"==h||"html"==m?"html":"text");b.type=c;b.dataValue=f;delete b.preSniffing;delete b.startsWithEOL;delete b.endsWithEOL},null,null,6);a.on("paste",function(b){b=b.data;b.dataValue&&(a.insertHtml(b.dataValue,b.type,b.range),setTimeout(function(){a.fire("afterPaste")},
0))},null,null,1E3);a.on("pasteDialog",function(b){setTimeout(function(){a.openDialog("paste",b.data)},0)})}});CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:CKEDITOR.env.ie&&16>CKEDITOR.env.version||CKEDITOR.env.iOS&&605>CKEDITOR.env.version?!1:!0,isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:function(a,b,c){a.ui.addButton&&
(a.ui.addButton(b,c),a._.pasteButtons||(a._.pasteButtons=[]),a._.pasteButtons.push(b))},canClipboardApiBeTrusted:function(a,b){return a.getTransferType(b)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!a.isEmpty()||CKEDITOR.env.gecko&&(a.getData("text/html")||a.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.iOS&&605<=CKEDITOR.env.version||CKEDITOR.env.edge&&16<=CKEDITOR.env.version?!0:!1},getDropTarget:function(a){var b=a.editable();return CKEDITOR.env.ie&&
9>CKEDITOR.env.version||b.isInline()?b:a.document},fixSplitNodesAfterDrop:function(a,b,c,d){function f(a,c,d){var f=a;f.type==CKEDITOR.NODE_TEXT&&(f=a.getParent());if(f.equals(c)&&d!=c.getChildCount())return a=b.startContainer.getChild(b.startOffset-1),c=b.startContainer.getChild(b.startOffset),a&&a.type==CKEDITOR.NODE_TEXT&&c&&c.type==CKEDITOR.NODE_TEXT&&(d=a.getLength(),a.setText(a.getText()+c.getText()),c.remove(),b.setStart(a,d),b.collapse(!0)),!0}var h=b.startContainer;"number"==typeof d&&"number"==
typeof c&&h.type==CKEDITOR.NODE_ELEMENT&&(f(a.startContainer,h,c)||f(a.endContainer,h,d))},isDropRangeAffectedByDragRange:function(a,b){var c=b.startContainer,d=b.endOffset;return a.endContainer.equals(c)&&a.endOffset<=d||a.startContainer.getParent().equals(c)&&a.startContainer.getIndex()<d||a.endContainer.getParent().equals(c)&&a.endContainer.getIndex()<d?!0:!1},internalDrop:function(a,b,c,d){var f=CKEDITOR.plugins.clipboard,h=d.editable(),e,g;d.fire("saveSnapshot");d.fire("lockSnapshot",{dontUpdate:1});
CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(a,b,f.dragStartContainerChildCount,f.dragEndContainerChildCount);(g=this.isDropRangeAffectedByDragRange(a,b))||(e=a.createBookmark(!1));f=b.clone().createBookmark(!1);g&&(e=a.createBookmark(!1));a=e.startNode;b=e.endNode;g=f.startNode;b&&a.getPosition(g)&CKEDITOR.POSITION_PRECEDING&&b.getPosition(g)&CKEDITOR.POSITION_FOLLOWING&&g.insertBefore(a);a=d.createRange();a.moveToBookmark(e);h.extractHtmlFromRange(a,1);b=d.createRange();
f.startNode.getCommonAncestor(h)||(f=d.getSelection().createBookmarks()[0]);b.moveToBookmark(f);r(d,{dataTransfer:c,method:"drop",range:b},1);d.fire("unlockSnapshot")},getRangeAtDropPosition:function(a,b){var c=a.data.$,d=c.clientX,f=c.clientY,h=b.getSelection(!0).getRanges()[0],e=b.createRange();if(a.data.testRange)return a.data.testRange;if(document.caretRangeFromPoint&&b.document.$.caretRangeFromPoint(d,f))c=b.document.$.caretRangeFromPoint(d,f),e.setStart(CKEDITOR.dom.node(c.startContainer),c.startOffset),
e.collapse(!0);else if(c.rangeParent)e.setStart(CKEDITOR.dom.node(c.rangeParent),c.rangeOffset),e.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&h&&b.editable().hasFocus)return h;if(document.body.createTextRange){b.focus();c=b.document.getBody().$.createTextRange();try{for(var g=!1,l=0;20>l&&!g;l++){if(!g)try{c.moveToPoint(d,f-l),g=!0}catch(n){}if(!g)try{c.moveToPoint(d,f+l),g=!0}catch(m){}}if(g){var k="cke-temp-"+(new Date).getTime();c.pasteHTML('\x3cspan id\x3d"'+k+'"\x3e​\x3c/span\x3e');
var u=b.document.getById(k);e.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START);u.remove()}else{var q=b.document.$.elementFromPoint(d,f),p=new CKEDITOR.dom.element(q),r;if(p.equals(b.editable())||"html"==p.getName())return h&&h.startContainer&&!h.startContainer.equals(b.editable())?h:null;r=p.getClientRect();d<r.left?e.setStartAt(p,CKEDITOR.POSITION_AFTER_START):e.setStartAt(p,CKEDITOR.POSITION_BEFORE_END);e.collapse(!0)}}catch(v){return null}}else return null}return e},initDragDataTransfer:function(a,
b){var c=a.data.$?a.data.$.dataTransfer:null,d=new this.dataTransfer(c,b);"dragstart"===a.name&&d.storeId();c?this.dragData&&d.id==this.dragData.id?d=this.dragData:this.dragData=d:this.dragData?d=this.dragData:this.dragData=d;a.data.dataTransfer=d},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(a,b){if(this.isCustomCopyCutSupported){if(a&&a.data&&a.data.$){var c=a.data.$.clipboardData,d=new this.dataTransfer(c,b);"copy"!==a.name&&"cut"!==a.name||d.storeId();this.copyCutData&&
d.id==this.copyCutData.id?(d=this.copyCutData,d.$=c):this.copyCutData=d;return d}return new this.dataTransfer(null,b)}return new this.dataTransfer(CKEDITOR.env.edge&&a&&a.data.$&&a.data.$.clipboardData||null,b)},preventDefaultDropOnElement:function(a){a&&a.on("dragover",C)}};n=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text";CKEDITOR.plugins.clipboard.dataTransfer=function(a,b){a&&(this.$=a);this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\s*\x3c!--StartFragment--\x3e|\x3c!--EndFragment--\x3e\s*/g,
data:{},files:[],nativeHtmlCache:"",normalizeType:function(a){a=a.toLowerCase();return"text"==a||"text/plain"==a?"Text":"url"==a?"URL":a}};this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this);this.id=this.getData(n);this.id||(this.id="Text"==n?"":"cke-"+CKEDITOR.tools.getUniqueId());b&&(this.sourceEditor=b,this.setData("text/html",b.getSelectedHtml(1)),"Text"==n||this.getData("text/plain")||this.setData("text/plain",b.getSelection().getSelectedText()))};CKEDITOR.DATA_TRANSFER_INTERNAL=
1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(a,b){a=this._.normalizeType(a);var c="text/html"==a&&b?this._.nativeHtmlCache:this._.data[a];if(void 0===c||null===c||""===c){if(this._.fallbackDataTransfer.isRequired())c=this._.fallbackDataTransfer.getData(a,b);else try{c=this.$.getData(a)||""}catch(d){c=""}"text/html"!=a||b||(c=this._stripHtml(c))}"Text"==a&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==
c.substring(0,7)&&(c="");if("string"===typeof c)var f=c.indexOf("\x3c/html\x3e"),c=-1!==f?c.substring(0,f+7):c;return c},setData:function(a,b){a=this._.normalizeType(a);"text/html"==a?(this._.data[a]=this._stripHtml(b),this._.nativeHtmlCache=b):this._.data[a]=b;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==a||"Text"==a)if("Text"==n&&"Text"==a&&(this.id=b),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(a,b);else try{this.$.setData(a,b)}catch(c){}},storeId:function(){"Text"!==
n&&this.setData(n,this.id)},getTransferType:function(a){return this.sourceEditor?this.sourceEditor==a?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function a(a){a=b._.normalizeType(a);var c=b.getData(a);"text/html"==a&&(b._.nativeHtmlCache=b.getData(a,!0),c=b._stripHtml(c));c&&(b._.data[a]=c)}if(this.$){var b=this,c,d;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(c=0;c<this.$.types.length;c++)a(this.$.types[c])}else a("Text"),
a("URL");d=this._getImageFromClipboard();if(this.$&&this.$.files||d){this._.files=[];if(this.$.files&&this.$.files.length)for(c=0;c<this.$.files.length;c++)this._.files.push(this.$.files[c]);0===this._.files.length&&d&&this._.files.push(d)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(a){return this._.files.length?this._.files[a]:this.$&&this.$.files&&this.$.files.length?
this.$.files[a]:0===a?this._getImageFromClipboard():void 0},isEmpty:function(){var a={},b;if(this.getFilesCount())return!1;CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(this._.data),function(b){a[b]=1});if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var c=0;c<this.$.types.length;c++)a[this.$.types[c]]=1}else a.Text=1,a.URL=1;"Text"!=n&&(a[n]=0);for(b in a)if(a[b]&&""!==this.getData(b))return!1;return!0},getTypes:function(){return this.$&&this.$.types?
[].slice.call(this.$.types):[]},_getImageFromClipboard:function(){var a;try{if(this.$&&this.$.items&&this.$.items[0]&&(a=this.$.items[0].getAsFile())&&a.type)return a}catch(b){}},_stripHtml:function(a){if(a&&a.length){a=a.replace(this._.metaRegExp,"");var b=this._.bodyRegExp.exec(a);b&&b.length&&(a=b[1],a=a.replace(this._.fragmentRegExp,""))}return a}};CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(a){this._dataTransfer=a;this._customDataFallbackType="text/html"};CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=
null;CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[];CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var a=CKEDITOR.plugins.clipboard.fallbackDataTransfer,b=this._dataTransfer.$;if(null===a._isCustomMimeTypeSupported)if(b){a._isCustomMimeTypeSupported=!1;if(CKEDITOR.env.edge&&17<=CKEDITOR.env.version)return!0;try{b.setData("cke/mimetypetest","cke test value"),a._isCustomMimeTypeSupported="cke test value"===b.getData("cke/mimetypetest"),b.clearData("cke/mimetypetest")}catch(c){}}else return!1;
return!a._isCustomMimeTypeSupported},getData:function(a,b){var c=this._getData(this._customDataFallbackType,!0);if(b)return c;var c=this._extractDataComment(c),d=null,d=a===this._customDataFallbackType?c.content:c.data&&c.data[a]?c.data[a]:this._getData(a,!0);return null!==d?d:""},setData:function(a,b){var c=a===this._customDataFallbackType;c&&(b=this._applyDataComment(b,this._getFallbackTypeData()));var d=b,f=this._dataTransfer.$;try{f.setData(a,d),c&&(this._dataTransfer._.nativeHtmlCache=d)}catch(h){if(this._isUnsupportedMimeTypeError(h)){c=
CKEDITOR.plugins.clipboard.fallbackDataTransfer;-1===CKEDITOR.tools.indexOf(c._customTypes,a)&&c._customTypes.push(a);var c=this._getFallbackTypeContent(),e=this._getFallbackTypeData();e[a]=d;try{d=this._applyDataComment(c,e),f.setData(this._customDataFallbackType,d),this._dataTransfer._.nativeHtmlCache=d}catch(g){d=""}}}return d},_getData:function(a,b){var c=this._dataTransfer._.data;if(!b&&c[a])return c[a];try{return this._dataTransfer.$.getData(a)}catch(d){return null}},_getFallbackTypeContent:function(){var a=
this._dataTransfer._.data[this._customDataFallbackType];a||(a=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content);return a},_getFallbackTypeData:function(){var a=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,b=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},c=this._dataTransfer._.data;CKEDITOR.tools.array.forEach(a,function(a){void 0!==c[a]?b[a]=c[a]:void 0!==b[a]&&(b[a]=b[a])},this);return b},_isUnsupportedMimeTypeError:function(a){return a.message&&
-1!==a.message.search(/element not found/gi)},_extractDataComment:function(a){var b={data:null,content:a||""};if(a&&16<a.length){var c;(c=/\x3c!--cke-data:(.*?)--\x3e/g.exec(a))&&c[1]&&(b.data=JSON.parse(decodeURIComponent(c[1])),b.content=a.replace(c[0],""))}return b},_applyDataComment:function(a,b){var c="";b&&CKEDITOR.tools.object.keys(b).length&&(c="\x3c!--cke-data:"+encodeURIComponent(JSON.stringify(b))+"--\x3e");return c+(a&&a.length?a:"")}}})();
CKEDITOR.config.clipboard_notificationDuration=1E4;CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){function e(c){var b=this._;b.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(c),b.on?b.panel.hide():b.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(c){var b=c.panel||{};delete c.panel;this.base(c);this.document=b.parent&&b.parent.getDocument()||CKEDITOR.document;b.block={attributes:b.attributes};b.toolbarRelated=!0;this.hasArrow=
"listbox";this.click=e;this._={panelDefinition:b}},statics:{handler:{create:function(c){return new CKEDITOR.ui.panelButton(c)}}},proto:{createPanel:function(c){var b=this._;if(!b.panel){var f=this._.panelDefinition,e=this._.panelDefinition.block,h=f.parent||CKEDITOR.document.getBody(),d=this._.panel=new CKEDITOR.ui.floatPanel(c,h,f),f=d.addBlock(b.id,e),a=this,g=c.getCommand(this.command);d.onShow=function(){a.className&&this.element.addClass(a.className+"_panel");a.setState(CKEDITOR.TRISTATE_ON);
b.on=1;a.editorFocus&&c.focus();if(a.onOpen)a.onOpen()};d.onHide=function(d){a.className&&this.element.getFirst().removeClass(a.className+"_panel");!a.modes&&g?a.setStateFromCommand(g):a.setState(a.modes&&a.modes[c.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);b.on=0;if(!d&&a.onClose)a.onClose()};d.onEscape=function(){d.hide(1);a.document.getById(b.id).focus()};if(this.onBlock)this.onBlock(d,f);f.onHide=function(){b.on=0;!a.modes&&a.command?a.setStateFromCommand(g):a.setState(CKEDITOR.TRISTATE_OFF)}}},
setStateFromCommand:function(c){this.setState(c.state)}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}});CKEDITOR.UI_PANELBUTTON="panelbutton";(function(){CKEDITOR.plugins.add("panel",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL="panel";CKEDITOR.ui.panel=function(a,b){b&&CKEDITOR.tools.extend(this,b);CKEDITOR.tools.extend(this,{className:"",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=a;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(a){return new CKEDITOR.ui.panel(a)}};var g=CKEDITOR.addTemplate("panel",
'\x3cdiv lang\x3d"{langCode}" id\x3d"{id}" dir\x3d{dir} class\x3d"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style\x3d"z-index:{z-index}" role\x3d"presentation"\x3e{frame}\x3c/div\x3e'),h=CKEDITOR.addTemplate("panel-frame",'\x3ciframe id\x3d"{id}" class\x3d"cke_panel_frame" role\x3d"presentation" frameborder\x3d"0" src\x3d"{src}"\x3e\x3c/iframe\x3e'),k=CKEDITOR.addTemplate("panel-frame-inner",'\x3c!DOCTYPE html\x3e\x3chtml class\x3d"cke_panel_container {env}" dir\x3d"{dir}" lang\x3d"{langCode}"\x3e\x3chead\x3e{css}\x3c/head\x3e\x3cbody class\x3d"cke_{dir}" style\x3d"margin:0;padding:0" onload\x3d"{onload}"\x3e\x3c/body\x3e\x3c/html\x3e');
CKEDITOR.ui.panel.prototype={render:function(a,b){var e={editorId:a.id,id:this.id,langCode:a.langCode,dir:a.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":a.config.baseFloatZIndex+1};this.getHolderElement=function(){var a=this._.holder;if(!a){if(this.isFramed){var a=this.document.getById(this.id+"_frame"),b=a.getParent(),a=a.getFrameDocument();CKEDITOR.env.iOS&&b.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"});b=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=
!0;if(this.onLoad)this.onLoad()},this));a.write(k.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+b+");"},e)));a.getWindow().$.CKEDITOR=CKEDITOR;a.on("keydown",function(a){var b=a.data.getKeystroke(),c=this.document.getById(this.id).getAttribute("dir");if("input"!==a.data.getTarget().getName()||37!==b&&39!==b)this._.onKeyDown&&!1===this._.onKeyDown(b)?"input"===a.data.getTarget().getName()&&32===b||a.data.preventDefault():
(27==b||b==("rtl"==c?39:37))&&this.onEscape&&!1===this.onEscape(b)&&a.data.preventDefault()},this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(b)}else a=this.document.getById(this.id);this._.holder=a}return a};if(this.isFramed){var d=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";e.frame=h.output({id:this.id+"_frame",
src:d})}d=g.output(e);b&&b.push(d);return d},addBlock:function(a,b){b=this._.blocks[a]=b instanceof CKEDITOR.ui.panel.block?b:new CKEDITOR.ui.panel.block(this.getHolderElement(),b);this._.currentBlock||this.showBlock(a);return b},getBlock:function(a){return this._.blocks[a]},showBlock:function(a){a=this._.blocks[a];var b=this._.currentBlock,e=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");b&&b.hide();this._.currentBlock=a;CKEDITOR.fire("ariaWidget",e);a._.focusIndex=
-1;this._.onKeyDown=a.onKeyDown&&CKEDITOR.tools.bind(a.onKeyDown,a);a.show();return a},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(a,b){this.element=a.append(a.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}}));b&&CKEDITOR.tools.extend(this,b);this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||
this.attributes["aria-label"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(a){-1!=a&&(a=this._.getItems().getItem(this._.focusIndex=a),CKEDITOR.env.webkit&&a.getDocument().getWindow().focus(),a.focus(),this.onMark&&this.onMark(a))},markFirstDisplayed:function(a){for(var b=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&"none"==a.getStyle("display")},e=this._.getItems(),d,c,f=e.count()-1;0<=f;f--)if(d=e.getItem(f),d.getAscendant(b)||(c=d,this._.focusIndex=
f),"true"==d.getAttribute("aria-selected")){c=d;this._.focusIndex=f;break}c&&(a&&a(),CKEDITOR.env.webkit&&c.getDocument().getWindow().focus(),c.focus(),this.onMark&&this.onMark(c))},getItems:function(){return this.element.find("a,input")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(a,b){var e=this.keys[a];switch(e){case "next":for(var d=this._.focusIndex,e=this._.getItems(),
c;c=e.getItem(++d);)if(c.getAttribute("_cke_focus")&&c.$.offsetWidth){this._.focusIndex=d;c.focus(!0);break}return c||b?!1:(this._.focusIndex=-1,this.onKeyDown(a,1));case "prev":d=this._.focusIndex;for(e=this._.getItems();0<d&&(c=e.getItem(--d));){if(c.getAttribute("_cke_focus")&&c.$.offsetWidth){this._.focusIndex=d;c.focus(!0);break}c=null}return c||b?!1:(this._.focusIndex=e.count(),this.onKeyDown(a,1));case "click":case "mouseup":return d=this._.focusIndex,(c=0<=d&&this._.getItems().getItem(d))&&
c.fireEventHandler(e,{button:CKEDITOR.tools.normalizeMouseButton(CKEDITOR.MOUSE_BUTTON_LEFT,!0)}),!1}return!0}}})})();CKEDITOR.plugins.add("floatpanel",{requires:"panel"});
(function(){function v(a,b,c,m,h){h=CKEDITOR.tools.genKey(b.getUniqueId(),c.getUniqueId(),a.lang.dir,a.uiColor||"",m.css||"",h||"");var g=f[h];g||(g=f[h]=new CKEDITOR.ui.panel(b,m),g.element=c.append(CKEDITOR.dom.element.createFromHtml(g.render(a),b)),g.element.setStyles({display:"none",position:"absolute"}));return g}var f={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(a,b,c,m){function h(){e.hide()}c.forceIFrame=1;c.toolbarRelated&&a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&
(b=CKEDITOR.document.getById("cke_"+a.name));var g=b.getDocument();m=v(a,g,b,c,m||0);var n=m.element,l=n.getFirst(),e=this;n.disableContextMenu();this.element=n;this._={editor:a,panel:m,parentElement:b,definition:c,document:g,iframe:l,children:[],dir:a.lang.dir,showBlockParams:null,markFirst:void 0!==c.markFirst?c.markFirst:!0};a.on("mode",h);a.on("resize",h);g.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(a,b){return this._.panel.addBlock(a,b)},addListBlock:function(a,
b){return this._.panel.addListBlock(a,b)},getBlock:function(a){return this._.panel.getBlock(a)},showBlock:function(a,b,c,m,h,g){var n=this._.panel,l=n.showBlock(a);this._.showBlockParams=[].slice.call(arguments);this.allowBlur(!1);var e=this._.editor.editable();this._.returnFocus=e.hasFocus?e:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var k=this.element,e=this._.iframe,e=CKEDITOR.env.ie&&!CKEDITOR.env.edge?e:new CKEDITOR.dom.window(e.$.contentWindow),f=k.getDocument(),
r=this._.parentElement.getPositionedAncestor(),t=b.getDocumentPosition(f),f=r?r.getDocumentPosition(f):{x:0,y:0},q="rtl"==this._.dir,d=t.x+(m||0)-f.x,p=t.y+(h||0)-f.y;!q||1!=c&&4!=c?q||2!=c&&3!=c||(d+=b.$.offsetWidth-1):d+=b.$.offsetWidth;if(3==c||4==c)p+=b.$.offsetHeight-1;this._.panel._.offsetParentId=b.getId();k.setStyles({top:p+"px",left:0,display:""});k.setOpacity(0);k.getFirst().removeStyle("width");this._.editor.focusManager.add(e);this._.blurSet||(CKEDITOR.event.useCapture=!0,e.on("blur",
function(a){function u(){delete this._.returnFocus;this.hide()}this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(u,0,this)):u.call(this))},this),e.on("focus",function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(e.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),e.on("touchend",function(){this._.hideTimeout=
0;this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1);n.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&!1===this.onEscape(a))return!1},this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){var a=k;a.removeStyle("width");if(l.autoSize){var b=l.element.getDocument(),b=(CKEDITOR.env.webkit||CKEDITOR.env.edge?l.element:b.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetWidth||0)-(a.$.clientWidth||0)+3);a.setStyle("width",
b+10+"px");b=l.element.$.scrollHeight;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetHeight||0)-(a.$.clientHeight||0)+3);a.setStyle("height",b+"px");n._.currentBlock.element.setStyle("display","none").removeStyle("display")}else a.removeStyle("height");q&&(d-=k.$.offsetWidth);k.setStyle("left",d+"px");var b=n.element.getWindow(),a=k.$.getBoundingClientRect(),b=b.getViewPaneSize(),c=a.width||a.right-a.left,e=a.height||a.bottom-a.top,m=q?a.right:b.width-a.left,h=q?b.width-a.right:a.left;
q?m<c&&(d=h>c?d+c:b.width>c?d-a.left:d-a.right+b.width):m<c&&(d=h>c?d-c:b.width>c?d-a.right+b.width:d-a.left);c=a.top;b.height-a.top<e&&(p=c>e?p-e:b.height>e?p-a.bottom+b.height:p-a.top);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&((b=a=k.$.offsetParent&&new CKEDITOR.dom.element(k.$.offsetParent))&&"html"==b.getName()&&(b=b.getDocument().getBody()),b&&"rtl"==b.getComputedStyle("direction")&&(d=CKEDITOR.env.ie8Compat?d-2*k.getDocument().getDocumentElement().$.scrollLeft:d-(a.$.scrollWidth-a.$.clientWidth)));
var a=k.getFirst(),f;(f=a.getCustomData("activePanel"))&&f.onHide&&f.onHide.call(this,1);a.setCustomData("activePanel",this);k.setStyles({top:p+"px",left:d+"px"});k.setOpacity(1);g&&g()},this);n.isLoaded?a():n.onLoad=a;CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();l.element.focus();CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=a);this.allowBlur(!0);this._.markFirst&&(CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){l.markFirstDisplayed?
l.markFirstDisplayed():l._.markFirstDisplayed()},0):l.markFirstDisplayed?l.markFirstDisplayed():l._.markFirstDisplayed());this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},reposition:function(){var a=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,a))},focus:function(){if(CKEDITOR.env.webkit){var a=CKEDITOR.document.getActive();a&&!a.equals(this._.iframe)&&a.$.blur()}(this._.lastFocused||
this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var a=this._.iframe.getFrameDocument().getActive();a&&a.is("a")&&(this._.lastFocused=a)},hide:function(a){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();this.element.setStyle("display","none");this.visible=0;this.element.getFirst().removeCustomData("activePanel");if(a=a&&this._.returnFocus)CKEDITOR.env.webkit&&a.type&&a.getWindow().$.focus(),
a.focus();delete this._.lastFocused;this._.showBlockParams=null;this._.editor.fire("panelHide",this)}},allowBlur:function(a){var b=this._.panel;void 0!==a&&(b.allowBlur=a);return b.allowBlur},showAsChild:function(a,b,c,f,h,g){if(this._.activeChild!=a||a._.panel._.offsetParentId!=c.getId())this.hideChild(),a.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(b,c,f,h,g),this.blur(),
(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){a.element.getChild(0).$.style.cssText+=""},100)},hideChild:function(a){var b=this._.activeChild;b&&(delete b.onHide,delete this._.activeChild,b.hide(),a&&this.focus())}}});CKEDITOR.on("instanceDestroyed",function(){var a=CKEDITOR.tools.isEmpty(CKEDITOR.instances),b;for(b in f){var c=f[b];a?c.destroy():c.element.hide()}a&&(f={})})})();CKEDITOR.plugins.add("colorbutton",{requires:"panelbutton,floatpanel",init:function(d){function w(a){var u=a.name,f=a.type,h=a.title,v=a.order,t=a.commandName;a=a.contentTransformations||{};var p=new CKEDITOR.style(k["colorButton_"+f+"Style"]),q=CKEDITOR.tools.getNextId()+"_colorBox",r={type:f},l=new CKEDITOR.style(k["colorButton_"+f+"Style"],{color:"inherit"}),n;d.addCommand(t,{contextSensitive:!0,exec:function(a,b){if(!a.readOnly){var c=b.newStyle;a.removeStyle(l);a.focus();c&&a.applyStyle(c);a.fire("saveSnapshot")}},
refresh:function(a,b){l.checkApplicable(b,a,a.activeFilter)?l.checkActive(b,a)?this.setState(CKEDITOR.TRISTATE_ON):this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}});d.ui.add(u,CKEDITOR.UI_PANELBUTTON,{label:h,title:h,command:t,editorFocus:0,toolbar:"colors,"+v,allowedContent:p,requiredContent:p,contentTransformations:a,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":g.panelTitle}},select:function(a){var b=k.colorButton_colors.split(",");
a=CKEDITOR.tools.array.find(b,a);a=m(a);x(n,a);n._.markFirstDisplayed()},onBlock:function(a,b){n=b;b.autoSize=!0;b.element.addClass("cke_colorblock");b.element.setHtml(B({type:f,colorBoxId:q,colorData:r,commandName:t}));b.element.getDocument().getBody().setStyle("overflow","hidden");CKEDITOR.ui.fire("ready",this);var c=b.keys,e="rtl"==d.lang.dir;c[e?37:39]="next";c[40]="next";c[9]="next";c[e?39:37]="prev";c[38]="prev";c[CKEDITOR.SHIFT+9]="prev";c[32]="click"},onOpen:function(){var a=d.getSelection(),
b=a&&a.getStartElement(),c=d.elementPath(b);if(!c)return null;b=c.block||c.blockLimit||d.document.getBody();do c=b&&b.getComputedStyle("back"==f?"background-color":"color")||"transparent";while("back"==f&&"transparent"==c&&b&&(b=b.getParent()));c&&"transparent"!=c||(c="#ffffff");!1!==k.colorButton_enableAutomatic&&this._.panel._.iframe.getFrameDocument().getById(q).setStyle("background-color",c);if(b=a&&a.getRanges()[0]){for(var a=new CKEDITOR.dom.walker(b),e=b.collapsed?b.startContainer:a.next(),
b="";e;){e.type!==CKEDITOR.NODE_ELEMENT&&(e=e.getParent());e=m(e.getComputedStyle("back"==f?"background-color":"color"));b=b||e;if(b!==e){b="";break}e=a.next()}"transparent"==b&&(b="");"fore"==f&&(r.automaticTextColor="#"+m(c));r.selectionColor=b?"#"+b:"";x(n,b)}return c}})}function B(a){function u(a){a=a&&new CKEDITOR.style(n,{color:a});d.execCommand(t,{newStyle:a})}var f=a.type,h=a.colorBoxId,v=a.colorData,t=a.commandName;a=[];var p=k.colorButton_colors.split(","),q=k.colorButton_colorsPerRow||
6,r=d.plugins.colordialog&&!1!==k.colorButton_enableMore,l=p.length+(r?2:1),n=d.config["colorButton_"+f+"Style"];n.childRule="back"==f?function(a){return y(a)}:function(a){return!(a.is("a")||a.getElementsByTag("a").count())||y(a)};var m=CKEDITOR.tools.addFunction(function(a){d.focus();d.fire("saveSnapshot");"?"==a?d.getColorFromDialog(function(a){a&&u(a)},null,v):u(a&&"#"+a)});!1!==k.colorButton_enableAutomatic&&a.push('\x3ca class\x3d"cke_colorauto" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',
g.auto,'" draggable\x3d"false" ondragstart\x3d"return false;" onclick\x3d"CKEDITOR.tools.callFunction(',m,",null,'",f,"');return false;\" href\x3d\"javascript:void('",g.auto,'\')" role\x3d"option" aria-posinset\x3d"1" aria-setsize\x3d"',l,'"\x3e\x3ctable role\x3d"presentation" cellspacing\x3d0 cellpadding\x3d0 width\x3d"100%"\x3e\x3ctr\x3e\x3ctd colspan\x3d"'+q+'" align\x3d"center"\x3e\x3cspan class\x3d"cke_colorbox" id\x3d"',h,'"\x3e\x3c/span\x3e',g.auto,"\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/a\x3e");
a.push('\x3ctable role\x3d"presentation" cellspacing\x3d0 cellpadding\x3d0 width\x3d"100%"\x3e');for(h=0;h<p.length;h++){0===h%q&&a.push("\x3c/tr\x3e\x3ctr\x3e");var b=p[h].split("/"),c=b[0],e=b[1]||c;a.push('\x3ctd\x3e\x3ca class\x3d"cke_colorbox" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',b[1]?c:d.lang.colorbutton.colors[e]||e,'" draggable\x3d"false" ondragstart\x3d"return false;" onclick\x3d"CKEDITOR.tools.callFunction(',m,",'",e,"','",f,"'); return false;\" href\x3d\"javascript:void('",e,'\')" data-value\x3d"'+
e+'" role\x3d"option" aria-posinset\x3d"',h+2,'" aria-setsize\x3d"',l,'"\x3e\x3cspan class\x3d"cke_colorbox" style\x3d"background-color:#',e,'"\x3e\x3c/span\x3e\x3c/a\x3e\x3c/td\x3e')}r&&a.push('\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d"'+q+'" align\x3d"center"\x3e\x3ca class\x3d"cke_colormore" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',g.more,'" draggable\x3d"false" ondragstart\x3d"return false;" onclick\x3d"CKEDITOR.tools.callFunction(',m,",'?','",f,"');return false;\" href\x3d\"javascript:void('",
g.more,"')\"",' role\x3d"option" aria-posinset\x3d"',l,'" aria-setsize\x3d"',l,'"\x3e',g.more,"\x3c/a\x3e\x3c/td\x3e");a.push("\x3c/tr\x3e\x3c/table\x3e");return a.join("")}function y(a){return"false"==a.getAttribute("contentEditable")||a.getAttribute("data-nostyle")}function x(a,d){for(var f=a._.getItems(),h=0;h<f.count();h++){var g=f.getItem(h);g.removeAttribute("aria-selected");d&&d==m(g.getAttribute("data-value"))&&g.setAttribute("aria-selected",!0)}}function m(a){return CKEDITOR.tools.normalizeHex("#"+
CKEDITOR.tools.convertRgbToHex(a||"")).replace(/#/g,"")}var k=d.config,g=d.lang.colorbutton;if(!CKEDITOR.env.hc){w({name:"TextColor",type:"fore",commandName:"textColor",title:g.textColorTitle,order:10,contentTransformations:[[{element:"font",check:"span{color}",left:function(a){return!!a.attributes.color},right:function(a){a.name="span";a.attributes.color&&(a.styles.color=a.attributes.color);delete a.attributes.color}}]]});var z,A=d.config.colorButton_normalizeBackground;if(void 0===A||A)z=[[{element:"span",
left:function(a){var d=CKEDITOR.tools;if("span"!=a.name||!a.styles||!a.styles.background)return!1;a=d.style.parse.background(a.styles.background);return a.color&&1===d.object.keys(a).length},right:function(a){var g=(new CKEDITOR.style(d.config.colorButton_backStyle,{color:a.styles.background})).getDefinition();a.name=g.element;a.styles=g.styles;a.attributes=g.attributes||{};return a}}]];w({name:"BGColor",type:"back",commandName:"bgColor",title:g.bgColorTitle,order:20,contentTransformations:z})}}});
CKEDITOR.config.colorButton_colors="1ABC9C,2ECC71,3498DB,9B59B6,4E5F70,F1C40F,16A085,27AE60,2980B9,8E44AD,2C3E50,F39C12,E67E22,E74C3C,ECF0F1,95A5A6,DDD,FFF,D35400,C0392B,BDC3C7,7F8C8D,999,000";CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]};CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}};CKEDITOR.plugins.colordialog={requires:"dialog",init:function(b){var d=new CKEDITOR.dialogCommand("colordialog");d.editorFocus=!1;b.addCommand("colordialog",d);CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js");b.getColorFromDialog=function(d,k,g){var c,e,h,f;c=function(a){h(this);a="ok"==a.name?this.getValueOf("picker","selectedColor"):null;/^[0-9a-f]{3}([0-9a-f]{3})?$/i.test(a)&&(a="#"+a);d.call(k,a)};e=function(a){g&&(a.data=g)};h=function(a){a.removeListener("ok",c);a.removeListener("cancel",
c);a.removeListener("show",e)};f=function(a){a.on("ok",c);a.on("cancel",c);a.on("show",e,null,null,5)};b.execCommand("colordialog");if(b._.storedDialogs&&b._.storedDialogs.colordialog)f(b._.storedDialogs.colordialog);else CKEDITOR.on("dialogDefinition",function(a){if("colordialog"==a.data.name){var b=a.data.definition;a.removeListener();b.onLoad=CKEDITOR.tools.override(b.onLoad,function(a){return function(){f(this);b.onLoad=a;"function"==typeof a&&a.call(this)}})}})}}};
CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog);(function(){CKEDITOR.plugins.add("templates",{requires:"dialog",init:function(a){CKEDITOR.dialog.add("templates",CKEDITOR.getUrl(this.path+"dialogs/templates.js"));a.addCommand("templates",new CKEDITOR.dialogCommand("templates"));a.ui.addButton&&a.ui.addButton("Templates",{label:a.lang.templates.button,command:"templates",toolbar:"doctools,10"})}});var c={},f={};CKEDITOR.addTemplates=function(a,d){c[a]=d};CKEDITOR.getTemplates=function(a){return c[a]};CKEDITOR.loadTemplates=function(a,d){for(var e=
[],b=0,c=a.length;b<c;b++)f[a[b]]||(e.push(a[b]),f[a[b]]=1);e.length?CKEDITOR.scriptLoader.load(e,d):setTimeout(d,0)}})();CKEDITOR.config.templates_files=[CKEDITOR.getUrl("plugins/templates/templates/default.js")];CKEDITOR.config.templates_replaceContent=!0;CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(m){for(var k=m.config.menu_groups.split(","),n=m._.menuGroups={},r=m._.menuItems={},p=0;p<k.length;p++)n[k[p]]=p+1;m.addMenuGroup=function(c,a){n[c]=a||100};m.addMenuItem=function(c,a){n[a.group]&&(r[c]=new CKEDITOR.menuItem(this,c,a))};m.addMenuItems=function(c){for(var a in c)this.addMenuItem(a,c[a])};m.getMenuItem=function(c){return r[c]};m.removeMenuItem=function(c){delete r[c]}}});
(function(){function m(a){a.sort(function(a,f){return a.group<f.group?-1:a.group>f.group?1:a.order<f.order?-1:a.order>f.order?1:0})}var k='\x3cspan class\x3d"cke_menuitem"\x3e\x3ca id\x3d"{id}" class\x3d"cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href\x3d"{href}" title\x3d"{title}" tabindex\x3d"-1" _cke_focus\x3d1 hidefocus\x3d"true" role\x3d"{role}" aria-label\x3d"{attrLabel}" aria-describedby\x3d"{id}_description" aria-haspopup\x3d"{hasPopup}" aria-disabled\x3d"{disabled}" {ariaChecked} draggable\x3d"false"',
n="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(k+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(k+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;" ondragstart\x3d"return false;"');CKEDITOR.env.ie&&(n='return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26');var k=k+(' onmouseover\x3d"CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout\x3d"CKEDITOR.tools.callFunction({moveOutFn},{index});" onclick\x3d"'+n+'CKEDITOR.tools.callFunction({clickFn},{index}); return false;"\x3e')+
'\x3cspan class\x3d"cke_menubutton_inner"\x3e\x3cspan class\x3d"cke_menubutton_icon"\x3e\x3cspan class\x3d"cke_button_icon cke_button__{iconName}_icon" style\x3d"{iconStyle}"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"cke_menubutton_label"\x3e{label}\x3c/span\x3e{shortcutHtml}{arrowHtml}\x3c/span\x3e\x3c/a\x3e\x3cspan id\x3d"{id}_description" class\x3d"cke_voice_label" aria-hidden\x3d"false"\x3e{ariaShortcut}\x3c/span\x3e\x3c/span\x3e',r=CKEDITOR.addTemplate("menuItem",k),p=CKEDITOR.addTemplate("menuArrow",
'\x3cspan class\x3d"cke_menuarrow"\x3e\x3cspan\x3e{label}\x3c/span\x3e\x3c/span\x3e'),c=CKEDITOR.addTemplate("menuShortcut",'\x3cspan class\x3d"cke_menubutton_label cke_menubutton_shortcut"\x3e{shortcut}\x3c/span\x3e');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(a,b){b=this._.definition=b||{};this.id=CKEDITOR.tools.getNextId();this.editor=a;this.items=[];this._.listeners=[];this._.level=b.level||1;var f=CKEDITOR.tools.extend({},b.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-
1,block:{}}),c=f.block.attributes=f.attributes||{};!c.role&&(c.role="menu");this._.panelDefinition=f},_:{onShow:function(){var a=this.editor.getSelection(),b=a&&a.getStartElement(),f=this.editor.elementPath(),c=this._.listeners;this.removeAll();for(var h=0;h<c.length;h++){var l=c[h](b,a,f);if(l)for(var g in l){var e=this.editor.getMenuItem(g);!e||e.command&&!this.editor.getCommand(e.command).state||(e.state=l[g],this.add(e))}}},onClick:function(a){this.hide();if(a.onClick)a.onClick();else a.command&&
this.editor.execCommand(a.command)},onEscape:function(a){var b=this.parent;b?b._.panel.hideChild(1):27==a&&this.hide(1);return!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(a){var b=this._.subMenu,f=this.items[a];if(f=f.getItems&&f.getItems()){b?b.removeAll():(b=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),b.parent=this,b._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var c in f){var h=this.editor.getMenuItem(c);
h&&(h.state=f[c],b.add(h))}var l=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(a));setTimeout(function(){b.show(l,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(a){a.order||(a.order=this.items.length);this.items.push(a)},removeAll:function(){this.items=[]},show:function(a,b,f,c){if(!this.parent&&(this._.onShow(),!this.items.length))return;b=b||("rtl"==this.editor.lang.dir?2:1);var h=this.items,l=this.editor,g=this._.panel,e=this._.element;if(!g){g=this._.panel=
new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);g.onEscape=CKEDITOR.tools.bind(function(a){if(!1===this._.onEscape(a))return!1},this);g.onShow=function(){g._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")};g.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this);e=g.addBlock(this.id,this._.panelDefinition.block);e.autoSize=!0;var d=e.keys;d[40]="next";d[9]="next";d[38]="prev";d[CKEDITOR.SHIFT+
9]="prev";d["rtl"==l.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click";d[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(d[13]="mouseup");e=this._.element=e.element;d=e.getDocument();d.getBody().setStyle("overflow","hidden");d.getElementsByTag("html").getItem(0).setStyle("overflow","hidden");this._.itemOverFn=CKEDITOR.tools.addFunction(function(a){clearTimeout(this._.showSubTimeout);this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,l.config.menu_subMenuDelay||400,this,[a])},
this);this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this);this._.itemClickFn=CKEDITOR.tools.addFunction(function(a){var b=this.items[a];if(b.state==CKEDITOR.TRISTATE_DISABLED)this.hide(1);else if(b.getItems)this._.showSubMenu(a);else this._.onClick(b)},this)}m(h);for(var d=l.elementPath(),d=['\x3cdiv class\x3d"cke_menu'+(d&&d.direction()!=l.lang.dir?" cke_mixed_dir_content":"")+'" role\x3d"presentation"\x3e'],k=h.length,n=k&&h[0].group,p=0;p<k;p++){var q=
h[p];n!=q.group&&(d.push('\x3cdiv class\x3d"cke_menuseparator" role\x3d"separator"\x3e\x3c/div\x3e'),n=q.group);q.render(this,p,d)}d.push("\x3c/div\x3e");e.setHtml(d.join(""));CKEDITOR.ui.fire("ready",this);this.parent?this.parent._.panel.showAsChild(g,this.id,a,b,f,c):g.showBlock(this.id,a,b,f,c);l.fire("menuShow",[g])},addListener:function(a){this._.listeners.push(a)},hide:function(a){this._.onHide&&this._.onHide();this._.panel&&this._.panel.hide(a)},findItemByCommandName:function(a){var b=CKEDITOR.tools.array.filter(this.items,
function(b){return a===b.command});return b.length?(b=b[0],{item:b,element:this._.element.findOne("."+b.className)}):null}}});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(a,b,c){CKEDITOR.tools.extend(this,c,{order:0,className:"cke_menubutton__"+b});this.group=a._.menuGroups[this.group];this.editor=a;this.name=b},proto:{render:function(a,b,f){var k=a.id+String(b),h="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,l="",g=this.editor,e,d,m=h==CKEDITOR.TRISTATE_ON?"on":h==CKEDITOR.TRISTATE_DISABLED?
"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(l=' aria-checked\x3d"'+(h==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var n=this.getItems,t="\x26#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",q=this.name;this.icon&&!/\./.test(this.icon)&&(q=this.icon);this.command&&(e=g.getCommand(this.command),(e=g.getCommandKeystroke(e))&&(d=CKEDITOR.tools.keystrokeToString(g.lang.common.keyboard,e)));e=CKEDITOR.tools.htmlEncodeAttr(this.label);a={id:k,name:this.name,iconName:q,label:this.label,
attrLabel:e,cls:this.className||"",state:m,hasPopup:n?"true":"false",disabled:h==CKEDITOR.TRISTATE_DISABLED,title:e+(d?" ("+d.display+")":""),ariaShortcut:d?g.lang.common.keyboardShortcut+" "+d.aria:"",href:"javascript:void('"+(e||"").replace("'")+"')",hoverFn:a._.itemOverFn,moveOutFn:a._.itemOutFn,clickFn:a._.itemClickFn,index:b,iconStyle:CKEDITOR.skin.getIconStyle(q,"rtl"==this.editor.lang.dir,q==this.icon?null:this.icon,this.iconOffset),shortcutHtml:d?c.output({shortcut:d.display}):"",arrowHtml:n?
p.output({label:t}):"",role:this.role?this.role:"menuitem",ariaChecked:l};r.output(a,f)}}})})();CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div";CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(a){this.base.call(this,a,{panel:{css:a.config.contextmenu_contentsCss,className:"cke_menu_panel",attributes:{"aria-label":a.lang.contextmenu.options}}})},proto:{addTarget:function(a,f){function c(){e=!1}var d,e;a.on("contextmenu",function(a){a=a.data;var b=CKEDITOR.env.webkit?d:CKEDITOR.env.mac?a.$.metaKey:a.$.ctrlKey;if(!f||!b)if(a.preventDefault(),
!e){if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){var b=this.editor,c=(new CKEDITOR.dom.elementPath(a.getTarget(),b.editable())).contains(function(a){return a.hasAttribute("contenteditable")},!0);c&&"false"==c.getAttribute("contenteditable")&&b.getSelection().fake(c)}var c=a.getTarget().getDocument(),g=a.getTarget().getDocument().getDocumentElement(),b=!c.equals(CKEDITOR.document),c=c.getWindow().getScrollPosition(),h=b?a.$.clientX:a.$.pageX||c.x+a.$.clientX,k=b?a.$.clientY:a.$.pageY||c.y+a.$.clientY;
CKEDITOR.tools.setTimeout(function(){this.open(g,null,h,k)},CKEDITOR.env.ie?200:0,this)}},this);if(CKEDITOR.env.webkit){var b=function(){d=0};a.on("keydown",function(a){d=CKEDITOR.env.mac?a.data.$.metaKey:a.data.$.ctrlKey});a.on("keyup",b);a.on("contextmenu",b)}CKEDITOR.env.gecko&&!CKEDITOR.env.mac&&(a.on("keydown",function(a){a.data.$.shiftKey&&121===a.data.$.keyCode&&(e=!0)},null,null,0),a.on("keyup",c),a.on("contextmenu",c))},open:function(a,f,c,d){!1!==this.editor.config.enableContextMenu&&this.editor.getSelection().getType()!==
CKEDITOR.SELECTION_NONE&&(this.editor.focus(),a=a||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(a,f,c,d))}}})},beforeInit:function(a){var f=a.contextMenu=new CKEDITOR.plugins.contextMenu(a);a.on("contentDom",function(){f.addTarget(a.editable(),!1!==a.config.browserContextMenuOnCtrl)});a.addCommand("contextMenu",{exec:function(a){var d=0,e=0,b=a.getSelection().getRanges(),b=b[b.length-1].getClientRects(a.editable().isInline());if(b=b[b.length-1])d=b["rtl"===a.lang.dir?
"left":"right"],e=b.bottom;a.contextMenu.open(a.document.getBody().getParent(),null,d,e)}});a.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu");a.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}});(function(){function k(a,b,e,d){var c=new CKEDITOR.dom.walker(a);if(a=a.startContainer.getAscendant(b,!0)||a.endContainer.getAscendant(b,!0))if(e(a),d)return;for(;a=c.next();)if(a=a.getAscendant(b,!0))if(e(a),d)break}function u(a,b){var e={ul:"ol",ol:"ul"};return-1!==l(b,function(b){return b.element===a||b.element===e[a]})}function q(a){this.styles=null;this.sticky=!1;this.editor=a;this.filter=new CKEDITOR.filter(a,a.config.copyFormatting_allowRules);!0===a.config.copyFormatting_allowRules&&(this.filter.disabled=
!0);a.config.copyFormatting_disallowRules&&this.filter.disallow(a.config.copyFormatting_disallowRules)}var l=CKEDITOR.tools.indexOf,r=CKEDITOR.tools.getMouseButton,t=!1;CKEDITOR.plugins.add("copyformatting",{lang:"az,de,en,it,ja,nb,nl,oc,pl,pt-br,ru,sv,tr,zh,zh-cn",icons:"copyformatting",hidpi:!0,init:function(a){var b=CKEDITOR.plugins.copyformatting;b._addScreenReaderContainer();t||(CKEDITOR.document.appendStyleSheet(this.path+"styles/copyformatting.css"),t=!0);a.addContentsCss&&a.addContentsCss(this.path+
"styles/copyformatting.css");a.copyFormatting=new b.state(a);a.addCommand("copyFormatting",b.commands.copyFormatting);a.addCommand("applyFormatting",b.commands.applyFormatting);a.ui.addButton("CopyFormatting",{label:a.lang.copyformatting.label,command:"copyFormatting",toolbar:"cleanup,0"});a.on("contentDom",function(){var b=a.getCommand("copyFormatting"),d=a.editable(),c=d.isInline()?d:a.document,f=a.ui.get("CopyFormatting");d.attachListener(c,"mouseup",function(d){r(d)===CKEDITOR.MOUSE_BUTTON_LEFT&&
b.state===CKEDITOR.TRISTATE_ON&&a.execCommand("applyFormatting")});d.attachListener(CKEDITOR.document,"mouseup",function(c){r(c)!==CKEDITOR.MOUSE_BUTTON_LEFT||b.state!==CKEDITOR.TRISTATE_ON||d.contains(c.data.getTarget())||a.execCommand("copyFormatting")});f&&(c=CKEDITOR.document.getById(f._.id),d.attachListener(c,"dblclick",function(){a.execCommand("copyFormatting",{sticky:!0})}),d.attachListener(c,"mouseup",function(a){a.data.stopPropagation()}))});a.config.copyFormatting_keystrokeCopy&&a.setKeystroke(a.config.copyFormatting_keystrokeCopy,
"copyFormatting");a.on("key",function(b){var d=a.getCommand("copyFormatting");b=b.data.domEvent;b.getKeystroke&&27===b.getKeystroke()&&d.state===CKEDITOR.TRISTATE_ON&&a.execCommand("copyFormatting")});a.copyFormatting.on("extractFormatting",function(e){var d=e.data.element;if(d.contains(a.editable())||d.equals(a.editable()))return e.cancel();d=b._convertElementToStyleDef(d);if(!a.copyFormatting.filter.check(new CKEDITOR.style(d),!0,!0))return e.cancel();e.data.styleDef=d});a.copyFormatting.on("applyFormatting",
function(e){if(!e.data.preventFormatStripping){var d=e.data.range,c=b._extractStylesFromRange(a,d),f=b._determineContext(d),g,h;if(a.copyFormatting._isContextAllowed(f))for(h=0;h<c.length;h++)f=c[h],g=d.createBookmark(),-1===l(b.preservedElements,f.element)?CKEDITOR.env.webkit&&!CKEDITOR.env.chrome?c[h].removeFromRange(e.data.range,e.editor):c[h].remove(e.editor):u(f.element,e.data.styles)&&b._removeStylesFromElementInRange(d,f.element),d.moveToBookmark(g)}});a.copyFormatting.on("applyFormatting",
function(b){var d=CKEDITOR.plugins.copyformatting,c=d._determineContext(b.data.range);"list"===c&&a.copyFormatting._isContextAllowed("list")?d._applyStylesToListContext(b.editor,b.data.range,b.data.styles):"table"===c&&a.copyFormatting._isContextAllowed("table")?d._applyStylesToTableContext(b.editor,b.data.range,b.data.styles):a.copyFormatting._isContextAllowed("text")&&d._applyStylesToTextContext(b.editor,b.data.range,b.data.styles)},null,null,999)}});q.prototype._isContextAllowed=function(a){var b=
this.editor.config.copyFormatting_allowedContexts;return!0===b||-1!==l(b,a)};CKEDITOR.event.implementOn(q.prototype);CKEDITOR.plugins.copyformatting={state:q,inlineBoundary:"h1 h2 h3 h4 h5 h6 p div".split(" "),excludedAttributes:["id","style","href","data-cke-saved-href","dir"],elementsForInlineTransform:["li"],excludedElementsFromInlineTransform:["table","thead","tbody","ul","ol"],excludedAttributesFromInlineTransform:["value","type"],preservedElements:"ul ol li td th tr thead tbody table".split(" "),
breakOnElements:["ul","ol","table"],_initialKeystrokePasteCommand:null,commands:{copyFormatting:{exec:function(a,b){var e=CKEDITOR.plugins.copyformatting,d=a.copyFormatting,c=b?"keystrokeHandler"==b.from:!1,f=b?b.sticky||c:!1,g=e._getCursorContainer(a),h=CKEDITOR.document.getDocumentElement();if(this.state===CKEDITOR.TRISTATE_ON)return d.styles=null,d.sticky=!1,g.removeClass("cke_copyformatting_active"),h.removeClass("cke_copyformatting_disabled"),h.removeClass("cke_copyformatting_tableresize_cursor"),
e._putScreenReaderMessage(a,"canceled"),e._detachPasteKeystrokeHandler(a),this.setState(CKEDITOR.TRISTATE_OFF);d.styles=e._extractStylesFromElement(a,a.elementPath().lastElement);this.setState(CKEDITOR.TRISTATE_ON);c||(g.addClass("cke_copyformatting_active"),h.addClass("cke_copyformatting_tableresize_cursor"),a.config.copyFormatting_outerCursor&&h.addClass("cke_copyformatting_disabled"));d.sticky=f;e._putScreenReaderMessage(a,"copied");e._attachPasteKeystrokeHandler(a)}},applyFormatting:{editorFocus:CKEDITOR.env.ie&&
!CKEDITOR.env.edge?!1:!0,exec:function(a,b){var e=a.getCommand("copyFormatting"),d=b?"keystrokeHandler"==b.from:!1,c=CKEDITOR.plugins.copyformatting,f=a.copyFormatting,g=c._getCursorContainer(a),h=CKEDITOR.document.getDocumentElement();if(d&&!f.styles)return c._putScreenReaderMessage(a,"failed"),c._detachPasteKeystrokeHandler(a),!1;d=c._applyFormat(a,f.styles);f.sticky||(f.styles=null,g.removeClass("cke_copyformatting_active"),h.removeClass("cke_copyformatting_disabled"),h.removeClass("cke_copyformatting_tableresize_cursor"),
e.setState(CKEDITOR.TRISTATE_OFF),c._detachPasteKeystrokeHandler(a));c._putScreenReaderMessage(a,d?"applied":"canceled")}}},_getCursorContainer:function(a){return a.elementMode===CKEDITOR.ELEMENT_MODE_INLINE?a.editable():a.editable().getParent()},_convertElementToStyleDef:function(a){var b=CKEDITOR.tools,e=a.getAttributes(CKEDITOR.plugins.copyformatting.excludedAttributes),b=b.parseCssText(a.getAttribute("style"),!0,!0);return{element:a.getName(),type:CKEDITOR.STYLE_INLINE,attributes:e,styles:b}},
_extractStylesFromElement:function(a,b){var e={},d=[];do if(b.type===CKEDITOR.NODE_ELEMENT&&!b.hasAttribute("data-cke-bookmark")&&(e.element=b,a.copyFormatting.fire("extractFormatting",e,a)&&e.styleDef&&d.push(new CKEDITOR.style(e.styleDef)),b.getName&&-1!==l(CKEDITOR.plugins.copyformatting.breakOnElements,b.getName())))break;while((b=b.getParent())&&b.type===CKEDITOR.NODE_ELEMENT);return d},_extractStylesFromRange:function(a,b){for(var e=[],d=new CKEDITOR.dom.walker(b),c;c=d.next();)e=e.concat(CKEDITOR.plugins.copyformatting._extractStylesFromElement(a,
c));return e},_removeStylesFromElementInRange:function(a,b){for(var e=-1!==l(["ol","ul","table"],b),d=new CKEDITOR.dom.walker(a),c;c=d.next();)if(c=c.getAscendant(b,!0))if(c.removeAttributes(c.getAttributes()),e)break},_getSelectedWordOffset:function(a){function b(a,b){return a[b?"getPrevious":"getNext"](function(a){return a.type!==CKEDITOR.NODE_COMMENT})}function e(a){return a.type==CKEDITOR.NODE_ELEMENT?(a=a.getHtml().replace(/<span.*?>&nbsp;<\/span>/g,""),a.replace(/<.*?>/g,"")):a.getText()}function d(a,
c){var f=a,g=/\s/g,h="p br ol ul li td th div caption body".split(" "),m=!1,k=!1,p,n;do{for(p=b(f,c);!p&&f.getParent();){f=f.getParent();if(-1!==l(h,f.getName())){k=m=!0;break}p=b(f,c)}if(p&&p.getName&&-1!==l(h,p.getName())){m=!0;break}f=p}while(f&&f.getStyle&&("none"==f.getStyle("display")||!f.getText()));for(f||(f=a);f.type!==CKEDITOR.NODE_TEXT;)f=!m||c||k?f.getChild(0):f.getChild(f.getChildCount()-1);for(h=e(f);null!=(k=g.exec(h))&&(n=k.index,c););if("number"!==typeof n&&!m)return d(f,c);if(m)c?
n=0:(g=/([\.\b]*$)/,n=(k=g.exec(h))?k.index:h.length);else if(c&&(n+=1,n>h.length))return d(f);return{node:f,offset:n}}var c=/\b\w+\b/ig,f,g,h,m,k;h=m=k=a.startContainer;for(f=e(h);null!=(g=c.exec(f));)if(g.index+g[0].length>=a.startOffset)return a=g.index,c=g.index+g[0].length,0===g.index&&(g=d(h,!0),m=g.node,a=g.offset),c>=f.length&&(f=d(h),k=f.node,c=f.offset),{startNode:m,startOffset:a,endNode:k,endOffset:c};return null},_filterStyles:function(a){var b=CKEDITOR.tools.isEmpty,e=[],d,c;for(c=0;c<
a.length;c++)d=a[c]._.definition,-1!==CKEDITOR.tools.indexOf(CKEDITOR.plugins.copyformatting.inlineBoundary,d.element)&&(d.element=a[c].element="span"),"span"===d.element&&b(d.attributes)&&b(d.styles)||e.push(a[c]);return e},_determineContext:function(a){function b(b){var d=new CKEDITOR.dom.walker(a),c;if(a.startContainer.getAscendant(b,!0)||a.endContainer.getAscendant(b,!0))return!0;for(;c=d.next();)if(c.getAscendant(b,!0))return!0}return b({ul:1,ol:1})?"list":b("table")?"table":"text"},_applyStylesToTextContext:function(a,
b,e){var d=CKEDITOR.plugins.copyformatting,c=d.excludedAttributesFromInlineTransform,f,g;CKEDITOR.env.webkit&&!CKEDITOR.env.chrome&&a.getSelection().selectRanges([b]);for(f=0;f<e.length;f++)if(b=e[f],-1===l(d.excludedElementsFromInlineTransform,b.element)){if(-1!==l(d.elementsForInlineTransform,b.element))for(b.element=b._.definition.element="span",g=0;g<c.length;g++)b._.definition.attributes[c[g]]&&delete b._.definition.attributes[c[g]];b.apply(a)}},_applyStylesToListContext:function(a,b,e){var d,
c,f;for(f=0;f<e.length;f++)d=e[f],c=b.createBookmark(),"ol"===d.element||"ul"===d.element?k(b,{ul:1,ol:1},function(a){var b=d;a.getName()!==b.element&&a.renameNode(b.element);b.applyToObject(a)},!0):"li"===d.element?k(b,"li",function(a){d.applyToObject(a)}):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(a,b,[d]),b.moveToBookmark(c)},_applyStylesToTableContext:function(a,b,e){function d(a,b){a.getName()!==b.element&&(b=b.getDefinition(),b.element=a.getName(),b=new CKEDITOR.style(b));b.applyToObject(a)}
var c,f,g;for(g=0;g<e.length;g++)c=e[g],f=b.createBookmark(),-1!==l(["table","tr"],c.element)?k(b,c.element,function(a){c.applyToObject(a)}):-1!==l(["td","th"],c.element)?k(b,{td:1,th:1},function(a){d(a,c)}):-1!==l(["thead","tbody"],c.element)?k(b,{thead:1,tbody:1},function(a){d(a,c)}):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(a,b,[c]),b.moveToBookmark(f)},_applyFormat:function(a,b){var e=a.getSelection().getRanges()[0],d=CKEDITOR.plugins.copyformatting,c,f;if(!e)return!1;if(e.collapsed){f=
a.getSelection().createBookmarks();if(!(c=d._getSelectedWordOffset(e)))return;e=a.createRange();e.setStart(c.startNode,c.startOffset);e.setEnd(c.endNode,c.endOffset);e.select()}b=d._filterStyles(b);if(!a.copyFormatting.fire("applyFormatting",{styles:b,range:e,preventFormatStripping:!1},a))return!1;f&&a.getSelection().selectBookmarks(f);return!0},_putScreenReaderMessage:function(a,b){var e=this._getScreenReaderContainer();e&&e.setText(a.lang.copyformatting.notification[b])},_addScreenReaderContainer:function(){if(this._getScreenReaderContainer())return this._getScreenReaderContainer();
if(!CKEDITOR.env.ie6Compat&&!CKEDITOR.env.ie7Compat)return CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml('\x3cdiv class\x3d"cke_screen_reader_only cke_copyformatting_notification"\x3e\x3cdiv aria-live\x3d"polite"\x3e\x3c/div\x3e\x3c/div\x3e')).getChild(0)},_getScreenReaderContainer:function(){if(!CKEDITOR.env.ie6Compat&&!CKEDITOR.env.ie7Compat)return CKEDITOR.document.getBody().findOne(".cke_copyformatting_notification div[aria-live]")},_attachPasteKeystrokeHandler:function(a){var b=
a.config.copyFormatting_keystrokePaste;b&&(this._initialKeystrokePasteCommand=a.keystrokeHandler.keystrokes[b],a.setKeystroke(b,"applyFormatting"))},_detachPasteKeystrokeHandler:function(a){var b=a.config.copyFormatting_keystrokePaste;b&&a.setKeystroke(b,this._initialKeystrokePasteCommand||!1)}};CKEDITOR.config.copyFormatting_outerCursor=!0;CKEDITOR.config.copyFormatting_allowRules="b s u i em strong span p div td th ol ul li(*)[*]{*}";CKEDITOR.config.copyFormatting_disallowRules="*[data-cke-widget*,data-widget*,data-cke-realelement](cke_widget*)";
CKEDITOR.config.copyFormatting_allowedContexts=!0;CKEDITOR.config.copyFormatting_keystrokeCopy=CKEDITOR.CTRL+CKEDITOR.SHIFT+67;CKEDITOR.config.copyFormatting_keystrokePaste=CKEDITOR.CTRL+CKEDITOR.SHIFT+86})();(function(){CKEDITOR.plugins.add("div",{requires:"dialog",init:function(a){if(!a.blockless){var c=a.lang.div,b="div(*)";CKEDITOR.dialog.isTabEnabled(a,"editdiv","advanced")&&(b+=";div[dir,id,lang,title]{*}");a.addCommand("creatediv",new CKEDITOR.dialogCommand("creatediv",{allowedContent:b,requiredContent:"div",contextSensitive:!0,contentTransformations:[["div: alignmentToStyle"]],refresh:function(a,c){this.setState("div"in(a.config.div_wrapTable?c.root:c.blockLimit).getDtd()?CKEDITOR.TRISTATE_OFF:
CKEDITOR.TRISTATE_DISABLED)}}));a.addCommand("editdiv",new CKEDITOR.dialogCommand("editdiv",{requiredContent:"div"}));a.addCommand("removediv",{requiredContent:"div",exec:function(a){function c(b){(b=CKEDITOR.plugins.div.getSurroundDiv(a,b))&&!b.data("cke-div-added")&&(f.push(b),b.data("cke-div-added"))}for(var b=a.getSelection(),g=b&&b.getRanges(),e,h=b.createBookmarks(),f=[],d=0;d<g.length;d++)e=g[d],e.collapsed?c(b.getStartElement()):(e=new CKEDITOR.dom.walker(e),e.evaluator=c,e.lastForward());
for(d=0;d<f.length;d++)f[d].remove(!0);b.selectBookmarks(h)}});a.ui.addButton&&a.ui.addButton("CreateDiv",{label:c.toolbar,command:"creatediv",toolbar:"blocks,50"});a.addMenuItems&&(a.addMenuItems({editdiv:{label:c.edit,command:"editdiv",group:"div",order:1},removediv:{label:c.remove,command:"removediv",group:"div",order:5}}),a.contextMenu&&a.contextMenu.addListener(function(b){return!b||b.isReadOnly()?null:CKEDITOR.plugins.div.getSurroundDiv(a)?{editdiv:CKEDITOR.TRISTATE_OFF,removediv:CKEDITOR.TRISTATE_OFF}:
null}));CKEDITOR.dialog.add("creatediv",this.path+"dialogs/div.js");CKEDITOR.dialog.add("editdiv",this.path+"dialogs/div.js")}}});CKEDITOR.plugins.div={getSurroundDiv:function(a,c){var b=a.elementPath(c);return a.elementPath(b.blockLimit).contains(function(a){return a.is("div")&&!a.isReadOnly()},1)}}})();CKEDITOR.plugins.add("resize",{init:function(b){function f(d){var e=c.width,m=c.height,f=e+(d.data.$.screenX-n.x)*("rtl"==g?-1:1);d=m+(d.data.$.screenY-n.y);h&&(e=Math.max(a.resize_minWidth,Math.min(f,a.resize_maxWidth)));p&&(m=Math.max(a.resize_minHeight,Math.min(d,a.resize_maxHeight)));b.resize(h?e:null,m)}function k(){CKEDITOR.document.removeListener("mousemove",f);CKEDITOR.document.removeListener("mouseup",k);b.document&&(b.document.removeListener("mousemove",f),b.document.removeListener("mouseup",
k))}var a=b.config,r=b.ui.spaceId("resizer"),g=b.element?b.element.getDirection(1):"ltr";!a.resize_dir&&(a.resize_dir="vertical");void 0===a.resize_maxWidth&&(a.resize_maxWidth=3E3);void 0===a.resize_maxHeight&&(a.resize_maxHeight=3E3);void 0===a.resize_minWidth&&(a.resize_minWidth=750);void 0===a.resize_minHeight&&(a.resize_minHeight=250);if(!1!==a.resize_enabled){var l=null,n,c,h=("both"==a.resize_dir||"horizontal"==a.resize_dir)&&a.resize_minWidth!=a.resize_maxWidth,p=("both"==a.resize_dir||"vertical"==
a.resize_dir)&&a.resize_minHeight!=a.resize_maxHeight,q=CKEDITOR.tools.addFunction(function(d){l||(l=b.getResizable());c={width:l.$.offsetWidth||0,height:l.$.offsetHeight||0};n={x:d.screenX,y:d.screenY};a.resize_minWidth>c.width&&(a.resize_minWidth=c.width);a.resize_minHeight>c.height&&(a.resize_minHeight=c.height);CKEDITOR.document.on("mousemove",f);CKEDITOR.document.on("mouseup",k);b.document&&(b.document.on("mousemove",f),b.document.on("mouseup",k));d.preventDefault&&d.preventDefault()});b.on("destroy",
function(){CKEDITOR.tools.removeFunction(q)});b.on("uiSpace",function(a){if("bottom"==a.data.space){var e="";h&&!p&&(e=" cke_resizer_horizontal");!h&&p&&(e=" cke_resizer_vertical");var c='\x3cspan id\x3d"'+r+'" class\x3d"cke_resizer'+e+" cke_resizer_"+g+'" title\x3d"'+CKEDITOR.tools.htmlEncode(b.lang.common.resize)+'" onmousedown\x3d"CKEDITOR.tools.callFunction('+q+', event)"\x3e'+("ltr"==g?"◢":"◣")+"\x3c/span\x3e";"ltr"==g&&"ltr"==e?a.data.html+=c:a.data.html=c+a.data.html}},b,null,100);b.on("maximize",
function(a){b.ui.space("resizer")[a.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}});(function(){function q(a,c){function k(b){b=h.list[b];var e;b.equals(a.editable())||"true"==b.getAttribute("contenteditable")?(e=a.createRange(),e.selectNodeContents(b),e=e.select()):(e=a.getSelection(),e.selectElement(b));CKEDITOR.env.ie&&a.fire("selectionChange",{selection:e,path:new CKEDITOR.dom.elementPath(b)});a.focus()}function l(){m&&m.setHtml('\x3cspan class\x3d"cke_path_empty"\x3e\x26nbsp;\x3c/span\x3e');delete h.list}var n=a.ui.spaceId("path"),m,h=a._.elementsPath,q=h.idBase;c.html+='\x3cspan id\x3d"'+
n+'_label" class\x3d"cke_voice_label"\x3e'+a.lang.elementspath.eleLabel+'\x3c/span\x3e\x3cspan id\x3d"'+n+'" class\x3d"cke_path" role\x3d"group" aria-labelledby\x3d"'+n+'_label"\x3e\x3cspan class\x3d"cke_path_empty"\x3e\x26nbsp;\x3c/span\x3e\x3c/span\x3e';a.on("uiReady",function(){var b=a.ui.space("path");b&&a.focusManager.add(b,1)});h.onClick=k;var v=CKEDITOR.tools.addFunction(k),w=CKEDITOR.tools.addFunction(function(b,e){var g=h.idBase,d;e=new CKEDITOR.dom.event(e);d="rtl"==a.lang.dir;switch(e.getKeystroke()){case d?
39:37:case 9:return(d=CKEDITOR.document.getById(g+(b+1)))||(d=CKEDITOR.document.getById(g+"0")),d.focus(),!1;case d?37:39:case CKEDITOR.SHIFT+9:return(d=CKEDITOR.document.getById(g+(b-1)))||(d=CKEDITOR.document.getById(g+(h.list.length-1))),d.focus(),!1;case 27:return a.focus(),!1;case 13:case 32:return k(b),!1}return!0});a.on("selectionChange",function(b){for(var e=[],g=h.list=[],d=[],c=h.filters,p=!0,k=b.data.path.elements,u=k.length;u--;){var f=k[u],r=0;b=f.data("cke-display-name")?f.data("cke-display-name"):
f.data("cke-real-element-type")?f.data("cke-real-element-type"):f.getName();(p=f.hasAttribute("contenteditable")?"true"==f.getAttribute("contenteditable"):p)||f.hasAttribute("contenteditable")||(r=1);for(var t=0;t<c.length;t++){var l=c[t](f,b);if(!1===l){r=1;break}b=l||b}r||(g.unshift(f),d.unshift(b))}g=g.length;for(c=0;c<g;c++)b=d[c],p=a.lang.elementspath.eleTitle.replace(/%1/,b),b=x.output({id:q+c,label:p,text:b,jsTitle:"javascript:void('"+b+"')",index:c,keyDownFn:w,clickFn:v}),e.unshift(b);m||
(m=CKEDITOR.document.getById(n));d=m;d.setHtml(e.join("")+'\x3cspan class\x3d"cke_path_empty"\x3e\x26nbsp;\x3c/span\x3e');a.fire("elementsPathUpdate",{space:d})});a.on("readOnly",l);a.on("contentDomUnload",l);a.addCommand("elementsPathFocus",y.toolbarFocus);a.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var y={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(a){(a=CKEDITOR.document.getById(a._.elementsPath.idBase+"0"))&&a.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},c="";CKEDITOR.env.gecko&&
CKEDITOR.env.mac&&(c+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(c+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');var x=CKEDITOR.addTemplate("pathItem",'\x3ca id\x3d"{id}" href\x3d"{jsTitle}" tabindex\x3d"-1" class\x3d"cke_path_item" title\x3d"{label}"'+c+' hidefocus\x3d"true"  draggable\x3d"false"  ondragstart\x3d"return false;" onkeydown\x3d"return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick\x3d"CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role\x3d"button" aria-label\x3d"{label}"\x3e{text}\x3c/a\x3e');
CKEDITOR.plugins.add("elementspath",{init:function(a){a._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]};a.on("uiSpace",function(c){"bottom"==c.data.space&&q(a,c.data)})}})})();(function(){function x(a,e,b){b=a.config.forceEnterMode||b;if("wysiwyg"==a.mode){e||(e=a.activeEnterMode);var l=a.elementPath();l&&!l.isContextFor("p")&&(e=CKEDITOR.ENTER_BR,b=1);a.fire("saveSnapshot");e==CKEDITOR.ENTER_BR?u(a,e,null,b):r(a,e,null,b);a.fire("saveSnapshot")}}function y(a){a=a.getSelection().getRanges(!0);for(var e=a.length-1;0<e;e--)a[e].deleteContents();return a[0]}function z(a){var e=a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&"true"==a.getAttribute("contenteditable")},
!0);if(a.root.equals(e))return a;e=new CKEDITOR.dom.range(e);e.moveToRange(a);return e}CKEDITOR.plugins.add("enterkey",{init:function(a){a.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(a){x(a)}});a.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(a){x(a,a.activeShiftEnterMode,1)}});a.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var A=CKEDITOR.dom.walker.whitespaces(),B=CKEDITOR.dom.walker.bookmark(),v,u,r,w;CKEDITOR.plugins.enterkey=
{enterBlock:function(a,e,b,l){function n(a){var b;if(a===CKEDITOR.ENTER_BR||-1===CKEDITOR.tools.indexOf(["td","th"],p.lastElement.getName())||1!==p.lastElement.getChildCount())return!1;a=p.lastElement.getChild(0).clone(!0);(b=a.getBogus())&&b.remove();return a.getText().length?!1:!0}if(b=b||y(a)){b=z(b);var g=b.document,f=b.checkStartOfBlock(),k=b.checkEndOfBlock(),p=a.elementPath(b.startContainer),c=p.block,m=e==CKEDITOR.ENTER_DIV?"div":"p",d;if(c&&f&&k){f=c.getParent();if(f.is("li")&&1<f.getChildCount()){g=
new CKEDITOR.dom.element("li");d=a.createRange();g.insertAfter(f);c.remove();d.setStart(g,0);a.getSelection().selectRanges([d]);return}if(c.is("li")||c.getParent().is("li")){c.is("li")||(c=c.getParent(),f=c.getParent());d=f.getParent();b=!c.hasPrevious();var h=!c.hasNext();l=a.getSelection();var m=l.createBookmarks(),t=c.getDirection(1),k=c.getAttribute("class"),q=c.getAttribute("style"),r=d.getDirection(1)!=t;a=a.enterMode!=CKEDITOR.ENTER_BR||r||q||k;if(d.is("li"))b||h?(b&&h&&f.remove(),c[h?"insertAfter":
"insertBefore"](d)):c.breakParent(d);else{if(a)if(p.block.is("li")?(d=g.createElement(e==CKEDITOR.ENTER_P?"p":"div"),r&&d.setAttribute("dir",t),q&&d.setAttribute("style",q),k&&d.setAttribute("class",k),c.moveChildren(d)):d=p.block,b||h)d[b?"insertBefore":"insertAfter"](f);else c.breakParent(f),d.insertAfter(f);else if(c.appendBogus(!0),b||h)for(;g=c[b?"getFirst":"getLast"]();)g[b?"insertBefore":"insertAfter"](f);else for(c.breakParent(f);g=c.getLast();)g.insertAfter(f);c.remove()}l.selectBookmarks(m);
return}if(c&&c.getParent().is("blockquote")){c.breakParent(c.getParent());c.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getPrevious().remove();c.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getNext().remove();b.moveToElementEditStart(c);b.select();return}}else if(c&&c.is("pre")&&!k){u(a,e,b,l);return}if(q=b.splitBlock(m)){a=q.previousBlock;c=q.nextBlock;f=q.wasStartOfBlock;k=q.wasEndOfBlock;c?(h=c.getParent(),h.is("li")&&(c.breakParent(h),c.move(c.getNext(),1))):a&&(h=a.getParent())&&
h.is("li")&&(a.breakParent(h),h=a.getNext(),b.moveToElementEditStart(h),a.move(a.getPrevious()));if(f||k)if(n(e))b.moveToElementEditStart(b.getTouchedStartNode());else{if(a){if(a.is("li")||!w.test(a.getName())&&!a.is("pre"))d=a.clone()}else c&&(d=c.clone());d?l&&!d.is("li")&&d.renameNode(m):h&&h.is("li")?d=h:(d=g.createElement(m),a&&(t=a.getDirection())&&d.setAttribute("dir",t));if(g=q.elementPath)for(e=0,l=g.elements.length;e<l;e++){m=g.elements[e];if(m.equals(g.block)||m.equals(g.blockLimit))break;
CKEDITOR.dtd.$removeEmpty[m.getName()]&&(m=m.clone(),d.moveChildren(m),d.append(m))}d.appendBogus();d.getParent()||b.insertNode(d);d.is("li")&&d.removeAttribute("value");!CKEDITOR.env.ie||!f||k&&a.getChildCount()||(b.moveToElementEditStart(k?a:d),b.select());b.moveToElementEditStart(f&&!k?c:d)}else c.is("li")&&(d=b.clone(),d.selectNodeContents(c),d=new CKEDITOR.dom.walker(d),d.evaluator=function(a){return!(B(a)||A(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in
CKEDITOR.dtd.$empty))},(h=d.next())&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?g.createElement("br"):g.createText(" ")).insertBefore(h)),c&&b.moveToElementEditStart(c);b.select();b.scrollIntoView()}}},enterBr:function(a,e,b,l){if(b=b||y(a)){var n=b.document,g=b.checkEndOfBlock(),f=new CKEDITOR.dom.elementPath(a.getSelection().getStartElement()),k=f.block,p=k&&f.block.getName();l||"li"!=p?(!l&&g&&w.test(p)?(g=k.getDirection())?(n=n.createElement("div"),n.setAttribute("dir",
g),n.insertAfter(k),b.setStart(n,0)):(n.createElement("br").insertAfter(k),CKEDITOR.env.gecko&&n.createText("").insertAfter(k),b.setStartAt(k.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(a="pre"==p&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?n.createText("\r"):n.createElement("br"),b.deleteContents(),b.insertNode(a),CKEDITOR.env.needsBrFiller?(n.createText("﻿").insertAfter(a),g&&(k||f.blockLimit).appendBogus(),a.getNext().$.nodeValue="",b.setStartAt(a.getNext(),
CKEDITOR.POSITION_AFTER_START)):b.setStartAt(a,CKEDITOR.POSITION_AFTER_END)),b.collapse(!0),b.select(),b.scrollIntoView()):r(a,e,b,l)}}};v=CKEDITOR.plugins.enterkey;u=v.enterBr;r=v.enterBlock;w=/^h[1-6]$/})();(function(){function k(a,f){var g={},c=[],e={nbsp:" ",shy:"­",gt:"\x3e",lt:"\x3c",amp:"\x26",apos:"'",quot:'"'};a=a.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(a,b){var d=f?"\x26"+b+";":e[b];g[d]=f?e[b]:"\x26"+b+";";c.push(d);return""});a=a.replace(/,$/,"");if(!f&&a){a=a.split(",");var b=document.createElement("div"),d;b.innerHTML="\x26"+a.join(";\x26")+";";d=b.innerHTML;b=null;for(b=0;b<d.length;b++){var h=d.charAt(b);g[h]="\x26"+a[b]+";";c.push(h)}}g.regex=c.join(f?"|":"");return g}
CKEDITOR.plugins.add("entities",{afterInit:function(a){function f(b){return h[b]}function g(a){return"force"!=c.entities_processNumerical&&b[a]?b[a]:"\x26#"+a.charCodeAt(0)+";"}var c=a.config;if(a=(a=a.dataProcessor)&&a.htmlFilter){var e=[];!1!==c.basicEntities&&e.push("nbsp,gt,lt,amp");c.entities&&(e.length&&e.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),
c.entities_latin&&e.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),c.entities_greek&&e.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),
c.entities_additional&&e.push(c.entities_additional));var b=k(e.join(",")),d=b.regex?"["+b.regex+"]":"a^";delete b.regex;c.entities&&c.entities_processNumerical&&(d="[^ -~]|"+d);var d=new RegExp(d,"g"),h=k("nbsp,gt,lt,amp,shy",!0),l=new RegExp(h.regex,"g");a.addRules({text:function(a){return a.replace(l,f).replace(d,g)}},{applyToAll:!0,excludeNestedEditable:!0})}}})})();CKEDITOR.config.basicEntities=!0;CKEDITOR.config.entities=!0;CKEDITOR.config.entities_latin=!0;CKEDITOR.config.entities_greek=!0;
CKEDITOR.config.entities_additional="#39";CKEDITOR.plugins.add("popup");
CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(e,a,b,d){a=a||"80%";b=b||"70%";"string"==typeof a&&1<a.length&&"%"==a.substr(a.length-1,1)&&(a=parseInt(window.screen.width*parseInt(a,10)/100,10));"string"==typeof b&&1<b.length&&"%"==b.substr(b.length-1,1)&&(b=parseInt(window.screen.height*parseInt(b,10)/100,10));640>a&&(a=640);420>b&&(b=420);var f=parseInt((window.screen.height-b)/2,10),g=parseInt((window.screen.width-a)/2,10);d=(d||"location\x3dno,menubar\x3dno,toolbar\x3dno,dependent\x3dyes,minimizable\x3dno,modal\x3dyes,alwaysRaised\x3dyes,resizable\x3dyes,scrollbars\x3dyes")+",width\x3d"+
a+",height\x3d"+b+",top\x3d"+f+",left\x3d"+g;var c=window.open("",null,d,!0);if(!c)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(c.moveTo(g,f),c.resizeTo(a,b)),c.focus(),c.location.href=e}catch(h){window.open(e,null,d,!0)}return!0}});(function(){function k(a){this.editor=a;this.loaders=[]}function l(a,c,b){var d=a.config.fileTools_defaultFileName;this.editor=a;this.lang=a.lang;"string"===typeof c?(this.data=c,this.file=n(this.data),this.loaded=this.total=this.file.size):(this.data=null,this.file=c,this.total=this.file.size,this.loaded=0);b?this.fileName=b:this.file.name?this.fileName=this.file.name:(a=this.file.type.split("/"),d&&(a[0]=d),this.fileName=a.join("."));this.uploaded=0;this.responseData=this.uploadTotal=null;this.status=
"created";this.abort=function(){this.changeStatus("abort")}}function n(a){var c=a.match(m)[1];a=a.replace(m,"");a=atob(a);var b=[],d,f,g,e;for(d=0;d<a.length;d+=512){f=a.slice(d,d+512);g=Array(f.length);for(e=0;e<f.length;e++)g[e]=f.charCodeAt(e);f=new Uint8Array(g);b.push(f)}return new Blob(b,{type:c})}CKEDITOR.plugins.add("filetools",{beforeInit:function(a){a.uploadRepository=new k(a);a.on("fileUploadRequest",function(a){var b=a.data.fileLoader;b.xhr.open("POST",b.uploadUrl,!0);a.data.requestData.upload=
{file:b.file,name:b.fileName}},null,null,5);a.on("fileUploadRequest",function(c){var b=c.data.fileLoader,d=new FormData;c=c.data.requestData;var f=a.config.fileTools_requestHeaders,g,e;for(e in c){var h=c[e];"object"===typeof h&&h.file?d.append(e,h.file,h.name):d.append(e,h)}d.append("ckCsrfToken",CKEDITOR.tools.getCsrfToken());if(f)for(g in f)b.xhr.setRequestHeader(g,f[g]);b.xhr.send(d)},null,null,999);a.on("fileUploadResponse",function(a){var b=a.data.fileLoader,d=b.xhr,f=a.data;try{var g=JSON.parse(d.responseText);
g.error&&g.error.message&&(f.message=g.error.message);if(g.uploaded)for(var e in g)f[e]=g[e];else a.cancel()}catch(h){f.message=b.lang.filetools.responseError,CKEDITOR.warn("filetools-response-error",{responseText:d.responseText}),a.cancel()}},null,null,999)}});k.prototype={create:function(a,c,b){b=b||l;var d=this.loaders.length;a=new b(this.editor,a,c);a.id=d;this.loaders[d]=a;this.fire("instanceCreated",a);return a},isFinished:function(){for(var a=0;a<this.loaders.length;++a)if(!this.loaders[a].isFinished())return!1;
return!0}};l.prototype={loadAndUpload:function(a,c){var b=this;this.once("loaded",function(d){d.cancel();b.once("update",function(a){a.cancel()},null,null,0);b.upload(a,c)},null,null,0);this.load()},load:function(){var a=this,c=this.reader=new FileReader;a.changeStatus("loading");this.abort=function(){a.reader.abort()};c.onabort=function(){a.changeStatus("abort")};c.onerror=function(){a.message=a.lang.filetools.loadError;a.changeStatus("error")};c.onprogress=function(b){a.loaded=b.loaded;a.update()};
c.onload=function(){a.loaded=a.total;a.data=c.result;a.changeStatus("loaded")};c.readAsDataURL(this.file)},upload:function(a,c){var b=c||{};a?(this.uploadUrl=a,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire("fileUploadRequest",{fileLoader:this,requestData:b})&&this.changeStatus("uploading")):(this.message=this.lang.filetools.noUrlError,this.changeStatus("error"))},attachRequestListeners:function(){function a(){"error"!=b.status&&(b.message=b.lang.filetools.networkError,
b.changeStatus("error"))}function c(){"abort"!=b.status&&b.changeStatus("abort")}var b=this,d=this.xhr;b.abort=function(){d.abort();c()};d.onerror=a;d.onabort=c;d.upload?(d.upload.onprogress=function(a){a.lengthComputable&&(b.uploadTotal||(b.uploadTotal=a.total),b.uploaded=a.loaded,b.update())},d.upload.onerror=a,d.upload.onabort=c):(b.uploadTotal=b.total,b.update());d.onload=function(){b.update();if("abort"!=b.status)if(b.uploaded=b.uploadTotal,200>d.status||299<d.status)b.message=b.lang.filetools["httpError"+
d.status],b.message||(b.message=b.lang.filetools.httpError.replace("%1",d.status)),b.changeStatus("error");else{for(var a={fileLoader:b},c=["message","fileName","url"],e=b.editor.fire("fileUploadResponse",a),h=0;h<c.length;h++){var k=c[h];"string"===typeof a[k]&&(b[k]=a[k])}b.responseData=a;delete b.responseData.fileLoader;!1===e?b.changeStatus("error"):b.changeStatus("uploaded")}}},changeStatus:function(a){this.status=a;if("error"==a||"abort"==a||"loaded"==a||"uploaded"==a)this.abort=function(){};
this.fire(a);this.update()},update:function(){this.fire("update")},isFinished:function(){return!!this.status.match(/^(?:loaded|uploaded|error|abort)$/)}};CKEDITOR.event.implementOn(k.prototype);CKEDITOR.event.implementOn(l.prototype);var m=/^data:(\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={});CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:k,fileLoader:l,getUploadUrl:function(a,c){var b=CKEDITOR.tools.capitalize;return c&&a[c+"UploadUrl"]?a[c+"UploadUrl"]:a.uploadUrl?a.uploadUrl:
c&&a["filebrowser"+b(c,1)+"UploadUrl"]?a["filebrowser"+b(c,1)+"UploadUrl"]+"\x26responseType\x3djson":a.filebrowserUploadUrl?a.filebrowserUploadUrl+"\x26responseType\x3djson":null},isTypeSupported:function(a,c){return!!a.type.match(c)},isFileUploadSupported:"function"===typeof FileReader&&"function"===typeof(new FileReader).readAsDataURL&&"function"===typeof FormData&&"function"===typeof(new FormData).append&&"function"===typeof XMLHttpRequest&&"function"===typeof Blob})})();(function(){function g(a,b){var d=[];if(b)for(var c in b)d.push(c+"\x3d"+encodeURIComponent(b[c]));else return a;return a+(-1!=a.indexOf("?")?"\x26":"?")+d.join("\x26")}function p(a){return!a.match(/command=QuickUpload/)||a.match(/(\?|&)responseType=json/)?a:g(a,{responseType:"json"})}function k(a){a+="";return a.charAt(0).toUpperCase()+a.substr(1)}function q(){var a=this.getDialog(),b=a.getParentEditor();b._.filebrowserSe=this;var d=b.config["filebrowser"+k(a.getName())+"WindowWidth"]||b.config.filebrowserWindowWidth||
"80%",a=b.config["filebrowser"+k(a.getName())+"WindowHeight"]||b.config.filebrowserWindowHeight||"70%",c=this.filebrowser.params||{};c.CKEditor=b.name;c.CKEditorFuncNum=b._.filebrowserFn;c.langCode||(c.langCode=b.langCode);c=g(this.filebrowser.url,c);b.popup(c,d,a,b.config.filebrowserWindowFeatures||b.config.fileBrowserWindowFeatures)}function r(a){var b=new CKEDITOR.dom.element(a.$.form);b&&((a=b.$.elements.ckCsrfToken)?a=new CKEDITOR.dom.element(a):(a=new CKEDITOR.dom.element("input"),a.setAttributes({name:"ckCsrfToken",
type:"hidden"}),b.append(a)),a.setAttribute("value",CKEDITOR.tools.getCsrfToken()))}function t(){var a=this.getDialog();a.getParentEditor()._.filebrowserSe=this;return a.getContentElement(this["for"][0],this["for"][1]).getInputElement().$.value&&a.getContentElement(this["for"][0],this["for"][1]).getAction()?!0:!1}function u(a,b,d){var c=d.params||{};c.CKEditor=a.name;c.CKEditorFuncNum=a._.filebrowserFn;c.langCode||(c.langCode=a.langCode);b.action=g(d.url,c);b.filebrowser=d}function l(a,b,d,c){if(c&&
c.length)for(var e,g=c.length;g--;)if(e=c[g],"hbox"!=e.type&&"vbox"!=e.type&&"fieldset"!=e.type||l(a,b,d,e.children),e.filebrowser)if("string"==typeof e.filebrowser&&(e.filebrowser={action:"fileButton"==e.type?"QuickUpload":"Browse",target:e.filebrowser}),"Browse"==e.filebrowser.action){var f=e.filebrowser.url;void 0===f&&(f=a.config["filebrowser"+k(b)+"BrowseUrl"],void 0===f&&(f=a.config.filebrowserBrowseUrl));f&&(e.onClick=q,e.filebrowser.url=f,e.hidden=!1)}else if("QuickUpload"==e.filebrowser.action&&
e["for"]&&(f=e.filebrowser.url,void 0===f&&(f=a.config["filebrowser"+k(b)+"UploadUrl"],void 0===f&&(f=a.config.filebrowserUploadUrl)),f)){var h=e.onClick;e.onClick=function(b){var c=b.sender,d=c.getDialog().getContentElement(this["for"][0],this["for"][1]).getInputElement(),e=CKEDITOR.fileTools&&CKEDITOR.fileTools.isFileUploadSupported;if(h&&!1===h.call(c,b))return!1;if(t.call(c,b)){if("form"!==a.config.filebrowserUploadMethod&&e)return b=a.uploadRepository.create(d.$.files[0]),b.on("uploaded",function(a){var b=
a.sender.responseData;m.call(a.sender.editor,b.url,b.message)}),b.on("error",n.bind(this)),b.on("abort",n.bind(this)),b.loadAndUpload(p(f)),"xhr";r(d);return!0}return!1};e.filebrowser.url=f;e.hidden=!1;u(a,d.getContents(e["for"][0]).get(e["for"][1]),e.filebrowser)}}function n(a){var b={};try{b=JSON.parse(a.sender.xhr.response)||{}}catch(d){}this.enable();alert(b.error?b.error.message:a.sender.message)}function h(a,b,d){if(-1!==d.indexOf(";")){d=d.split(";");for(var c=0;c<d.length;c++)if(h(a,b,d[c]))return!0;
return!1}return(a=a.getContents(b).get(d).filebrowser)&&a.url}function m(a,b){var d=this._.filebrowserSe.getDialog(),c=this._.filebrowserSe["for"],e=this._.filebrowserSe.filebrowser.onSelect;c&&d.getContentElement(c[0],c[1]).reset();if("function"!=typeof b||!1!==b.call(this._.filebrowserSe))if(!e||!1!==e.call(this._.filebrowserSe,a,b))if("string"==typeof b&&b&&alert(b),a&&(c=this._.filebrowserSe,d=c.getDialog(),c=c.filebrowser.target||null))if(c=c.split(":"),e=d.getContentElement(c[0],c[1]))e.setValue(a),
d.selectPage(c[0])}CKEDITOR.plugins.add("filebrowser",{requires:"popup,filetools",init:function(a){a._.filebrowserFn=CKEDITOR.tools.addFunction(m,a);a.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}});CKEDITOR.on("dialogDefinition",function(a){if(a.editor.plugins.filebrowser)for(var b=a.data.definition,d,c=0;c<b.contents.length;++c)if(d=b.contents[c])l(a.editor,a.data.name,b,d.elements),d.hidden&&d.filebrowser&&(d.hidden=!h(b,d.id,d.filebrowser))})})();CKEDITOR.plugins.add("find",{requires:"dialog",init:function(a){var b=a.addCommand("find",new CKEDITOR.dialogCommand("find")),c=a.addCommand("replace",new CKEDITOR.dialogCommand("find",{tabId:"replace"}));b.canUndo=!1;b.readOnly=1;c.canUndo=!1;a.ui.addButton&&(a.ui.addButton("Find",{label:a.lang.find.find,command:"find",toolbar:"find,10"}),a.ui.addButton("Replace",{label:a.lang.find.replace,command:"replace",toolbar:"find,20"}));CKEDITOR.dialog.add("find",this.path+"dialogs/find.js")}});
CKEDITOR.config.find_highlight={element:"span",styles:{"background-color":"#004",color:"#fff"}};(function(){function g(a,b){var c=l.exec(a),d=l.exec(b);if(c){if(!c[2]&&"px"==d[2])return d[1];if("px"==c[2]&&!d[2])return d[1]+"px"}return b}var k=CKEDITOR.htmlParser.cssStyle,h=CKEDITOR.tools.cssLength,l=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,m={elements:{$:function(a){var b=a.attributes;if((b=(b=(b=b&&b["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(b)))&&b.children[0])&&a.attributes["data-cke-resizable"]){var c=(new k(a)).rules;a=b.attributes;var d=c.width,
c=c.height;d&&(a.width=g(a.width,d));c&&(a.height=g(a.height,c))}return b}}};CKEDITOR.plugins.add("fakeobjects",{init:function(a){a.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(a){(a=(a=a.dataProcessor)&&a.htmlFilter)&&a.addRules(m,{applyToAll:!0})}});CKEDITOR.editor.prototype.createFakeElement=function(a,b,c,d){var e=this.lang.fakeobjects,e=e[c]||e.unknown;b={"class":b,"data-cke-realelement":encodeURIComponent(a.getOuterHtml()),"data-cke-real-node-type":a.type,
alt:e,title:e,align:a.getAttribute("align")||""};CKEDITOR.env.hc||(b.src=CKEDITOR.tools.transparentImageData);c&&(b["data-cke-real-element-type"]=c);d&&(b["data-cke-resizable"]=d,c=new k,d=a.getAttribute("width"),a=a.getAttribute("height"),d&&(c.rules.width=h(d)),a&&(c.rules.height=h(a)),c.populate(b));return this.document.createElement("img",{attributes:b})};CKEDITOR.editor.prototype.createFakeParserElement=function(a,b,c,d){var e=this.lang.fakeobjects,e=e[c]||e.unknown,f;f=new CKEDITOR.htmlParser.basicWriter;
a.writeHtml(f);f=f.getHtml();b={"class":b,"data-cke-realelement":encodeURIComponent(f),"data-cke-real-node-type":a.type,alt:e,title:e,align:a.attributes.align||""};CKEDITOR.env.hc||(b.src=CKEDITOR.tools.transparentImageData);c&&(b["data-cke-real-element-type"]=c);d&&(b["data-cke-resizable"]=d,d=a.attributes,a=new k,c=d.width,d=d.height,void 0!==c&&(a.rules.width=h(c)),void 0!==d&&(a.rules.height=h(d)),a.populate(b));return new CKEDITOR.htmlParser.element("img",b)};CKEDITOR.editor.prototype.restoreRealElement=
function(a){if(a.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var b=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(a.data("cke-realelement")),this.document);if(a.data("cke-resizable")){var c=a.getStyle("width");a=a.getStyle("height");c&&b.setAttribute("width",g(b.getAttribute("width"),c));a&&b.setAttribute("height",g(b.getAttribute("height"),a))}return b}})();(function(){function d(a){a=a.attributes;return"application/x-shockwave-flash"==a.type||f.test(a.src||"")}function e(a,b){return a.createFakeParserElement(b,"cke_flash","flash",!0)}var f=/\.swf(?:$|\?)/i;CKEDITOR.plugins.add("flash",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_flash{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},
init:function(a){var b="object[classid,codebase,height,hspace,vspace,width];param[name,value];embed[height,hspace,pluginspage,src,type,vspace,width]";CKEDITOR.dialog.isTabEnabled(a,"flash","properties")&&(b+=";object[align]; embed[allowscriptaccess,quality,scale,wmode]");CKEDITOR.dialog.isTabEnabled(a,"flash","advanced")&&(b+=";object[id]{*}; embed[bgcolor]{*}(*)");a.addCommand("flash",new CKEDITOR.dialogCommand("flash",{allowedContent:b,requiredContent:"embed"}));a.ui.addButton&&a.ui.addButton("Flash",
{label:a.lang.common.flash,command:"flash",toolbar:"insert,20"});CKEDITOR.dialog.add("flash",this.path+"dialogs/flash.js");a.addMenuItems&&a.addMenuItems({flash:{label:a.lang.flash.properties,command:"flash",group:"flash"}});a.on("doubleclick",function(a){var b=a.data.element;b.is("img")&&"flash"==b.data("cke-real-element-type")&&(a.data.dialog="flash")});a.contextMenu&&a.contextMenu.addListener(function(a){if(a&&a.is("img")&&!a.isReadOnly()&&"flash"==a.data("cke-real-element-type"))return{flash:CKEDITOR.TRISTATE_OFF}})},
afterInit:function(a){var b=a.dataProcessor;(b=b&&b.dataFilter)&&b.addRules({elements:{"cke:object":function(b){var c=b.attributes;if(!(c.classid&&String(c.classid).toLowerCase()||d(b))){for(c=0;c<b.children.length;c++)if("cke:embed"==b.children[c].name){if(!d(b.children[c]))break;return e(a,b)}return null}return e(a,b)},"cke:embed":function(b){return d(b)?e(a,b):null}}},5)}})})();CKEDITOR.tools.extend(CKEDITOR.config,{flashEmbedTagOnly:!1,flashAddEmbedTag:!0,flashConvertOnEdit:!1});(function(){function k(a){var l=a.config,p=a.fire("uiSpace",{space:"top",html:""}).html,t=function(){function f(a,c,e){b.setStyle(c,w(e));b.setStyle("position",a)}function e(a){var b=k.getDocumentPosition();switch(a){case "top":f("absolute","top",b.y-q-r);break;case "pin":f("fixed","top",x);break;case "bottom":f("absolute","top",b.y+(c.height||c.bottom-c.top)+r)}m=a}var m,k,n,c,h,q,v,p=l.floatSpaceDockedOffsetX||0,r=l.floatSpaceDockedOffsetY||0,u=l.floatSpacePinnedOffsetX||0,x=l.floatSpacePinnedOffsetY||
0;return function(d){if(k=a.editable()){var f=d&&"focus"==d.name;f&&b.show();a.fire("floatingSpaceLayout",{show:f});b.removeStyle("left");b.removeStyle("right");n=b.getClientRect();c=k.getClientRect();h=g.getViewPaneSize();q=n.height;v="pageXOffset"in g.$?g.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft;m?(q+r<=c.top?e("top"):q+r>h.height-c.bottom?e("pin"):e("bottom"),d=h.width/2,d=l.floatSpacePreferRight?"right":0<c.left&&c.right<h.width&&c.width>n.width?"rtl"==l.contentsLangDirection?
"right":"left":d-c.left>c.right-d?"left":"right",n.width>h.width?(d="left",f=0):(f="left"==d?0<c.left?c.left:0:c.right<h.width?h.width-c.right:0,f+n.width>h.width&&(d="left"==d?"right":"left",f=0)),b.setStyle(d,w(("pin"==m?u:p)+f+("pin"==m?0:"left"==d?v:-v)))):(m="pin",e("pin"),t(d))}}}();if(p){var k=new CKEDITOR.template('\x3cdiv id\x3d"cke_{name}" class\x3d"cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir\x3d"{langDir}" title\x3d"'+(CKEDITOR.env.gecko?
" ":"")+'" lang\x3d"{langCode}" role\x3d"application" style\x3d"{style}"'+(a.title?' aria-labelledby\x3d"cke_{name}_arialbl"':" ")+"\x3e"+(a.title?'\x3cspan id\x3d"cke_{name}_arialbl" class\x3d"cke_voice_label"\x3e{voiceLabel}\x3c/span\x3e':" ")+'\x3cdiv class\x3d"cke_inner"\x3e\x3cdiv id\x3d"{topId}" class\x3d"cke_top" role\x3d"presentation"\x3e{content}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),b=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(k.output({content:p,id:a.id,langDir:a.lang.dir,
langCode:a.langCode,name:a.name,style:"display:none;z-index:"+(l.baseFloatZIndex-1),topId:a.ui.spaceId("top"),voiceLabel:a.title}))),u=CKEDITOR.tools.eventsBuffer(500,t),e=CKEDITOR.tools.eventsBuffer(100,t);b.unselectable();b.on("mousedown",function(a){a=a.data;a.getTarget().hasAscendant("a",1)||a.preventDefault()});a.on("focus",function(b){t(b);a.on("change",u.input);g.on("scroll",e.input);g.on("resize",e.input)});a.on("blur",function(){b.hide();a.removeListener("change",u.input);g.removeListener("scroll",
e.input);g.removeListener("resize",e.input)});a.on("destroy",function(){g.removeListener("scroll",e.input);g.removeListener("resize",e.input);b.clearCustomData();b.remove()});a.focusManager.hasFocus&&b.show();a.focusManager.add(b,1)}}var g=CKEDITOR.document.getWindow(),w=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(a){a.on("loaded",function(){k(this)},null,null,20)}})})();CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var f=CKEDITOR.addTemplate("panel-list",'\x3cul role\x3d"presentation" class\x3d"cke_panel_list"\x3e{items}\x3c/ul\x3e'),g=CKEDITOR.addTemplate("panel-list-item",'\x3cli id\x3d"{id}" class\x3d"cke_panel_listItem" role\x3dpresentation\x3e\x3ca id\x3d"{id}_option" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"{title}" draggable\x3d"false" ondragstart\x3d"return false;" href\x3d"javascript:void(\'{val}\')"  onclick\x3d"{onclick}CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role\x3d"option"\x3e{text}\x3c/a\x3e\x3c/li\x3e'),
h=CKEDITOR.addTemplate("panel-list-group",'\x3ch1 id\x3d"{id}" draggable\x3d"false" ondragstart\x3d"return false;" class\x3d"cke_panel_grouptitle" role\x3d"presentation" \x3e{label}\x3c/h1\x3e'),k=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new CKEDITOR.ui.listBlock(this.getHolderElement(),b))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(a,b){b=b||{};var c=b.attributes||(b.attributes={});(this.multiSelect=!!b.multiSelect)&&
(c["aria-multiselectable"]=!0);!c.role&&(c.role="listbox");this.base.apply(this,arguments);this.element.setAttribute("role",c.role);c=this.keys;c[40]="next";c[9]="next";c[38]="prev";c[CKEDITOR.SHIFT+9]="prev";c[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(c[13]="mouseup");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var a=f.output({items:this._.pendingList.join("")});this._.pendingList=[];this._.pendingHtml.push(a);
delete this._.started}},getClick:function(){this._.click||(this._.click=CKEDITOR.tools.addFunction(function(a){var b=this.toggle(a);if(this.onClick)this.onClick(a,b)},this));return this._.click}},proto:{add:function(a,b,c){var d=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=d;var e;e=CKEDITOR.tools.htmlEncodeAttr(a).replace(k,"\\'");a={id:d,val:e,onclick:CKEDITOR.env.ie?'return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26':
"",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(c||a),text:b||a};this._.pendingList.push(g.output(a))},startGroup:function(a){this._.close();var b=CKEDITOR.tools.getNextId();this._.groups[a]=b;this._.pendingHtml.push(h.output({id:b,label:a}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(""));delete this._.size;this._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);b?this.unmark(a):this.mark(a);return!b},hideGroup:function(a){var b=(a=
this.element.getDocument().getById(this._.groups[a]))&&a.getNext();a&&(a.setStyle("display","none"),b&&"ul"==b.getName()&&b.setStyle("display","none"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle("display","none")},showAll:function(){var a=this._.items,b=this._.groups,c=this.element.getDocument(),d;for(d in a)c.getById(a[d]).setStyle("display","");for(var e in b)a=c.getById(b[e]),d=a.getNext(),a.setStyle("display",""),d&&"ul"==d.getName()&&d.setStyle("display",
"")},mark:function(a){this.multiSelect||this.unmarkAll();a=this._.items[a];var b=this.element.getDocument().getById(a);b.addClass("cke_selected");this.element.getDocument().getById(a+"_option").setAttribute("aria-selected",!0);this.onMark&&this.onMark(b)},markFirstDisplayed:function(){var a=this;this._.markFirstDisplayed(function(){a.multiSelect||a.unmarkAll()})},unmark:function(a){var b=this.element.getDocument();a=this._.items[a];var c=b.getById(a);c.removeClass("cke_selected");b.getById(a+"_option").removeAttribute("aria-selected");
this.onUnmark&&this.onUnmark(c)},unmarkAll:function(){var a=this._.items,b=this.element.getDocument(),c;for(c in a){var d=a[c];b.getById(d).removeClass("cke_selected");b.getById(d+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass("cke_selected")},focus:function(a){this._.focusIndex=-1;var b=this.element.getElementsByTag("a"),c,d=-1;if(a)for(c=this.element.getDocument().getById(this._.items[a]).getFirst();a=
b.getItem(++d);){if(a.equals(c)){this._.focusIndex=d;break}}else this.element.focus();c&&setTimeout(function(){c.focus()},0)}}})}});CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(d){d.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}});
(function(){var d='\x3cspan id\x3d"{id}" class\x3d"cke_combo cke_combo__{name} {cls}" role\x3d"presentation"\x3e\x3cspan id\x3d"{id}_label" class\x3d"cke_combo_label"\x3e{label}\x3c/span\x3e\x3ca class\x3d"cke_combo_button" title\x3d"{title}" tabindex\x3d"-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href\x3d\"javascript:void('{titleJs}')\"")+' hidefocus\x3d"true" role\x3d"button" aria-labelledby\x3d"{id}_label" aria-haspopup\x3d"listbox"',g="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(d+=' onkeypress\x3d"return false;"');
CKEDITOR.env.gecko&&(d+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');CKEDITOR.env.ie&&(g='return false;" onmouseup\x3d"CKEDITOR.tools.getMouseButton(event)\x3d\x3dCKEDITOR.MOUSE_BUTTON_LEFT\x26\x26');var d=d+(' onkeydown\x3d"return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus\x3d"return CKEDITOR.tools.callFunction({focusFn},event);" onclick\x3d"'+g+'CKEDITOR.tools.callFunction({clickFn},this);return false;"\x3e\x3cspan id\x3d"{id}_text" class\x3d"cke_combo_text cke_combo_inlinelabel"\x3e{label}\x3c/span\x3e\x3cspan class\x3d"cke_combo_open"\x3e\x3cspan class\x3d"cke_combo_arrow"\x3e'+
(CKEDITOR.env.hc?"\x26#9660;":CKEDITOR.env.air?"\x26nbsp;":"")+"\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e\x3c/span\x3e"),m=CKEDITOR.addTemplate("combo",d);CKEDITOR.UI_RICHCOMBO="richcombo";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(a){CKEDITOR.tools.extend(this,a,{canGroup:!1,title:a.label,modes:{wysiwyg:1},editorFocus:1});a=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.className="cke_combopanel";
a.block={multiSelect:a.multiSelect,attributes:a.attributes};a.toolbarRelated=!0;this._={panelDefinition:a,items:{},listeners:[]}},proto:{renderHtml:function(a){var b=[];this.render(a,b);return b.join("")},render:function(a,b){function k(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var b=this.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;a.readOnly&&!this.readOnly&&(b=CKEDITOR.TRISTATE_DISABLED);this.setState(b);this.setValue("");b!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}
var d=CKEDITOR.env,f,e,c="cke_"+this.id,l=CKEDITOR.tools.addFunction(function(b){e&&(a.unlockSelection(1),e=0);f.execute(b)},this),h=this;f={id:c,combo:this,focus:function(){CKEDITOR.document.getById(c).getChild(1).focus()},execute:function(b){var c=h._;if(c.state!=CKEDITOR.TRISTATE_DISABLED)if(h.createPanel(a),c.on)c.panel.hide();else{h.commit();var d=h.getValue();d?c.list.mark(d):c.list.unmarkAll();c.panel.showBlock(h.id,new CKEDITOR.dom.element(b),4)}},clickFn:l};this._.listeners.push(a.on("activeFilterChange",
k,this));this._.listeners.push(a.on("mode",k,this));this._.listeners.push(a.on("selectionChange",k,this));!this.readOnly&&this._.listeners.push(a.on("readOnly",k,this));var g=CKEDITOR.tools.addFunction(function(a,b){a=new CKEDITOR.dom.event(a);var c=a.getKeystroke();switch(c){case 13:case 32:case 40:CKEDITOR.tools.callFunction(l,b);break;default:f.onkey(f,c)}a.preventDefault()}),n=CKEDITOR.tools.addFunction(function(){f.onfocus&&f.onfocus()});e=0;f.keyDownFn=g;d={id:c,name:this.name||this.command,
label:this.label,title:this.title,cls:this.className||"",titleJs:d.gecko&&!d.hc?"":(this.title||"").replace("'",""),keydownFn:g,focusFn:n,clickFn:l};m.output(d,b);if(this.onRender)this.onRender();return f},createPanel:function(a){if(!this._.panel){var b=this._.panelDefinition,d=this._.panelDefinition.block,g=b.parent||CKEDITOR.document.getBody(),f="cke_combopanel__"+this.name,e=new CKEDITOR.ui.floatPanel(a,g,b),b=e.addListBlock(this.id,d),c=this;e.onShow=function(){this.element.addClass(f);c.setState(CKEDITOR.TRISTATE_ON);
c._.on=1;c.editorFocus&&!a.focusManager.hasFocus&&a.focus();if(c.onOpen)c.onOpen()};e.onHide=function(b){this.element.removeClass(f);c.setState(c.modes&&c.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);c._.on=0;if(!b&&c.onClose)c.onClose()};e.onEscape=function(){e.hide(1)};b.onClick=function(a,b){c.onClick&&c.onClick.call(c,a,b);e.hide()};this._.panel=e;this._.list=b;e.getBlock(this.id).onHide=function(){c._.on=0;c.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(a,
b){this._.value=a;var d=this.document.getById("cke_"+this.id+"_text");d&&(a||b?d.removeClass("cke_combo_inlinelabel"):(b=this.label,d.addClass("cke_combo_inlinelabel")),d.setText("undefined"!=typeof b?b:a))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},showAll:function(){this._.list.showAll()},add:function(a,b,d){this._.items[a]=
d||a;this._.list.add(a,b,d)},startGroup:function(a){this._.list.startGroup(a)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this));this._.committed=1},setState:function(a){if(this._.state!=a){var b=this.document.getById("cke_"+this.id);b.setState(a,"cke_combo");a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute("aria-disabled",!0):b.removeAttribute("aria-disabled");this._.state=a}},getState:function(){return this._.state},enable:function(){this._.state==
CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))},destroy:function(){CKEDITOR.tools.array.forEach(this._.listeners,function(a){a.removeListener()});this._.listeners=[]},select:function(a){if(!CKEDITOR.tools.isEmpty(this._.items))for(var b in this._.items)if(a({value:b,text:this._.items[b]})){this.setValue(b);break}}},statics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});
CKEDITOR.ui.prototype.addRichCombo=function(a,b){this.add(a,CKEDITOR.UI_RICHCOMBO,b)}})();(function(){function k(a,b){var c=a.config,d=b.lang,e=new CKEDITOR.style(b.styleDefinition),f=new l({entries:b.entries,styleVariable:b.styleVariable,styleDefinition:b.styleDefinition}),g;a.addCommand(b.commandName,{exec:function(a,b){var c=b.newStyle,d=b.oldStyle,e=a.getSelection().getRanges()[0],f=void 0===c;if(d||c)if(d&&e.collapsed&&m({editor:a,range:e,style:d}),f)a.removeStyle(d);else{if(e=d)e=d instanceof CKEDITOR.style&&c instanceof CKEDITOR.style?CKEDITOR.style.getStyleText(d.getDefinition())===
CKEDITOR.style.getStyleText(c.getDefinition()):!1,e=!e;e&&a.removeStyle(d);a.applyStyle(c)}},refresh:function(a,b){e.checkApplicable(b,a,a.activeFilter)||this.setState(CKEDITOR.TRISTATE_DISABLED)}});g=a.getCommand(b.commandName);a.ui.addRichCombo(b.comboName,{label:d.label,title:d.panelTitle,command:b.commandName,toolbar:"styles,"+b.order,defaultValue:"cke-default",allowedContent:e,requiredContent:e,contentTransformations:"span"===b.styleDefinition.element?[[{element:"font",check:"span",left:function(a){return!!a.attributes.size||
!!a.attributes.align||!!a.attributes.face},right:function(a){var b=" x-small small medium large x-large xx-large 48px".split(" ");a.name="span";a.attributes.size&&(a.styles["font-size"]=b[a.attributes.size],delete a.attributes.size);a.attributes.align&&(a.styles["text-align"]=a.attributes.align,delete a.attributes.align);a.attributes.face&&(a.styles["font-family"]=a.attributes.face,delete a.attributes.face)}}]]:null,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(c.contentsCss),multiSelect:!1,
attributes:{"aria-label":d.panelTitle}},init:function(){var b="("+a.lang.common.optionDefault+")";this.startGroup(d.panelTitle);this.add(this.defaultValue,b,b);f.addToCombo(this)},onClick:function(c){var d=this.getValue();a.focus();a.fire("saveSnapshot");a.execCommand(b.commandName,{newStyle:f.getStyle(c),oldStyle:f.getStyle(d)});a.fire("saveSnapshot")},onRender:function(){a.on("selectionChange",function(c){var d=this.getValue();(c=f.getMatchingValue(a,c.data.path))?c!=d&&this.setValue(c):this.setValue("",
b.defaultLabel)},this);g.on("state",function(){this.setState(g.state)},this)},refresh:function(){this.setState(g.state)}})}function m(a){var b=a.editor,c=a.range,d=a.style,e,f,g;e=b.elementPath();if(a=e.contains(function(a){return d.checkElementRemovable(a)})){f=c.checkBoundaryOfElement(a,CKEDITOR.START);g=c.checkBoundaryOfElement(a,CKEDITOR.END);if(f&&g){for(f=c.createBookmark();e=a.getFirst();)e.insertBefore(a);a.remove();c.moveToBookmark(f)}else f||g?c.moveToPosition(a,f?CKEDITOR.POSITION_BEFORE_START:
CKEDITOR.POSITION_AFTER_END):(c.splitElement(a),c.moveToPosition(a,CKEDITOR.POSITION_AFTER_END)),h(c,e.elements.slice(),a);b.getSelection().selectRanges([c])}}function h(a,b,c){var d=b.pop();if(d){if(c)return h(a,b,d.equals(c)?null:c);c=d.clone();a.insertNode(c);a.moveToPosition(c,CKEDITOR.POSITION_AFTER_START);h(a,b)}}var l=CKEDITOR.tools.createClass({$:function(a){var b=a.entries.split(";");this._.data={};this._.names=[];for(var c=0;c<b.length;c++){var d=b[c],e,f;d?(d=d.split("/"),e=d[0],d=d[1],
f={},f[a.styleVariable]=d||e,this._.data[e]=new CKEDITOR.style(a.styleDefinition,f),this._.data[e]._.definition.name=e,this._.names.push(e)):(b.splice(c,1),c--)}},proto:{getStyle:function(a){return this._.data[a]},addToCombo:function(a){for(var b=0;b<this._.names.length;b++){var c=this._.names[b];a.add(c,this.getStyle(c).buildPreview(),c)}},getMatchingValue:function(a,b){for(var c=b.elements,d=0,e;d<c.length;d++)if(e=c[d],e=this._.findMatchingStyleName(a,e))return e;return null}},_:{findMatchingStyleName:function(a,
b){return CKEDITOR.tools.array.find(this._.names,function(c){return this.getStyle(c).checkElementMatch(b,!0,a)},this)}}});CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(a){var b=a.config;k(a,{comboName:"Font",commandName:"font",styleVariable:"family",lang:a.lang.font,entries:b.font_names,defaultLabel:b.font_defaultLabel,styleDefinition:b.font_style,order:30});k(a,{comboName:"FontSize",commandName:"fontSize",styleVariable:"size",lang:a.lang.font.fontSize,entries:b.fontSize_sizes,defaultLabel:b.fontSize_defaultLabel,
styleDefinition:b.fontSize_style,order:40})}})})();CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif";CKEDITOR.config.font_defaultLabel="";
CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]};CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px";CKEDITOR.config.fontSize_defaultLabel="";CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]};CKEDITOR.plugins.add("forms",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss(".cke_editable form{border: 1px dotted #FF0000;padding: 2px;}\n");CKEDITOR.addCss("img.cke_hidden{background-image: url("+CKEDITOR.getUrl(this.path+"images/hiddenfield.gif")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 16px !important;height: 16px !important;}")},init:function(b){var a=b.lang,g=0,h={email:1,password:1,search:1,tel:1,text:1,url:1},l={checkbox:"input[type,name,checked,required]",
radio:"input[type,name,checked,required]",textfield:"input[type,name,value,size,maxlength,required]",textarea:"textarea[cols,rows,name,required]",select:"select[name,size,multiple,required]; option[value,selected]",button:"input[type,name,value]",form:"form[action,name,id,enctype,target,method]",hiddenfield:"input[type,name,value]",imagebutton:"input[type,alt,src]{width,height,border,border-width,border-style,margin,float}"},m={checkbox:"input",radio:"input",textfield:"input",textarea:"textarea",
select:"select",button:"input",form:"form",hiddenfield:"input",imagebutton:"input"},d=function(f,c,d){var h={allowedContent:l[c],requiredContent:m[c]};"form"==c&&(h.context="form");b.addCommand(c,new CKEDITOR.dialogCommand(c,h));b.ui.addButton&&b.ui.addButton(f,{label:a.common[f.charAt(0).toLowerCase()+f.slice(1)],command:c,toolbar:"forms,"+(g+=10)});CKEDITOR.dialog.add(c,d)},e=this.path+"dialogs/";!b.blockless&&d("Form","form",e+"form.js");d("Checkbox","checkbox",e+"checkbox.js");d("Radio","radio",
e+"radio.js");d("TextField","textfield",e+"textfield.js");d("Textarea","textarea",e+"textarea.js");d("Select","select",e+"select.js");d("Button","button",e+"button.js");var k=b.plugins.image;k&&!b.plugins.image2&&d("ImageButton","imagebutton",CKEDITOR.plugins.getPath("image")+"dialogs/image.js");d("HiddenField","hiddenfield",e+"hiddenfield.js");b.addMenuItems&&(d={checkbox:{label:a.forms.checkboxAndRadio.checkboxTitle,command:"checkbox",group:"checkbox"},radio:{label:a.forms.checkboxAndRadio.radioTitle,
command:"radio",group:"radio"},textfield:{label:a.forms.textfield.title,command:"textfield",group:"textfield"},hiddenfield:{label:a.forms.hidden.title,command:"hiddenfield",group:"hiddenfield"},button:{label:a.forms.button.title,command:"button",group:"button"},select:{label:a.forms.select.title,command:"select",group:"select"},textarea:{label:a.forms.textarea.title,command:"textarea",group:"textarea"}},k&&(d.imagebutton={label:a.image.titleButton,command:"imagebutton",group:"imagebutton"}),!b.blockless&&
(d.form={label:a.forms.form.menu,command:"form",group:"form"}),b.addMenuItems(d));b.contextMenu&&(!b.blockless&&b.contextMenu.addListener(function(f,c,b){if((f=b.contains("form",1))&&!f.isReadOnly())return{form:CKEDITOR.TRISTATE_OFF}}),b.contextMenu.addListener(function(b){if(b&&!b.isReadOnly()){var c=b.getName();if("select"==c)return{select:CKEDITOR.TRISTATE_OFF};if("textarea"==c)return{textarea:CKEDITOR.TRISTATE_OFF};if("input"==c){var a=b.getAttribute("type")||"text";switch(a){case "button":case "submit":case "reset":return{button:CKEDITOR.TRISTATE_OFF};
case "checkbox":return{checkbox:CKEDITOR.TRISTATE_OFF};case "radio":return{radio:CKEDITOR.TRISTATE_OFF};case "image":return k?{imagebutton:CKEDITOR.TRISTATE_OFF}:null}if(h[a])return{textfield:CKEDITOR.TRISTATE_OFF}}if("img"==c&&"hiddenfield"==b.data("cke-real-element-type"))return{hiddenfield:CKEDITOR.TRISTATE_OFF}}}));b.on("doubleclick",function(a){var c=a.data.element;if(!b.blockless&&c.is("form"))a.data.dialog="form";else if(c.is("select"))a.data.dialog="select";else if(c.is("textarea"))a.data.dialog=
"textarea";else if(c.is("img")&&"hiddenfield"==c.data("cke-real-element-type"))a.data.dialog="hiddenfield";else if(c.is("input")){c=c.getAttribute("type")||"text";switch(c){case "button":case "submit":case "reset":a.data.dialog="button";break;case "checkbox":a.data.dialog="checkbox";break;case "radio":a.data.dialog="radio";break;case "image":a.data.dialog="imagebutton"}h[c]&&(a.data.dialog="textfield")}})},afterInit:function(b){var a=b.dataProcessor,g=a&&a.htmlFilter,a=a&&a.dataFilter;CKEDITOR.env.ie&&
g&&g.addRules({elements:{input:function(a){a=a.attributes;var b=a.type;b||(a.type="text");"checkbox"!=b&&"radio"!=b||"on"!=a.value||delete a.value}}},{applyToAll:!0});a&&a.addRules({elements:{input:function(a){if("hidden"==a.attributes.type)return b.createFakeParserElement(a,"cke_hidden","hiddenfield")}}},{applyToAll:!0})}});CKEDITOR.plugins.forms={_setupRequiredAttribute:function(b){this.setValue(b.hasAttribute("required"))}};CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(a){if(!a.blockless){for(var f=a.config,c=a.lang.format,l=f.format_tags.split(";"),d={},m=0,n=[],g=0;g<l.length;g++){var h=l[g],k=new CKEDITOR.style(f["format_"+h]);if(!a.filter.customConfig||a.filter.check(k))m++,d[h]=k,d[h]._.enterMode=a.config.enterMode,n.push(k)}0!==m&&a.ui.addRichCombo("Format",{label:c.label,title:c.panelTitle,toolbar:"styles,20",allowedContent:n,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(f.contentsCss),
multiSelect:!1,attributes:{"aria-label":c.panelTitle}},init:function(){this.startGroup(c.panelTitle);for(var a in d){var e=c["tag_"+a];this.add(a,d[a].buildPreview(e),e)}},onClick:function(b){a.focus();a.fire("saveSnapshot");b=d[b];var e=a.elementPath();b.checkActive(e,a)||a.applyStyle(b);setTimeout(function(){a.fire("saveSnapshot")},0)},onRender:function(){a.on("selectionChange",function(b){var e=this.getValue();b=b.data.path;this.refresh();for(var c in d)if(d[c].checkActive(b,a)){c!=e&&this.setValue(c,
a.lang.format["tag_"+c]);return}this.setValue("")},this)},onOpen:function(){this.showAll();for(var b in d)a.activeFilter.check(d[b])||this.hideItem(b)},refresh:function(){var b=a.elementPath();if(b){if(b.isContextFor("p"))for(var c in d)if(a.activeFilter.check(d[c]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}});CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div";CKEDITOR.config.format_p={element:"p"};CKEDITOR.config.format_div={element:"div"};CKEDITOR.config.format_pre={element:"pre"};
CKEDITOR.config.format_address={element:"address"};CKEDITOR.config.format_h1={element:"h1"};CKEDITOR.config.format_h2={element:"h2"};CKEDITOR.config.format_h3={element:"h3"};CKEDITOR.config.format_h4={element:"h4"};CKEDITOR.config.format_h5={element:"h5"};CKEDITOR.config.format_h6={element:"h6"};(function(){var b={canUndo:!1,exec:function(a){var b=a.document.createElement("hr");a.insertElement(b)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(a){a.blockless||(a.addCommand("horizontalrule",b),a.ui.addButton&&a.ui.addButton("HorizontalRule",{label:a.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})})();CKEDITOR.plugins.add("htmlwriter",{init:function(b){var a=new CKEDITOR.htmlWriter;a.forceSimpleAmpersand=b.config.forceSimpleAmpersand;a.indentationChars=b.config.dataIndentationChars||"\t";b.dataProcessor.writer=a}});
CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base();this.indentationChars="\t";this.selfClosingEnd=" /\x3e";this.lineBreakChars="\n";this.sortAttributes=1;this._.indent=0;this._.indentation="";this._.inPre=0;this._.rules={};var b=CKEDITOR.dtd,a;for(a in CKEDITOR.tools.extend({},b.$nonBodyContent,b.$block,b.$listItem,b.$tableContent))this.setRules(a,{indent:!b[a]["#"],breakBeforeOpen:1,breakBeforeClose:!b[a]["#"],breakAfterClose:1,needsSpace:a in
b.$block&&!(a in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1});this.setRules("title",{indent:0,breakAfterOpen:0});this.setRules("style",{indent:0,breakBeforeClose:1});this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(b){var a=this._.rules[b];this._.afterCloser&&a&&a.needsSpace&&this._.needsSpace&&this._.output.push("\n");this._.indent?this.indentation():a&&a.breakBeforeOpen&&(this.lineBreak(),this.indentation());this._.output.push("\x3c",b);this._.afterCloser=0},
openTagClose:function(b,a){var c=this._.rules[b];a?(this._.output.push(this.selfClosingEnd),c&&c.breakAfterClose&&(this._.needsSpace=c.needsSpace)):(this._.output.push("\x3e"),c&&c.indent&&(this._.indentation+=this.indentationChars));c&&c.breakAfterOpen&&this.lineBreak();"pre"==b&&(this._.inPre=1)},attribute:function(b,a){"string"==typeof a&&(a=CKEDITOR.tools.htmlEncodeAttr(a),this.forceSimpleAmpersand&&(a=a.replace(/&amp;/g,"\x26")));this._.output.push(" ",b,'\x3d"',a,'"')},closeTag:function(b){var a=
this._.rules[b];a&&a.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length));this._.indent?this.indentation():a&&a.breakBeforeClose&&(this.lineBreak(),this.indentation());this._.output.push("\x3c/",b,"\x3e");"pre"==b&&(this._.inPre=0);a&&a.breakAfterClose&&(this.lineBreak(),this._.needsSpace=a.needsSpace);this._.afterCloser=1},text:function(b){this._.indent&&(this.indentation(),!this._.inPre&&(b=CKEDITOR.tools.ltrim(b)));this._.output.push(b)},comment:function(b){this._.indent&&
this.indentation();this._.output.push("\x3c!--",b,"--\x3e")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars);this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation);this._.indent=0},reset:function(){this._.output=[];this._.indent=0;this._.indentation="";this._.afterCloser=0;this._.inPre=0;this._.needsSpace=0},setRules:function(b,a){var c=this._.rules[b];c?CKEDITOR.tools.extend(c,a,!0):this._.rules[b]=
a}}});(function(){CKEDITOR.plugins.add("iframe",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_iframe{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(a){var b=a.lang.iframe,c="iframe[align,longdesc,frameborder,height,name,scrolling,src,title,width]";a.plugins.dialogadvtab&&(c+=";iframe"+a.plugins.dialogadvtab.allowedContent({id:1,
classes:1,styles:1}));CKEDITOR.dialog.add("iframe",this.path+"dialogs/iframe.js");a.addCommand("iframe",new CKEDITOR.dialogCommand("iframe",{allowedContent:c,requiredContent:"iframe"}));a.ui.addButton&&a.ui.addButton("Iframe",{label:b.toolbar,command:"iframe",toolbar:"insert,80"});a.on("doubleclick",function(a){var b=a.data.element;b.is("img")&&"iframe"==b.data("cke-real-element-type")&&(a.data.dialog="iframe")});a.addMenuItems&&a.addMenuItems({iframe:{label:b.title,command:"iframe",group:"image"}});
a.contextMenu&&a.contextMenu.addListener(function(a){if(a&&a.is("img")&&"iframe"==a.data("cke-real-element-type"))return{iframe:CKEDITOR.TRISTATE_OFF}})},afterInit:function(a){var b=a.dataProcessor;(b=b&&b.dataFilter)&&b.addRules({elements:{iframe:function(b){return a.createFakeParserElement(b,"cke_iframe","iframe",!0)}}})}})})();(function(){function m(a){function e(a){var b=!1;g.attachListener(g,"keydown",function(){var d=c.getBody().getElementsByTag(a);if(!b){for(var f=0;f<d.count();f++)d.getItem(f).setCustomData("retain",!0);b=!0}},null,null,1);g.attachListener(g,"keyup",function(){var d=c.getElementsByTag(a);b&&(1==d.count()&&!d.getItem(0).getCustomData("retain")&&CKEDITOR.tools.isEmpty(d.getItem(0).getAttributes())&&d.getItem(0).remove(1),b=!1)})}var b=this.editor;if(b&&!b.isDetached()){var c=a.document,d=c.body,f=c.getElementById("cke_actscrpt");
f&&f.parentNode.removeChild(f);(f=c.getElementById("cke_shimscrpt"))&&f.parentNode.removeChild(f);(f=c.getElementById("cke_basetagscrpt"))&&f.parentNode.removeChild(f);d.contentEditable=!0;CKEDITOR.env.ie&&(d.hideFocus=!0,d.disabled=!0,d.removeAttribute("disabled"));delete this._.isLoadingData;this.$=d;c=new CKEDITOR.dom.document(c);this.setup();this.fixInitialSelection();var g=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&c.getDocumentElement().addClass(c.$.compatMode);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&
b.enterMode!=CKEDITOR.ENTER_P?e("p"):CKEDITOR.env.edge&&15>CKEDITOR.env.version&&b.enterMode!=CKEDITOR.ENTER_DIV&&e("div");if(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)c.getDocumentElement().on("mousedown",function(a){a.data.getTarget().is("html")&&setTimeout(function(){b.editable().focus()})});n(b);try{b.document.$.execCommand("2D-position",!1,!0)}catch(h){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==b.document.$.compatMode)&&this.attachListener(this,"keydown",function(a){var c=
a.data.getKeystroke();if(33==c||34==c)if(CKEDITOR.env.ie)setTimeout(function(){b.getSelection().scrollIntoView()},0);else if(b.window.$.innerHeight>this.$.offsetHeight){var d=b.createRange();d[33==c?"moveToElementEditStart":"moveToElementEditEnd"](this);d.select();a.data.preventDefault()}});CKEDITOR.env.ie&&this.attachListener(c,"blur",function(){try{c.$.selection.empty()}catch(a){}});CKEDITOR.env.iOS&&this.attachListener(c,"touchend",function(){a.focus()});d=b.document.getElementsByTag("title").getItem(0);
d.data("cke-title",d.getText());CKEDITOR.env.ie&&(b.document.$.title=this._.docTitle);CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready");b.fire("contentDom");this._.isPendingFocus&&(b.focus(),this._.isPendingFocus=!1);setTimeout(function(){b.fire("dataReady")},0)},0,this)}}function n(a){function e(){var c;a.editable().attachListener(a,"selectionChange",function(){var d=a.getSelection().getSelectedElement();d&&(c&&(c.detachEvent("onresizestart",b),c=null),d.$.attachEvent("onresizestart",
b),c=d.$)})}function b(a){a.returnValue=!1}if(CKEDITOR.env.gecko)try{var c=a.document.$;c.execCommand("enableObjectResizing",!1,!a.config.disableObjectResizing);c.execCommand("enableInlineTableEditing",!1,!a.config.disableNativeTableHandles)}catch(d){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&a.config.disableObjectResizing&&e(a)}function p(){var a=[];if(8<=CKEDITOR.document.$.documentMode){a.push("html.CSS1Compat [contenteditable\x3dfalse]{min-height:0 !important}");var e=[],b;for(b in CKEDITOR.dtd.$removeEmpty)e.push("html.CSS1Compat "+
b+"[contenteditable\x3dfalse]");a.push(e.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(a.push("html{height:100% !important}"),a.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));a.push("html{cursor:text;*cursor:auto}");a.push("img,input,textarea{cursor:default}");return a.join("\n")}var l;CKEDITOR.plugins.add("wysiwygarea",{init:function(a){a.config.fullPage&&a.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",
requiredContent:"body"});a.addMode("wysiwyg",function(e){function b(b){b&&b.removeListener();a.isDestroyed()||a.isDetached()||(a.editable(new l(a,d.$.contentWindow.document.body)),a.setData(a.getData(1),e))}var c="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",c=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(c)+"}())":"",d=CKEDITOR.dom.element.createFromHtml('\x3ciframe src\x3d"'+
c+'" frameBorder\x3d"0"\x3e\x3c/iframe\x3e');d.setStyles({width:"100%",height:"100%"});d.addClass("cke_wysiwyg_frame").addClass("cke_reset");c=a.ui.space("contents");c.append(d);var f=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;if(f)d.on("load",b);var g=a.title,h=a.fire("ariaEditorHelpLabel",{}).label;g&&(CKEDITOR.env.ie&&h&&(g+=", "+h),d.setAttribute("title",g));if(h){var g=CKEDITOR.tools.getNextId(),k=CKEDITOR.dom.element.createFromHtml('\x3cspan id\x3d"'+g+'" class\x3d"cke_voice_label"\x3e'+
h+"\x3c/span\x3e");c.append(k,1);d.setAttribute("aria-describedby",g)}a.on("beforeModeUnload",function(a){a.removeListener();k&&k.remove()});d.setAttributes({tabIndex:a.tabIndex,allowTransparency:"true"});!f&&b();a.fire("ariaWidget",d)})}});CKEDITOR.editor.prototype.addContentsCss=function(a){var e=this.config,b=e.contentsCss;CKEDITOR.tools.isArray(b)||(e.contentsCss=b?[b]:[]);e.contentsCss.push(a)};l=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments);this._.frameLoadedHandler=
CKEDITOR.tools.addFunction(function(a){CKEDITOR.tools.setTimeout(m,0,this,a)},this);this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(a,e){var b=this.editor;if(e)this.setHtml(a),this.fixInitialSelection(),b.fire("dataReady");else{this._.isLoadingData=!0;b._.dataStore={id:1};var c=b.config,d=c.fullPage,f=c.docType,g=CKEDITOR.tools.buildStyleHtml(p()).replace(/<style>/,'\x3cstyle data-cke-temp\x3d"1"\x3e');d||(g+=CKEDITOR.tools.buildStyleHtml(b.config.contentsCss));
var h=c.baseHref?'\x3cbase href\x3d"'+c.baseHref+'" data-cke-temp\x3d"1" /\x3e':"";d&&(a=a.replace(/<!DOCTYPE[^>]*>/i,function(a){b.docType=f=a;return""}).replace(/<\?xml\s[^\?]*\?>/i,function(a){b.xmlDeclaration=a;return""}));a=b.dataProcessor.toHtml(a);d?(/<body[\s|>]/.test(a)||(a="\x3cbody\x3e"+a),/<html[\s|>]/.test(a)||(a="\x3chtml\x3e"+a+"\x3c/html\x3e"),/<head[\s|>]/.test(a)?/<title[\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,"$\x26\x3ctitle\x3e\x3c/title\x3e")):a=a.replace(/<html[^>]*>/,"$\x26\x3chead\x3e\x3ctitle\x3e\x3c/title\x3e\x3c/head\x3e"),
h&&(a=a.replace(/<head[^>]*?>/,"$\x26"+h)),a=a.replace(/<\/head\s*>/,g+"$\x26"),a=f+a):a=c.docType+'\x3chtml dir\x3d"'+c.contentsLangDirection+'" lang\x3d"'+(c.contentsLanguage||b.langCode)+'"\x3e\x3chead\x3e\x3ctitle\x3e'+this._.docTitle+"\x3c/title\x3e"+h+g+"\x3c/head\x3e\x3cbody"+(c.bodyId?' id\x3d"'+c.bodyId+'"':"")+(c.bodyClass?' class\x3d"'+c.bodyClass+'"':"")+"\x3e"+a+"\x3c/body\x3e\x3c/html\x3e";CKEDITOR.env.gecko&&(a=a.replace(/<body/,'\x3cbody contenteditable\x3d"true" '),2E4>CKEDITOR.env.version&&
(a=a.replace(/<body[^>]*>/,"$\x26\x3c!-- cke-content-start --\x3e")));c='\x3cscript id\x3d"cke_actscrpt" type\x3d"text/javascript"'+(CKEDITOR.env.ie?' defer\x3d"defer" ':"")+"\x3evar wasLoaded\x3d0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded\x3d1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"\x3c/script\x3e";CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(c+='\x3cscript id\x3d"cke_shimscrpt"\x3ewindow.parent.CKEDITOR.tools.enableHtml5Elements(document)\x3c/script\x3e');
h&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(c+='\x3cscript id\x3d"cke_basetagscrpt"\x3evar baseTag \x3d document.querySelector( "base" );baseTag.href \x3d baseTag.href;\x3c/script\x3e');a=a.replace(/(?=\s*<\/(:?head)>)/,c);this.clearCustomData();this.clearListeners();b.fire("contentDomUnload");var k=this.getDocument();try{k.write(a)}catch(l){setTimeout(function(){k.write(a)},0)}}},getData:function(a){if(a)return this.getHtml();a=this.editor;var e=a.config,b=e.fullPage,c=b&&a.docType,d=b&&a.xmlDeclaration,
f=this.getDocument(),b=b?f.getDocumentElement().getOuterHtml():f.getBody().getHtml();CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(b=b.replace(/<br>(?=\s*(:?$|<\/body>))/,""));b=a.dataProcessor.toDataFormat(b);d&&(b=d+"\n"+b);c&&(b=c+"\n"+b);return b},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:l.baseProto.focus.call(this)},detach:function(){var a=this.editor,e=a.document,a=a.container.findOne("iframe.cke_wysiwyg_frame");l.baseProto.detach.call(this);this.clearCustomData(this._.expandoNumber);
e.getDocumentElement().clearCustomData();CKEDITOR.tools.removeFunction(this._.frameLoadedHandler);a&&(a.clearCustomData(),(e=a.removeCustomData("onResize"))&&e.removeListener(),a.isDetached()||a.remove())}}})})();CKEDITOR.config.disableObjectResizing=!1;CKEDITOR.config.disableNativeTableHandles=!0;CKEDITOR.config.disableNativeSpellChecker=!0;(function(){function e(b,a){a||(a=b.getSelection().getSelectedElement());if(a&&a.is("img")&&!a.data("cke-realelement")&&!a.isReadOnly())return a}function f(b){var a=b.getStyle("float");if("inherit"==a||"none"==a)a=0;a||(a=b.getAttribute("align"));return a}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(b){if(!b.plugins.detectConflict("image",["easyimage","image2"])){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var a="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";
CKEDITOR.dialog.isTabEnabled(b,"image","advanced")&&(a="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)");b.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:a,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]}));b.ui.addButton&&b.ui.addButton("Image",{label:b.lang.common.image,command:"image",toolbar:"insert,10"});b.on("doubleclick",function(b){var a=
b.data.element;!a.is("img")||a.data("cke-realelement")||a.isReadOnly()||(b.data.dialog="image")});b.addMenuItems&&b.addMenuItems({image:{label:b.lang.image.menu,command:"image",group:"image"}});b.contextMenu&&b.contextMenu.addListener(function(a){if(e(b,a))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(b){function a(a){var d=b.getCommand("justify"+a);if(d){if("left"==a||"right"==a)d.on("exec",function(d){var c=e(b),g;c&&(g=f(c),g==a?(c.removeStyle("float"),a==f(c)&&c.removeAttribute("align")):
c.setStyle("float",a),d.cancel())});d.on("refresh",function(d){var c=e(b);c&&(c=f(c),this.setState(c==a?CKEDITOR.TRISTATE_ON:"right"==a||"left"==a?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),d.cancel())})}}b.plugins.image2||(a("left"),a("right"),a("center"),a("block"))}})})();CKEDITOR.config.image_removeLinkByEmptyURL=!0;(function(){function m(a,b){var e,f;b.on("refresh",function(a){var b=[k],c;for(c in a.data.states)b.push(a.data.states[c]);this.setState(CKEDITOR.tools.search(b,p)?p:k)},b,null,100);b.on("exec",function(b){e=a.getSelection();f=e.createBookmarks(1);b.data||(b.data={});b.data.done=!1},b,null,0);b.on("exec",function(){a.forceNextSelectionCheck();e.selectBookmarks(f)},b,null,100)}var k=CKEDITOR.TRISTATE_DISABLED,p=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(a){var b=CKEDITOR.plugins.indent.genericDefinition;
m(a,a.addCommand("indent",new b(!0)));m(a,a.addCommand("outdent",new b));a.ui.addButton&&(a.ui.addButton("Indent",{label:a.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),a.ui.addButton("Outdent",{label:a.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"}));a.on("dirChanged",function(b){var f=a.createRange(),l=b.data.node;f.setStartBefore(l);f.setEndAfter(l);for(var n=new CKEDITOR.dom.walker(f),c;c=n.next();)if(c.type==CKEDITOR.NODE_ELEMENT)if(!c.equals(l)&&
c.getDirection())f.setStartAfter(c),n=new CKEDITOR.dom.walker(f);else{var d=a.config.indentClasses;if(d)for(var g="ltr"==b.data.dir?["_rtl",""]:["","_rtl"],h=0;h<d.length;h++)c.hasClass(d[h]+g[0])&&(c.removeClass(d[h]+g[0]),c.addClass(d[h]+g[1]));d=c.getStyle("margin-right");g=c.getStyle("margin-left");d?c.setStyle("margin-left",d):c.removeStyle("margin-left");g?c.setStyle("margin-right",g):c.removeStyle("margin-right")}})}});CKEDITOR.plugins.indent={genericDefinition:function(a){this.isIndent=!!a;
this.startDisabled=!this.isIndent},specificDefinition:function(a,b,e){this.name=b;this.editor=a;this.jobs={};this.enterBr=a.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!e;this.relatedGlobal=e?"indent":"outdent";this.indentKey=e?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(a,b){a.on("pluginsLoaded",function(){for(var a in b)(function(a,b){var e=a.getCommand(b.relatedGlobal),c;for(c in b.jobs)e.on("exec",function(d){d.data.done||(a.fire("lockSnapshot"),b.execJob(a,c)&&(d.data.done=
!0),a.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(b.database))},this,null,c),e.on("refresh",function(d){d.data.states||(d.data.states={});d.data.states[b.name+"@"+c]=b.refreshJob(a,c,d.data.path)},this,null,c);a.addFeature(b)})(this,b[a])})}};CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,b){var e=this.jobs[b];if(e.state!=k)return e.exec.call(this,a)},refreshJob:function(a,
b,e){b=this.jobs[b];a.activeFilter.checkFeature(this)?b.state=b.refresh.call(this,a,e):b.state=k;return b.state},getContext:function(a){return a.contains(this.context)}}})();(function(){function f(b,c,a){if(!b.getCustomData("indent_processed")){var d=this.editor,l=this.isIndent;if(c){d=b.$.className.match(this.classNameRegex);a=0;d&&(d=d[1],a=CKEDITOR.tools.indexOf(c,d)+1);if(0>(a+=l?1:-1))return;a=Math.min(a,c.length);a=Math.max(a,0);b.$.className=CKEDITOR.tools.ltrim(b.$.className.replace(this.classNameRegex,""));0<a&&b.addClass(c[a-1])}else{c=m(b,a);a=parseInt(b.getStyle(c),10);var g=d.config.indentOffset||40;isNaN(a)&&(a=0);a+=(l?1:-1)*g;if(0>a)return;a=Math.max(a,
0);a=Math.ceil(a/g)*g;b.setStyle(c,a?a+(d.config.indentUnit||"px"):"");""===b.getAttribute("style")&&b.removeAttribute("style")}CKEDITOR.dom.element.setMarker(this.database,b,"indent_processed",1)}}function m(b,c){return"ltr"==(c||b.getComputedStyle("direction"))?"margin-left":"margin-right"}var h=CKEDITOR.dtd.$listItem,p=CKEDITOR.dtd.$list,k=CKEDITOR.TRISTATE_DISABLED,n=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function(b){function c(){a.specificDefinition.apply(this,
arguments);this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:d?null:"margin-left,margin-right",classes:d||null}};this.contentTransformations=[["div: splitMarginShorthand"],["h1: splitMarginShorthand"],["h2: splitMarginShorthand"],["h3: splitMarginShorthand"],["h4: splitMarginShorthand"],["h5: splitMarginShorthand"],["h6: splitMarginShorthand"],["ol: splitMarginShorthand"],["p: splitMarginShorthand"],["pre: splitMarginShorthand"],["ul: splitMarginShorthand"]];this.enterBr&&
(this.allowedContent.div=!0);this.requiredContent=(this.enterBr?"div":"p")+(d?"("+d.join(",")+")":"{margin-left}");this.jobs={20:{refresh:function(a,b){var e=b.block||b.blockLimit;if(!e.is(h))var c=e.getAscendant(h),e=c&&b.contains(c)||e;e.is(h)&&(e=e.getParent());if(this.enterBr||this.getContext(b)){if(d){var c=d,e=e.$.className.match(this.classNameRegex),f=this.isIndent,c=e?f?e[1]!=c.slice(-1):!0:f;return c?n:k}return this.isIndent?n:e?CKEDITOR[0>=(parseInt(e.getStyle(m(e)),10)||0)?"TRISTATE_DISABLED":
"TRISTATE_OFF"]:k}return k},exec:function(a){var b=a.getSelection(),b=b&&b.getRanges()[0],c;if(c=a.elementPath().contains(p))f.call(this,c,d);else for(b=b.createIterator(),a=a.config.enterMode,b.enforceRealBlocks=!0,b.enlargeBr=a!=CKEDITOR.ENTER_BR;c=b.getNextParagraph(a==CKEDITOR.ENTER_P?"p":"div");)c.isReadOnly()||f.call(this,c,d);return!0}}}}var a=CKEDITOR.plugins.indent,d=b.config.indentClasses;a.registerCommands(b,{indentblock:new c(b,"indentblock",!0),outdentblock:new c(b,"outdentblock")});
CKEDITOR.tools.extend(c.prototype,a.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:d?new RegExp("(?:^|\\s+)("+d.join("|")+")(?\x3d$|\\s)"):null})}})})();(function(){function w(f){function g(b){for(var e=c.startContainer,a=c.endContainer;e&&!e.getParent().equals(b);)e=e.getParent();for(;a&&!a.getParent().equals(b);)a=a.getParent();if(!e||!a)return!1;for(var d=[],h=!1;!h;)e.equals(a)&&(h=!0),d.push(e),e=e.getNext();if(1>d.length)return!1;e=b.getParents(!0);for(a=0;a<e.length;a++)if(e[a].getName&&p[e[a].getName()]){b=e[a];break}for(var e=k.isIndent?1:-1,a=d[0],d=d[d.length-1],h=CKEDITOR.plugins.list.listToArray(b,q),m=h[d.getCustomData("listarray_index")].indent,
a=a.getCustomData("listarray_index");a<=d.getCustomData("listarray_index");a++)if(h[a].indent+=e,0<e){for(var g=h[a].parent,n=a-1;0<=n;n--)if(h[n].indent===e){g=h[n].parent;break}h[a].parent=new CKEDITOR.dom.element(g.getName(),g.getDocument())}for(a=d.getCustomData("listarray_index")+1;a<h.length&&h[a].indent>m;a++)h[a].indent+=e;e=CKEDITOR.plugins.list.arrayToList(h,q,null,f.config.enterMode,b.getDirection());if(!k.isIndent){var t;if((t=b.getParent())&&t.is("li"))for(var d=e.listNode.getChildren(),
r=[],l,a=d.count()-1;0<=a;a--)(l=d.getItem(a))&&l.is&&l.is("li")&&r.push(l)}e&&e.listNode.replace(b);if(r&&r.length)for(a=0;a<r.length;a++){for(l=b=r[a];(l=l.getNext())&&l.is&&l.getName()in p;)CKEDITOR.env.needsNbspFiller&&!b.getFirst(x)&&b.append(c.document.createText(" ")),b.append(l);b.insertAfter(t)}e&&f.fire("contentDomInvalidated");return!0}for(var k=this,q=this.database,p=this.context,c,m=f.getSelection(),m=(m&&m.getRanges()).createIterator();c=m.getNextRange();){for(var b=c.getCommonAncestor();b&&
(b.type!=CKEDITOR.NODE_ELEMENT||!p[b.getName()]);){if(f.editable().equals(b)){b=!1;break}b=b.getParent()}b||(b=c.startPath().contains(p))&&c.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);if(!b){var d=c.getEnclosedNode();d&&d.type==CKEDITOR.NODE_ELEMENT&&d.getName()in p&&(c.setStartAt(d,CKEDITOR.POSITION_AFTER_START),c.setEndAt(d,CKEDITOR.POSITION_BEFORE_END),b=d)}b&&c.startContainer.type==CKEDITOR.NODE_ELEMENT&&c.startContainer.getName()in p&&(d=new CKEDITOR.dom.walker(c),d.evaluator=n,c.startContainer=
d.next());b&&c.endContainer.type==CKEDITOR.NODE_ELEMENT&&c.endContainer.getName()in p&&(d=new CKEDITOR.dom.walker(c),d.evaluator=n,c.endContainer=d.previous());if(b)return g(b)}return 0}function n(f){return f.type==CKEDITOR.NODE_ELEMENT&&f.is("li")}function x(f){return y(f)&&z(f)}var y=CKEDITOR.dom.walker.whitespaces(!0),z=CKEDITOR.dom.walker.bookmark(!1,!0),u=CKEDITOR.TRISTATE_DISABLED,v=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(f){function g(f){k.specificDefinition.apply(this,
arguments);this.requiredContent=["ul","ol"];f.on("key",function(g){var c=f.elementPath();if("wysiwyg"==f.mode&&g.data.keyCode==this.indentKey&&c){var m=this.getContext(c);!m||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,c,m)||(f.execCommand(this.relatedGlobal),g.cancel())}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(f,c){var g=this.getContext(c),b=CKEDITOR.plugins.indentList.firstItemInPath(this.context,c,g);return g&&this.isIndent&&!b?v:u}:function(f,
c){return!this.getContext(c)||this.isIndent?u:v},exec:CKEDITOR.tools.bind(w,this)}}var k=CKEDITOR.plugins.indent;k.registerCommands(f,{indentlist:new g(f,"indentlist",!0),outdentlist:new g(f,"outdentlist")});CKEDITOR.tools.extend(g.prototype,k.specificDefinition.prototype,{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(f,g,k){var q=g.contains(n);k||(k=g.contains(f));return k&&q&&q.equals(k.getFirst(n))}})();CKEDITOR.plugins.add("smiley",{requires:"dialog",init:function(a){a.config.smiley_path=a.config.smiley_path||this.path+"images/";a.addCommand("smiley",new CKEDITOR.dialogCommand("smiley",{allowedContent:"img[alt,height,!src,title,width]",requiredContent:"img"}));a.ui.addButton&&a.ui.addButton("Smiley",{label:a.lang.smiley.toolbar,command:"smiley",toolbar:"insert,50"});CKEDITOR.dialog.add("smiley",this.path+"dialogs/smiley.js")}});CKEDITOR.config.smiley_images="regular_smile.png sad_smile.png wink_smile.png teeth_smile.png confused_smile.png tongue_smile.png embarrassed_smile.png omg_smile.png whatchutalkingabout_smile.png angry_smile.png angel_smile.png shades_smile.png devil_smile.png cry_smile.png lightbulb.png thumbs_down.png thumbs_up.png heart.png broken_heart.png kiss.png envelope.png".split(" ");
CKEDITOR.config.smiley_descriptions="smiley;sad;wink;laugh;frown;cheeky;blush;surprise;indecision;angry;angel;cool;devil;crying;enlightened;no;yes;heart;broken heart;kiss;mail".split(";");(function(){function q(a,c){c=void 0===c||c;var b;if(c)b=a.getComputedStyle("text-align");else{for(;!a.hasAttribute||!a.hasAttribute("align")&&!a.getStyle("text-align");){b=a.getParent();if(!b)break;a=b}b=a.getStyle("text-align")||a.getAttribute("align")||""}b&&(b=b.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,""));!b&&c&&(b="rtl"==a.getComputedStyle("direction")?"right":"left");return b}function h(a,c,b){this.editor=a;this.name=c;this.value=b;this.context="p";c=a.config.justifyClasses;var f=a.config.enterMode==
CKEDITOR.ENTER_P?"p":"div";if(c){switch(b){case "left":this.cssClassName=c[0];break;case "center":this.cssClassName=c[1];break;case "right":this.cssClassName=c[2];break;case "justify":this.cssClassName=c[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+c.join("|")+")(?\x3d$|\\s)");this.requiredContent=f+"("+this.cssClassName+")"}else this.requiredContent=f+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",
classes:this.cssClassName||null}};a.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function m(a){var c=a.editor,b=c.createRange();b.setStartBefore(a.data.node);b.setEndAfter(a.data.node);for(var f=new CKEDITOR.dom.walker(b),d;d=f.next();)if(d.type==CKEDITOR.NODE_ELEMENT)if(!d.equals(a.data.node)&&d.getDirection())b.setStartAfter(d),f=new CKEDITOR.dom.walker(b);else{var e=c.config.justifyClasses;e&&(d.hasClass(e[0])?(d.removeClass(e[0]),d.addClass(e[2])):d.hasClass(e[2])&&(d.removeClass(e[2]),
d.addClass(e[0])));e=d.getStyle("text-align");"left"==e?d.setStyle("text-align","right"):"right"==e&&d.setStyle("text-align","left")}}h.prototype={exec:function(a){var c=a.getSelection(),b=a.config.enterMode;if(c){for(var f=c.createBookmarks(),d=c.getRanges(),e=this.cssClassName,h,g,k=a.config.useComputedState,k=void 0===k||k,n=d.length-1;0<=n;n--)for(h=d[n].createIterator(),h.enlargeBr=b!=CKEDITOR.ENTER_BR;g=h.getNextParagraph(b==CKEDITOR.ENTER_P?"p":"div");)if(!g.isReadOnly()){var l=g.getName(),
p;p=a.activeFilter.check(l+"{text-align}");if((l=a.activeFilter.check(l+"("+e+")"))||p){g.removeAttribute("align");g.removeStyle("text-align");var m=e&&(g.$.className=CKEDITOR.tools.ltrim(g.$.className.replace(this.cssClassRegex,""))),r=this.state==CKEDITOR.TRISTATE_OFF&&(!k||q(g,!0)!=this.value);e&&l?r?g.addClass(e):m||g.removeAttribute("class"):r&&p&&g.setStyle("text-align",this.value)}}a.focus();a.forceNextSelectionCheck();c.selectBookmarks(f)}},refresh:function(a,c){var b=c.block||c.blockLimit,
f=b.getName(),d=b.equals(a.editable()),f=this.cssClassName?a.activeFilter.check(f+"("+this.cssClassName+")"):a.activeFilter.check(f+"{text-align}");d&&!CKEDITOR.dtd.$list[c.lastElement.getName()]?this.setState(CKEDITOR.TRISTATE_OFF):!d&&f?this.setState(q(b,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}};CKEDITOR.plugins.add("justify",{init:function(a){if(!a.blockless){var c=new h(a,"justifyleft","left"),b=new h(a,
"justifycenter","center"),f=new h(a,"justifyright","right"),d=new h(a,"justifyblock","justify");a.addCommand("justifyleft",c);a.addCommand("justifycenter",b);a.addCommand("justifyright",f);a.addCommand("justifyblock",d);a.ui.addButton&&(a.ui.addButton("JustifyLeft",{label:a.lang.common.alignLeft,command:"justifyleft",toolbar:"align,10"}),a.ui.addButton("JustifyCenter",{label:a.lang.common.center,command:"justifycenter",toolbar:"align,20"}),a.ui.addButton("JustifyRight",{label:a.lang.common.alignRight,
command:"justifyright",toolbar:"align,30"}),a.ui.addButton("JustifyBlock",{label:a.lang.common.justify,command:"justifyblock",toolbar:"align,40"}));a.on("dirChanged",m)}}})})();CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var d=function(c){var a=this._,b=a.menu;a.state!==CKEDITOR.TRISTATE_DISABLED&&(a.on&&b?b.hide():(a.previousState=a.state,b||(b=a.menu=new CKEDITOR.menu(c,{panel:{className:"cke_menu_panel",attributes:{"aria-label":c.lang.common.options}}}),b.onHide=CKEDITOR.tools.bind(function(){var b=this.command?c.getCommand(this.command).modes:this.modes;this.setState(!b||b[c.mode]?a.previousState:CKEDITOR.TRISTATE_DISABLED);a.on=0},this),
this.onMenu&&b.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),a.on=1,setTimeout(function(){b.show(CKEDITOR.document.getById(a.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(c){delete c.panel;this.base(c);this.hasArrow="menu";this.click=d},statics:{handler:{create:function(c){return new CKEDITOR.ui.menuButton(c)}}}})},beforeInit:function(d){d.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}});
CKEDITOR.UI_MENUBUTTON="menubutton";(function(){CKEDITOR.plugins.add("language",{requires:"menubutton",init:function(a){var b=a.config.language_list||["ar:Arabic:rtl","fr:French","es:Spanish"],c=this,d=a.lang.language,e={},g,h,k,f;a.addCommand("language",{allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",contextSensitive:!0,exec:function(a,b){var c=e["language_"+b];if(c)a[c.style.checkActive(a.elementPath(),a)?"removeStyle":"applyStyle"](c.style)},refresh:function(a){this.setState(c.getCurrentLangElement(a)?CKEDITOR.TRISTATE_ON:
CKEDITOR.TRISTATE_OFF)}});for(f=0;f<b.length;f++)g=b[f].split(":"),h=g[0],k="language_"+h,e[k]={label:g[1],langId:h,group:"language",order:f,ltr:"rtl"!=(""+g[2]).toLowerCase(),onClick:function(){a.execCommand("language",this.langId)},role:"menuitemcheckbox"},e[k].style=new CKEDITOR.style({element:"span",attributes:{lang:h,dir:e[k].ltr?"ltr":"rtl"}});e.language_remove={label:d.remove,group:"language_remove",state:CKEDITOR.TRISTATE_DISABLED,order:e.length,onClick:function(){var b=c.getCurrentLangElement(a);
b&&a.execCommand("language",b.getAttribute("lang"))}};a.addMenuGroup("language",1);a.addMenuGroup("language_remove");a.addMenuItems(e);a.ui.add("Language",CKEDITOR.UI_MENUBUTTON,{label:d.button,allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",toolbar:"bidi,30",command:"language",onMenu:function(){var b={},d=c.getCurrentLangElement(a),f;for(f in e)b[f]=CKEDITOR.TRISTATE_OFF;b.language_remove=d?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;d&&(b["language_"+d.getAttribute("lang")]=
CKEDITOR.TRISTATE_ON);return b}});a.addRemoveFormatFilter&&a.addRemoveFormatFilter(function(a){return!(a.is("span")&&a.getAttribute("dir")&&a.getAttribute("lang"))})},getCurrentLangElement:function(a){var b=a.elementPath();a=b&&b.elements;var c;if(b)for(var d=0;d<a.length;d++)b=a[d],!c&&"span"==b.getName()&&b.hasAttribute("dir")&&b.hasAttribute("lang")&&(c=b);return c}})})();(function(){function p(c){return c.replace(/'/g,"\\$\x26")}function q(c){for(var b=c.length,a=[],e,f=0;f<b;f++)e=c.charCodeAt(f),a.push(e);return"String.fromCharCode("+a.join(",")+")"}function r(c,b){for(var a=c.plugins.link,e=a.compiledProtectionFunction.params,a=[a.compiledProtectionFunction.name,"("],f,d,g=0;g<e.length;g++)f=e[g].toLowerCase(),d=b[f],0<g&&a.push(","),a.push("'",d?p(encodeURIComponent(b[f])):"","'");a.push(")");return a.join("")}function n(c){c=c.config.emailProtection||"";var b;
c&&"encode"!=c&&(b={},c.replace(/^([^(]+)\(([^)]+)\)$/,function(a,c,f){b.name=c;b.params=[];f.replace(/[^,\s]+/g,function(a){b.params.push(a)})}));return b}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function c(b){return a.replace(/%1/g,"rtl"==b?"right":"left").replace(/%2/g,"cke_contents_"+b)}var b="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",
a=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+b+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+b+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(c("ltr")+c("rtl"))},init:function(c){var b="a[!href]";CKEDITOR.dialog.isTabEnabled(c,"link","advanced")&&(b=b.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)"));CKEDITOR.dialog.isTabEnabled(c,"link","target")&&
(b=b.replace("]",",target,onclick]"));c.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:b,requiredContent:"a[href]"}));c.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"}));c.addCommand("unlink",new CKEDITOR.unlinkCommand);c.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand);c.setKeystroke(CKEDITOR.CTRL+76,"link");c.setKeystroke(CKEDITOR.CTRL+75,"link");c.ui.addButton&&(c.ui.addButton("Link",{label:c.lang.link.toolbar,
command:"link",toolbar:"links,10"}),c.ui.addButton("Unlink",{label:c.lang.link.unlink,command:"unlink",toolbar:"links,20"}),c.ui.addButton("Anchor",{label:c.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"}));CKEDITOR.dialog.add("link",this.path+"dialogs/link.js");CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js");c.on("doubleclick",function(a){var b=a.data.element.getAscendant({a:1,img:1},!0);b&&!b.isReadOnly()&&(b.is("a")?(a.data.dialog=!b.getAttribute("name")||b.getAttribute("href")&&
b.getChildCount()?"link":"anchor",a.data.link=b):CKEDITOR.plugins.link.tryRestoreFakeAnchor(c,b)&&(a.data.dialog="anchor"))},null,null,0);c.on("doubleclick",function(a){a.data.dialog in{link:1,anchor:1}&&a.data.link&&c.getSelection().selectElement(a.data.link)},null,null,20);c.addMenuItems&&c.addMenuItems({anchor:{label:c.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:c.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:c.lang.link.menu,
command:"link",group:"link",order:1},unlink:{label:c.lang.link.unlink,command:"unlink",group:"link",order:5}});c.contextMenu&&c.contextMenu.addListener(function(a){if(!a||a.isReadOnly())return null;a=CKEDITOR.plugins.link.tryRestoreFakeAnchor(c,a);if(!a&&!(a=CKEDITOR.plugins.link.getSelectedLink(c)))return null;var b={};a.getAttribute("href")&&a.getChildCount()&&(b={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF});a&&a.hasAttribute("name")&&(b.anchor=b.removeAnchor=CKEDITOR.TRISTATE_OFF);
return b});this.compiledProtectionFunction=n(c)},afterInit:function(c){c.dataProcessor.dataFilter.addRules({elements:{a:function(a){return a.attributes.name?a.children.length?null:c.createFakeParserElement(a,"cke_anchor","anchor"):null}}});var b=c._.elementsPath&&c._.elementsPath.filters;b&&b.push(function(a,b){if("a"==b&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(c,a)||a.getAttribute("name")&&(!a.getAttribute("href")||!a.getChildCount())))return"anchor"})}});var t=/^javascript:/,u=/^(?:mailto)(?:(?!\?(subject|body)=).)+/i,
v=/subject=([^;?:@&=$,\/]*)/i,w=/body=([^;?:@&=$,\/]*)/i,x=/^#(.*)$/,y=/^((?:http|https|ftp|news):\/\/)?(.*)$/,z=/^(_(?:self|top|parent|blank))$/,A=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,B=/^javascript:([^(]+)\(([^)]+)\)$/,C=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,D=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,E=/^tel:(.*)$/,m={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",
lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(c,b){var a=c.getSelection(),e=a.getSelectedElement(),f=a.getRanges(),d=[],g;if(!b&&e&&e.is("a"))return e;for(e=0;e<f.length;e++)if(g=a.getRanges()[e],g.shrink(CKEDITOR.SHRINK_ELEMENT,!0,{skipBogus:!0}),(g=c.elementPath(g.getCommonAncestor()).contains("a",1))&&b)d.push(g);else if(g)return g;return b?
d:null},getEditorAnchors:function(c){for(var b=c.editable(),a=b.isInline()&&!c.plugins.divarea?c.document:b,b=a.getElementsByTag("a"),a=a.getElementsByTag("img"),e=[],f=0,d;d=b.getItem(f++);)(d.data("cke-saved-name")||d.hasAttribute("name"))&&e.push({name:d.data("cke-saved-name")||d.getAttribute("name"),id:d.getAttribute("id")});for(f=0;d=a.getItem(f++);)(d=this.tryRestoreFakeAnchor(c,d))&&e.push({name:d.getAttribute("name"),id:d.getAttribute("id")});return e},fakeAnchor:!0,tryRestoreFakeAnchor:function(c,
b){if(b&&b.data("cke-real-element-type")&&"anchor"==b.data("cke-real-element-type")){var a=c.restoreRealElement(b);if(a.data("cke-saved-name"))return a}},parseLinkAttributes:function(c,b){var a=b&&(b.data("cke-saved-href")||b.getAttribute("href"))||"",e=c.plugins.link.compiledProtectionFunction,f=c.config.emailProtection,d={},g;a.match(t)&&("encode"==f?a=a.replace(A,function(a,b,c){c=c||"";return"mailto:"+String.fromCharCode.apply(String,b.split(","))+c.replace(/\\'/g,"'")}):f&&a.replace(B,function(a,
b,c){if(b==e.name){d.type="email";a=d.email={};b=/(^')|('$)/g;c=c.match(/[^,\s]+/g);for(var f=c.length,g,h,k=0;k<f;k++)g=decodeURIComponent,h=c[k].replace(b,"").replace(/\\'/g,"'"),h=g(h),g=e.params[k].toLowerCase(),a[g]=h;a.address=[a.name,a.domain].join("@")}}));if(!d.type)if(f=a.match(x))d.type="anchor",d.anchor={},d.anchor.name=d.anchor.id=f[1];else if(f=a.match(E))d.type="tel",d.tel=f[1];else if(f=a.match(u)){g=a.match(v);var a=a.match(w),k=d.email={};d.type="email";k.address=f[0].replace("mailto:",
"");g&&(k.subject=decodeURIComponent(g[1]));a&&(k.body=decodeURIComponent(a[1]))}else a&&(g=a.match(y))&&(d.type="url",d.url={},d.url.protocol=g[1],d.url.url=g[2]);if(b){if(a=b.getAttribute("target"))d.target={type:a.match(z)?a:"frame",name:a};else if(a=(a=b.data("cke-pa-onclick")||b.getAttribute("onclick"))&&a.match(C))for(d.target={type:"popup",name:a[1]};f=D.exec(a[2]);)"yes"!=f[2]&&"1"!=f[2]||f[1]in{height:1,width:1,top:1,left:1}?isFinite(f[2])&&(d.target[f[1]]=f[2]):d.target[f[1]]=!0;null!==
b.getAttribute("download")&&(d.download=!0);var a={},h;for(h in m)(f=b.getAttribute(h))&&(a[m[h]]=f);if(h=b.data("cke-saved-name")||a.advName)a.advName=h;CKEDITOR.tools.isEmpty(a)||(d.advanced=a)}return d},getLinkAttributes:function(c,b){var a=c.config.emailProtection||"",e={};switch(b.type){case "url":var a=b.url&&void 0!==b.url.protocol?b.url.protocol:"http://",f=b.url&&CKEDITOR.tools.trim(b.url.url)||"";e["data-cke-saved-href"]=0===f.indexOf("/")?f:a+f;break;case "anchor":a=b.anchor&&b.anchor.id;
e["data-cke-saved-href"]="#"+(b.anchor&&b.anchor.name||a||"");break;case "email":var d=b.email,f=d.address;switch(a){case "":case "encode":var g=encodeURIComponent(d.subject||""),k=encodeURIComponent(d.body||""),d=[];g&&d.push("subject\x3d"+g);k&&d.push("body\x3d"+k);d=d.length?"?"+d.join("\x26"):"";"encode"==a?(a=["javascript:void(location.href\x3d'mailto:'+",q(f)],d&&a.push("+'",p(d),"'"),a.push(")")):a=["mailto:",f,d];break;default:a=f.split("@",2),d.name=a[0],d.domain=a[1],a=["javascript:",r(c,
d)]}e["data-cke-saved-href"]=a.join("");break;case "tel":e["data-cke-saved-href"]="tel:"+b.tel}if(b.target)if("popup"==b.target.type){for(var a=["window.open(this.href, '",b.target.name||"","', '"],h="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" "),f=h.length,g=function(a){b.target[a]&&h.push(a+"\x3d"+b.target[a])},d=0;d<f;d++)h[d]+=b.target[h[d]]?"\x3dyes":"\x3dno";g("width");g("left");g("height");g("top");a.push(h.join(","),"'); return false;");e["data-cke-pa-onclick"]=
a.join("")}else"notSet"!=b.target.type&&b.target.name&&(e.target=b.target.name);b.download&&(e.download="");if(b.advanced){for(var l in m)(a=b.advanced[m[l]])&&(e[l]=a);e.name&&(e["data-cke-saved-name"]=e.name)}e["data-cke-saved-href"]&&(e.href=e["data-cke-saved-href"]);l={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1};b.advanced&&CKEDITOR.tools.extend(l,m);for(var n in e)delete l[n];return{set:e,removed:CKEDITOR.tools.object.keys(l)}},showDisplayTextForElement:function(c,
b){var a={img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1},e=b.getSelection();return b.widgets&&b.widgets.focused||e&&1<e.getRanges().length?!1:!c||!c.getName||!c.is(a)}};CKEDITOR.unlinkCommand=function(){};CKEDITOR.unlinkCommand.prototype={exec:function(c){if(CKEDITOR.env.ie){var b=c.getSelection().getRanges()[0],a=b.getPreviousEditableNode()&&b.getPreviousEditableNode().getAscendant("a",!0)||b.getNextEditableNode()&&b.getNextEditableNode().getAscendant("a",!0),e;b.collapsed&&a&&
(e=b.createBookmark(),b.selectNodeContents(a),b.select())}a=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});c.removeStyle(a);e&&(b.moveToBookmark(e),b.select())},refresh:function(c,b){var a=b.lastElement&&b.lastElement.getAscendant("a",!0);a&&"a"==a.getName()&&a.getAttribute("href")&&a.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1};CKEDITOR.removeAnchorCommand=
function(){};CKEDITOR.removeAnchorCommand.prototype={exec:function(c){var b=c.getSelection(),a=b.createBookmarks(),e;if(b&&(e=b.getSelectedElement())&&(e.getChildCount()?e.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(c,e)))e.remove(1);else if(e=CKEDITOR.plugins.link.getSelectedLink(c))e.hasAttribute("href")?(e.removeAttributes({name:1,"data-cke-saved-name":1}),e.removeClass("cke_anchor")):e.remove(1);b.selectBookmarks(a)},requiredContent:"a[name]"};CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,
linkShowTargetTab:!0,linkDefaultProtocol:"http://"})})();(function(){function K(a,l,d,f){for(var e=CKEDITOR.plugins.list.listToArray(l.root,d),g=[],b=0;b<l.contents.length;b++){var h=l.contents[b];(h=h.getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(g.push(h),CKEDITOR.dom.element.setMarker(d,h,"list_item_processed",!0))}for(var h=l.root.getDocument(),k,c,b=0;b<g.length;b++){var p=g[b].getCustomData("listarray_index");k=e[p].parent;k.is(this.type)||(c=h.createElement(this.type),k.copyAttributes(c,{start:1,type:1}),c.removeStyle("list-style-type"),
e[p].parent=c)}d=CKEDITOR.plugins.list.arrayToList(e,d,null,a.config.enterMode);for(var m,e=d.listNode.getChildCount(),b=0;b<e&&(m=d.listNode.getChild(b));b++)m.getName()==this.type&&f.push(m);d.listNode.replace(l.root);a.fire("contentDomInvalidated")}function L(a,l,d){var f=l.contents,e=l.root.getDocument(),g=[];if(1==f.length&&f[0].equals(l.root)){var b=e.createElement("div");f[0].moveChildren&&f[0].moveChildren(b);f[0].append(b);f[0]=b}l=l.contents[0].getParent();for(b=0;b<f.length;b++)l=l.getCommonAncestor(f[b].getParent());
a=a.config.useComputedState;var h,k;a=void 0===a||a;for(b=0;b<f.length;b++)for(var c=f[b],p;p=c.getParent();){if(p.equals(l)){g.push(c);!k&&c.getDirection()&&(k=1);c=c.getDirection(a);null!==h&&(h=h&&h!=c?null:c);break}c=p}if(!(1>g.length)){f=g[g.length-1].getNext();b=e.createElement(this.type);for(d.push(b);g.length;)d=g.shift(),a=e.createElement("li"),c=d,c.is("pre")||M.test(c.getName())||"false"==c.getAttribute("contenteditable")?d.appendTo(a):(d.copyAttributes(a),h&&d.getDirection()&&(a.removeStyle("direction"),
a.removeAttribute("dir")),d.moveChildren(a),d.remove()),a.appendTo(b);h&&k&&b.setAttribute("dir",h);f?b.insertBefore(f):b.appendTo(l)}}function N(a,l,d){function f(b){if(!(!(c=k[b?"getFirst":"getLast"]())||c.is&&c.isBlockBoundary()||!(p=l.root[b?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||p.is&&p.isBlockBoundary({br:1})))a.document.createElement("br")[b?"insertBefore":"insertAfter"](c)}for(var e=CKEDITOR.plugins.list.listToArray(l.root,d),g=[],b=0;b<l.contents.length;b++){var h=
l.contents[b];(h=h.getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(g.push(h),CKEDITOR.dom.element.setMarker(d,h,"list_item_processed",!0))}h=null;for(b=0;b<g.length;b++)h=g[b].getCustomData("listarray_index"),e[h].indent=-1;for(b=h+1;b<e.length;b++)if(e[b].indent>e[b-1].indent+1){g=e[b-1].indent+1-e[b].indent;for(h=e[b].indent;e[b]&&e[b].indent>=h;)e[b].indent+=g,b++;b--}var k=CKEDITOR.plugins.list.arrayToList(e,d,null,a.config.enterMode,l.root.getAttribute("dir")).listNode,c,p;
f(!0);f();k.replace(l.root);a.fire("contentDomInvalidated")}function C(a,l){this.name=a;this.context=this.type=l;this.allowedContent=l+" li";this.requiredContent=l}function F(a,l,d,f){for(var e,g;e=a[f?"getLast":"getFirst"](O);)(g=e.getDirection(1))!==l.getDirection(1)&&e.setAttribute("dir",g),e.remove(),d?e[f?"insertBefore":"insertAfter"](d):l.append(e,f),d=e}function G(a){function l(d){var f=a[d?"getPrevious":"getNext"](t);f&&f.type==CKEDITOR.NODE_ELEMENT&&f.is(a.getName())&&(F(a,f,null,!d),a.remove(),
a=f)}l();l(1)}function H(a){return a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in CKEDITOR.dtd.$block||a.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[a.getName()]["#"]}function D(a,l,d){a.fire("saveSnapshot");d.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var f=d.extractContents();l.trim(!1,!0);var e=l.createBookmark(),g=new CKEDITOR.dom.elementPath(l.startContainer),b=g.block,g=g.lastElement.getAscendant("li",1)||b,h=new CKEDITOR.dom.elementPath(d.startContainer),k=h.contains(CKEDITOR.dtd.$listItem),
h=h.contains(CKEDITOR.dtd.$list);b?(b=b.getBogus())&&b.remove():h&&(b=h.getPrevious(t))&&z(b)&&b.remove();(b=f.getLast())&&b.type==CKEDITOR.NODE_ELEMENT&&b.is("br")&&b.remove();(b=l.startContainer.getChild(l.startOffset))?f.insertBefore(b):l.startContainer.append(f);k&&(f=A(k))&&(g.contains(k)?(F(f,k.getParent(),k),f.remove()):g.append(f));for(;d.checkStartOfBlock()&&d.checkEndOfBlock();){h=d.startPath();f=h.block;if(!f)break;f.is("li")&&(g=f.getParent(),f.equals(g.getLast(t))&&f.equals(g.getFirst(t))&&
(f=g));d.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START);f.remove()}d=d.clone();f=a.editable();d.setEndAt(f,CKEDITOR.POSITION_BEFORE_END);d=new CKEDITOR.dom.walker(d);d.evaluator=function(a){return t(a)&&!z(a)};(d=d.next())&&d.type==CKEDITOR.NODE_ELEMENT&&d.getName()in CKEDITOR.dtd.$list&&G(d);l.moveToBookmark(e);l.select();a.fire("saveSnapshot")}function A(a){return(a=a.getLast(t))&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in u?a:null}var u={ol:1,ul:1},P=CKEDITOR.dom.walker.whitespaces(),I=CKEDITOR.dom.walker.bookmark(),
t=function(a){return!(P(a)||I(a))},z=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(a,l,d,f,e){if(!u[a.getName()])return[];f||(f=0);d||(d=[]);for(var g=0,b=a.getChildCount();g<b;g++){var h=a.getChild(g);h.type==CKEDITOR.NODE_ELEMENT&&h.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(h,l,d,f+1);if("li"==h.$.nodeName.toLowerCase()){var k={parent:a,indent:f,element:h,contents:[]};e?k.grandparent=e:(k.grandparent=a.getParent(),k.grandparent&&"li"==k.grandparent.$.nodeName.toLowerCase()&&
(k.grandparent=k.grandparent.getParent()));l&&CKEDITOR.dom.element.setMarker(l,h,"listarray_index",d.length);d.push(k);for(var c=0,p=h.getChildCount(),m;c<p;c++)m=h.getChild(c),m.type==CKEDITOR.NODE_ELEMENT&&u[m.getName()]?CKEDITOR.plugins.list.listToArray(m,l,d,f+1,k.grandparent):k.contents.push(m)}}return d},arrayToList:function(a,l,d,f,e){d||(d=0);if(!a||a.length<d+1)return null;for(var g,b=a[d].parent.getDocument(),h=new CKEDITOR.dom.documentFragment(b),k=null,c=d,p=Math.max(a[d].indent,0),m=
null,n,r,y=f==CKEDITOR.ENTER_P?"p":"div";;){var q=a[c];g=q.grandparent;n=q.element.getDirection(1);if(q.indent==p){k&&a[c].parent.getName()==k.getName()||(k=a[c].parent.clone(!1,1),e&&k.setAttribute("dir",e),h.append(k));m=k.append(q.element.clone(0,1));n!=k.getDirection(1)&&m.setAttribute("dir",n);for(g=0;g<q.contents.length;g++)m.append(q.contents[g].clone(1,1));c++}else if(q.indent==Math.max(p,0)+1)q=a[c-1].element.getDirection(1),c=CKEDITOR.plugins.list.arrayToList(a,null,c,f,q!=n?n:null),!m.getChildCount()&&
CKEDITOR.env.needsNbspFiller&&7>=b.$.documentMode&&m.append(b.createText(" ")),m.append(c.listNode),c=c.nextIndex;else if(-1==q.indent&&!d&&g){u[g.getName()]?(m=q.element.clone(!1,!0),n!=g.getDirection(1)&&m.setAttribute("dir",n)):m=new CKEDITOR.dom.documentFragment(b);var k=g.getDirection(1)!=n,w=q.element,B=w.getAttribute("class"),E=w.getAttribute("style"),J=m.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(f!=CKEDITOR.ENTER_BR||k||E||B),v,z=q.contents.length,x;for(g=0;g<z;g++)if(v=q.contents[g],I(v)&&
1<z)J?x=v.clone(1,1):m.append(v.clone(1,1));else if(v.type==CKEDITOR.NODE_ELEMENT&&v.isBlockBoundary()){k&&!v.getDirection()&&v.setAttribute("dir",n);r=v;var A=w.getAttribute("style");A&&r.setAttribute("style",A.replace(/([^;])$/,"$1;")+(r.getAttribute("style")||""));B&&v.addClass(B);r=null;x&&(m.append(x),x=null);m.append(v.clone(1,1))}else J?(r||(r=b.createElement(y),m.append(r),k&&r.setAttribute("dir",n)),E&&r.setAttribute("style",E),B&&r.setAttribute("class",B),x&&(r.append(x),x=null),r.append(v.clone(1,
1))):m.append(v.clone(1,1));x&&((r||m).append(x),x=null);m.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&c!=a.length-1&&(CKEDITOR.env.needsBrFiller&&(n=m.getLast())&&n.type==CKEDITOR.NODE_ELEMENT&&n.is("br")&&n.remove(),(n=m.getLast(t))&&n.type==CKEDITOR.NODE_ELEMENT&&n.is(CKEDITOR.dtd.$block)||m.append(b.createElement("br")));n=m.$.nodeName.toLowerCase();"div"!=n&&"p"!=n||m.appendBogus();h.append(m);k=null;c++}else return null;r=null;if(a.length<=c||Math.max(a[c].indent,0)<p)break}if(l)for(a=h.getFirst();a;){if(a.type==
CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(l,a),a.getName()in CKEDITOR.dtd.$listItem&&(d=a,b=e=f=void 0,f=d.getDirection()))){for(e=d.getParent();e&&!(b=e.getDirection());)e=e.getParent();f==b&&d.removeAttribute("dir")}a=a.getNextSourceNode()}return{listNode:h,nextIndex:c}}};var M=/^h[1-6]$/,O=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);C.prototype={exec:function(a){function l(a){return u[a.root.getName()]&&!d(a.root,[CKEDITOR.NODE_COMMENT])}function d(a,b){return CKEDITOR.tools.array.filter(a.getChildren().toArray(),
function(a){return-1===CKEDITOR.tools.array.indexOf(b,a.type)}).length}function f(a){var b=!0;if(0===a.getChildCount())return!1;a.forEach(function(a){if(a.type!==CKEDITOR.NODE_COMMENT)return b=!1},null,!0);return b}this.refresh(a,a.elementPath());var e=a.config,g=a.getSelection(),b=g&&g.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var h=a.editable();if(h.getFirst(t)){var k=1==b.length&&b[0];(e=k&&k.getEnclosedNode())&&e.is&&this.type==e.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else e.enterMode==
CKEDITOR.ENTER_BR?h.appendBogus():b[0].fixBlock(1,e.enterMode==CKEDITOR.ENTER_P?"p":"div"),g.selectRanges(b)}for(var e=g.createBookmarks(!0),h=[],c={},b=b.createIterator(),p=0;(k=b.getNextRange())&&++p;){var m=k.getBoundaryNodes(),n=m.startNode,r=m.endNode;n.type==CKEDITOR.NODE_ELEMENT&&"td"==n.getName()&&k.setStartAt(m.startNode,CKEDITOR.POSITION_AFTER_START);r.type==CKEDITOR.NODE_ELEMENT&&"td"==r.getName()&&k.setEndAt(m.endNode,CKEDITOR.POSITION_BEFORE_END);k=k.createIterator();for(k.forceBrBreak=
this.state==CKEDITOR.TRISTATE_OFF;m=k.getNextParagraph();)if(!m.getCustomData("list_block")&&!f(m)){CKEDITOR.dom.element.setMarker(c,m,"list_block",1);for(var y=a.elementPath(m),n=y.elements,r=0,y=y.blockLimit,q,w=n.length-1;0<=w&&(q=n[w]);w--)if(u[q.getName()]&&y.contains(q)){y.removeCustomData("list_group_object_"+p);(n=q.getCustomData("list_group_object"))?n.contents.push(m):(n={root:q,contents:[m]},h.push(n),CKEDITOR.dom.element.setMarker(c,q,"list_group_object",n));r=1;break}r||(r=y,r.getCustomData("list_group_object_"+
p)?r.getCustomData("list_group_object_"+p).contents.push(m):(n={root:r,contents:[m]},CKEDITOR.dom.element.setMarker(c,r,"list_group_object_"+p,n),h.push(n)))}}for(q=[];0<h.length;)n=h.shift(),this.state==CKEDITOR.TRISTATE_OFF?l(n)||(u[n.root.getName()]?K.call(this,a,n,c,q):L.call(this,a,n,q)):this.state==CKEDITOR.TRISTATE_ON&&u[n.root.getName()]&&!l(n)&&N.call(this,a,n,c);for(w=0;w<q.length;w++)G(q[w]);CKEDITOR.dom.element.clearAllMarkers(c);g.selectBookmarks(e);a.focus()},refresh:function(a,l){var d=
l.contains(u,1),f=l.blockLimit||l.root;d&&f.contains(d)?this.setState(d.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(a){a.blockless||(a.addCommand("numberedlist",new C("numberedlist","ol")),a.addCommand("bulletedlist",new C("bulletedlist","ul")),a.ui.addButton&&(a.ui.addButton("NumberedList",{label:a.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),a.ui.addButton("BulletedList",
{label:a.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),a.on("key",function(l){var d=l.data.domEvent.getKey(),f;if("wysiwyg"==a.mode&&d in{8:1,46:1}){var e=a.getSelection().getRanges()[0],g=e&&e.startPath();if(e&&e.collapsed){var b=8==d,h=a.editable(),k=new CKEDITOR.dom.walker(e.clone());k.evaluator=function(a){return t(a)&&!z(a)};k.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table"))};d=e.clone();if(b){var c;(c=g.contains(u))&&e.checkBoundaryOfElement(c,
CKEDITOR.START)&&(c=c.getParent())&&c.is("li")&&(c=A(c))?(f=c,c=c.getPrevious(t),d.moveToPosition(c&&z(c)?c:f,CKEDITOR.POSITION_BEFORE_START)):(k.range.setStartAt(h,CKEDITOR.POSITION_AFTER_START),k.range.setEnd(e.startContainer,e.startOffset),(c=k.previous())&&c.type==CKEDITOR.NODE_ELEMENT&&(c.getName()in u||c.is("li"))&&(c.is("li")||(k.range.selectNodeContents(c),k.reset(),k.evaluator=H,c=k.previous()),f=c,d.moveToElementEditEnd(f),d.moveToPosition(d.endPath().block,CKEDITOR.POSITION_BEFORE_END)));
if(f)D(a,d,e),l.cancel();else{var p=g.contains(u);p&&e.checkBoundaryOfElement(p,CKEDITOR.START)&&(f=p.getFirst(t),e.checkBoundaryOfElement(f,CKEDITOR.START)&&(c=p.getPrevious(t),A(f)?c&&(e.moveToElementEditEnd(c),e.select()):a.execCommand("outdent"),l.cancel()))}}else if(f=g.contains("li")){if(k.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),b=(h=f.getLast(t))&&H(h)?h:f,g=0,(c=k.next())&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in u&&c.equals(h)?(g=1,c=k.next()):e.checkBoundaryOfElement(b,CKEDITOR.END)&&
(g=2),g&&c){e=e.clone();e.moveToElementEditStart(c);if(1==g&&(d.optimize(),!d.startContainer.equals(f))){for(f=d.startContainer;f.is(CKEDITOR.dtd.$inline);)p=f,f=f.getParent();p&&d.moveToPosition(p,CKEDITOR.POSITION_AFTER_END)}2==g&&(d.moveToPosition(d.endPath().block,CKEDITOR.POSITION_BEFORE_END),e.endPath().block&&e.moveToPosition(e.endPath().block,CKEDITOR.POSITION_AFTER_START));D(a,d,e);l.cancel()}}else k.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),(c=k.next())&&c.type==CKEDITOR.NODE_ELEMENT&&
c.is(u)&&(c=c.getFirst(t),g.block&&e.checkStartOfBlock()&&e.checkEndOfBlock()?(g.block.remove(),e.moveToElementEditStart(c),e.select()):A(c)?(e.moveToElementEditStart(c),e.select()):(e=e.clone(),e.moveToElementEditStart(c),D(a,d,e)),l.cancel());setTimeout(function(){a.selectionChange(1)})}}}))}})})();(function(){CKEDITOR.plugins.liststyle={requires:"dialog,contextmenu",init:function(a){if(!a.blockless){var b;b=new CKEDITOR.dialogCommand("numberedListStyle",{requiredContent:"ol",allowedContent:"ol{list-style-type}[start]; li{list-style-type}[value]",contentTransformations:[["ol: listTypeToStyle"]]});b=a.addCommand("numberedListStyle",b);a.addFeature(b);CKEDITOR.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js");b=new CKEDITOR.dialogCommand("bulletedListStyle",{requiredContent:"ul",
allowedContent:"ul{list-style-type}",contentTransformations:[["ul: listTypeToStyle"]]});b=a.addCommand("bulletedListStyle",b);a.addFeature(b);CKEDITOR.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js");a.addMenuGroup("list",108);a.addMenuItems({numberedlist:{label:a.lang.liststyle.numberedTitle,group:"list",command:"numberedListStyle"},bulletedlist:{label:a.lang.liststyle.bulletedTitle,group:"list",command:"bulletedListStyle"}});a.contextMenu.addListener(function(a){if(!a||a.isReadOnly())return null;
for(;a;){var b=a.getName();if("ol"==b)return{numberedlist:CKEDITOR.TRISTATE_OFF};if("ul"==b)return{bulletedlist:CKEDITOR.TRISTATE_OFF};a=a.getParent()}return null})}}};CKEDITOR.plugins.add("liststyle",CKEDITOR.plugins.liststyle)})();(function(){function V(a,c,d){return n(c)&&n(d)&&d.equals(c.getNext(function(a){return!(E(a)||F(a)||u(a))}))}function z(a){this.upper=a[0];this.lower=a[1];this.set.apply(this,a.slice(2))}function O(a){var c=a.element;if(c&&n(c)&&(c=c.getAscendant(a.triggers,!0))&&a.editable.contains(c)){var d=P(c);if("true"==d.getAttribute("contenteditable"))return c;if(d.is(a.triggers))return d}return null}function ka(a,c,d){r(a,c);r(a,d);a=c.size.bottom;d=d.size.top;return a&&d?0|(a+d)/2:a||d}function w(a,c,d){return c=
c[d?"getPrevious":"getNext"](function(b){return b&&b.type==CKEDITOR.NODE_TEXT&&!E(b)||n(b)&&!u(b)&&!A(a,b)})}function q(a,c,d){return a>c&&a<d}function P(a,c){if(a.data("cke-editable"))return null;for(c||(a=a.getParent());a&&!a.data("cke-editable");){if(a.hasAttribute("contenteditable"))return a;a=a.getParent()}return null}function la(a){var c=a.doc,d=G('\x3cspan contenteditable\x3d"false" data-cke-magic-line\x3d"1" style\x3d"'+Q+"position:absolute;border-top:1px dashed "+a.boxColor+'"\x3e\x3c/span\x3e',
c),b=CKEDITOR.getUrl(this.path+"images/"+(t.hidpi?"hidpi/":"")+"icon"+(a.rtl?"-rtl":"")+".png");v(d,{attach:function(){this.wrap.getParent()||this.wrap.appendTo(a.editable,!0);return this},lineChildren:[v(G('\x3cspan title\x3d"'+a.editor.lang.magicline.title+'" contenteditable\x3d"false"\x3e\x26#8629;\x3c/span\x3e',c),{base:Q+"height:17px;width:17px;"+(a.rtl?"left":"right")+":17px;background:url("+b+") center no-repeat "+a.boxColor+";cursor:pointer;"+(t.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":
"")+(t.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),v(G(W,c),{base:X+"left:0px;border-left-color:"+a.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),v(G(W,c),{base:X+"right:0px;border-right-color:"+a.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px",
"border-width:0 8px 8px 0;top:0px"]})],detach:function(){this.wrap.getParent()&&this.wrap.remove();return this},mouseNear:function(){r(a,this);var b=a.holdDistance,c=this.size;return c&&q(a.mouse.y,c.top-b,c.bottom+b)&&q(a.mouse.x,c.left-b,c.right+b)?!0:!1},place:function(){var b=a.view,c=a.editable,d=a.trigger,h=d.upper,g=d.lower,l=h||g,p=l.getParent(),m={};this.trigger=d;h&&r(a,h,!0);g&&r(a,g,!0);r(a,p,!0);a.inInlineMode&&H(a,!0);p.equals(c)?(m.left=b.scroll.x,m.right=-b.scroll.x,m.width=""):(m.left=
l.size.left-l.size.margin.left+b.scroll.x-(a.inInlineMode?b.editable.left+b.editable.border.left:0),m.width=l.size.outerWidth+l.size.margin.left+l.size.margin.right+b.scroll.x,m.right="");h&&g?m.top=h.size.margin.bottom===g.size.margin.top?0|h.size.bottom+h.size.margin.bottom/2:h.size.margin.bottom<g.size.margin.top?h.size.bottom+h.size.margin.bottom:h.size.bottom+h.size.margin.bottom-g.size.margin.top:h?g||(m.top=h.size.bottom+h.size.margin.bottom):m.top=g.size.top-g.size.margin.top;d.is(C)||q(m.top,
b.scroll.y-15,b.scroll.y+5)?(m.top=a.inInlineMode?0:b.scroll.y,this.look(C)):d.is(D)||q(m.top,b.pane.bottom-5,b.pane.bottom+15)?(m.top=a.inInlineMode?b.editable.height+b.editable.padding.top+b.editable.padding.bottom:b.pane.bottom-1,this.look(D)):(a.inInlineMode&&(m.top-=b.editable.top+b.editable.border.top),this.look(x));a.inInlineMode&&(m.top--,m.top+=b.editable.scroll.top,m.left+=b.editable.scroll.left);for(var n in m)m[n]=CKEDITOR.tools.cssLength(m[n]);this.setStyles(m)},look:function(a){if(this.oldLook!=
a){for(var b=this.lineChildren.length,c;b--;)(c=this.lineChildren[b]).setAttribute("style",c.base+c.looks[0|a/2]);this.oldLook=a}},wrap:new R("span",a.doc)});for(c=d.lineChildren.length;c--;)d.lineChildren[c].appendTo(d);d.look(x);d.appendTo(d.wrap);d.unselectable();d.lineChildren[0].on("mouseup",function(b){d.detach();S(a,function(b){var c=a.line.trigger;b[c.is(I)?"insertBefore":"insertAfter"](c.is(I)?c.lower:c.upper)},!0);a.editor.focus();t.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();
b.data.preventDefault(!0)});d.on("mousedown",function(a){a.data.preventDefault(!0)});a.line=d}function S(a,c,d){var b=new CKEDITOR.dom.range(a.doc),e=a.editor,f;t.ie&&a.enterMode==CKEDITOR.ENTER_BR?f=a.doc.createText(J):(f=(f=P(a.element,!0))&&f.data("cke-enter-mode")||a.enterMode,f=new R(K[f],a.doc),f.is("br")||a.doc.createText(J).appendTo(f));d&&e.fire("saveSnapshot");c(f);b.moveToPosition(f,CKEDITOR.POSITION_AFTER_START);e.getSelection().selectRanges([b]);a.hotNode=f;d&&e.fire("saveSnapshot")}
function Y(a,c){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function d(b){var d=t.ie&&9>t.version?" ":J,f=a.hotNode&&a.hotNode.getText()==d&&a.element.equals(a.hotNode)&&a.lastCmdDirection===!!c;S(a,function(d){f&&a.hotNode&&a.hotNode.remove();d[c?"insertAfter":"insertBefore"](b);d.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!c});a.lastCmdDirection=!!c});t.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();a.line.detach()}return function(b){b=b.getSelection().getStartElement();
var e;b=b.getAscendant(Z,1);if(!aa(a,b)&&b&&!b.equals(a.editable)&&!b.contains(a.editable)){(e=P(b))&&"false"==e.getAttribute("contenteditable")&&(b=e);a.element=b;e=w(a,b,!c);var f;n(e)&&e.is(a.triggers)&&e.is(ma)&&(!w(a,e,!c)||(f=w(a,e,!c))&&n(f)&&f.is(a.triggers))?d(e):(f=O(a,b),n(f)&&(w(a,f,!c)?(b=w(a,f,!c))&&n(b)&&b.is(a.triggers)&&d(f):d(f)))}}}()}}function A(a,c){if(!c||c.type!=CKEDITOR.NODE_ELEMENT||!c.$)return!1;var d=a.line;return d.wrap.equals(c)||d.wrap.contains(c)}function n(a){return a&&
a.type==CKEDITOR.NODE_ELEMENT&&a.$}function u(a){if(!n(a))return!1;var c;(c=ba(a))||(n(a)?(c={left:1,right:1,center:1},c=!(!c[a.getComputedStyle("float")]&&!c[a.getAttribute("align")])):c=!1);return c}function ba(a){return!!{absolute:1,fixed:1}[a.getComputedStyle("position")]}function L(a,c){return n(c)?c.is(a.triggers):null}function aa(a,c){if(!c)return!1;for(var d=c.getParents(1),b=d.length;b--;)for(var e=a.tabuList.length;e--;)if(d[b].hasAttribute(a.tabuList[e]))return!0;return!1}function na(a,
c,d){c=c[d?"getLast":"getFirst"](function(b){return a.isRelevant(b)&&!b.is(oa)});if(!c)return!1;r(a,c);return d?c.size.top>a.mouse.y:c.size.bottom<a.mouse.y}function ca(a){var c=a.editable,d=a.mouse,b=a.view,e=a.triggerOffset;H(a);var f=d.y>(a.inInlineMode?b.editable.top+b.editable.height/2:Math.min(b.editable.height,b.pane.height)/2),c=c[f?"getLast":"getFirst"](function(a){return!(E(a)||F(a))});if(!c)return null;A(a,c)&&(c=a.line.wrap[f?"getPrevious":"getNext"](function(a){return!(E(a)||F(a))}));
if(!n(c)||u(c)||!L(a,c))return null;r(a,c);return!f&&0<=c.size.top&&q(d.y,0,c.size.top+e)?(a=a.inInlineMode||0===b.scroll.y?C:x,new z([null,c,I,M,a])):f&&c.size.bottom<=b.pane.height&&q(d.y,c.size.bottom-e,b.pane.height)?(a=a.inInlineMode||q(c.size.bottom,b.pane.height-e,b.pane.height)?D:x,new z([c,null,da,M,a])):null}function ea(a){var c=a.mouse,d=a.view,b=a.triggerOffset,e=O(a);if(!e)return null;r(a,e);var b=Math.min(b,0|e.size.outerHeight/2),f=[],k,h;if(q(c.y,e.size.top-1,e.size.top+b))h=!1;else if(q(c.y,
e.size.bottom-b,e.size.bottom+1))h=!0;else return null;if(u(e)||na(a,e,h)||e.getParent().is(fa))return null;var g=w(a,e,!h);if(g){if(g&&g.type==CKEDITOR.NODE_TEXT)return null;if(n(g)){if(u(g)||!L(a,g)||g.getParent().is(fa))return null;f=[g,e][h?"reverse":"concat"]().concat([T,M])}}else e.equals(a.editable[h?"getLast":"getFirst"](a.isRelevant))?(H(a),h&&q(c.y,e.size.bottom-b,d.pane.height)&&q(e.size.bottom,d.pane.height-b,d.pane.height)?k=D:q(c.y,0,e.size.top+b)&&(k=C)):k=x,f=[null,e][h?"reverse":
"concat"]().concat([h?da:I,M,k,e.equals(a.editable[h?"getLast":"getFirst"](a.isRelevant))?h?D:C:x]);return 0 in f?new z(f):null}function U(a,c,d,b){for(var e=c.getDocumentPosition(),f={},k={},h={},g={},l=y.length;l--;)f[y[l]]=parseInt(c.getComputedStyle.call(c,"border-"+y[l]+"-width"),10)||0,h[y[l]]=parseInt(c.getComputedStyle.call(c,"padding-"+y[l]),10)||0,k[y[l]]=parseInt(c.getComputedStyle.call(c,"margin-"+y[l]),10)||0;d&&!b||N(a,b);g.top=e.y-(d?0:a.view.scroll.y);g.left=e.x-(d?0:a.view.scroll.x);
g.outerWidth=c.$.offsetWidth;g.outerHeight=c.$.offsetHeight;g.height=g.outerHeight-(h.top+h.bottom+f.top+f.bottom);g.width=g.outerWidth-(h.left+h.right+f.left+f.right);g.bottom=g.top+g.outerHeight;g.right=g.left+g.outerWidth;a.inInlineMode&&(g.scroll={top:c.$.scrollTop,left:c.$.scrollLeft});return v({border:f,padding:h,margin:k,ignoreScroll:d},g,!0)}function r(a,c,d){if(!n(c))return c.size=null;if(!c.size)c.size={};else if(c.size.ignoreScroll==d&&c.size.date>new Date-ga)return null;return v(c.size,
U(a,c,d),{date:+new Date},!0)}function H(a,c){a.view.editable=U(a,a.editable,c,!0)}function N(a,c){a.view||(a.view={});var d=a.view;if(!(!c&&d&&d.date>new Date-ga)){var b=a.win,d=b.getScrollPosition(),b=b.getViewPaneSize();v(a.view,{scroll:{x:d.x,y:d.y,width:a.doc.$.documentElement.scrollWidth-b.width,height:a.doc.$.documentElement.scrollHeight-b.height},pane:{width:b.width,height:b.height,bottom:b.height+d.y},date:+new Date},!0)}}function pa(a,c,d,b){for(var e=b,f=b,k=0,h=!1,g=!1,l=a.view.pane.height,
p=a.mouse;p.y+k<l&&0<p.y-k;){h||(h=c(e,b));g||(g=c(f,b));!h&&0<p.y-k&&(e=d(a,{x:p.x,y:p.y-k}));!g&&p.y+k<l&&(f=d(a,{x:p.x,y:p.y+k}));if(h&&g)break;k+=2}return new z([e,f,null,null])}CKEDITOR.plugins.add("magicline",{init:function(a){var c=a.config,d=c.magicline_triggerOffset||30,b={editor:a,enterMode:c.enterMode,triggerOffset:d,holdDistance:0|d*(c.magicline_holdDistance||.5),boxColor:c.magicline_color||"#ff0000",rtl:"rtl"==c.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(c.magicline_tabuList||
[]),triggers:c.magicline_everywhere?Z:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},e,f,k;b.isRelevant=function(a){return n(a)&&!A(b,a)&&!u(a)};a.on("contentDom",function(){var d=a.editable(),g=a.document,l=a.window;v(b,{editable:d,inInlineMode:d.isInline(),doc:g,win:l,hotNode:null},!0);b.boundary=b.inInlineMode?b.editable:b.doc.getDocumentElement();d.is(B.$inline)||(b.inInlineMode&&!ba(d)&&d.setStyles({position:"relative",top:null,left:null}),la.call(this,b),N(b),d.attachListener(a,"beforeUndoImage",
function(){b.line.detach()}),d.attachListener(a,"beforeGetData",function(){b.line.wrap.getParent()&&(b.line.detach(),a.once("getData",function(){b.line.attach()},null,null,1E3))},null,null,0),d.attachListener(b.inInlineMode?g:g.getWindow().getFrame(),"mouseout",function(c){if("wysiwyg"==a.mode)if(b.inInlineMode){var d=c.data.$.clientX;c=c.data.$.clientY;N(b);H(b,!0);var e=b.view.editable,f=b.view.scroll;d>e.left-f.x&&d<e.right-f.x&&c>e.top-f.y&&c<e.bottom-f.y||(clearTimeout(k),k=null,b.line.detach())}else clearTimeout(k),
k=null,b.line.detach()}),d.attachListener(d,"keyup",function(){b.hiddenMode=0}),d.attachListener(d,"keydown",function(c){if("wysiwyg"==a.mode)switch(c.data.getKeystroke()){case 2228240:case 16:b.hiddenMode=1,b.line.detach()}}),d.attachListener(b.inInlineMode?d:g,"mousemove",function(c){f=!0;if("wysiwyg"==a.mode&&!a.readOnly&&!k){var d={x:c.data.$.clientX,y:c.data.$.clientY};k=setTimeout(function(){b.mouse=d;k=b.trigger=null;N(b);f&&!b.hiddenMode&&a.focusManager.hasFocus&&!b.line.mouseNear()&&(b.element=
ha(b,!0))&&((b.trigger=ca(b)||ea(b)||ia(b))&&!aa(b,b.trigger.upper||b.trigger.lower)?b.line.attach().place():(b.trigger=null,b.line.detach()),f=!1)},30)}}),d.attachListener(l,"scroll",function(){"wysiwyg"==a.mode&&(b.line.detach(),t.webkit&&(b.hiddenMode=1,clearTimeout(e),e=setTimeout(function(){b.mouseDown||(b.hiddenMode=0)},50)))}),d.attachListener(ja?g:l,"mousedown",function(){"wysiwyg"==a.mode&&(b.line.detach(),b.hiddenMode=1,b.mouseDown=1)}),d.attachListener(ja?g:l,"mouseup",function(){b.hiddenMode=
0;b.mouseDown=0}),a.addCommand("accessPreviousSpace",Y(b)),a.addCommand("accessNextSpace",Y(b,!0)),a.setKeystroke([[c.magicline_keystrokePrevious,"accessPreviousSpace"],[c.magicline_keystrokeNext,"accessNextSpace"]]),a.on("loadSnapshot",function(){var c,d,e,f;for(f in{p:1,br:1,div:1})for(c=a.document.getElementsByTag(f),e=c.count();e--;)if((d=c.getItem(e)).data("cke-magicline-hot")){b.hotNode=d;b.lastCmdDirection="true"===d.data("cke-magicline-dir")?!0:!1;return}}),a._.magiclineBackdoor={accessFocusSpace:S,
boxTrigger:z,isLine:A,getAscendantTrigger:O,getNonEmptyNeighbour:w,getSize:U,that:b,triggerEdge:ea,triggerEditable:ca,triggerExpand:ia})},this)}});var v=CKEDITOR.tools.extend,R=CKEDITOR.dom.element,G=R.createFromHtml,t=CKEDITOR.env,ja=CKEDITOR.env.ie&&9>CKEDITOR.env.version,B=CKEDITOR.dtd,K={},I=128,da=64,T=32,M=16,C=4,D=2,x=1,J=" ",fa=B.$listItem,oa=B.$tableContent,ma=v({},B.$nonEditable,B.$empty),Z=B.$block,ga=100,Q="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",
X=Q+"border-color:transparent;display:block;border-style:solid;",W="\x3cspan\x3e"+J+"\x3c/span\x3e";K[CKEDITOR.ENTER_BR]="br";K[CKEDITOR.ENTER_P]="p";K[CKEDITOR.ENTER_DIV]="div";z.prototype={set:function(a,c,d){this.properties=a+c+(d||x);return this},is:function(a){return(this.properties&a)==a}};var ha=function(){function a(a,d){var b=a.$.elementFromPoint(d.x,d.y);return b&&b.nodeType?new CKEDITOR.dom.element(b):null}return function(c,d,b){if(!c.mouse)return null;var e=c.doc,f=c.line.wrap;b=b||c.mouse;
var k=a(e,b);d&&A(c,k)&&(f.hide(),k=a(e,b),f.show());return!k||k.type!=CKEDITOR.NODE_ELEMENT||!k.$||t.ie&&9>t.version&&!c.boundary.equals(k)&&!c.boundary.contains(k)?null:k}}(),E=CKEDITOR.dom.walker.whitespaces(),F=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),ia=function(){function a(a){var b=a.element,e,f,k;if(!n(b)||b.contains(a.editable)||b.isReadOnly())return null;k=pa(a,function(a,b){return!b.equals(a)},function(a,b){return ha(a,!0,b)},b);e=k.upper;f=k.lower;if(V(a,e,f))return k.set(T,
8);if(e&&b.contains(e))for(;!e.getParent().equals(b);)e=e.getParent();else e=b.getFirst(function(b){return c(a,b)});if(f&&b.contains(f))for(;!f.getParent().equals(b);)f=f.getParent();else f=b.getLast(function(b){return c(a,b)});if(!e||!f)return null;r(a,e);r(a,f);if(!q(a.mouse.y,e.size.top,f.size.bottom))return null;for(var b=Number.MAX_VALUE,h,g,l,p;f&&!f.equals(e)&&(g=e.getNext(a.isRelevant));)h=Math.abs(ka(a,e,g)-a.mouse.y),h<b&&(b=h,l=e,p=g),e=g,r(a,e);if(!l||!p||!q(a.mouse.y,l.size.top,p.size.bottom))return null;
k.upper=l;k.lower=p;return k.set(T,8)}function c(a,b){return!(b&&b.type==CKEDITOR.NODE_TEXT||F(b)||u(b)||A(a,b)||b.type==CKEDITOR.NODE_ELEMENT&&b.$&&b.is("br"))}return function(c){var b=a(c),e;if(e=b){e=b.upper;var f=b.lower;e=!e||!f||u(f)||u(e)||f.equals(e)||e.equals(f)||f.contains(e)||e.contains(f)?!1:L(c,e)&&L(c,f)&&V(c,e,f)?!0:!1}return e?b:null}}(),y=["top","left","right","bottom"]})();CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51;
CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52;(function(){function n(a){if(!a||a.type!=CKEDITOR.NODE_ELEMENT||"form"!=a.getName())return[];for(var e=[],f=["style","className"],b=0;b<f.length;b++){var c=a.$.elements.namedItem(f[b]);c&&(c=new CKEDITOR.dom.element(c),e.push([c,c.nextSibling]),c.remove())}return e}function t(a,e){if(a&&a.type==CKEDITOR.NODE_ELEMENT&&"form"==a.getName()&&0<e.length)for(var f=e.length-1;0<=f;f--){var b=e[f][0],c=e[f][1];c?b.insertBefore(c):b.appendTo(a)}}function r(a,e){var f=n(a),b={},c=a.$;e||(b["class"]=c.className||
"",c.className="");b.inline=c.style.cssText||"";e||(c.style.cssText="position: static; overflow: visible");t(f);return b}function u(a,e){var f=n(a),b=a.$;"class"in e&&(b.className=e["class"]);"inline"in e&&(b.style.cssText=e.inline);t(f)}function v(a){if(!a.editable().isInline()){var e=CKEDITOR.instances,f;for(f in e){var b=e[f];"wysiwyg"!=b.mode||b.readOnly||(b=b.document.getBody(),b.setAttribute("contentEditable",!1),b.setAttribute("contentEditable",!0))}a.editable().hasFocus&&(a.toolbox.focus(),
a.focus())}}CKEDITOR.plugins.add("maximize",{init:function(a){function e(){var b=c.getViewPaneSize();a.resize(b.width,b.height,null,!0)}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var f=a.lang,b=CKEDITOR.document,c=b.getWindow(),l,m,p,n=CKEDITOR.TRISTATE_OFF;a.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var h=a.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_inner")}),g=a.ui.space("contents");
if("wysiwyg"==a.mode){var d=a.getSelection();l=d&&d.getRanges();m=c.getScrollPosition()}else{var k=a.editable().$;l=!CKEDITOR.env.ie&&[k.selectionStart,k.selectionEnd];m=[k.scrollLeft,k.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){c.on("resize",e);p=c.getScrollPosition();for(d=a.container;d=d.getParent();)d.setCustomData("maximize_saved_styles",r(d)),d.setStyle("z-index",a.config.baseFloatZIndex-5);g.setCustomData("maximize_saved_styles",r(g,!0));h.setCustomData("maximize_saved_styles",r(h,!0));
g={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0};b.getDocumentElement().setStyles(g);!CKEDITOR.env.gecko&&b.getDocumentElement().setStyle("position","fixed");CKEDITOR.env.gecko&&CKEDITOR.env.quirks||b.getBody().setStyles(g);CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(0,0)},0):c.$.scrollTo(0,0);h.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute");h.$.offsetLeft;h.setStyles({"z-index":a.config.baseFloatZIndex-5,left:"0px",top:"0px"});h.addClass("cke_maximized");
e();g=h.getDocumentPosition();h.setStyles({left:-1*g.x+"px",top:-1*g.y+"px"});CKEDITOR.env.gecko&&v(a)}else if(this.state==CKEDITOR.TRISTATE_ON){c.removeListener("resize",e);for(var d=[g,h],q=0;q<d.length;q++)u(d[q],d[q].getCustomData("maximize_saved_styles")),d[q].removeCustomData("maximize_saved_styles");for(d=a.container;d=d.getParent();)u(d,d.getCustomData("maximize_saved_styles")),d.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(p.x,p.y)},0):c.$.scrollTo(p.x,
p.y);h.removeClass("cke_maximized");CKEDITOR.env.webkit&&(h.setStyle("display","inline"),setTimeout(function(){h.setStyle("display","block")},0));a.fire("resize",{outerHeight:a.container.$.offsetHeight,contentsHeight:g.$.offsetHeight,outerWidth:a.container.$.offsetWidth})}this.toggleState();if(d=this.uiItems[0])g=this.state==CKEDITOR.TRISTATE_OFF?f.maximize.maximize:f.maximize.minimize,d=CKEDITOR.document.getById(d._.id),d.getChild(1).setHtml(g),d.setAttribute("title",g),d.setAttribute("href",'javascript:void("'+
g+'");');"wysiwyg"==a.mode?l?(CKEDITOR.env.gecko&&v(a),a.getSelection().selectRanges(l),(k=a.getSelection().getStartElement())&&k.scrollIntoView(!0)):c.$.scrollTo(m.x,m.y):(l&&(k.selectionStart=l[0],k.selectionEnd=l[1]),k.scrollLeft=m[0],k.scrollTop=m[1]);l=m=null;n=this.state;a.fire("maximize",this.state)},canUndo:!1});a.ui.addButton&&a.ui.addButton("Maximize",{label:f.maximize.maximize,command:"maximize",toolbar:"tools,10"});a.on("mode",function(){var b=a.getCommand("maximize");b.setState(b.state==
CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:n)},null,null,100)}}})})();CKEDITOR.plugins.add("newpage",{init:function(a){a.addCommand("newpage",{modes:{wysiwyg:1,source:1},exec:function(b){var a=this;b.setData(b.config.newpage_html||"",function(){b.focus();setTimeout(function(){b.fire("afterCommandExec",{name:"newpage",command:a});b.selectionChange()},200)})},async:!0});a.ui.addButton&&a.ui.addButton("NewPage",{label:a.lang.newpage.toolbar,command:"newpage",toolbar:"document,20"})}});(function(){function e(a){return{"aria-label":a,"class":"cke_pagebreak",contenteditable:"false","data-cke-display-name":"pagebreak","data-cke-pagebreak":1,style:"page-break-after: always",title:a}}CKEDITOR.plugins.add("pagebreak",{requires:"fakeobjects",onLoad:function(){var a=("background:url("+CKEDITOR.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;clear:both;width:100%;border-top:#999 1px dotted;border-bottom:#999 1px dotted;padding:0;height:7px;cursor:default;").replace(/;/g,
" !important;");CKEDITOR.addCss("div.cke_pagebreak{"+a+"}")},init:function(a){a.blockless||(a.addCommand("pagebreak",CKEDITOR.plugins.pagebreakCmd),a.ui.addButton&&a.ui.addButton("PageBreak",{label:a.lang.pagebreak.toolbar,command:"pagebreak",toolbar:"insert,70"}),CKEDITOR.env.webkit&&a.on("contentDom",function(){a.document.on("click",function(c){c=c.data.getTarget();c.is("div")&&c.hasClass("cke_pagebreak")&&a.getSelection().selectElement(c)})}))},afterInit:function(a){function c(f){CKEDITOR.tools.extend(f.attributes,
e(a.lang.pagebreak.alt),!0);f.children.length=0}var b=a.dataProcessor,g=b&&b.dataFilter,b=b&&b.htmlFilter,h=/page-break-after\s*:\s*always/i,k=/display\s*:\s*none/i;b&&b.addRules({attributes:{"class":function(a,c){var b=a.replace("cke_pagebreak","");if(b!=a){var d=CKEDITOR.htmlParser.fragment.fromHtml('\x3cspan style\x3d"display: none;"\x3e\x26nbsp;\x3c/span\x3e').children[0];c.children.length=0;c.add(d);d=c.attributes;delete d["aria-label"];delete d.contenteditable;delete d.title}return b}}},{applyToAll:!0,
priority:5});g&&g.addRules({elements:{div:function(a){if(a.attributes["data-cke-pagebreak"])c(a);else if(h.test(a.attributes.style)){var b=a.children[0];b&&"span"==b.name&&k.test(b.attributes.style)&&c(a)}}}})}});CKEDITOR.plugins.pagebreakCmd={exec:function(a){a.insertElement(CKEDITOR.plugins.pagebreak.createElement(a))},context:"div",allowedContent:{div:{styles:"!page-break-after"},span:{match:function(a){return(a=a.parent)&&"div"==a.name&&a.styles&&a.styles["page-break-after"]},styles:"display"}},
requiredContent:"div{page-break-after}"};CKEDITOR.plugins.pagebreak={createElement:function(a){return a.document.createElement("div",{attributes:e(a.lang.pagebreak.alt)})}}})();(function(){var f={canUndo:!1,async:!0,exec:function(a,b){var c=a.lang,e=CKEDITOR.tools.keystrokeToString(c.common.keyboard,a.getCommandKeystroke(CKEDITOR.env.ie?a.commands.paste:this)),d=b&&"undefined"!==typeof b.notification?b.notification:!b||!b.from||"keystrokeHandler"===b.from&&CKEDITOR.env.ie,c=d&&"string"===typeof d?d:c.pastetext.pasteNotification.replace(/%1/,'\x3ckbd aria-label\x3d"'+e.aria+'"\x3e'+e.display+"\x3c/kbd\x3e");a.execCommand("paste",{type:"text",notification:d?c:!1})}};CKEDITOR.plugins.add("pastetext",
{requires:"clipboard",init:function(a){var b=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;a.addCommand("pastetext",f);a.setKeystroke(b,"pastetext");CKEDITOR.plugins.clipboard.addPasteButton(a,"PasteText",{label:a.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"});if(a.config.forcePasteAsPlainText)a.on("beforePaste",function(a){"html"!=a.data.type&&(a.data.type="text")});a.on("pasteState",function(b){a.getCommand("pastetext").setState(b.data)})}})})();(function(){function n(a,b){return CKEDITOR.tools.array.filter(a,function(a){return a.canHandle(b)}).sort(function(a,c){return a.priority===c.priority?0:a.priority-c.priority})}function k(a,b){var d=a.shift();d&&d.handle(b,function(){k(a,b)})}function p(a){var b=CKEDITOR.tools.array.reduce(a,function(a,c){return CKEDITOR.tools.array.isArray(c.filters)?a.concat(c.filters):a},[]);return CKEDITOR.tools.array.filter(b,function(a,c){return CKEDITOR.tools.array.indexOf(b,a)===c})}function l(a,b){var d=
0,c,e;if(!CKEDITOR.tools.array.isArray(a)||0===a.length)return!0;c=CKEDITOR.tools.array.filter(a,function(a){return-1===CKEDITOR.tools.array.indexOf(m,a)});if(0<c.length)for(e=0;e<c.length;e++)(function(a){CKEDITOR.scriptLoader.queue(a,function(e){e&&m.push(a);++d===c.length&&b()})})(c[e]);return 0===c.length}var m=[],q=CKEDITOR.tools.createClass({$:function(){this.handlers=[]},proto:{register:function(a){"number"!==typeof a.priority&&(a.priority=10);this.handlers.push(a)},addPasteListener:function(a){a.on("paste",
function(b){var d=n(this.handlers,b),c;if(0!==d.length){c=p(d);c=l(c,function(){return a.fire("paste",b.data)});if(!c)return b.cancel();k(d,b)}},this,null,3)}}});CKEDITOR.plugins.add("pastetools",{requires:"clipboard",beforeInit:function(a){a.pasteTools=new q;a.pasteTools.addPasteListener(a)}});CKEDITOR.plugins.pastetools={filters:{},loadFilters:l,createFilter:function(a){var b=CKEDITOR.tools.array.isArray(a.rules)?a.rules:[a.rules],d=a.additionalTransforms;return function(a,e){var f=new CKEDITOR.htmlParser.basicWriter,
g=new CKEDITOR.htmlParser.filter,h;d&&(a=d(a,e));CKEDITOR.tools.array.forEach(b,function(b){g.addRules(b(a,e,g))});h=CKEDITOR.htmlParser.fragment.fromHtml(a);g.applyTo(h);h.writeHtml(f);return f.getHtml()}},getClipboardData:function(a,b){var d;return CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"text/html"===b?(d=a.dataTransfer.getData(b,!0))||"text/html"!==b?d:a.dataValue:null},getConfigValue:function(a,b){if(a&&a.config){var d=CKEDITOR.tools,c=a.config,e=d.object.keys(c),f=["pasteTools_"+
b,"pasteFromWord_"+b,"pasteFromWord"+d.capitalize(b,!0)],f=d.array.find(f,function(a){return-1!==d.array.indexOf(e,a)});return c[f]}},getContentGeneratorName:function(a){if((a=/<meta\s+name=["']?generator["']?\s+content=["']?(\w+)/gi.exec(a))&&a.length)return a=a[1].toLowerCase(),0===a.indexOf("microsoft")?"microsoft":0===a.indexOf("libreoffice")?"libreoffice":"unknown"}};CKEDITOR.pasteFilters={}})();(function(){CKEDITOR.plugins.add("pastefromgdocs",{requires:"pastetools",init:function(a){var c=CKEDITOR.plugins.getPath("pastetools"),d=this.path;a.pasteTools.register({filters:[CKEDITOR.getUrl(c+"filter/common.js"),CKEDITOR.getUrl(d+"filter/default.js")],canHandle:function(a){return/id=(\"|\')?docs\-internal\-guid\-/.test(a.data.dataValue)},handle:function(c,d){var b=c.data,e=CKEDITOR.plugins.pastetools.getClipboardData(b,"text/html");b.dontFilter=!0;b.dataValue=CKEDITOR.pasteFilters.gdocs(e,a);
!0===a.config.forcePasteAsPlainText&&(b.type="text");d()}})}})})();(function(){CKEDITOR.plugins.add("pastefromword",{requires:"pastetools",init:function(a){function g(a){var b=CKEDITOR.plugins.pastefromword&&CKEDITOR.plugins.pastefromword.images,c,d=[];if(b&&a.editor.filter.check("img[src]")&&(c=b.extractTagsFromHtml(a.data.dataValue),0!==c.length&&(b=b.extractFromRtf(a.data.dataTransfer["text/rtf"]),0!==b.length&&(CKEDITOR.tools.array.forEach(b,function(b){d.push(b.type?"data:"+b.type+";base64,"+CKEDITOR.tools.convertBytesToBase64(CKEDITOR.tools.convertHexStringToBytes(b.hex)):
null)},this),c.length===d.length))))for(b=0;b<c.length;b++)0===c[b].indexOf("file://")&&d[b]&&(a.data.dataValue=a.data.dataValue.replace(c[b],d[b]))}var e=0,f=CKEDITOR.plugins.getPath("pastetools"),h=this.path,k=void 0===a.config.pasteFromWord_inlineImages?!0:a.config.pasteFromWord_inlineImages,f=[CKEDITOR.getUrl(f+"filter/common.js"),CKEDITOR.getUrl(h+"filter/default.js")];a.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(a,b){e=1;a.execCommand("paste",{type:"html",notification:b&&
"undefined"!==typeof b.notification?b.notification:!0})}});CKEDITOR.plugins.clipboard.addPasteButton(a,"PasteFromWord",{label:a.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"});a.pasteTools.register({filters:a.config.pasteFromWordCleanupFile?[a.config.pasteFromWordCleanupFile]:f,canHandle:function(a){a=CKEDITOR.plugins.pastetools.getClipboardData(a.data,"text/html");var b=CKEDITOR.plugins.pastetools.getContentGeneratorName(a),c=/(class="?Mso|style=["'][^"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/,
b=b?"microsoft"===b:c.test(a);return a&&(e||b)},handle:function(f,b){var c=f.data,d=CKEDITOR.plugins.pastetools.getClipboardData(c,"text/html"),g=CKEDITOR.plugins.pastetools.getClipboardData(c,"text/rtf"),d={dataValue:d,dataTransfer:{"text/rtf":g}};if(!1!==a.fire("pasteFromWord",d)||e){c.dontFilter=!0;if(e||!a.config.pasteFromWordPromptCleanup||confirm(a.lang.pastefromword.confirmCleanup))d.dataValue=CKEDITOR.cleanWord(d.dataValue,a),a.fire("afterPasteFromWord",d),c.dataValue=d.dataValue,!0===a.config.forcePasteAsPlainText?
c.type="text":CKEDITOR.plugins.clipboard.isCustomCopyCutSupported||"allow-word"!==a.config.forcePasteAsPlainText||(c.type="html");e=0;b()}}});if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&k)a.on("afterPasteFromWord",g)}})})();(function(){function h(a){var e=CKEDITOR.plugins.getPath("preview"),d=a.config,g=a.lang.preview.preview,f=function(){var a=location.origin,b=location.pathname;if(!d.baseHref&&!CKEDITOR.env.gecko)return"";if(d.baseHref)return'\x3cbase href\x3d"{HREF}"\x3e'.replace("{HREF}",d.baseHref);b=b.split("/");b.pop();b=b.join("/");return'\x3cbase href\x3d"{HREF}"\x3e'.replace("{HREF}",a+b+"/")}();return d.fullPage?a.getData().replace(/<head>/,"$\x26"+f).replace(/[^>]*(?=<\/title>)/,"$\x26 \x26mdash; "+g):d.docType+
'\x3chtml dir\x3d"'+d.contentsLangDirection+'"\x3e\x3chead\x3e'+f+"\x3ctitle\x3e"+g+"\x3c/title\x3e"+CKEDITOR.tools.buildStyleHtml(d.contentsCss)+'\x3clink rel\x3d"stylesheet" media\x3d"screen" href\x3d"'+e+'styles/screen.css"\x3e\x3c/head\x3e'+function(){var c="\x3cbody\x3e",b=a.document&&a.document.getBody();if(!b)return c;b.getAttribute("id")&&(c=c.replace("\x3e",' id\x3d"'+b.getAttribute("id")+'"\x3e'));b.getAttribute("class")&&(c=c.replace("\x3e",' class\x3d"'+b.getAttribute("class")+'"\x3e'));
return c}()+a.getData()+"\x3c/body\x3e\x3c/html\x3e"}CKEDITOR.plugins.add("preview",{init:function(a){a.addCommand("preview",{modes:{wysiwyg:1},canUndo:!1,readOnly:1,exec:CKEDITOR.plugins.preview.createPreview});a.ui.addButton&&a.ui.addButton("Preview",{label:a.lang.preview.preview,command:"preview",toolbar:"document,40"})}});CKEDITOR.plugins.preview={createPreview:function(a){var e,d,g,f={dataValue:h(a)},c=window.screen;e=Math.round(.8*c.width);d=Math.round(.7*c.height);g=Math.round(.1*c.width);
c=CKEDITOR.env.ie?"javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad \x3d null;})() )":null;var b;b=CKEDITOR.plugins.getPath("preview");b=CKEDITOR.env.gecko?CKEDITOR.getUrl(b+"preview.html"):"";if(!1===a.fire("contentPreview",f))return!1;if(c||b)window._cke_htmlToLoad=f.dataValue;a=window.open(b,null,["toolbar\x3dyes,location\x3dno,status\x3dyes,menubar\x3dyes,scrollbars\x3dyes,resizable\x3dyes",
"width\x3d"+e,"height\x3d"+d,"left\x3d"+g].join());c&&a&&(a.location=c);window._cke_htmlToLoad||(e=a.document,e.open(),e.write(f.dataValue),e.close());return new CKEDITOR.dom.window(a)}}})();(function(){CKEDITOR.plugins.add("print",{requires:"preview",init:function(a){a.addCommand("print",CKEDITOR.plugins.print);a.ui.addButton&&a.ui.addButton("Print",{label:a.lang.print.toolbar,command:"print",toolbar:"document,50"})}});CKEDITOR.plugins.print={exec:function(a){function c(){CKEDITOR.env.gecko?b.print():b.document.execCommand("Print");b.close()}a=CKEDITOR.plugins.preview.createPreview(a);var b;if(a){b=a.$;if("complete"===b.document.readyState)return c();a.once("load",c)}},canUndo:!1,readOnly:1,
modes:{wysiwyg:1}}})();CKEDITOR.plugins.add("removeformat",{init:function(a){a.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat);a.ui.addButton&&a.ui.addButton("RemoveFormat",{label:a.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}});
CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(a){for(var h=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp("^(?:"+a.config.removeFormatTags.replace(/,/g,"|")+")$","i")),d=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(",")),f=CKEDITOR.plugins.removeformat.filter,p=a.getSelection().getRanges().createIterator(),q=function(a){return a.type==CKEDITOR.NODE_ELEMENT},n=[],c;c=p.getNextRange();){var k=c.createBookmark();c=a.createRange();
c.setStartBefore(k.startNode);k.endNode&&c.setEndAfter(k.endNode);c.collapsed||c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var e=c.createBookmark(),b=e.startNode,l=e.endNode,m=function(b){for(var c=a.elementPath(b),e=c.elements,d=1,g;(g=e[d])&&!g.equals(c.block)&&!g.equals(c.blockLimit);d++)h.test(g.getName())&&f(a,g)&&b.breakParent(g)};m(b);if(l)for(m(l),b=b.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);b&&!b.equals(l);)if(b.isReadOnly()){if(b.getPosition(l)&CKEDITOR.POSITION_CONTAINS)break;b=b.getNext(q)}else m=
b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==b.getName()&&b.data("cke-realelement")||b.hasAttribute("data-cke-bookmark")||!f(a,b)||(h.test(b.getName())?b.remove(1):(b.removeAttributes(d),a.fire("removeFormatCleanup",b))),b=m;e.startNode.remove();e.endNode&&e.endNode.remove();c.moveToBookmark(k);n.push(c)}a.forceNextSelectionCheck();a.getSelection().selectRanges(n)}}},filter:function(a,h){for(var d=a._.removeFormatFilters||[],f=0;f<d.length;f++)if(!1===d[f](h))return!1;return!0}};
CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(a)};CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var";CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign";(function(){var b={readOnly:1,modes:{wysiwyg:1,source:1},exec:function(a){if(a.fire("save")&&(a=a.element.$.form))try{a.submit()}catch(b){a.submit.click&&a.submit.click()}}};CKEDITOR.plugins.add("save",{init:function(a){a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.addCommand("save",b).startDisabled=!a.element.$.form,a.ui.addButton&&a.ui.addButton("Save",{label:a.lang.save.toolbar,command:"save",toolbar:"document,10"}))}})})();(function(){CKEDITOR.plugins.add("selectall",{init:function(b){b.addCommand("selectAll",{modes:{wysiwyg:1,source:1},exec:function(a){var b=a.editable();if(b.is("textarea"))a=b.$,CKEDITOR.env.ie&&a.createTextRange?a.createTextRange().execCommand("SelectAll"):(a.selectionStart=0,a.selectionEnd=a.value.length),a.focus();else{if(b.is("body"))a.document.$.execCommand("SelectAll",!1,null);else{var c=a.createRange();c.selectNodeContents(b);c.select()}a.forceNextSelectionCheck();a.selectionChange()}},canUndo:!1});
b.ui.addButton&&b.ui.addButton("SelectAll",{label:b.lang.selectall.toolbar,command:"selectAll",toolbar:"selection,10"})}})})();(function(){var k={readOnly:1,preserveState:!0,editorFocus:!1,exec:function(a){this.toggleState();this.refresh(a)},refresh:function(a){if(a.document){var c=this.state!=CKEDITOR.TRISTATE_ON||a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!a.focusManager.hasFocus?"removeClass":"attachClass";a.editable()[c]("cke_show_blocks")}}};CKEDITOR.plugins.add("showblocks",{onLoad:function(){var a="p div pre address blockquote h1 h2 h3 h4 h5 h6".split(" "),c,b,e,f,k=CKEDITOR.getUrl(this.path),l=!(CKEDITOR.env.ie&&
9>CKEDITOR.env.version),g=l?":not([contenteditable\x3dfalse]):not(.cke_show_blocks_off)":"",d,h;for(c=b=e=f="";d=a.pop();)h=a.length?",":"",c+=".cke_show_blocks "+d+g+h,e+=".cke_show_blocks.cke_contents_ltr "+d+g+h,f+=".cke_show_blocks.cke_contents_rtl "+d+g+h,b+=".cke_show_blocks "+d+g+"{background-image:url("+CKEDITOR.getUrl(k+"images/block_"+d+".png")+")}";CKEDITOR.addCss((c+"{background-repeat:no-repeat;border:1px dotted gray;padding-top:8px}").concat(b,e+"{background-position:top left;padding-left:8px}",
f+"{background-position:top right;padding-right:8px}"));l||CKEDITOR.addCss(".cke_show_blocks [contenteditable\x3dfalse],.cke_show_blocks .cke_show_blocks_off{border:none;padding-top:0;background-image:none}.cke_show_blocks.cke_contents_rtl [contenteditable\x3dfalse],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{padding-right:0}.cke_show_blocks.cke_contents_ltr [contenteditable\x3dfalse],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{padding-left:0}")},init:function(a){function c(){b.refresh(a)}
if(!a.blockless){var b=a.addCommand("showblocks",k);b.canUndo=!1;a.config.startupOutlineBlocks&&b.setState(CKEDITOR.TRISTATE_ON);a.ui.addButton&&a.ui.addButton("ShowBlocks",{label:a.lang.showblocks.toolbar,command:"showblocks",toolbar:"tools,20"});a.on("mode",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(a)});a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(a.on("focus",c),a.on("blur",c));a.on("contentDom",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(a)})}}})})();(function(){var f={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(a){this.toggleState();this.refresh(a)},refresh:function(a){if(a.document){var b=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";a.editable()[b]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var a;a=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 \x3e tr \x3e td, .%1 table.%2 \x3e tr \x3e th,;.%1 table.%2 \x3e tbody \x3e tr \x3e td, .%1 table.%2 \x3e tbody \x3e tr \x3e th,;.%1 table.%2 \x3e thead \x3e tr \x3e td, .%1 table.%2 \x3e thead \x3e tr \x3e th,;.%1 table.%2 \x3e tfoot \x3e tr \x3e td, .%1 table.%2 \x3e tfoot \x3e tr \x3e th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,
"cke_show_border").replace(/%1/g,"cke_show_borders ");CKEDITOR.addCss(a)},init:function(a){var b=a.addCommand("showborders",f);b.canUndo=!1;!1!==a.config.startupShowBorders&&b.setState(CKEDITOR.TRISTATE_ON);a.on("mode",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(a)},null,null,100);a.on("contentDom",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(a)});a.on("removeFormatCleanup",function(d){d=d.data;a.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&d.is("table")&&(!d.hasAttribute("border")||
0>=parseInt(d.getAttribute("border"),10))&&d.addClass("cke_show_border")})},afterInit:function(a){var b=a.dataProcessor;a=b&&b.dataFilter;b=b&&b.htmlFilter;a&&a.addRules({elements:{table:function(a){a=a.attributes;var b=a["class"],c=parseInt(a.border,10);c&&!(0>=c)||b&&-1!=b.indexOf("cke_show_border")||(a["class"]=(b||"")+" cke_show_border")}}});b&&b.addRules({elements:{table:function(a){a=a.attributes;var b=a["class"];b&&(a["class"]=b.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,
""))}}})}});CKEDITOR.on("dialogDefinition",function(a){var b=a.data.name;if("table"==b||"tableProperties"==b)if(a=a.data.definition,b=a.getContents("info").get("txtBorder"),b.commit=CKEDITOR.tools.override(b.commit,function(a){return function(b,c){a.apply(this,arguments);var e=parseInt(this.getValue(),10);c[!e||0>=e?"addClass":"removeClass"]("cke_show_border")}}),a=(a=a.getContents("advanced"))&&a.get("advCSSClasses"))a.setup=CKEDITOR.tools.override(a.setup,function(a){return function(){a.apply(this,
arguments);this.setValue(this.getValue().replace(/cke_show_border/,""))}}),a.commit=CKEDITOR.tools.override(a.commit,function(a){return function(b,c){a.apply(this,arguments);parseInt(c.getAttribute("border"),10)||c.addClass("cke_show_border")}})})})();(function(){CKEDITOR.plugins.add("sourcearea",{init:function(a){function d(){var a=e&&this.equals(CKEDITOR.document.getActive());this.hide();this.setStyle("height",this.getParent().$.clientHeight+"px");this.setStyle("width",this.getParent().$.clientWidth+"px");this.show();a&&this.focus()}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var f=CKEDITOR.plugins.sourcearea;a.addMode("source",function(e){var b=a.ui.space("contents").getDocument().createElement("textarea");b.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?
"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",a.config.sourceAreaTabSize||4)));b.setAttribute("dir","ltr");b.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu");a.ui.space("contents").append(b);b=a.editable(new c(a,b));b.setData(a.getData(1));CKEDITOR.env.ie&&(b.attachListener(a,"resize",d,b),b.attachListener(CKEDITOR.document.getWindow(),"resize",d,b),CKEDITOR.tools.setTimeout(d,0,b));a.fire("ariaWidget",
this);e()});a.addCommand("source",f.commands.source);a.ui.addButton&&a.ui.addButton("Source",{label:a.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"});a.on("mode",function(){a.getCommand("source").setState("source"==a.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var e=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var c=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(a){this.setValue(a);this.status="ready";this.editor.fire("dataReady")},getData:function(){return this.getValue()},
insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(a){this[(a?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){c.baseProto.detach.call(this);this.clearCustomData();this.remove()}}})})();
CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(c){"wysiwyg"==c.mode&&c.fire("saveSnapshot");c.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED);c.setMode("source"==c.mode?"wysiwyg":"source")},canUndo:!1}}};CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(a){var c=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js");
a.addCommand("specialchar",{exec:function(){var b=a.langCode,b=c.availableLangs[b]?b:c.availableLangs[b.replace(/-.*/,"")]?b.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(c.path+"dialogs/lang/"+b+".js"),function(){CKEDITOR.tools.extend(a.lang.specialchar,c.langEntries[b]);a.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1});a.ui.addButton&&a.ui.addButton("SpecialChar",{label:a.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}});
CKEDITOR.config.specialChars="! \x26quot; # $ % \x26amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; \x26lt; \x3d \x26gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ \x26euro; \x26lsquo; \x26rsquo; \x26ldquo; \x26rdquo; \x26ndash; \x26mdash; \x26iexcl; \x26cent; \x26pound; \x26curren; \x26yen; \x26brvbar; \x26sect; \x26uml; \x26copy; \x26ordf; \x26laquo; \x26not; \x26reg; \x26macr; \x26deg; \x26sup2; \x26sup3; \x26acute; \x26micro; \x26para; \x26middot; \x26cedil; \x26sup1; \x26ordm; \x26raquo; \x26frac14; \x26frac12; \x26frac34; \x26iquest; \x26Agrave; \x26Aacute; \x26Acirc; \x26Atilde; \x26Auml; \x26Aring; \x26AElig; \x26Ccedil; \x26Egrave; \x26Eacute; \x26Ecirc; \x26Euml; \x26Igrave; \x26Iacute; \x26Icirc; \x26Iuml; \x26ETH; \x26Ntilde; \x26Ograve; \x26Oacute; \x26Ocirc; \x26Otilde; \x26Ouml; \x26times; \x26Oslash; \x26Ugrave; \x26Uacute; \x26Ucirc; \x26Uuml; \x26Yacute; \x26THORN; \x26szlig; \x26agrave; \x26aacute; \x26acirc; \x26atilde; \x26auml; \x26aring; \x26aelig; \x26ccedil; \x26egrave; \x26eacute; \x26ecirc; \x26euml; \x26igrave; \x26iacute; \x26icirc; \x26iuml; \x26eth; \x26ntilde; \x26ograve; \x26oacute; \x26ocirc; \x26otilde; \x26ouml; \x26divide; \x26oslash; \x26ugrave; \x26uacute; \x26ucirc; \x26uuml; \x26yacute; \x26thorn; \x26yuml; \x26OElig; \x26oelig; \x26#372; \x26#374 \x26#373 \x26#375; \x26sbquo; \x26#8219; \x26bdquo; \x26hellip; \x26trade; \x26#9658; \x26bull; \x26rarr; \x26rArr; \x26hArr; \x26diams; \x26asymp;".split(" ");CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",onLoad:function(a){"moono-lisa"==(CKEDITOR.skinName||a.config.skin)&&CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css"));CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"dialogs/dialog.css"))},init:function(a){var c=this,d=CKEDITOR.plugins.scayt;this.bindEvents(a);this.parseConfig(a);this.addRule(a);CKEDITOR.dialog.add(this.dialogName,
CKEDITOR.getUrl(this.path+"dialogs/options.js"));this.addMenuItems(a);var b=a.lang.scayt,e=CKEDITOR.env;a.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:b.text_title,title:a.plugins.wsc?a.lang.wsc.title:b.text_title,modes:{wysiwyg:!(e.ie&&(8>e.version||e.quirks))},toolbar:"spellchecker,20",refresh:function(){var b=a.ui.instances.Scayt.getState();a.scayt&&(b=d.state.scayt[a.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF);a.fire("scaytButtonState",b)},onRender:function(){var b=this;a.on("scaytButtonState",
function(a){void 0!==typeof a.data&&b.setState(a.data)})},onMenu:function(){var b=a.scayt;a.getMenuItem("scaytToggle").label=a.lang.scayt[b&&d.state.scayt[a.name]?"btn_disable":"btn_enable"];var c={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:b?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:a.plugins.wsc?CKEDITOR.TRISTATE_OFF:
CKEDITOR.TRISTATE_DISABLED};a.config.scayt_uiTabs[0]||delete c.scaytOptions;a.config.scayt_uiTabs[1]||delete c.scaytLangs;a.config.scayt_uiTabs[2]||delete c.scaytDict;b&&!CKEDITOR.plugins.scayt.isNewUdSupported(b)&&(delete c.scaytDict,a.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage());return c}});a.contextMenu&&a.addMenuItems&&(a.contextMenu.addListener(function(b,d){var e=a.scayt,l,m;e&&(m=e.getSelectionNode())&&(l=c.menuGenerator(a,m),e.showBanner("."+a.contextMenu._.definition.panel.className.split(" ").join(" .")));
return l}),a.contextMenu._.onHide=CKEDITOR.tools.override(a.contextMenu._.onHide,function(b){return function(){var d=a.scayt;d&&d.hideBanner();return b.apply(this)}}))},addMenuItems:function(a){var c=this,d=CKEDITOR.plugins.scayt;a.addMenuGroup("scaytButton");for(var b=a.config.scayt_contextMenuItemsOrder.split("|"),e=0;e<b.length;e++)b[e]="scayt_"+b[e];if((b=["grayt_description","grayt_suggest","grayt_control"].concat(b))&&b.length)for(e=0;e<b.length;e++)a.addMenuGroup(b[e],e-10);a.addCommand("scaytToggle",
{exec:function(a){var b=a.scayt;d.state.scayt[a.name]=!d.state.scayt[a.name];!0===d.state.scayt[a.name]?b||d.createScayt(a):b&&d.destroy(a)}});a.addCommand("scaytAbout",{exec:function(a){a.scayt.tabToOpen="about";d.openDialog(c.dialogName,a)}});a.addCommand("scaytOptions",{exec:function(a){a.scayt.tabToOpen="options";d.openDialog(c.dialogName,a)}});a.addCommand("scaytLangs",{exec:function(a){a.scayt.tabToOpen="langs";d.openDialog(c.dialogName,a)}});a.addCommand("scaytDict",{exec:function(a){a.scayt.tabToOpen=
"dictionaries";d.openDialog(c.dialogName,a)}});b={scaytToggle:{label:a.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:a.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:a.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:a.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:a.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}};a.plugins.wsc&&(b.WSC=
{label:a.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var b=CKEDITOR.plugins.scayt,d=a.scayt,c=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(c=c.replace(/\s/g,""))?(d&&b.state.scayt[a.name]&&d.setMarkupPaused&&d.setMarkupPaused(!0),a.lockSelection(),a.execCommand("checkspell")):alert("Nothing to check!")}});a.addMenuItems(b)},bindEvents:function(a){var c=CKEDITOR.plugins.scayt,d=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,b=function(){c.destroy(a)},
e=function(){!c.state.scayt[a.name]||a.readOnly||a.scayt||c.createScayt(a)},f=function(){var b=a.editable();b.attachListener(b,"focus",function(b){CKEDITOR.plugins.scayt&&!a.scayt&&setTimeout(e,0);b=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[a.name]&&a.scayt;var c,k;if((d||b)&&a._.savedSelection){b=a._.savedSelection.getSelectedElement();b=!b&&a._.savedSelection.getRanges();for(var h=0;h<b.length;h++)k=b[h],"string"===typeof k.startContainer.$.nodeValue&&(c=k.startContainer.getText().length,
(c<k.startOffset||c<k.endOffset)&&a.unlockSelection(!1))}},this,null,-10)},g=function(){d?a.config.scayt_inlineModeImmediateMarkup?e():(a.on("blur",function(){setTimeout(b,0)}),a.on("focus",e),a.focusManager.hasFocus&&e()):e();f();var c=a.editable();c.attachListener(c,"mousedown",function(b){b=b.data.getTarget();var d=a.widgets&&a.widgets.getByElement(b);d&&(d.wrapper=b.getAscendant(function(a){return a.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)};a.on("contentDom",g);a.on("beforeCommandExec",
function(b){var d=a.scayt,e=!1,f=!1,h=!0;b.data.name in c.options.disablingCommandExec&&"wysiwyg"==a.mode?d&&(c.destroy(a),a.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==b.data.name&&"italic"!==b.data.name&&"underline"!==b.data.name&&"strike"!==b.data.name&&"subscript"!==b.data.name&&"superscript"!==b.data.name&&"enter"!==b.data.name&&"cut"!==b.data.name&&"language"!==b.data.name||!d||("cut"===b.data.name&&(h=!1,f=!0),"language"===b.data.name&&(f=e=!0),a.fire("reloadMarkupScayt",
{removeOptions:{removeInside:h,forceBookmark:f,language:e},timeout:0}))});a.on("beforeSetMode",function(b){if("source"==b.data){if(b=a.scayt)c.destroy(a),a.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED);a.document&&a.document.getBody().removeAttribute("_jquid")}});a.on("afterCommandExec",function(b){"wysiwyg"!=a.mode||"undo"!=b.data.name&&"redo"!=b.data.name||setTimeout(function(){c.reloadMarkup(a.scayt)},250)});a.on("readOnly",function(b){var d;b&&(d=a.scayt,!0===b.editor.readOnly?d&&d.fire("removeMarkupInDocument",
{}):d?c.reloadMarkup(d):"wysiwyg"==b.editor.mode&&!0===c.state.scayt[b.editor.name]&&(c.createScayt(a),b.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))});a.on("beforeDestroy",b);a.on("setData",function(){b();(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||a.plugins.divarea)&&g()},this,null,50);a.on("reloadMarkupScayt",function(b){var d=b.data&&b.data.removeOptions,e=b.data&&b.data.timeout,f=b.data&&b.data.language,h=a.scayt;h&&setTimeout(function(){f&&(d.selectionNode=a.plugins.language.getCurrentLangElement(a),
d.selectionNode=d.selectionNode&&d.selectionNode.$||null);h.removeMarkupInSelectionNode(d);c.reloadMarkup(h)},e||0)});a.on("insertElement",function(){a.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})},this,null,50);a.on("insertHtml",function(){a.scayt&&a.scayt.setFocused&&a.scayt.setFocused(!0);a.fire("reloadMarkupScayt")},this,null,50);a.on("insertText",function(){a.scayt&&a.scayt.setFocused&&a.scayt.setFocused(!0);a.fire("reloadMarkupScayt")},this,null,50);a.on("scaytDialogShown",function(b){b.data.selectPage(a.scayt.tabToOpen)})},
parseConfig:function(a){var c=CKEDITOR.plugins.scayt;c.replaceOldOptionsNames(a.config);"boolean"!==typeof a.config.scayt_autoStartup&&(a.config.scayt_autoStartup=!1);c.state.scayt[a.name]=a.config.scayt_autoStartup;"boolean"!==typeof a.config.grayt_autoStartup&&(a.config.grayt_autoStartup=!1);"boolean"!==typeof a.config.scayt_inlineModeImmediateMarkup&&(a.config.scayt_inlineModeImmediateMarkup=!1);c.state.grayt[a.name]=a.config.grayt_autoStartup;a.config.scayt_contextCommands||(a.config.scayt_contextCommands=
"ignoreall|add");a.config.scayt_contextMenuItemsOrder||(a.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control");a.config.scayt_sLang||(a.config.scayt_sLang="en_US");if(void 0===a.config.scayt_maxSuggestions||"number"!=typeof a.config.scayt_maxSuggestions||0>a.config.scayt_maxSuggestions)a.config.scayt_maxSuggestions=3;if(void 0===a.config.scayt_minWordLength||"number"!=typeof a.config.scayt_minWordLength||1>a.config.scayt_minWordLength)a.config.scayt_minWordLength=3;if(void 0===a.config.scayt_customDictionaryIds||
"string"!==typeof a.config.scayt_customDictionaryIds)a.config.scayt_customDictionaryIds="";if(void 0===a.config.scayt_userDictionaryName||"string"!==typeof a.config.scayt_userDictionaryName)a.config.scayt_userDictionaryName=null;if("string"===typeof a.config.scayt_uiTabs&&3===a.config.scayt_uiTabs.split(",").length){var d=[],b=[];a.config.scayt_uiTabs=a.config.scayt_uiTabs.split(",");CKEDITOR.tools.search(a.config.scayt_uiTabs,function(a){1===Number(a)||0===Number(a)?(b.push(!0),d.push(Number(a))):
b.push(!1)});null===CKEDITOR.tools.search(b,!1)?a.config.scayt_uiTabs=d:a.config.scayt_uiTabs=[1,1,1]}else a.config.scayt_uiTabs=[1,1,1];"string"!=typeof a.config.scayt_serviceProtocol&&(a.config.scayt_serviceProtocol=null);"string"!=typeof a.config.scayt_serviceHost&&(a.config.scayt_serviceHost=null);"string"!=typeof a.config.scayt_servicePort&&(a.config.scayt_servicePort=null);"string"!=typeof a.config.scayt_servicePath&&(a.config.scayt_servicePath=null);a.config.scayt_moreSuggestions||(a.config.scayt_moreSuggestions=
"on");"string"!==typeof a.config.scayt_customerId&&(a.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2");"string"!==typeof a.config.scayt_customPunctuation&&(a.config.scayt_customPunctuation="-");"string"!==typeof a.config.scayt_srcUrl&&(c=document.location.protocol,c=-1!=c.search(/https?:/)?c:"http:",a.config.scayt_srcUrl=c+"//svc.webspellchecker.net/spellcheck31/wscbundle/wscbundle.js");"boolean"!==typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=
!0);"boolean"!==typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0);CKEDITOR.config.scayt_handleUndoRedo=CKEDITOR.plugins.undo?CKEDITOR.config.scayt_handleUndoRedo:!1;"boolean"!==typeof a.config.scayt_multiLanguageMode&&(a.config.scayt_multiLanguageMode=!1);"object"!==typeof a.config.scayt_multiLanguageStyles&&(a.config.scayt_multiLanguageStyles={});a.config.scayt_ignoreAllCapsWords&&"boolean"!==typeof a.config.scayt_ignoreAllCapsWords&&(a.config.scayt_ignoreAllCapsWords=
!1);a.config.scayt_ignoreDomainNames&&"boolean"!==typeof a.config.scayt_ignoreDomainNames&&(a.config.scayt_ignoreDomainNames=!1);a.config.scayt_ignoreWordsWithMixedCases&&"boolean"!==typeof a.config.scayt_ignoreWordsWithMixedCases&&(a.config.scayt_ignoreWordsWithMixedCases=!1);a.config.scayt_ignoreWordsWithNumbers&&"boolean"!==typeof a.config.scayt_ignoreWordsWithNumbers&&(a.config.scayt_ignoreWordsWithNumbers=!1);if(a.config.scayt_disableOptionsStorage){var c=CKEDITOR.tools.isArray(a.config.scayt_disableOptionsStorage)?
a.config.scayt_disableOptionsStorage:"string"===typeof a.config.scayt_disableOptionsStorage?[a.config.scayt_disableOptionsStorage]:void 0,e="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),f=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],g=CKEDITOR.tools.search,k=CKEDITOR.tools.indexOf;a.config.scayt_disableOptionsStorage=function(a){for(var b=[],d=0;d<
a.length;d++){var c=a[d],p=!!g(a,"options");if(!g(e,c)||p&&g(f,function(a){if("lang"===a)return!1}))return;g(f,c)&&f.splice(k(f,c),1);if("all"===c||p&&g(a,"lang"))return[];"options"===c&&(f=["lang"])}return b=b.concat(f)}(c)}a.config.scayt_disableCache&&"boolean"!==typeof a.config.scayt_disableCache&&(a.config.scayt_disableCache=!1);if(void 0===a.config.scayt_cacheSize||"number"!=typeof a.config.scayt_cacheSize||1>a.config.scayt_cacheSize)a.config.scayt_cacheSize=4E3},addRule:function(a){var c=CKEDITOR.plugins.scayt,
d=a.dataProcessor,b=d&&d.htmlFilter,e=a._.elementsPath&&a._.elementsPath.filters,d=d&&d.dataFilter,f=a.addRemoveFormatFilter,g=function(b){if(a.scayt&&(b.hasAttribute(c.options.data_attribute_name)||b.hasAttribute(c.options.problem_grammar_data_attribute)))return!1},k=function(b){var d=!0;a.scayt&&(b.hasAttribute(c.options.data_attribute_name)||b.hasAttribute(c.options.problem_grammar_data_attribute))&&(d=!1);return d};e&&e.push(g);d&&d.addRules({elements:{span:function(a){var b=a.hasClass(c.options.misspelled_word_class)&&
a.attributes[c.options.data_attribute_name],d=a.hasClass(c.options.problem_grammar_class)&&a.attributes[c.options.problem_grammar_data_attribute];c&&(b||d)&&delete a.name;return a}}});b&&b.addRules({elements:{span:function(a){var b=a.hasClass(c.options.misspelled_word_class)&&a.attributes[c.options.data_attribute_name],d=a.hasClass(c.options.problem_grammar_class)&&a.attributes[c.options.problem_grammar_data_attribute];c&&(b||d)&&delete a.name;return a}}});f&&f.call(a,k)},scaytMenuDefinition:function(a){var c=
this,d=CKEDITOR.plugins.scayt;a=a.scayt;return{scayt:{scayt_ignore:{label:a.getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(a){a.scayt.ignoreWord()}},scayt_ignoreall:{label:a.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(a){a.scayt.ignoreAllWords()}},scayt_add:{label:a.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(a){var d=a.scayt;setTimeout(function(){d.addWordToUserDictionary()},10)}},scayt_option:{label:a.getLocal("btn_options"),
group:"scayt_control",order:4,exec:function(a){a.scayt.tabToOpen="options";d.openDialog(c.dialogName,a)},verification:function(a){return 1==a.config.scayt_uiTabs[0]?!0:!1}},scayt_language:{label:a.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(a){a.scayt.tabToOpen="langs";d.openDialog(c.dialogName,a)},verification:function(a){return 1==a.config.scayt_uiTabs[1]?!0:!1}},scayt_dictionary:{label:a.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(a){a.scayt.tabToOpen=
"dictionaries";d.openDialog(c.dialogName,a)},verification:function(a){return 1==a.config.scayt_uiTabs[2]?!0:!1}},scayt_about:{label:a.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(a){a.scayt.tabToOpen="about";d.openDialog(c.dialogName,a)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(a){}},grayt_ignore:{label:a.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(a){a.scayt.ignorePhrase()}},
grayt_ignoreall:{label:a.getLocal("btn_ignoreAll"),group:"grayt_control",order:3,exec:function(a){a.scayt.ignoreAllPhrases()}}}}},buildSuggestionMenuItems:function(a,c,d){var b={},e={},f=d?"word":"phrase",g=d?"startGrammarCheck":"startSpellCheck",k=a.scayt;if(0<c.length&&"no_any_suggestions"!==c[0])if(d)for(d=0;d<c.length;d++){var l="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[d].replace(" ","_");a.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[d],f,g));d<a.config.scayt_maxSuggestions?
(a.addMenuItem(l,{label:c[d],command:l,group:"scayt_suggest",order:d+1}),b[l]=CKEDITOR.TRISTATE_OFF):(a.addMenuItem(l,{label:c[d],command:l,group:"scayt_moresuggest",order:d+1}),e[l]=CKEDITOR.TRISTATE_OFF,"on"===a.config.scayt_moreSuggestions&&(a.addMenuItem("scayt_moresuggest",{label:k.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return e}}),b.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(d=0;d<c.length;d++)l="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[d].replace(" ",
"_"),a.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[d],f,g)),a.addMenuItem(l,{label:c[d],command:l,group:"grayt_suggest",order:d+1}),b[l]=CKEDITOR.TRISTATE_OFF;else b.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,a.addCommand("no_scayt_suggest",{exec:function(){}}),a.addMenuItem("no_scayt_suggest",{label:k.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return b},menuGenerator:function(a,c){var d=a.scayt,b=this.scaytMenuDefinition(a),
e={},f=a.config.scayt_contextCommands.split("|"),g=c.getAttribute(d.getLangAttribute())||d.getLang(),k,l,m,n;l=d.isScaytNode(c);m=d.isGraytNode(c);l?(b=b.scayt,k=c.getAttribute(d.getScaytNodeAttributeName()),d.fire("getSuggestionsList",{lang:g,word:k}),e=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,l)):m&&(b=b.grayt,e=c.getAttribute(d.getGraytNodeAttributeName()),d.getGraytNodeRuleAttributeName?(k=c.getAttribute(d.getGraytNodeRuleAttributeName()),d.getProblemDescriptionText(e,
k,g)):d.getProblemDescriptionText(e,g),n=d.getProblemDescriptionText(e,k,g),b.grayt_problemdescription&&n&&(n=n.replace(/([.!?])\s/g,"$1\x3cbr\x3e"),b.grayt_problemdescription.label=n),d.fire("getGrammarSuggestionsList",{lang:g,phrase:e,rule:k}),e=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,l));if(l&&"off"==a.config.scayt_contextCommands)return e;for(var h in b)l&&-1==CKEDITOR.tools.indexOf(f,h.replace("scayt_",""))&&"all"!=a.config.scayt_contextCommands||m&&"grayt_problemdescription"!==
h&&-1==CKEDITOR.tools.indexOf(f,h.replace("grayt_",""))&&"all"!=a.config.scayt_contextCommands||(e[h]="undefined"!=typeof b[h].state?b[h].state:CKEDITOR.TRISTATE_OFF,"function"!==typeof b[h].verification||b[h].verification(a)||delete e[h],a.addCommand(h,{exec:b[h].exec}),a.addMenuItem(h,{label:a.lang.scayt[b[h].label]||b[h].label,command:h,group:b[h].group,order:b[h].order}));return e},createCommand:function(a,c,d){return{exec:function(b){b=b.scayt;var e={};e[c]=a;b.replaceSelectionNode(e);"startGrammarCheck"===
d&&b.removeMarkupInSelectionNode({grammarOnly:!0});b.fire(d)}}}});
CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var a=CKEDITOR.version.match(/^\d(\.\d*)*/),a=a&&a[0],c;if(a){c="4.5.7";var d,a=a.replace(/\./g,"");c=c.replace(/\./g,"");d=a.length-c.length;d=0<=d?d:0;c=parseInt(a)>=parseInt(c)*Math.pow(10,d)}return c?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",
misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},openDialog:function(a,c){var d=c.scayt;d.isAllModulesReady&&!1===d.isAllModulesReady()||(c.lockSelection(),c.openDialog(a))},alarmCompatibilityMessage:function(){5>
this.warningCounter&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(a){return a.getUserDictionary?!0:!1},reloadMarkup:function(a){var c;a&&(c=a.getScaytLangList(),a.reloadMarkup?a.reloadMarkup():(this.alarmCompatibilityMessage(),
c&&c.ltr&&c.rtl&&a.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(a){for(var c in a)c in this.backCompatibilityMap&&(a[this.backCompatibilityMap[c]]=a[c],delete a[c])},createScayt:function(a){var c=this,d=CKEDITOR.plugins.scayt;this.loadScaytLibrary(a,function(a){function e(a){return new SCAYT.CKSCAYT(a,function(){},function(){})}var f;a.window&&(f="BODY"==a.editable().$.nodeName?a.window.getFrame():a.editable());if(f){f={lang:a.config.scayt_sLang,container:f.$,customDictionary:a.config.scayt_customDictionaryIds,
userDictionaryName:a.config.scayt_userDictionaryName,localization:a.langCode,customer_id:a.config.scayt_customerId,customPunctuation:a.config.scayt_customPunctuation,debug:a.config.scayt_debug,data_attribute_name:c.options.data_attribute_name,misspelled_word_class:c.options.misspelled_word_class,problem_grammar_data_attribute:c.options.problem_grammar_data_attribute,problem_grammar_class:c.options.problem_grammar_class,"options-to-restore":a.config.scayt_disableOptionsStorage,focused:a.editable().hasFocus,
ignoreElementsRegex:a.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:a.config.grayt_elementsToIgnore,minWordLength:a.config.scayt_minWordLength,multiLanguageMode:a.config.scayt_multiLanguageMode,multiLanguageStyles:a.config.scayt_multiLanguageStyles,graytAutoStartup:a.config.grayt_autoStartup,disableCache:a.config.scayt_disableCache,cacheSize:a.config.scayt_cacheSize,charsToObserve:d.charsToObserve};a.config.scayt_serviceProtocol&&(f.service_protocol=a.config.scayt_serviceProtocol);a.config.scayt_serviceHost&&
(f.service_host=a.config.scayt_serviceHost);a.config.scayt_servicePort&&(f.service_port=a.config.scayt_servicePort);a.config.scayt_servicePath&&(f.service_path=a.config.scayt_servicePath);"boolean"===typeof a.config.scayt_ignoreAllCapsWords&&(f["ignore-all-caps-words"]=a.config.scayt_ignoreAllCapsWords);"boolean"===typeof a.config.scayt_ignoreDomainNames&&(f["ignore-domain-names"]=a.config.scayt_ignoreDomainNames);"boolean"===typeof a.config.scayt_ignoreWordsWithMixedCases&&(f["ignore-words-with-mixed-cases"]=
a.config.scayt_ignoreWordsWithMixedCases);"boolean"===typeof a.config.scayt_ignoreWordsWithNumbers&&(f["ignore-words-with-numbers"]=a.config.scayt_ignoreWordsWithNumbers);var g;try{g=e(f)}catch(k){c.alarmCompatibilityMessage(),delete f.charsToObserve,g=e(f)}g.subscribe("suggestionListSend",function(a){for(var b={},d=[],c=0;c<a.suggestionList.length;c++)b["word_"+a.suggestionList[c]]||(b["word_"+a.suggestionList[c]]=a.suggestionList[c],d.push(a.suggestionList[c]));CKEDITOR.plugins.scayt.suggestions=
d});g.subscribe("selectionIsChanged",function(d){a.getSelection().isLocked&&"restoreSelection"!==d.action&&a.lockSelection();"restoreSelection"===d.action&&a.selectionChange(!0)});g.subscribe("graytStateChanged",function(c){d.state.grayt[a.name]=c.state});g.addMarkupHandler&&g.addMarkupHandler(function(d){var c=a.editable(),e=c.getCustomData(d.charName);e&&(e.$=d.node,c.setCustomData(d.charName,e))});a.scayt=g;a.fire("scaytButtonState",a.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else d.state.scayt[a.name]=
!1})},destroy:function(a){a.scayt&&a.scayt.destroy();delete a.scayt;a.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(a,c){var d,b=function(){CKEDITOR.fireOnce("scaytReady");a.scayt||"function"===typeof c&&c(a)};"undefined"===typeof window.SCAYT||"function"!==typeof window.SCAYT.CKSCAYT?(d=a.config.scayt_srcUrl,CKEDITOR.scriptLoader.load(d,function(a){a&&b()})):window.SCAYT&&"function"===typeof window.SCAYT.CKSCAYT&&b()}};
CKEDITOR.on("dialogDefinition",function(a){var c=a.data.name;a=a.data.definition.dialog;"scaytDialog"!==c&&"checkspell"!==c&&(a.on("show",function(a){a=a.sender&&a.sender.getParentEditor();var b=CKEDITOR.plugins.scayt,c=a.scayt;c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!0)}),a.on("hide",function(a){a=a.sender&&a.sender.getParentEditor();var b=CKEDITOR.plugins.scayt,c=a.scayt;c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!1)}));if("scaytDialog"===c)a.on("cancel",
function(a){return!1},this,null,-1);if("checkspell"===c)a.on("cancel",function(a){a=a.sender&&a.sender.getParentEditor();var b=CKEDITOR.plugins.scayt,c=a.scayt;c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!1);a.unlockSelection()},this,null,-2);if("link"===c)a.on("ok",function(a){var b=a.sender&&a.sender.getParentEditor();b&&setTimeout(function(){b.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)});if("replace"===c)a.on("hide",function(a){a=
a.sender&&a.sender.getParentEditor();var b=CKEDITOR.plugins.scayt,c=a.scayt;a&&setTimeout(function(){c&&(c.fire("removeMarkupInDocument",{}),b.reloadMarkup(c))},0)})});
CKEDITOR.on("scaytReady",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var a=CKEDITOR.editor.prototype;a.checkDirty=CKEDITOR.tools.override(a.checkDirty,function(a){return function(){var b=null,c=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(b="ready"==this.status)var f=c.removeMarkupFromString(this.getSnapshot()),c=c.removeMarkupFromString(this._.previousValue),b=b&&c!==f}else b=a.call(this);return b}});a.resetDirty=CKEDITOR.tools.override(a.resetDirty,
function(a){return function(){var b=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=b.removeMarkupFromString(this.getSnapshot()):a.call(this)}})}if(!0===CKEDITOR.config.scayt_handleUndoRedo){var a=CKEDITOR.plugins.undo.Image.prototype,c="function"==typeof a.equalsContent?"equalsContent":"equals";a[c]=CKEDITOR.tools.override(a[c],function(a){return function(b){var c=b.editor.scayt,f=this.contents,g=b.contents,k=null;CKEDITOR.plugins.scayt&&
CKEDITOR.plugins.scayt.state.scayt[b.editor.name]&&b.editor.scayt&&(this.contents=c.removeMarkupFromString(f)||"",b.contents=c.removeMarkupFromString(g)||"");k=a.apply(this,arguments);this.contents=f;b.contents=g;return k}})}});(function(){CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(c){var l=c.config,g=c.lang.stylescombo,f={},k=[],m=[];c.on("stylesSet",function(a){if(a=a.data.styles){for(var b,h,d,e=0,n=a.length;e<n;e++)(b=a[e],c.blockless&&b.element in CKEDITOR.dtd.$block||"string"==typeof b.type&&!CKEDITOR.style.customHandlers[b.type]||(h=b.name,b=new CKEDITOR.style(b),c.filter.customConfig&&!c.filter.check(b)))||(b._name=h,b._.enterMode=l.enterMode,b._.type=d=b.assignedTo||b.type,b._.weight=
e+1E3*(d==CKEDITOR.STYLE_OBJECT?1:d==CKEDITOR.STYLE_BLOCK?2:3),f[h]=b,k.push(b),m.push(b));k.sort(function(a,b){return a._.weight-b._.weight})}});c.ui.addRichCombo("Styles",{label:g.label,title:g.panelTitle,toolbar:"styles,10",allowedContent:m,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(l.contentsCss),multiSelect:!0,attributes:{"aria-label":g.panelTitle}},init:function(){var a,b,c,d,e,f;e=0;for(f=k.length;e<f;e++)a=k[e],b=a._name,d=a._.type,d!=c&&(this.startGroup(g["panelTitle"+String(d)]),
c=d),this.add(b,a.type==CKEDITOR.STYLE_OBJECT?b:a.buildPreview(),b);this.commit()},onClick:function(a){c.focus();c.fire("saveSnapshot");a=f[a];var b=c.elementPath();if(a.group&&a.removeStylesFromSameGroup(c))c.applyStyle(a);else c[a.checkActive(b,c)?"removeStyle":"applyStyle"](a);c.fire("saveSnapshot")},onRender:function(){c.on("selectionChange",function(a){var b=this.getValue();a=a.data.path.elements;for(var h=0,d=a.length,e;h<d;h++){e=a[h];for(var g in f)if(f[g].checkElementRemovable(e,!0,c)){g!=
b&&this.setValue(g);return}}this.setValue("")},this)},onOpen:function(){var a=c.getSelection(),a=a.getSelectedElement()||a.getStartElement()||c.editable(),a=c.elementPath(a),b=[0,0,0,0];this.showAll();this.unmarkAll();for(var h in f){var d=f[h],e=d._.type;d.checkApplicable(a,c,c.activeFilter)?b[e]++:this.hideItem(h);d.checkActive(a,c)&&this.mark(h)}b[CKEDITOR.STYLE_BLOCK]||this.hideGroup(g["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]);b[CKEDITOR.STYLE_INLINE]||this.hideGroup(g["panelTitle"+String(CKEDITOR.STYLE_INLINE)]);
b[CKEDITOR.STYLE_OBJECT]||this.hideGroup(g["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var a=c.elementPath();if(a){for(var b in f)if(f[b].checkApplicable(a,c,c.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){f={};k=[]}})}})})();(function(){function k(c){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(d){if(d.editable().hasFocus){var e=d.getSelection(),b;if(b=(new CKEDITOR.dom.elementPath(e.getCommonAncestor(),e.root)).contains({td:1,th:1},1)){var e=d.createRange(),a=CKEDITOR.tools.tryThese(function(){var a=b.getParent().$.cells[b.$.cellIndex+(c?-1:1)];a.parentNode.parentNode;return a},function(){var a=b.getParent(),a=a.getAscendant("table").$.rows[a.$.rowIndex+(c?-1:1)];return a.cells[c?a.cells.length-1:
0]});if(a||c)if(a)a=new CKEDITOR.dom.element(a),e.moveToElementEditStart(a),e.checkStartOfBlock()&&e.checkEndOfBlock()||e.selectNodeContents(a);else return!0;else{for(var f=b.getAscendant("table").$,a=b.getParent().$.cells,f=new CKEDITOR.dom.element(f.insertRow(-1),d.document),g=0,h=a.length;g<h;g++)f.append((new CKEDITOR.dom.element(a[g],d.document)).clone(!1,!1)).appendBogus();e.moveToElementEditStart(f)}e.select(!0);return!0}}return!1}}}var h={editorFocus:!1,modes:{wysiwyg:1,source:1}},g={exec:function(c){c.container.focusNext(!0,
c.tabIndex)}},f={exec:function(c){c.container.focusPrevious(!0,c.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(c){for(var d=!1!==c.config.enableTabKeyTools,e=c.config.tabSpaces||0,b="";e--;)b+=" ";if(b)c.on("key",function(a){9==a.data.keyCode&&(c.insertText(b),a.cancel())});if(d)c.on("key",function(a){(9==a.data.keyCode&&c.execCommand("selectNextCell")||a.data.keyCode==CKEDITOR.SHIFT+9&&c.execCommand("selectPreviousCell"))&&a.cancel()});c.addCommand("blur",CKEDITOR.tools.extend(g,h));c.addCommand("blurBack",
CKEDITOR.tools.extend(f,h));c.addCommand("selectNextCell",k());c.addCommand("selectPreviousCell",k(!0))}})})();
CKEDITOR.dom.element.prototype.focusNext=function(k,h){var g=void 0===h?this.getTabIndex():h,f,c,d,e,b,a;if(0>=g)for(b=this.getNextSourceNode(k,CKEDITOR.NODE_ELEMENT);b;){if(b.isVisible()&&0===b.getTabIndex()){d=b;break}b=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(b=this.getDocument().getBody().getFirst();b=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!f)if(!c&&b.equals(this)){if(c=!0,k){if(!(b=b.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;f=1}}else c&&!this.contains(b)&&
(f=1);if(b.isVisible()&&!(0>(a=b.getTabIndex()))){if(f&&a==g){d=b;break}a>g&&(!d||!e||a<e)?(d=b,e=a):d||0!==a||(d=b,e=a)}}d&&d.focus()};
CKEDITOR.dom.element.prototype.focusPrevious=function(k,h){for(var g=void 0===h?this.getTabIndex():h,f,c,d,e=0,b,a=this.getDocument().getBody().getLast();a=a.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!f)if(!c&&a.equals(this)){if(c=!0,k){if(!(a=a.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;f=1}}else c&&!this.contains(a)&&(f=1);if(a.isVisible()&&!(0>(b=a.getTabIndex())))if(0>=g){if(f&&0===b){d=a;break}b>e&&(d=a,e=b)}else{if(f&&b==g){d=a;break}b<g&&(!d||b>e)&&(d=a,e=b)}}d&&d.focus()};CKEDITOR.plugins.add("table",{requires:"dialog",init:function(a){function f(c){return CKEDITOR.tools.extend(c||{},{contextSensitive:1,refresh:function(c,b){this.setState(b.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!a.blockless){var e=a.lang.table;a.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height,border-collapse}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];td{border*,background-color,vertical-align,width,height}[colspan,rowspan];"+
(a.plugins.dialogadvtab?"table"+a.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(c){if(c.styles){var a;if(c.styles.border)a=CKEDITOR.tools.style.parse.border(c.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var b=c.styles;b["border-left"]&&b["border-left"]===b["border-right"]&&b["border-right"]===b["border-top"]&&
b["border-top"]===b["border-bottom"]&&(a=CKEDITOR.tools.style.parse.border(b["border-top"]))}a&&a.style&&"solid"===a.style&&a.width&&0!==parseFloat(a.width)&&(c.attributes.border=1);"collapse"==c.styles["border-collapse"]&&(c.attributes.cellspacing=0)}}}]]}));a.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",f()));a.addCommand("tableDelete",f({exec:function(a){var d=a.elementPath().contains("table",1);if(d){var b=d.getParent(),e=a.editable();1!=b.getChildCount()||b.is("td",
"th")||b.equals(e)||(d=b);a=a.createRange();a.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START);d.remove();a.select()}}}));a.ui.addButton&&a.ui.addButton("Table",{label:e.toolbar,command:"table",toolbar:"insert,30"});CKEDITOR.dialog.add("table",this.path+"dialogs/table.js");CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js");a.addMenuItems&&a.addMenuItems({table:{label:e.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:e.deleteTable,command:"tableDelete",group:"table",
order:1}});a.on("doubleclick",function(a){a.data.element.is("table")&&(a.data.dialog="tableProperties")});a.contextMenu&&a.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}});(function(){function q(d,f){function b(a){return f?f.contains(a)&&a.getAscendant("table",!0).equals(f):!0}function c(a){var b=/^(?:td|th)$/;0<e.length||a.type!=CKEDITOR.NODE_ELEMENT||!b.test(a.getName())||a.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(h,a,"selected_cell",!0),e.push(a))}var e=[],h={};if(!d)return e;for(var a=d.getRanges(),k=0;k<a.length;k++){var g=a[k];if(g.collapsed)(g=g.getCommonAncestor().getAscendant({td:1,th:1},!0))&&b(g)&&e.push(g);else{var g=new CKEDITOR.dom.walker(g),
m;for(g.guard=c;m=g.next();)m.type==CKEDITOR.NODE_ELEMENT&&m.is(CKEDITOR.dtd.table)||(m=m.getAscendant({td:1,th:1},!0))&&!m.getCustomData("selected_cell")&&b(m)&&(CKEDITOR.dom.element.setMarker(h,m,"selected_cell",!0),e.push(m))}}CKEDITOR.dom.element.clearAllMarkers(h);return e}function r(d,f){for(var b=D(d)?d:q(d),c=b[0],e=c.getAscendant("table"),c=c.getDocument(),h=b[0].getParent(),a=h.$.rowIndex,b=b[b.length-1],k=b.getParent().$.rowIndex+b.$.rowSpan-1,b=new CKEDITOR.dom.element(e.$.rows[k]),a=
f?a:k,h=f?h:b,b=CKEDITOR.tools.buildTableMap(e),e=b[a],a=f?b[a-1]:b[a+1],b=b[0].length,c=c.createElement("tr"),k=0;e[k]&&k<b;k++){var g;1<e[k].rowSpan&&a&&e[k]==a[k]?(g=e[k],g.rowSpan+=1):(g=(new CKEDITOR.dom.element(e[k])).clone(),g.removeAttribute("rowSpan"),g.appendBogus(),c.append(g),g=g.$);k+=g.colSpan-1}f?c.insertBefore(h):c.insertAfter(h);return c}function B(d){if(d instanceof CKEDITOR.dom.selection){var f=d.getRanges(),b=q(d),c=b[0].getAscendant("table"),e=CKEDITOR.tools.buildTableMap(c),
h=b[0].getParent().$.rowIndex,b=b[b.length-1],a=b.getParent().$.rowIndex+b.$.rowSpan-1,b=[];d.reset();for(d=h;d<=a;d++){for(var k=e[d],g=new CKEDITOR.dom.element(c.$.rows[d]),m=0;m<k.length;m++){var l=new CKEDITOR.dom.element(k[m]),n=l.getParent().$.rowIndex;1==l.$.rowSpan?l.remove():(--l.$.rowSpan,n==d&&(n=e[d+1],n[m-1]?l.insertAfter(new CKEDITOR.dom.element(n[m-1])):(new CKEDITOR.dom.element(c.$.rows[d+1])).append(l,1)));m+=l.$.colSpan-1}b.push(g)}e=c.$.rows;f[0].moveToPosition(c,CKEDITOR.POSITION_BEFORE_START);
h=new CKEDITOR.dom.element(e[a+1]||(0<h?e[h-1]:null)||c.$.parentNode);for(d=b.length;0<=d;d--)B(b[d]);return c.$.parentNode?h:(f[0].select(),null)}d instanceof CKEDITOR.dom.element&&(c=d.getAscendant("table"),1==c.$.rows.length?c.remove():d.remove());return null}function v(d){for(var f=d.getParent().$.cells,b=0,c=0;c<f.length;c++){var e=f[c],b=b+e.colSpan;if(e==d.$)break}return b-1}function w(d,f){for(var b=f?Infinity:0,c=0;c<d.length;c++){var e=v(d[c]);if(f?e<b:e>b)b=e}return b}function u(d,f){for(var b=
D(d)?d:q(d),c=b[0].getAscendant("table"),e=w(b,1),b=w(b),h=f?e:b,a=CKEDITOR.tools.buildTableMap(c),c=[],e=[],b=[],k=a.length,g=0;g<k;g++){var m=f?a[g][h-1]:a[g][h+1];c.push(a[g][h]);e.push(m)}for(g=0;g<k;g++)c[g]&&(1<c[g].colSpan&&e[g]==c[g]?(a=c[g],a.colSpan+=1):(h=new CKEDITOR.dom.element(c[g]),a=h.clone(),a.removeAttribute("colSpan"),a.appendBogus(),a[f?"insertBefore":"insertAfter"].call(a,h),b.push(a),a=a.$),g+=a.rowSpan-1);return b}function y(d){function f(a){var b=a.getRanges(),c,d;if(1!==b.length)return a;
b=b[0];if(b.collapsed||0!==b.endOffset)return a;c=b.endContainer;d=c.getName().toLowerCase();if("td"!==d&&"th"!==d)return a;for((d=c.getPrevious())||(d=c.getParent().getPrevious().getLast());d.type!==CKEDITOR.NODE_TEXT&&"br"!==d.getName().toLowerCase();)if(d=d.getLast(),!d)return a;b.setEndAt(d,CKEDITOR.POSITION_BEFORE_END);return b.select()}CKEDITOR.env.webkit&&!d.isFake&&(d=f(d));var b=d.getRanges(),c=q(d),e=c[0],h=c[c.length-1],c=e.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(c),k,g,m=
[];d.reset();var l=0;for(d=a.length;l<d;l++)for(var n=0,p=a[l].length;n<p;n++)void 0===k&&a[l][n]==e.$&&(k=n),a[l][n]==h.$&&(g=n);for(l=k;l<=g;l++)for(n=0;n<a.length;n++)h=a[n],e=new CKEDITOR.dom.element(c.$.rows[n]),h=new CKEDITOR.dom.element(h[l]),h.$&&(1==h.$.colSpan?h.remove():--h.$.colSpan,n+=h.$.rowSpan-1,e.$.cells.length||m.push(e));k=a[0].length-1>g?new CKEDITOR.dom.element(a[0][g+1]):k&&-1!==a[0][k-1].cellIndex?new CKEDITOR.dom.element(a[0][k-1]):new CKEDITOR.dom.element(c.$.parentNode);
m.length==d&&(b[0].moveToPosition(c,CKEDITOR.POSITION_AFTER_END),b[0].select(),c.remove());return k}function t(d,f){var b=d.getStartElement().getAscendant({td:1,th:1},!0);if(b){var c=b.clone();c.appendBogus();f?c.insertBefore(b):c.insertAfter(b)}}function z(d){if(d instanceof CKEDITOR.dom.selection){var f=d.getRanges(),b=q(d),c=b[0]&&b[0].getAscendant("table"),e;a:{var h=0;e=b.length-1;for(var a={},k,g;k=b[h++];)CKEDITOR.dom.element.setMarker(a,k,"delete_cell",!0);for(h=0;k=b[h++];)if((g=k.getPrevious())&&
!g.getCustomData("delete_cell")||(g=k.getNext())&&!g.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(a);e=g;break a}CKEDITOR.dom.element.clearAllMarkers(a);h=b[0].getParent();(h=h.getPrevious())?e=h.getLast():(h=b[e].getParent(),e=(h=h.getNext())?h.getChild(0):null)}d.reset();for(d=b.length-1;0<=d;d--)z(b[d]);e?p(e,!0):c&&(f[0].moveToPosition(c,CKEDITOR.POSITION_BEFORE_START),f[0].select(),c.remove())}else d instanceof CKEDITOR.dom.element&&(f=d.getParent(),1==f.getChildCount()?
f.remove():d.remove())}function p(d,f){var b=d.getDocument(),c=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(c.focus(),b.focus());b=new CKEDITOR.dom.range(b);b["moveToElementEdit"+(f?"End":"Start")](d)||(b.selectNodeContents(d),b.collapse(f?!1:!0));b.select(!0)}function A(d,f,b){d=d[f];if("undefined"==typeof b)return d;for(f=0;d&&f<d.length;f++){if(b.is&&d[f]==b.$)return f;if(f==b)return new CKEDITOR.dom.element(d[f])}return b.is?-1:null}function x(d,f,b){var c=q(d),e;if((f?1!=c.length:
2>c.length)||(e=d.getCommonAncestor())&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("table"))return!1;d=c[0];e=d.getAscendant("table");var h=CKEDITOR.tools.buildTableMap(e),a=h.length,k=h[0].length,g=d.getParent().$.rowIndex,m=A(h,g,d),l;if(f){var n;try{var p=parseInt(d.getAttribute("rowspan"),10)||1;l=parseInt(d.getAttribute("colspan"),10)||1;n=h["up"==f?g-p:"down"==f?g+p:g]["left"==f?m-l:"right"==f?m+l:m]}catch(x){return!1}if(!n||d.$==n)return!1;c["up"==f||"left"==f?"unshift":"push"](new CKEDITOR.dom.element(n))}f=
d.getDocument();var r=g,p=n=0,u=!b&&new CKEDITOR.dom.documentFragment(f),w=0;for(f=0;f<c.length;f++){l=c[f];var t=l.getParent(),y=l.getFirst(),v=l.$.colSpan,z=l.$.rowSpan,t=t.$.rowIndex,B=A(h,t,l),w=w+v*z,p=Math.max(p,B-m+v);n=Math.max(n,t-g+z);b||(v=l,(z=v.getBogus())&&z.remove(),v.trim(),l.getChildren().count()&&(t==r||!y||y.isBlockBoundary&&y.isBlockBoundary({br:1})||(r=u.getLast(CKEDITOR.dom.walker.whitespaces(!0)),!r||r.is&&r.is("br")||u.append("br")),l.moveChildren(u)),f?l.remove():l.setHtml(""));
r=t}if(b)return n*p==w;u.moveChildren(d);d.appendBogus();p>=k?d.removeAttribute("rowSpan"):d.$.rowSpan=n;n>=a?d.removeAttribute("colSpan"):d.$.colSpan=p;b=new CKEDITOR.dom.nodeList(e.$.rows);c=b.count();for(f=c-1;0<=f;f--)e=b.getItem(f),e.$.cells.length||(e.remove(),c++);return d}function C(d,f){var b=q(d);if(1<b.length)return!1;if(f)return!0;var b=b[0],c=b.getParent(),e=c.getAscendant("table"),h=CKEDITOR.tools.buildTableMap(e),a=c.$.rowIndex,k=A(h,a,b),g=b.$.rowSpan,m;if(1<g){m=Math.ceil(g/2);for(var g=
Math.floor(g/2),c=a+m,e=new CKEDITOR.dom.element(e.$.rows[c]),h=A(h,c),l,c=b.clone(),a=0;a<h.length;a++)if(l=h[a],l.parentNode==e.$&&a>k){c.insertBefore(new CKEDITOR.dom.element(l));break}else l=null;l||e.append(c)}else for(g=m=1,e=c.clone(),e.insertAfter(c),e.append(c=b.clone()),l=A(h,a),k=0;k<l.length;k++)l[k].rowSpan++;c.appendBogus();b.$.rowSpan=m;c.$.rowSpan=g;1==m&&b.removeAttribute("rowSpan");1==g&&c.removeAttribute("rowSpan");return c}function E(d,f){var b=q(d);if(1<b.length)return!1;if(f)return!0;
var b=b[0],c=b.getParent(),e=c.getAscendant("table"),e=CKEDITOR.tools.buildTableMap(e),h=A(e,c.$.rowIndex,b),a=b.$.colSpan;if(1<a)c=Math.ceil(a/2),a=Math.floor(a/2);else{for(var a=c=1,k=[],g=0;g<e.length;g++){var m=e[g];k.push(m[h]);1<m[h].rowSpan&&(g+=m[h].rowSpan-1)}for(e=0;e<k.length;e++)k[e].colSpan++}e=b.clone();e.insertAfter(b);e.appendBogus();b.$.colSpan=c;e.$.colSpan=a;1==c&&b.removeAttribute("colSpan");1==a&&e.removeAttribute("colSpan");return e}var D=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools=
{requires:"table,dialog,contextmenu",init:function(d){function f(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function b(a,b){var c=d.addCommand(a,b);d.addFeature(c)}var c=d.lang.table,e=CKEDITOR.tools.style.parse,h="td{width} td{height} td{border-color} td{background-color} td{white-space} td{vertical-align} td{text-align} td[colspan] td[rowspan] th".split(" ");b("cellProperties",
new CKEDITOR.dialogCommand("cellProperties",f({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:h,contentTransformations:[[{element:"td",left:function(a){return a.styles.background&&e.background(a.styles.background).color},right:function(a){a.styles["background-color"]=e.background(a.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(a){return a.attributes&&a.attributes.valign},
right:function(a){a.styles["vertical-align"]=a.attributes.valign;delete a.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(a){return a.styles&&a.styles.height},right:function(a){CKEDITOR.tools.array.forEach(a.children,function(b){b.name in{td:1,th:1}&&(b.attributes["cke-row-height"]=a.styles.height)});delete a.styles.height}}],[{element:"td",check:"td{height}",left:function(a){return(a=a.attributes)&&a["cke-row-height"]},right:function(a){a.styles.height=a.attributes["cke-row-height"];
delete a.attributes["cke-row-height"]}}]]})));CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js");b("rowDelete",f({requiredContent:"table",exec:function(a){a=a.getSelection();(a=B(a))&&p(a)}}));b("rowInsertBefore",f({requiredContent:"table",exec:function(a){a=a.getSelection();a=q(a);r(a,!0)}}));b("rowInsertAfter",f({requiredContent:"table",exec:function(a){a=a.getSelection();a=q(a);r(a)}}));b("columnDelete",f({requiredContent:"table",exec:function(a){a=a.getSelection();(a=y(a))&&
p(a,!0)}}));b("columnInsertBefore",f({requiredContent:"table",exec:function(a){a=a.getSelection();a=q(a);u(a,!0)}}));b("columnInsertAfter",f({requiredContent:"table",exec:function(a){a=a.getSelection();a=q(a);u(a)}}));b("cellDelete",f({requiredContent:"table",exec:function(a){a=a.getSelection();z(a)}}));b("cellMerge",f({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(a,b){b.cell=x(a.getSelection());p(b.cell,!0)}}));b("cellMergeRight",f({allowedContent:"td[colspan]",
requiredContent:"td[colspan]",exec:function(a,b){b.cell=x(a.getSelection(),"right");p(b.cell,!0)}}));b("cellMergeDown",f({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(a,b){b.cell=x(a.getSelection(),"down");p(b.cell,!0)}}));b("cellVerticalSplit",f({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(a){p(E(a.getSelection()))}}));b("cellHorizontalSplit",f({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(a){p(C(a.getSelection()))}}));
b("cellInsertBefore",f({requiredContent:"table",exec:function(a){a=a.getSelection();t(a,!0)}}));b("cellInsertAfter",f({requiredContent:"table",exec:function(a){a=a.getSelection();t(a)}}));d.addMenuItems&&d.addMenuItems({tablecell:{label:c.cell.menu,group:"tablecell",order:1,getItems:function(){var a=d.getSelection(),b=q(a),a={tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:x(a,null,!0)?CKEDITOR.TRISTATE_OFF:
CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:x(a,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:x(a,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:E(a,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:C(a,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};d.filter.check(h)&&(a.tablecell_properties=0<b.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);return a}},tablecell_insertBefore:{label:c.cell.insertBefore,
group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:c.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:c.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:c.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:c.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:c.cell.mergeDown,group:"tablecell",command:"cellMergeDown",
order:18},tablecell_split_horizontal:{label:c.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:c.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:c.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:c.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,
tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:c.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:c.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:c.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:c.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,
tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:c.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:c.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:c.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}});d.contextMenu&&d.contextMenu.addListener(function(a,b,c){return(a=c.contains({td:1,th:1},1))&&!a.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,
tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:v,insertRow:r,insertColumn:u,getSelectedCells:q};CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)})();
CKEDITOR.tools.buildTableMap=function(q,r,B,v,w){q=q.$.rows;B=B||0;v="number"===typeof v?v:q.length-1;w="number"===typeof w?w:-1;var u=-1,y=[];for(r=r||0;r<=v;r++){u++;!y[u]&&(y[u]=[]);for(var t=-1,z=B;z<=(-1===w?q[r].cells.length-1:w);z++){var p=q[r].cells[z];if(!p)break;for(t++;y[u][t];)t++;for(var A=isNaN(p.colSpan)?1:p.colSpan,p=isNaN(p.rowSpan)?1:p.rowSpan,x=0;x<p&&!(r+x>v);x++){y[u+x]||(y[u+x]=[]);for(var C=0;C<A;C++)y[u+x][t+C]=q[r].cells[z]}t+=A-1;if(-1!==w&&t>=w)break}}return y};(function(){function D(a){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(a)}function z(a,b){var c=a.getAscendant("table"),d=b.getAscendant("table"),e=CKEDITOR.tools.buildTableMap(c),g=r(a),k=r(b),h=[],f={},l,p;c.contains(d)&&(b=b.getAscendant({td:1,th:1}),k=r(b));g>k&&(c=g,g=k,k=c,c=a,a=b,b=c);for(c=0;c<e[g].length;c++)if(a.$===e[g][c]){l=c;break}for(c=0;c<e[k].length;c++)if(b.$===e[k][c]){p=c;break}l>p&&(c=l,l=p,p=c);for(c=g;c<=k;c++)for(g=l;g<=p;g++)d=new CKEDITOR.dom.element(e[c][g]),
d.$&&!d.getCustomData("selected_cell")&&(h.push(d),CKEDITOR.dom.element.setMarker(f,d,"selected_cell",!0));CKEDITOR.dom.element.clearAllMarkers(f);return h}function I(a){return(a=a.editable().findOne(".cke_table-faked-selection"))&&a.getAscendant("table")}function A(a,b){var c=a.editable().find(".cke_table-faked-selection"),d=a.editable().findOne("[data-cke-table-faked-selection-table]"),e;a.fire("lockSnapshot");a.editable().removeClass("cke_table-faked-selection-editor");for(e=0;e<c.count();e++)c.getItem(e).removeClass("cke_table-faked-selection");
d&&d.data("cke-table-faked-selection-table",!1);a.fire("unlockSnapshot");b&&(m={active:!1},a.getSelection().isInTable()&&a.getSelection().reset())}function t(a,b){var c=[],d,e;for(e=0;e<b.length;e++)d=a.createRange(),d.setStartBefore(b[e]),d.setEndAfter(b[e]),c.push(d);a.getSelection().selectRanges(c)}function J(a){var b=a.editable().find(".cke_table-faked-selection");1>b.count()||(b=z(b.getItem(0),b.getItem(b.count()-1)),t(a,b))}function K(a,b,c){var d=v(a.getSelection(!0));b=b.is("table")?null:
b;var e;(e=m.active&&!m.first)&&!(e=b)&&(e=a.getSelection().getRanges(),e=1<d.length||e[0]&&!e[0].collapsed?!0:!1);if(e)m.first=b||d[0],m.dirty=b?!1:1!==d.length;else if(m.active&&b&&m.first.getAscendant("table").equals(b.getAscendant("table"))){d=z(m.first,b);if(!m.dirty&&1===d.length&&!D(c.data.getTarget()))return A(a,"mouseup"===c.name);m.dirty=!0;m.last=b;t(a,d)}}function L(a){var b=(a=a.editor||a.sender.editor)&&a.getSelection(),c=b&&b.getRanges()||[],d=c&&c[0].getEnclosedNode(),d=d&&d.type==
CKEDITOR.NODE_ELEMENT&&d.is("img"),e;if(b&&(A(a),b.isInTable()&&b.isFake))if(d)a.getSelection().reset();else if(!c[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored")){1===c.length&&c[0]._getTableElement()&&c[0]._getTableElement().is("table")&&(e=c[0]._getTableElement());e=v(b,e);a.fire("lockSnapshot");for(b=0;b<e.length;b++)e[b].addClass("cke_table-faked-selection");0<e.length&&(a.editable().addClass("cke_table-faked-selection-editor"),e[0].getAscendant("table").data("cke-table-faked-selection-table",
""));a.fire("unlockSnapshot")}}function r(a){return a.getAscendant("tr",!0).$.rowIndex}function w(a){function b(a,b){return a&&b?a.equals(b)||a.contains(b)||b.contains(a)||a.getCommonAncestor(b).is(l):!1}function c(a){return!a.getAscendant("table",!0)&&a.getDocument().equals(e.document)}function d(a,b,d,e){if("mousedown"===a.name&&(CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT||!e))return!0;if(b=a.name===(CKEDITOR.env.gecko?"mousedown":"mouseup")&&!c(a.data.getTarget()))a=a.data.getTarget().getAscendant({td:1,
th:1},!0),b=!(a&&a.hasClass("cke_table-faked-selection"));return b}if(a.data.getTarget().getName&&("mouseup"===a.name||!D(a.data.getTarget()))){var e=a.editor||a.listenerData.editor,g=e.getSelection(1),k=I(e),h=a.data.getTarget(),f=h&&h.getAscendant({td:1,th:1},!0),h=h&&h.getAscendant("table",!0),l={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};h&&h.hasAttribute("data-cke-tableselection-ignored")||(d(a,g,k,h)&&A(e,!0),!m.active&&"mousedown"===a.name&&CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT&&
h&&(m={active:!0},CKEDITOR.document.on("mouseup",w,null,{editor:e})),(f||h)&&K(e,f||h,a),"mouseup"===a.name&&(CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT&&(c(a.data.getTarget())||b(k,h))&&J(e),m={active:!1},CKEDITOR.document.removeListener("mouseup",w)))}}function M(a){var b=a.data.getTarget().getAscendant("table",!0);b&&b.hasAttribute("data-cke-tableselection-ignored")||(b=a.data.getTarget().getAscendant({td:1,th:1},!0))&&!b.hasClass("cke_table-faked-selection")&&(a.cancel(),a.data.preventDefault())}
function N(a,b){function c(a){a.cancel()}var d=a.getSelection(),e=d.createBookmarks(),g=a.document,k=a.createRange(),h=g.getDocumentElement().$,f=CKEDITOR.env.ie&&9>CKEDITOR.env.version,l=a.blockless||CKEDITOR.env.ie?"span":"div",p,x,n,m;g.getById("cke_table_copybin")||(p=g.createElement(l),x=g.createElement(l),x.setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),p.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),p.setStyle("ltr"==a.config.contentsLangDirection?
"left":"right","-5000px"),p.setHtml(a.getSelectedHtml(!0)),a.fire("lockSnapshot"),x.append(p),a.editable().append(x),m=a.on("selectionChange",c,null,null,0),f&&(n=h.scrollTop),k.selectNodeContents(p),k.select(),f&&(h.scrollTop=n),setTimeout(function(){x.remove();d.selectBookmarks(e);m.removeListener();a.fire("unlockSnapshot");b&&(a.extractSelectedHtml(),a.fire("saveSnapshot"))},100))}function E(a){var b=a.editor||a.sender.editor,c=b.getSelection();c.isInTable()&&(c.getRanges()[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored")||
N(b,"cut"===a.name))}function q(a){this._reset();a&&this.setSelectedCells(a)}function B(a,b,c){a.on("beforeCommandExec",function(d){-1!==CKEDITOR.tools.array.indexOf(b,d.data.name)&&(d.data.selectedCells=v(a.getSelection()))});a.on("afterCommandExec",function(d){-1!==CKEDITOR.tools.array.indexOf(b,d.data.name)&&c(a,d.data)})}var m={active:!1},y,v,C,F,G;q.prototype={};q.prototype._reset=function(){this.cells={first:null,last:null,all:[]};this.rows={first:null,last:null}};q.prototype.setSelectedCells=
function(a){this._reset();a=a.slice(0);this._arraySortByDOMOrder(a);this.cells.all=a;this.cells.first=a[0];this.cells.last=a[a.length-1];this.rows.first=a[0].getAscendant("tr");this.rows.last=this.cells.last.getAscendant("tr")};q.prototype.getTableMap=function(){var a=C(this.cells.first),b;a:{b=this.cells.last;var c=b.getAscendant("table"),d=r(b),c=CKEDITOR.tools.buildTableMap(c),e;for(e=0;e<c[d].length;e++)if((new CKEDITOR.dom.element(c[d][e])).equals(b)){b=e;break a}b=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),
r(this.rows.first),a,r(this.rows.last),b)};q.prototype._getTable=function(){return this.rows.first.getAscendant("table")};q.prototype.insertRow=function(a,b,c){if("undefined"===typeof a)a=1;else if(0>=a)return;for(var d=this.cells.first.$.cellIndex,e=this.cells.last.$.cellIndex,g=c?[]:this.cells.all,k,h=0;h<a;h++)k=F(c?this.cells.all:g,b),k=CKEDITOR.tools.array.filter(k.find("td, th").toArray(),function(a){return c?!0:a.$.cellIndex>=d&&a.$.cellIndex<=e}),g=b?k.concat(g):g.concat(k);this.setSelectedCells(g)};
q.prototype.insertColumn=function(a){function b(a){a=r(a);return a>=e&&a<=g}if("undefined"===typeof a)a=1;else if(0>=a)return;for(var c=this.cells,d=c.all,e=r(c.first),g=r(c.last),c=0;c<a;c++)d=d.concat(CKEDITOR.tools.array.filter(G(d),b));this.setSelectedCells(d)};q.prototype.emptyCells=function(a){a=a||this.cells.all;for(var b=0;b<a.length;b++)a[b].setHtml("")};q.prototype._arraySortByDOMOrder=function(a){a.sort(function(a,c){return a.getPosition(c)&CKEDITOR.POSITION_PRECEDING?-1:1})};var H={onPaste:function(a){function b(a){var b=
d.createRange();b.selectNodeContents(a);b.select()}function c(a){return Math.max.apply(null,CKEDITOR.tools.array.map(a,function(a){return a.length},0))}var d=a.editor,e=d.getSelection(),g=v(e),k=e.isInTable(!0)&&this.isBoundarySelection(e),h=this.findTableInPastedContent(d,a.data.dataValue),f,l;(function(a,b,d,c){a=a.getRanges();var e=a.length&&a[0]._getTableElement({table:1});if(!b.length||e&&e.hasAttribute("data-cke-tableselection-ignored")||c&&!d)return!1;if(b=!c)(b=a[0])?(b=b.clone(),b.enlarge(CKEDITOR.ENLARGE_ELEMENT),
b=(b=b.getEnclosedNode())&&b.is&&b.is(CKEDITOR.dtd.$tableContent)):b=void 0,b=!b;return b?!1:!0})(e,g,h,k)&&(g=g[0].getAscendant("table"),f=new q(v(e,g)),d.once("afterPaste",function(){var a;if(l){a=new CKEDITOR.dom.element(l[0][0]);var b=l[l.length-1];a=z(a,new CKEDITOR.dom.element(b[b.length-1]))}else a=f.cells.all;t(d,a)}),h?(a.stop(),k?(f.insertRow(1,1===k,!0),e.selectElement(f.rows.first)):(f.emptyCells(),t(d,f.cells.all)),a=f.getTableMap(),l=CKEDITOR.tools.buildTableMap(h),f.insertRow(l.length-
a.length),f.insertColumn(c(l)-c(a)),a=f.getTableMap(),this.pasteTable(f,a,l),d.fire("saveSnapshot"),setTimeout(function(){d.fire("afterPaste")},0)):(b(f.cells.first),d.once("afterPaste",function(){d.fire("lockSnapshot");f.emptyCells(f.cells.all.slice(1));t(d,f.cells.all);d.fire("unlockSnapshot")})))},isBoundarySelection:function(a){a=a.getRanges()[0];var b=a.endContainer.getAscendant("tr",!0);if(b&&a.collapsed){if(a.checkBoundaryOfElement(b,CKEDITOR.START))return 1;if(a.checkBoundaryOfElement(b,CKEDITOR.END))return 2}return 0},
findTableInPastedContent:function(a,b){var c=a.dataProcessor,d=new CKEDITOR.dom.element("body");c||(c=new CKEDITOR.htmlDataProcessor(a));d.setHtml(c.toHtml(b),{fixForBody:!1});return 1<d.getChildCount()?null:d.findOne("table")},pasteTable:function(a,b,c){var d,e=C(a.cells.first),g=a._getTable(),k={},h,f,l,p;for(l=0;l<c.length;l++)for(h=new CKEDITOR.dom.element(g.$.rows[a.rows.first.$.rowIndex+l]),p=0;p<c[l].length;p++)if(f=new CKEDITOR.dom.element(c[l][p]),d=b[l]&&b[l][p]?new CKEDITOR.dom.element(b[l][p]):
null,f&&!f.getCustomData("processed")){if(d&&d.getParent())f.replace(d);else if(0===p||c[l][p-1])(d=0!==p?new CKEDITOR.dom.element(c[l][p-1]):null)&&h.equals(d.getParent())?f.insertAfter(d):0<e?h.$.cells[e]?f.insertAfter(new CKEDITOR.dom.element(h.$.cells[e])):h.append(f):h.append(f,!0);CKEDITOR.dom.element.setMarker(k,f,"processed",!0)}else f.getCustomData("processed")&&d&&d.remove();CKEDITOR.dom.element.clearAllMarkers(k)}};CKEDITOR.plugins.tableselection={getCellsBetween:z,keyboardIntegration:function(a){function b(a){var b=
a.getEnclosedNode();b&&"function"===typeof b.is&&b.is({td:1,th:1})?b.setText(""):a.deleteContents();CKEDITOR.tools.array.forEach(a._find("td"),function(a){a.appendBogus()})}var c=a.editable();c.attachListener(c,"keydown",function(a){function c(b,e){if(!e.length)return null;var l=a.createRange(),g=CKEDITOR.dom.range.mergeRanges(e);CKEDITOR.tools.array.forEach(g,function(a){a.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var m=g[0].getBoundaryNodes(),n=m.startNode,m=m.endNode;if(n&&n.is&&n.is(k)){for(var q=n.getAscendant("table",
!0),u=n.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,q),r=!1,t=function(a){return!n.contains(a)&&a.is&&a.is("td","th")};u&&!t(u);)u=u.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,q);!u&&m&&m.is&&!m.is("table")&&m.getNext()&&(u=m.getNext().findOne("td, th"),r=!0);if(u)l["moveToElementEdit"+(r?"Start":"End")](u);else l.setStartBefore(n.getAscendant("table",!0)),l.collapse(!0);g[0].deleteContents();return[l]}if(n)return l.moveToElementEditablePosition(n),[l]}var g={37:1,38:1,39:1,40:1,8:1,46:1,13:1},
k=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);delete k.td;delete k.th;return function(h){var f=h.data.getKey(),l=h.data.getKeystroke(),k,m=37===f||38==f,n,q,r;if(g[f]&&!a.readOnly&&(k=a.getSelection())&&k.isInTable()&&k.isFake){n=k.getRanges();q=n[0]._getTableElement();r=n[n.length-1]._getTableElement();if(13!==f||a.plugins.enterkey)h.data.preventDefault(),h.cancel();if(36<f&&41>f)n[0].moveToElementEditablePosition(m?q:r,!m),k.selectRanges([n[0]]);else if(13!==f||13===l||l===CKEDITOR.SHIFT+
13){for(h=0;h<n.length;h++)b(n[h]);(h=c(q,n))?n=h:n[0].moveToElementEditablePosition(q);k.selectRanges(n);13===f&&a.plugins.enterkey?(a.fire("lockSnapshot"),13===l?a.execCommand("enter"):a.execCommand("shiftEnter"),a.fire("unlockSnapshot"),a.fire("saveSnapshot")):13!==f&&a.fire("saveSnapshot")}}}}(a),null,null,-1);c.attachListener(c,"keypress",function(c){var e=a.getSelection(),g=c.data.$.charCode||13===c.data.getKey(),k;if(!a.readOnly&&e&&e.isInTable()&&e.isFake&&g&&!(c.data.getKeystroke()&CKEDITOR.CTRL)){c=
e.getRanges();g=c[0].getEnclosedNode().getAscendant({td:1,th:1},!0);for(k=0;k<c.length;k++)b(c[k]);g&&(c[0].moveToElementEditablePosition(g),e.selectRanges([c[0]]))}},null,null,-1)}};CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",isSupportedEnvironment:function(){return!(CKEDITOR.env.ie&&11>CKEDITOR.env.version)},onLoad:function(){y=CKEDITOR.plugins.tabletools;v=y.getSelectedCells;C=y.getCellColIndex;F=y.insertRow;G=y.insertColumn;CKEDITOR.document.appendStyleSheet(this.path+
"styles/tableselection.css")},init:function(a){this.isSupportedEnvironment()&&(a.addContentsCss&&a.addContentsCss(this.path+"styles/tableselection.css"),a.on("contentDom",function(){var b=a.editable(),c=b.isInline()?b:a.document,d={editor:a};b.attachListener(c,"mousedown",w,null,d);b.attachListener(c,"mousemove",w,null,d);b.attachListener(c,"mouseup",w,null,d);b.attachListener(b,"dragstart",M);b.attachListener(a,"selectionCheck",L);CKEDITOR.plugins.tableselection.keyboardIntegration(a);CKEDITOR.plugins.clipboard&&
!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(b.attachListener(b,"cut",E),b.attachListener(b,"copy",E))}),a.on("paste",H.onPaste,H),B(a,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),function(a,c){t(a,c.selectedCells)}),B(a,["cellMerge","cellMergeRight","cellMergeDown"],function(a,c){t(a,[c.commandData.cell])}),B(a,["cellDelete"],function(a){A(a,!0)}))}})})();(function(){function n(a,b){return CKEDITOR.tools.array.reduce(b,function(a,b){return b(a)},a)}var g=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],p={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(a){function b(a){d.enabled&&!1!==a.data.command.canUndo&&d.save()}function c(){d.enabled=a.readOnly?!1:"wysiwyg"==a.mode;d.onChange()}var d=a.undoManager=new e(a),l=d.editingHandler=new k(d),f=a.addCommand("undo",{exec:function(){d.undo()&&(a.selectionChange(),this.fire("afterUndo"))},
startDisabled:!0,canUndo:!1}),h=a.addCommand("redo",{exec:function(){d.redo()&&(a.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});a.setKeystroke([[g[0],"undo"],[g[1],"redo"],[g[2],"redo"]]);d.onChange=function(){f.setState(d.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);h.setState(d.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)};a.on("beforeCommandExec",b);a.on("afterCommandExec",b);a.on("saveSnapshot",function(a){d.save(a.data&&a.data.contentOnly)});
a.on("contentDom",l.attachListeners,l);a.on("instanceReady",function(){a.fire("saveSnapshot")});a.on("beforeModeUnload",function(){"wysiwyg"==a.mode&&d.save(!0)});a.on("mode",c);a.on("readOnly",c);a.ui.addButton&&(a.ui.addButton("Undo",{label:a.lang.undo.undo,command:"undo",toolbar:"undo,10"}),a.ui.addButton("Redo",{label:a.lang.undo.redo,command:"redo",toolbar:"undo,20"}));a.resetUndo=function(){d.reset();a.fire("saveSnapshot")};a.on("updateSnapshot",function(){d.currentImage&&d.update()});a.on("lockSnapshot",
function(a){a=a.data;d.lock(a&&a.dontUpdate,a&&a.forceUpdate)});a.on("unlockSnapshot",d.unlock,d)}});CKEDITOR.plugins.undo={};var e=CKEDITOR.plugins.undo.UndoManager=function(a){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=a.config.undoStackSize||20;this.strokesLimit=25;this._filterRules=[];this.editor=a;this.reset();CKEDITOR.env.ie&&this.addFilterRule(function(a){return a.replace(/\s+data-cke-expando=".*?"/g,"")})};e.prototype={type:function(a,b){var c=e.getKeyGroup(a),
d=this.strokesRecorded[c]+1;b=b||d>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());b?(d=0,this.editor.fire("saveSnapshot")):this.editor.fire("change");this.strokesRecorded[c]=d;this.previousKeyGroup=c},keyGroupChanged:function(a){return e.getKeyGroup(a)!=this.previousKeyGroup},reset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},resetType:function(){this.strokesRecorded=
[0,0];this.typing=!1;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,b,c){var d=this.editor;if(this.locked||"ready"!=d.status||"wysiwyg"!=d.mode)return!1;var e=d.editable();if(!e||"ready"!=e.status)return!1;e=this.snapshots;b||(b=new f(d));if(!1===b.contents)return!1;if(this.currentImage)if(b.equalsContent(this.currentImage)){if(a||b.equalsSelection(this.currentImage))return!1}else!1!==
c&&d.fire("change");e.splice(this.index+1,e.length-this.index-1);e.length==this.limit&&e.shift();this.index=e.push(b)-1;this.currentImage=b;!1!==c&&this.refreshState();return!0},restoreImage:function(a){var b=this.editor,c;a.bookmarks&&(b.focus(),c=b.getSelection());this.locked={level:999};this.editor.loadSnapshot(a.contents);a.bookmarks?c.selectBookmarks(a.bookmarks):CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),c.select());this.locked=null;this.index=a.index;
this.currentImage=this.snapshots[this.index];this.update();this.refreshState();b.fire("change")},getNextImage:function(a){var b=this.snapshots,c=this.currentImage,d;if(c)if(a)for(d=this.index-1;0<=d;d--){if(a=b[d],!c.equalsContent(a))return a.index=d,a}else for(d=this.index+1;d<b.length;d++)if(a=b[d],!c.equalsContent(a))return a.index=d,a;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);
var a=this.getNextImage(!0);if(a)return this.restoreImage(a),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(a){if(!this.locked){a||(a=new f(this.editor));for(var b=this.index,c=this.snapshots;0<b&&this.currentImage.equalsContent(c[b-1]);)--b;c.splice(b,this.index-b+1,a);this.index=b;this.currentImage=a}},updateSelection:function(a){if(!this.snapshots.length)return!1;var b=this.snapshots,
c=b[b.length-1];return c.equalsContent(a)&&!c.equalsSelection(a)?(this.currentImage=b[b.length-1]=a,!0):!1},lock:function(a,b){if(this.locked)this.locked.level++;else if(a)this.locked={level:1};else{var c=null;if(b)c=!0;else{var d=new f(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(d)&&(c=d)}this.locked={update:c,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var a=this.locked.update;this.locked=null;if(!0===a)this.update();else if(a){var b=new f(this.editor,
!0);a.equalsContent(b)||this.update()}}},addFilterRule:function(a){this._filterRules.push(a)}};e.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};e.keyGroups={PRINTABLE:0,FUNCTIONAL:1};e.isNavigationKey=function(a){return!!e.navigationKeyCodes[a]};e.getKeyGroup=function(a){var b=e.keyGroups;return p[a]?b.FUNCTIONAL:b.PRINTABLE};e.getOppositeKeyGroup=function(a){var b=e.keyGroups;return a==b.FUNCTIONAL?b.PRINTABLE:b.FUNCTIONAL};e.ieFunctionalKeysBug=function(a){return CKEDITOR.env.ie&&
e.getKeyGroup(a)==e.keyGroups.FUNCTIONAL};var f=CKEDITOR.plugins.undo.Image=function(a,b){this.editor=a;a.fire("beforeUndoImage");var c=a.getSnapshot();c&&(this.contents=n(c,a.undoManager._filterRules));b||(this.bookmarks=(c=c&&a.getSelection())&&c.createBookmarks2(!0));a.fire("afterUndoImage")},h=/\b(?:href|src|name)="[^"]*?"/gi;f.prototype={equalsContent:function(a){var b=this.contents;a=a.contents;CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(b=b.replace(h,""),a=a.replace(h,
""));return b!=a?!1:!0},equalsSelection:function(a){var b=this.bookmarks;a=a.bookmarks;if(b||a){if(!b||!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var d=b[c],e=a[c];if(d.startOffset!=e.startOffset||d.endOffset!=e.endOffset||!CKEDITOR.tools.arrayCompare(d.start,e.start)||!CKEDITOR.tools.arrayCompare(d.end,e.end))return!1}}return!0}};var k=CKEDITOR.plugins.undo.NativeEditingHandler=function(a){this.undoManager=a;this.ignoreInputEvent=!1;this.keyEventsStack=new m;this.lastKeydownImage=
null};k.prototype={onKeydown:function(a){var b=a.data.getKey();if(229!==b)if(-1<CKEDITOR.tools.indexOf(g,a.data.getKeystroke()))a.data.preventDefault();else if(this.keyEventsStack.cleanUp(a),a=this.undoManager,this.keyEventsStack.getLast(b)||this.keyEventsStack.push(b),this.lastKeydownImage=new f(a.editor),e.isNavigationKey(b)||this.undoManager.keyGroupChanged(b))if(a.strokesRecorded[0]||a.strokesRecorded[1])a.save(!1,this.lastKeydownImage,!1),a.resetType()},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=
!1;else{var a=this.keyEventsStack.getLast();a||(a=this.keyEventsStack.push(0));this.keyEventsStack.increment(a.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(a.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(a){var b=this.undoManager;a=a.data.getKey();var c=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(a);if(!(e.ieFunctionalKeysBug(a)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new f(b.editor,
!0))))if(0<c)b.type(a);else if(e.isNavigationKey(a))this.onNavigationKey(!0)},onNavigationKey:function(a){var b=this.undoManager;!a&&b.save(!0,null,!1)||b.updateSelection(new f(b.editor));b.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var a=this.undoManager.editor,b=a.editable(),c=this;b.attachListener(b,"keydown",function(a){c.onKeydown(a);if(e.ieFunctionalKeysBug(a.data.getKey()))c.onInput()},
null,null,999);b.attachListener(b,CKEDITOR.env.ie?"keypress":"input",c.onInput,c,null,999);b.attachListener(b,"keyup",c.onKeyup,c,null,999);b.attachListener(b,"paste",c.ignoreInputEventListener,c,null,999);b.attachListener(b,"drop",c.ignoreInputEventListener,c,null,999);a.on("afterPaste",c.activateInputEventListener,c,null,999);b.attachListener(b.isInline()?b:a.document.getDocumentElement(),"click",function(){c.onNavigationKey()},null,null,999);b.attachListener(this.undoManager.editor,"blur",function(){c.keyEventsStack.remove(9)},
null,null,999)}};var m=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};m.prototype={push:function(a){a=this.stack.push({keyCode:a,inputs:0});return this.stack[a-1]},getLastIndex:function(a){if("number"!=typeof a)return this.stack.length-1;for(var b=this.stack.length;b--;)if(this.stack[b].keyCode==a)return b;return-1},getLast:function(a){a=this.getLastIndex(a);return-1!=a?this.stack[a]:null},increment:function(a){this.getLast(a).inputs++},remove:function(a){a=this.getLastIndex(a);-1!=
a&&this.stack.splice(a,1)},resetInputs:function(a){if("number"==typeof a)this.getLast(a).inputs=0;else for(a=this.stack.length;a--;)this.stack[a].inputs=0},getTotalInputs:function(){for(var a=this.stack.length,b=0;a--;)b+=this.stack[a].inputs;return b},cleanUp:function(a){a=a.data.$;a.ctrlKey||a.metaKey||this.remove(17);a.shiftKey||this.remove(16);a.altKey||this.remove(18)}}})();(function(){function m(a,d){CKEDITOR.tools.extend(this,{editor:a,editable:a.editable(),doc:a.document,win:a.window},d,!0);this.inline=this.editable.isInline();this.inline||(this.frame=this.win.getFrame());this.target=this[this.inline?"editable":"doc"]}function n(a,d){CKEDITOR.tools.extend(this,d,{editor:a},!0)}function p(a,d){var b=a.editable();CKEDITOR.tools.extend(this,{editor:a,editable:b,inline:b.isInline(),doc:a.document,win:a.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},
d,!0);this.hidden={};this.visible={};this.inline||(this.frame=this.win.getFrame());this.queryViewport();var c=CKEDITOR.tools.bind(this.queryViewport,this),e=CKEDITOR.tools.bind(this.hideVisible,this),g=CKEDITOR.tools.bind(this.removeAll,this);b.attachListener(this.winTop,"resize",c);b.attachListener(this.winTop,"scroll",c);b.attachListener(this.winTop,"resize",e);b.attachListener(this.win,"scroll",e);b.attachListener(this.inline?b:this.frame,"mouseout",function(a){var b=a.data.$.clientX;a=a.data.$.clientY;
this.queryViewport();(b<=this.rect.left||b>=this.rect.right||a<=this.rect.top||a>=this.rect.bottom)&&this.hideVisible();(0>=b||b>=this.winTopPane.width||0>=a||a>=this.winTopPane.height)&&this.hideVisible()},this);b.attachListener(a,"resize",c);b.attachListener(a,"mode",g);a.on("destroy",g);this.lineTpl=(new CKEDITOR.template('\x3cdiv data-cke-lineutils-line\x3d"1" class\x3d"cke_reset_all" style\x3d"{lineStyle}"\x3e\x3cspan style\x3d"{tipLeftStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3cspan style\x3d"{tipRightStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3c/div\x3e')).output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},
t,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},q,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},q,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function l(a){var d;if(d=a&&a.type==CKEDITOR.NODE_ELEMENT)d=!(r[a.getComputedStyle("float")]||r[a.getAttribute("align")]);return d&&
!u[a.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils");CKEDITOR.LINEUTILS_BEFORE=1;CKEDITOR.LINEUTILS_AFTER=2;CKEDITOR.LINEUTILS_INSIDE=4;m.prototype={start:function(a){var d=this,b=this.editor,c=this.doc,e,g,f,h,k=CKEDITOR.tools.eventsBuffer(50,function(){b.readOnly||"wysiwyg"!=b.mode||(d.relations={},(g=c.$.elementFromPoint(f,h))&&g.nodeType&&(e=new CKEDITOR.dom.element(g),d.traverseSearch(e),isNaN(f+h)||d.pixelSearch(e,f,h),a&&a(d.relations,f,h)))});this.listener=this.editable.attachListener(this.target,
"mousemove",function(a){f=a.data.$.clientX;h=a.data.$.clientY;k.input()});this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){k.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var a={};a[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START;a[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END;a[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START;return function(d){var b=this.editor.createRange();b.moveToPosition(this.relations[d.uid].element,
a[d.type]);return b}}(),store:function(){function a(a,b,c){var e=a.getUniqueId();e in c?c[e].type|=b:c[e]={element:a,type:b}}return function(d,b){var c;b&CKEDITOR.LINEUTILS_AFTER&&l(c=d.getNext())&&c.isVisible()&&(a(c,CKEDITOR.LINEUTILS_BEFORE,this.relations),b^=CKEDITOR.LINEUTILS_AFTER);b&CKEDITOR.LINEUTILS_INSIDE&&l(c=d.getFirst())&&c.isVisible()&&(a(c,CKEDITOR.LINEUTILS_BEFORE,this.relations),b^=CKEDITOR.LINEUTILS_INSIDE);a(d,b,this.relations)}}(),traverseSearch:function(a){var d,b,c;do if(c=a.$["data-cke-expando"],
!(c&&c in this.relations)){if(a.equals(this.editable))break;if(l(a))for(d in this.lookups)(b=this.lookups[d](a))&&this.store(a,b)}while((!a||a.type!=CKEDITOR.NODE_ELEMENT||"true"!=a.getAttribute("contenteditable"))&&(a=a.getParent()))},pixelSearch:function(){function a(a,c,e,g,f){for(var h=0,k;f(e);){e+=g;if(25==++h)break;if(k=this.doc.$.elementFromPoint(c,e))if(k==a)h=0;else if(d(a,k)&&(h=0,l(k=new CKEDITOR.dom.element(k))))return k}}var d=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(a,c){return a.contains(c)}:
function(a,c){return!!(a.compareDocumentPosition(c)&16)};return function(b,c,d){var g=this.win.getViewPaneSize().height,f=a.call(this,b.$,c,d,-1,function(a){return 0<a});c=a.call(this,b.$,c,d,1,function(a){return a<g});if(f)for(this.traverseSearch(f);!f.getParent().equals(b);)f=f.getParent();if(c)for(this.traverseSearch(c);!c.getParent().equals(b);)c=c.getParent();for(;f||c;){f&&(f=f.getNext(l));if(!f||f.equals(c))break;this.traverseSearch(f);c&&(c=c.getPrevious(l));if(!c||c.equals(f))break;this.traverseSearch(c)}}}(),
greedySearch:function(){this.relations={};for(var a=this.editable.getElementsByTag("*"),d=0,b,c,e;b=a.getItem(d++);)if(!b.equals(this.editable)&&b.type==CKEDITOR.NODE_ELEMENT&&(b.hasAttribute("contenteditable")||!b.isReadOnly())&&l(b)&&b.isVisible())for(e in this.lookups)(c=this.lookups[e](b))&&this.store(b,c);return this.relations}};n.prototype={locate:function(){function a(a,b){var c=a.element[b===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return c&&l(c)?(a.siblingRect=c.getClientRect(),
b==CKEDITOR.LINEUTILS_BEFORE?(a.siblingRect.bottom+a.elementRect.top)/2:(a.elementRect.bottom+a.siblingRect.top)/2):b==CKEDITOR.LINEUTILS_BEFORE?a.elementRect.top:a.elementRect.bottom}return function(d){var b;this.locations={};for(var c in d)b=d[c],b.elementRect=b.element.getClientRect(),b.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(c,CKEDITOR.LINEUTILS_BEFORE,a(b,CKEDITOR.LINEUTILS_BEFORE)),b.type&CKEDITOR.LINEUTILS_AFTER&&this.store(c,CKEDITOR.LINEUTILS_AFTER,a(b,CKEDITOR.LINEUTILS_AFTER)),b.type&
CKEDITOR.LINEUTILS_INSIDE&&this.store(c,CKEDITOR.LINEUTILS_INSIDE,(b.elementRect.top+b.elementRect.bottom)/2);return this.locations}}(),sort:function(){var a,d,b,c;return function(e,g){a=this.locations;d=[];for(var f in a)for(var h in a[f])if(b=Math.abs(e-a[f][h]),d.length){for(c=0;c<d.length;c++)if(b<d[c].dist){d.splice(c,0,{uid:+f,type:h,dist:b});break}c==d.length&&d.push({uid:+f,type:h,dist:b})}else d.push({uid:+f,type:h,dist:b});return"undefined"!=typeof g?d.slice(0,g):d}}(),store:function(a,
d,b){this.locations[a]||(this.locations[a]={});this.locations[a][d]=b}};var q={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},t={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};p.prototype={removeAll:function(){for(var a in this.hidden)this.hidden[a].remove(),delete this.hidden[a];for(a in this.visible)this.visible[a].remove(),delete this.visible[a]},hideLine:function(a){var d=a.getUniqueId();
a.hide();this.hidden[d]=a;delete this.visible[d]},showLine:function(a){var d=a.getUniqueId();a.show();this.visible[d]=a;delete this.hidden[d]},hideVisible:function(){for(var a in this.visible)this.hideLine(this.visible[a])},placeLine:function(a,d){var b,c,e;if(b=this.getStyle(a.uid,a.type)){for(e in this.visible)if(this.visible[e].getCustomData("hash")!==this.hash){c=this.visible[e];break}if(!c)for(e in this.hidden)if(this.hidden[e].getCustomData("hash")!==this.hash){this.showLine(c=this.hidden[e]);
break}c||this.showLine(c=this.addLine());c.setCustomData("hash",this.hash);this.visible[c.getUniqueId()]=c;c.setStyles(b);d&&d(c)}},getStyle:function(a,d){var b=this.relations[a],c=this.locations[a][d],e={};e.width=b.siblingRect?Math.max(b.siblingRect.width,b.elementRect.width):b.elementRect.width;e.top=this.inline?c+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+c;if(e.top-this.winTopScroll.y<this.rect.top||e.top-this.winTopScroll.y>this.rect.bottom)return!1;this.inline?
e.left=b.elementRect.left-this.rect.relativeX:(0<b.elementRect.left?e.left=this.rect.left+b.elementRect.left:(e.width+=b.elementRect.left,e.left=this.rect.left),0<(b=e.left+e.width-(this.rect.left+this.winPane.width))&&(e.width-=b));e.left+=this.winTopScroll.x;for(var g in e)e[g]=CKEDITOR.tools.cssLength(e[g]);return e},addLine:function(){var a=CKEDITOR.dom.element.createFromHtml(this.lineTpl);a.appendTo(this.container);return a},prepare:function(a,d){this.relations=a;this.locations=d;this.hash=Math.random()},
cleanup:function(){var a,d;for(d in this.visible)a=this.visible[d],a.getCustomData("hash")!==this.hash&&this.hideLine(a)},queryViewport:function(){this.winPane=this.win.getViewPaneSize();this.winTopScroll=this.winTop.getScrollPosition();this.winTopPane=this.winTop.getViewPaneSize();this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(a){a=a.getClientRect();var d=this.container.getDocumentPosition(),b=this.container.getComputedStyle("position");a.relativeX=a.relativeY=
0;"static"!=b&&(a.relativeY=d.y,a.relativeX=d.x,a.top-=a.relativeY,a.bottom-=a.relativeY,a.left-=a.relativeX,a.right-=a.relativeX);return a}};var r={left:1,right:1,center:1},u={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:m,locator:n,liner:p}})();(function(){function e(a){return a.getName&&!a.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(a){if(CKEDITOR.env.webkit){var b=CKEDITOR.plugins.widgetselection;a.on("contentDom",function(a){a=a.editor;var c=a.editable();c.attachListener(c,"keydown",function(a){a.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout(function(){b.addFillers(c)||b.removeFillers(c)},0)},null,null,-1);a.on("selectionCheck",function(a){b.removeFillers(a.editor.editable())});
a.on("paste",function(a){a.data.dataValue=b.cleanPasteData(a.data.dataValue)});"selectall"in a.plugins&&b.addSelectAllIntegration(a)})}}});CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"\x26nbsp;",fillerTagName:"div",addFillers:function(a){var b=a.editor;if(!this.isWholeContentSelected(a)&&0<a.getChildCount()){var d=a.getFirst(e),c=a.getLast(e);d&&d.type==CKEDITOR.NODE_ELEMENT&&!d.isEditable()&&(this.startFiller=this.createFiller(),
a.append(this.startFiller,1));c&&c.type==CKEDITOR.NODE_ELEMENT&&!c.isEditable()&&(this.endFiller=this.createFiller(!0),a.append(this.endFiller,0));if(this.hasFiller(a))return b=b.createRange(),b.selectNodeContents(a),b.select(),!0}return!1},removeFillers:function(a){if(this.hasFiller(a)&&!this.isWholeContentSelected(a)){var b=a.findOne(this.fillerTagName+"["+this.fillerAttribute+"\x3dstart]"),d=a.findOne(this.fillerTagName+"["+this.fillerAttribute+"\x3dend]");this.startFiller&&b&&this.startFiller.equals(b)?
this.removeFiller(this.startFiller,a):this.startFiller=b;this.endFiller&&d&&this.endFiller.equals(d)?this.removeFiller(this.endFiller,a):this.endFiller=d}},cleanPasteData:function(a){a&&a.length&&(a=a.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),""));return a},isWholeContentSelected:function(a){var b=a.editor.getSelection().getRanges()[0];return!b||b&&b.collapsed?!1:(b=b.clone(),b.enlarge(CKEDITOR.ENLARGE_ELEMENT),!!(b&&a&&b.startContainer&&b.endContainer&&0===b.startOffset&&
b.endOffset===a.getChildCount()&&b.startContainer.equals(a)&&b.endContainer.equals(a)))},hasFiller:function(a){return 0<a.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(a){var b=new CKEDITOR.dom.element(this.fillerTagName);b.setHtml(this.fillerContent);b.setAttribute(this.fillerAttribute,a?"end":"start");b.setAttribute("data-cke-temp",1);b.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,
overflow:"hidden"});return b},removeFiller:function(a,b){if(a){var d=b.editor,c=b.editor.getSelection().getRanges()[0].startPath(),f=d.createRange(),g,e;c.contains(a)&&(g=a.getHtml(),e=!0);c="start"==a.getAttribute(this.fillerAttribute);a.remove();g&&0<g.length&&g!=this.fillerContent?(b.insertHtmlIntoRange(g,d.getSelection().getRanges()[0]),f.setStartAt(b.getChild(b.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),d.getSelection().selectRanges([f])):e&&(c?f.setStartAt(b.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):
f.setEndAt(b.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),b.editor.getSelection().selectRanges([f]))}},createFillerRegex:function(a){var b=this.createFiller(a).getOuterHtml().replace(/style="[^"]*"/gi,'style\x3d"[^"]*"').replace(/>[^<]*</gi,"\x3e[^\x3c]*\x3c");return new RegExp((a?"":"^")+b+(a?"$":""))},addSelectAllIntegration:function(a){var b=this;a.editable().attachListener(a,"beforeCommandExec",function(d){var c=a.editable();"selectAll"==d.data.name&&c&&b.addFillers(c)},null,null,9999)}}})();(function(){function q(a){this.editor=a;this.registered={};this.instances={};this.selected=[];this.widgetHoldingFocusedEditable=this.focused=null;this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}};Q(this);R(this);this.on("checkWidgets",S);this.editor.on("contentDomInvalidated",this.checkWidgets,this);T(this);U(this);V(this);W(this);X(this)}function g(a,b,c,d,e){var f=a.editor;CKEDITOR.tools.extend(this,d,{editor:f,id:b,inline:"span"==c.getParent().getName(),element:c,data:CKEDITOR.tools.extend({},
"function"==typeof d.defaults?d.defaults():d.defaults),dataReady:!1,inited:!1,ready:!1,edit:g.prototype.edit,focusedEditable:null,definition:d,repository:a,draggable:!1!==d.draggable,_:{downcastFn:d.downcast&&"string"==typeof d.downcast?d.downcasts[d.downcast]:d.downcast}},!0);a.fire("instanceCreated",this);Y(this,d);this.init&&this.init();this.inited=!0;(a=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(a)));e&&this.setData(e);this.data.classes||this.setData("classes",
this.getClasses());this.dataReady=!0;v(this);this.fire("data",this.data);this.isInited()&&f.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function t(a,b,c){CKEDITOR.dom.element.call(this,b.$);this.editor=a;this._={};b=this.filter=c.filter;CKEDITOR.dtd[this.getName()].p?(this.enterMode=b?b.getAllowedEnterMode(a.enterMode):a.enterMode,this.shiftEnterMode=b?b.getAllowedEnterMode(a.shiftEnterMode,!0):a.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function Z(a,
b){a.addCommand(b.name,{exec:function(a,d){function e(){a.widgets.finalizeCreation(k)}var f=a.widgets.focused;if(f&&f.name==b.name)f.edit();else if(b.insert)b.insert({editor:a,commandData:d});else if(b.template){var f="function"==typeof b.defaults?b.defaults():b.defaults,f=CKEDITOR.dom.element.createFromHtml(b.template.output(f),a.document),h,l=a.widgets.wrapElement(f,b.name),k=new CKEDITOR.dom.documentFragment(l.getDocument());k.append(l);(h=a.widgets.initOn(f,b,d&&d.startupData))?(f=h.once("edit",
function(b){if(b.data.dialog)h.once("dialog",function(b){b=b.data;var d,f;d=b.once("ok",e,null,null,20);f=b.once("cancel",function(b){b.data&&!1===b.data.hide||a.widgets.destroy(h,!0)});b.once("hide",function(){d.removeListener();f.removeListener()})});else e()},null,null,999),h.edit(),f.removeListener()):e()}},allowedContent:b.allowedContent,requiredContent:b.requiredContent,contentForms:b.contentForms,contentTransformations:b.contentTransformations})}function aa(a,b){function c(a,c){var e=b.upcast.split(","),
d,f;for(f=0;f<e.length;f++)if(d=e[f],d===a.name)return b.upcasts[d].call(this,a,c);return!1}function d(b,c,e){var d=CKEDITOR.tools.getIndex(a._.upcasts,function(a){return a[2]>e});0>d&&(d=a._.upcasts.length);a._.upcasts.splice(d,0,[CKEDITOR.tools.bind(b,c),c.name,e])}var e=b.upcast,f=b.upcastPriority||10;e&&("string"==typeof e?d(c,b,f):d(e,b,f))}function x(a,b){a.focused=null;if(b.isInited()){var c=b.editor.checkDirty();a.fire("widgetBlurred",{widget:b});b.setFocused(!1);!c&&b.editor.resetDirty()}}
function S(a){a=a.data;if("wysiwyg"==this.editor.mode){var b=this.editor.editable(),c=this.instances,d,e,f,h;if(b){for(d in c)c[d].isReady()&&!b.contains(c[d].wrapper)&&this.destroy(c[d],!0);if(a&&a.initOnlyNew)c=this.initOnAll();else{var l=b.find(".cke_widget_wrapper"),c=[];d=0;for(e=l.count();d<e;d++){f=l.getItem(d);if(h=!this.getByElement(f,!0)){a:{h=ba;for(var k=f;k=k.getParent();)if(h(k)){h=!0;break a}h=!1}h=!h}h&&b.contains(f)&&(f.addClass("cke_widget_new"),c.push(this.initOn(f.getFirst(g.isDomWidgetElement))))}}a&&
a.focusInited&&1==c.length&&c[0].focus()}}}function y(a){if("undefined"!=typeof a.attributes&&a.attributes["data-widget"]){var b=z(a),c=A(a),d=!1;b&&b.value&&b.value.match(/^\s/g)&&(b.parent.attributes["data-cke-white-space-first"]=1,b.value=b.value.replace(/^\s/g,"\x26nbsp;"),d=!0);c&&c.value&&c.value.match(/\s$/g)&&(c.parent.attributes["data-cke-white-space-last"]=1,c.value=c.value.replace(/\s$/g,"\x26nbsp;"),d=!0);d&&(a.attributes["data-cke-widget-white-space"]=1)}}function z(a){return a.find(function(a){return 3===
a.type},!0).shift()}function A(a){return a.find(function(a){return 3===a.type},!0).pop()}function B(a,b,c){if(!c.allowedContent&&!c.disallowedContent)return null;var d=this._.filters[a];d||(this._.filters[a]=d={});a=d[b];a||(a=c.allowedContent?new CKEDITOR.filter(c.allowedContent):this.editor.filter.clone(),d[b]=a,c.disallowedContent&&a.disallow(c.disallowedContent));return a}function ca(a){var b=[],c=a._.upcasts,d=a._.upcastCallbacks;return{toBeWrapped:b,iterator:function(a){var f,h,l,k,n;if("data-cke-widget-wrapper"in
a.attributes)return(a=a.getFirst(g.isParserWidgetElement))&&b.push([a]),!1;if("data-widget"in a.attributes)return b.push([a]),!1;if(n=c.length){if(a.attributes["data-cke-widget-upcasted"])return!1;k=0;for(f=d.length;k<f;++k)if(!1===d[k](a))return;for(k=0;k<n;++k)if(f=c[k],l={},h=f[0](a,l))return h instanceof CKEDITOR.htmlParser.element&&(a=h),a.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(l)),a.attributes["data-cke-widget-upcasted"]=1,b.push([a,f[1]]),!1}}}}function C(a,b){return{tabindex:-1,
contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off","class":"cke_widget_wrapper cke_widget_new cke_widget_"+(a?"inline":"block")+(b?" cke_widget_"+b:"")}}function D(a,b,c){if(a.type==CKEDITOR.NODE_ELEMENT){var d=CKEDITOR.dtd[a.name];if(d&&!d[c.name]){var d=a.split(b),e=a.parent;b=d.getIndex();a.children.length||(--b,a.remove());d.children.length||d.remove();return D(e,b,c)}}a.add(c,b)}function E(a,b){return"boolean"==typeof a.inline?a.inline:!!CKEDITOR.dtd.$inline[b]}function ba(a){return a.hasAttribute("data-cke-temp")}
function p(a,b,c,d){var e=a.editor;e.fire("lockSnapshot");c?(d=c.data("cke-widget-editable"),d=b.editables[d],a.widgetHoldingFocusedEditable=b,b.focusedEditable=d,c.addClass("cke_widget_editable_focused"),d.filter&&e.setActiveFilter(d.filter),e.setActiveEnterMode(d.enterMode,d.shiftEnterMode)):(d||b.focusedEditable.removeClass("cke_widget_editable_focused"),b.focusedEditable=null,a.widgetHoldingFocusedEditable=null,e.setActiveFilter(null),e.setActiveEnterMode(null,null));e.fire("unlockSnapshot")}
function da(a){a.contextMenu&&a.contextMenu.addListener(function(b){if(b=a.widgets.getByElement(b,!0))return b.fire("contextMenu",{})})}function ea(a,b){return CKEDITOR.tools.trim(b)}function W(a){var b=a.editor,c=CKEDITOR.plugins.lineutils;b.on("dragstart",function(c){var e=c.data.target;g.isDomDragHandler(e)&&(e=a.getByElement(e),c.data.dataTransfer.setData("cke/widget-id",e.id),b.focus(),e.focus())});b.on("drop",function(c){var e=c.data.dataTransfer,f=e.getData("cke/widget-id"),h=e.getTransferType(b),
e=b.createRange();if(""!==f&&h===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS)c.cancel();else if(h==CKEDITOR.DATA_TRANSFER_INTERNAL)if(!f&&0<b.widgets.selected.length)c.data.dataTransfer.setData("text/html",F(b));else if(f=a.instances[f])e.setStartBefore(f.wrapper),e.setEndAfter(f.wrapper),c.data.dragRange=e,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,c.data.dataTransfer.setData("text/html",f.getClipboardHtml()),b.widgets.destroy(f,
!0)});b.on("contentDom",function(){var d=b.editable();CKEDITOR.tools.extend(a,{finder:new c.finder(b,{lookups:{"default":function(b){if(!b.is(CKEDITOR.dtd.$listItem)&&b.is(CKEDITOR.dtd.$block)&&!g.isDomNestedEditable(b)&&!a._.draggedWidget.wrapper.contains(b)){var c=g.getNestedEditable(d,b);if(c){b=a._.draggedWidget;if(a.getByElement(c)==b)return;c=CKEDITOR.filter.instances[c.data("cke-filter")];b=b.requiredContent;if(c&&b&&!c.check(b))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),
locator:new c.locator(b),liner:new c.liner(b,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)})}function U(a){var b=a.editor;b.on("contentDom",function(){var c=b.editable(),d=c.isInline()?c:b.document,e,f;c.attachListener(d,"mousedown",function(c){var d=c.data.getTarget();e=d instanceof CKEDITOR.dom.element?a.getByElement(d):null;f=0;e&&(e.inline&&d.type==CKEDITOR.NODE_ELEMENT&&d.hasAttribute("data-cke-widget-drag-handler")?
(f=1,a.focused!=e&&b.getSelection().removeAllRanges()):g.getNestedEditable(e.wrapper,d)?e=null:(c.data.preventDefault(),CKEDITOR.env.ie||e.focus()))});c.attachListener(d,"mouseup",function(){f&&e&&e.wrapper&&(f=0,e.focus())});CKEDITOR.env.ie&&c.attachListener(d,"mouseup",function(){setTimeout(function(){e&&e.wrapper&&c.contains(e.wrapper)&&(e.focus(),e=null)})})});b.on("doubleclick",function(b){var d=a.getByElement(b.data.element);if(d&&!g.getNestedEditable(d.wrapper,b.data.element))return d.fire("doubleclick",
{element:b.data.element})},null,null,1)}function V(a){a.editor.on("key",function(b){var c=a.focused,d=a.widgetHoldingFocusedEditable,e;c?e=c.fire("key",{keyCode:b.data.keyCode}):d&&(c=b.data.keyCode,b=d.focusedEditable,c==CKEDITOR.CTRL+65?(c=b.getBogus(),d=d.editor.createRange(),d.selectNodeContents(b),c&&d.setEndAt(c,CKEDITOR.POSITION_BEFORE_START),d.select(),e=!1):8==c||46==c?(e=d.editor.getSelection().getRanges(),d=e[0],e=!(1==e.length&&d.collapsed&&d.checkBoundaryOfElement(b,CKEDITOR[8==c?"START":
"END"]))):e=void 0);return e},null,null,1)}function X(a){function b(b){1>a.selected.length||G(c,"cut"===b.name)}var c=a.editor;c.on("contentDom",function(){var a=c.editable();a.attachListener(a,"copy",b);a.attachListener(a,"cut",b)})}function T(a){function b(){var a=e.getSelection();if((a=(a&&a.getRanges())[0])&&!a.collapsed){var b=c(a.startContainer),d=c(a.endContainer);!b&&d?(a.setEndBefore(d.wrapper),a.select()):b&&!d&&(a.setStartAfter(b.wrapper),a.select())}}function c(a){return a?a.type==CKEDITOR.NODE_TEXT?
c(a.getParent()):e.widgets.getByElement(a):null}function d(){a.fire("checkSelection")}var e=a.editor;e.on("selectionCheck",d);e.on("contentDom",function(){e.editable().attachListener(e,"key",function(){setTimeout(d,10)})});if(!CKEDITOR.env.ie)a.on("checkSelection",b);a.on("checkSelection",a.checkSelection,a);e.on("selectionChange",function(b){var c=(b=g.getNestedEditable(e.editable(),b.data.selection.getStartElement()))&&a.getByElement(b),d=a.widgetHoldingFocusedEditable;d?d===c&&d.focusedEditable.equals(b)||
(p(a,d,null),c&&b&&p(a,c,b)):c&&b&&p(a,c,b)});e.on("dataReady",function(){H(a).commit()});e.on("blur",function(){var b;(b=a.focused)&&x(a,b);(b=a.widgetHoldingFocusedEditable)&&p(a,b,null)})}function R(a){var b=a.editor,c={};b.on("toDataFormat",function(b){var e=CKEDITOR.tools.getNextNumber(),f=[];b.data.downcastingSessionId=e;c[e]=f;b.data.dataValue.forEach(function(b){var c=b.attributes,e;if("data-cke-widget-white-space"in c){e=z(b);var d=A(b);e.parent.attributes["data-cke-white-space-first"]&&
(e.value=e.value.replace(/^&nbsp;/g," "));d.parent.attributes["data-cke-white-space-last"]&&(d.value=d.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in c){if(c=a.instances[c["data-cke-widget-id"]])e=b.getFirst(g.isParserWidgetElement),f.push({wrapper:b,element:e,widget:c,editables:{}}),"1"!=e.attributes["data-cke-widget-keep-attr"]&&delete e.attributes["data-widget"]}else if("data-cke-widget-editable"in c)return 0<f.length&&(f[f.length-1].editables[c["data-cke-widget-editable"]]=b),!1},CKEDITOR.NODE_ELEMENT,
!0)},null,null,8);b.on("toDataFormat",function(a){if(a.data.downcastingSessionId)for(var b=c[a.data.downcastingSessionId],f,h,l,k,g,m;f=b.shift();){h=f.widget;l=f.element;k=h._.downcastFn&&h._.downcastFn.call(h,l);a.data.widgetsCopy&&h.getClipboardHtml&&(k=CKEDITOR.htmlParser.fragment.fromHtml(h.getClipboardHtml()),k=k.children[0]);for(m in f.editables)g=f.editables[m],delete g.attributes.contenteditable,g.setHtml(h.editables[m].getData());k||(k=l);f.wrapper.replaceWith(k)}},null,null,13);b.on("contentDomUnload",
function(){a.destroyAll(!0)})}function Q(a){var b=a.editor,c,d;b.on("toHtml",function(b){var d=ca(a),h;for(b.data.dataValue.forEach(d.iterator,CKEDITOR.NODE_ELEMENT,!0);h=d.toBeWrapped.pop();){var l=h[0],k=l.parent;k.type==CKEDITOR.NODE_ELEMENT&&k.attributes["data-cke-widget-wrapper"]&&k.replaceWith(l);a.wrapElement(h[0],h[1])}c=b.data.protectedWhitespaces?3==b.data.dataValue.children.length&&g.isParserWidgetWrapper(b.data.dataValue.children[1]):1==b.data.dataValue.children.length&&g.isParserWidgetWrapper(b.data.dataValue.children[0])},
null,null,8);b.on("dataReady",function(){if(d)for(var c=b.editable().find(".cke_widget_wrapper"),f,h,l=0,k=c.count();l<k;++l)f=c.getItem(l),h=f.getFirst(g.isDomWidgetElement),h.type==CKEDITOR.NODE_ELEMENT&&h.data("widget")?(h.replace(f),a.wrapElement(h)):f.remove();d=0;a.destroyAll(!0);a.initOnAll()});b.on("loadSnapshot",function(b){/data-cke-widget/.test(b.data)&&(d=1);a.destroyAll(!0)},null,null,9);b.on("paste",function(a){a=a.data;a.dataValue=a.dataValue.replace(fa,ea);a.range&&(a=g.getNestedEditable(b.editable(),
a.range.startContainer))&&(a=CKEDITOR.filter.instances[a.data("cke-filter")])&&b.setActiveFilter(a)});b.on("afterInsertHtml",function(d){d.data.intoRange?a.checkWidgets({initOnlyNew:!0}):(b.fire("lockSnapshot"),a.checkWidgets({initOnlyNew:!0,focusInited:c}),b.fire("unlockSnapshot"))})}function H(a){var b=a.selected,c=[],d=b.slice(0),e=null;return{select:function(a){0>CKEDITOR.tools.indexOf(b,a)&&c.push(a);a=CKEDITOR.tools.indexOf(d,a);0<=a&&d.splice(a,1);return this},focus:function(a){e=a;return this},
commit:function(){var f=a.focused!==e,h,l;a.editor.fire("lockSnapshot");for(f&&(h=a.focused)&&x(a,h);h=d.pop();)b.splice(CKEDITOR.tools.indexOf(b,h),1),h.isInited()&&(l=h.editor.checkDirty(),h.setSelected(!1),!l&&h.editor.resetDirty());f&&e&&(l=a.editor.checkDirty(),a.focused=e,a.fire("widgetFocused",{widget:e}),e.setFocused(!0),!l&&a.editor.resetDirty());for(;h=c.pop();)b.push(h),h.setSelected(!0);a.editor.fire("unlockSnapshot")}}}function ga(a){a&&a.addFilterRule(function(a){return a.replace(/\s*cke_widget_selected/g,
"").replace(/\s*cke_widget_focused/g,"").replace(/<span[^>]*cke_widget_drag_handler_container[^>]*.*?<\/span>/gmi,"")})}function I(a,b,c){var d=0;b=J(b);var e=a.data.classes||{},f;if(b){for(e=CKEDITOR.tools.clone(e);f=b.pop();)c?e[f]||(d=e[f]=1):e[f]&&(delete e[f],d=1);d&&a.setData("classes",e)}}function K(a){a.cancel()}function G(a,b){var c=a.widgets.focused,d,e,f;u.hasCopyBin(a)||(e=new u(a,{beforeDestroy:function(){!b&&c&&c.focus();f&&a.getSelection().selectBookmarks(f);d&&CKEDITOR.plugins.widgetselection.addFillers(a.editable())},
afterDestroy:function(){b&&!a.readOnly&&(c?a.widgets.del(c):a.extractSelectedHtml(),a.fire("saveSnapshot"))}}),c||(d=CKEDITOR.env.webkit&&CKEDITOR.plugins.widgetselection.isWholeContentSelected(a.editable()),f=a.getSelection().createBookmarks(!0)),e.handle(F(a)))}function J(a){return(a=(a=a.getDefinition().attributes)&&a["class"])?a.split(/\s+/):null}function L(){var a=CKEDITOR.document.getActive(),b=this.editor,c=b.editable();(c.isInline()?c:b.document.getWindow().getFrame()).equals(a)&&b.focusManager.focus(c)}
function M(){CKEDITOR.env.gecko&&this.editor.unlockSelection();CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function F(a){var b=a.getSelectedHtml(!0);if(a.widgets.focused)return a.widgets.focused.getClipboardHtml();a.once("toDataFormat",function(a){a.data.widgetsCopy=!0},null,null,-1);return a.dataProcessor.toDataFormat(b)}function Y(a,b){ha(a);N(a);ia(a);O(a);ja(a);ka(a);la(a);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)a.wrapper.on("dragstart",function(b){var d=
b.data.getTarget();g.getNestedEditable(a,d)||a.inline&&g.isDomDragHandler(d)||b.data.preventDefault()});a.wrapper.removeClass("cke_widget_new");a.element.addClass("cke_widget_element");a.on("key",function(b){b=b.data.keyCode;if(13==b)a.edit();else{if(b==CKEDITOR.CTRL+67||b==CKEDITOR.CTRL+88){G(a.editor,b==CKEDITOR.CTRL+88);return}if(b in P||CKEDITOR.CTRL&b||CKEDITOR.ALT&b)return}return!1},null,null,999);a.on("doubleclick",function(b){a.edit()&&b.cancel()});if(b.data)a.on("data",b.data);if(b.edit)a.on("edit",
b.edit)}function ha(a){(a.wrapper=a.element.getParent()).setAttribute("data-cke-widget-id",a.id)}function N(a,b){a.partSelectors||(a.partSelectors=a.parts);if(a.parts){var c={},d,e;for(e in a.partSelectors)b||!a.parts[e]||"string"==typeof a.parts[e]?(d=a.wrapper.findOne(a.partSelectors[e]),c[e]=d):c[e]=a.parts[e];a.parts=c}}function ia(a){var b=a.editables,c,d;a.editables={};if(a.editables)for(c in b)d=b[c],a.initEditable(c,"string"==typeof d?{selector:d}:d)}function O(a){if(!0===a.mask)ma(a);else if(a.mask){var b=
new CKEDITOR.tools.buffers.throttle(250,na,a),c=CKEDITOR.env.gecko?300:0,d,e;a.on("focus",function(){b.input();d=a.editor.on("change",b.input);e=a.on("blur",function(){d.removeListener();e.removeListener()})});a.editor.on("instanceReady",function(){setTimeout(function(){b.input()},c)});a.editor.on("mode",function(){setTimeout(function(){b.input()},c)});if(CKEDITOR.env.gecko){var f=a.element.find("img");CKEDITOR.tools.array.forEach(f.toArray(),function(a){a.on("load",function(){b.input()})})}for(var h in a.editables)a.editables[h].on("focus",
function(){a.editor.on("change",b.input);e&&e.removeListener()}),a.editables[h].on("blur",function(){a.editor.removeListener("change",b.input)});b.input()}}function ma(a){var b=a.wrapper.findOne(".cke_widget_mask");b||(b=new CKEDITOR.dom.element("img",a.editor.document),b.setAttributes({src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_mask"}),a.wrapper.append(b));a.mask=b}function na(){if(this.wrapper){this.maskPart=this.maskPart||this.mask;var a=this.parts[this.maskPart],b;if(a&&
"string"!=typeof a){b=this.wrapper.findOne(".cke_widget_partial_mask");b||(b=new CKEDITOR.dom.element("img",this.editor.document),b.setAttributes({src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_partial_mask"}),this.wrapper.append(b));this.mask=b;var c=b.$,d=a.$,e=!(c.offsetTop==d.offsetTop&&c.offsetLeft==d.offsetLeft);if(c.offsetWidth!=d.offsetWidth||c.offsetHeight!=d.offsetHeight||e)c=a.getParent(),d=CKEDITOR.plugins.widget.isDomWidget(c),b.setStyles({top:a.$.offsetTop+(d?
0:c.$.offsetTop)+"px",left:a.$.offsetLeft+(d?0:c.$.offsetLeft)+"px",width:a.$.offsetWidth+"px",height:a.$.offsetHeight+"px"})}}}function ja(a){if(a.draggable){var b=a.editor,c=a.wrapper.getLast(g.isDomDragHandlerContainer),d;c?d=c.findOne("img"):(c=new CKEDITOR.dom.element("span",b.document),c.setAttributes({"class":"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+b.plugins.widget.path+"images/handle.png);display:none;"}),d=new CKEDITOR.dom.element("img",
b.document),d.setAttributes({"class":"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:b.lang.widget.move,height:15,role:"presentation"}),a.inline&&d.setAttribute("draggable","true"),c.append(d),a.wrapper.append(c));a.wrapper.on("dragover",function(a){a.data.preventDefault()});a.wrapper.on("mouseenter",a.updateDragHandlerPosition,a);setTimeout(function(){a.on("data",a.updateDragHandlerPosition,a)},50);if(!a.inline&&(d.on("mousedown",
oa,a),CKEDITOR.env.ie&&9>CKEDITOR.env.version))d.on("dragstart",function(a){a.data.preventDefault(!0)});a.dragHandlerContainer=c}}function oa(a){function b(){var b;for(r.reset();b=g.pop();)b.removeListener();var c=k;b=a.sender;var d=this.repository.finder,e=this.repository.liner,f=this.editor,h=this.editor.editable();CKEDITOR.tools.isEmpty(e.visible)||(c=d.getRange(c[0]),this.focus(),f.fire("drop",{dropRange:c,target:c.startContainer}));h.removeClass("cke_widget_dragging");e.hideVisible();f.fire("dragend",
{target:b})}if(CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT){var c=this.repository.finder,d=this.repository.locator,e=this.repository.liner,f=this.editor,h=f.editable(),g=[],k=[],n,m;this.repository._.draggedWidget=this;var w=c.greedySearch(),r=CKEDITOR.tools.eventsBuffer(50,function(){n=d.locate(w);k=d.sort(m,1);k.length&&(e.prepare(w,n),e.placeLine(k[0]),e.cleanup())});h.addClass("cke_widget_dragging");g.push(h.on("mousemove",function(a){m=a.data.$.clientY;r.input()}));f.fire("dragstart",
{target:a.sender});g.push(f.document.once("mouseup",b,this));h.isInline()||g.push(CKEDITOR.document.once("mouseup",b,this))}}function ka(a){var b=null;a.on("data",function(){var a=this.data.classes,d;if(b!=a){for(d in b)a&&a[d]||this.removeClass(d);for(d in a)this.addClass(d);b=a}})}function la(a){a.on("data",function(){if(a.wrapper){var b=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());a.wrapper.setAttribute("role","region");a.wrapper.setAttribute("aria-label",
b)}},null,null,9999)}function v(a){a.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(a.data)))}function pa(){function a(){}function b(a,b,c){return c&&this.checkElement(a)?(a=c.widgets.getByElement(a,!0))&&a.checkStyleActive(this):!1}function c(a){function b(a,c,d){for(var e=a.length,f=0;f<e;){if(c.call(d,a[f],f,a))return a[f];f++}}function c(a){function b(a,c){var d=CKEDITOR.tools.object.keys(a),e=CKEDITOR.tools.object.keys(c);if(d.length!==e.length)return!1;for(var f in a)if(("object"!==
typeof a[f]||"object"!==typeof c[f]||!b(a[f],c[f]))&&a[f]!==c[f])return!1;return!0}return function(c){return b(a.getDefinition(),c.getDefinition())}}var g=a.widget,k;d[g]||(d[g]={});for(var n=0,m=a.group.length;n<m;n++)k=a.group[n],d[g][k]||(d[g][k]=[]),k=d[g][k],b(k,c(a))||k.push(a)}var d={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(a){this.widget=a.widget;(this.group="string"==typeof a.group?[a.group]:a.group)&&c(this)},apply:function(a){var b;a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),
a)&&(b=a.widgets.focused,this.group&&this.removeStylesFromSameGroup(a),b.applyStyle(this))},remove:function(a){a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),a)&&a.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(a){var b=!1,c,g;if(!(a instanceof CKEDITOR.editor))return!1;g=a.elementPath();if(this.checkApplicable(g,a))for(var k=0,n=this.group.length;k<n;k++){c=d[this.widget][this.group[k]];for(var m=0;m<c.length;m++)c[m]!==this&&c[m].checkActive(g,a)&&(a.widgets.focused.removeStyle(c[m]),
b=!0)}return b},checkActive:function(a,b){return this.checkElementMatch(a.lastElement,0,b)},checkApplicable:function(a,b){return b instanceof CKEDITOR.editor?this.checkElement(a.lastElement):!1},checkElementMatch:b,checkElementRemovable:b,checkElement:function(a){return g.isDomWidgetWrapper(a)?(a=a.getFirst(g.isDomWidgetElement))&&a.data("widget")==this.widget:!1},buildPreview:function(a){return a||this._.definition.name},toAllowedContentRules:function(a){if(!a)return null;a=a.widgets.registered[this.widget];
var b,c={};if(!a)return null;if(a.styleableElements){b=this.getClassesArray();if(!b)return null;c[a.styleableElements]={classes:b,propertiesOnly:!0};return c}return a.styleToAllowedContentRules?a.styleToAllowedContentRules(this):null},getClassesArray:function(){var a=this._.definition.attributes&&this._.definition.attributes["class"];return a?CKEDITOR.tools.trim(a).split(/\s+/):null},applyToRange:a,removeFromRange:a,applyToObject:a})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",
onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss('.cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover\x3e.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused\x3e.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:block;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover\x3e.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}.cke_editable[contenteditable\x3d"false"] .cke_widget_drag_handler_container{display:none;}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_widget_partial_mask{position:absolute;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}'),
pa())},beforeInit:function(a){void 0!==CKEDITOR.document.$.querySelectorAll&&(a.widgets=new q(a))},afterInit:function(a){if(void 0!==CKEDITOR.document.$.querySelectorAll){var b=a.widgets.registered,c,d,e;for(d in b)c=b[d],(e=c.button)&&a.ui.addButton&&a.ui.addButton(CKEDITOR.tools.capitalize(c.name,!0),{label:e,command:c.name,toolbar:"insert,10"});da(a);ga(a.undoManager)}}});q.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(a,b){var c=this.editor;b=CKEDITOR.tools.prototypedCopy(b);b.name=
a;b._=b._||{};c.fire("widgetDefinition",b);b.template&&(b.template=new CKEDITOR.template(b.template));Z(c,b);aa(this,b);this.registered[a]=b;if(b.dialog&&c.plugins.dialog)var d=CKEDITOR.on("dialogDefinition",function(a){a=a.data.definition;var f=a.dialog;a.getMode||f.getName()!==b.dialog||(a.getMode=function(){var a=f.getModel(c);return a&&a instanceof CKEDITOR.plugins.widget&&a.ready?CKEDITOR.dialog.EDITING_MODE:CKEDITOR.dialog.CREATION_MODE});d.removeListener()});return b},addUpcastCallback:function(a){this._.upcastCallbacks.push(a)},
checkSelection:function(){var a=this.editor.getSelection(),b=a.getSelectedElement(),c=H(this),d;if(b&&(d=this.getByElement(b,!0)))return c.focus(d).select(d).commit();a=a.getRanges()[0];if(!a||a.collapsed)return c.commit();a=new CKEDITOR.dom.walker(a);for(a.evaluator=g.isDomWidgetWrapper;b=a.next();)c.select(this.getByElement(b));c.commit()},checkWidgets:function(a){this.fire("checkWidgets",CKEDITOR.tools.copy(a||{}))},del:function(a){if(this.focused===a){var b=a.editor,c=b.createRange(),d;(d=c.moveToClosestEditablePosition(a.wrapper,
!0))||(d=c.moveToClosestEditablePosition(a.wrapper,!1));d&&b.getSelection().selectRanges([c])}a.wrapper.remove();this.destroy(a,!0)},destroy:function(a,b){this.widgetHoldingFocusedEditable===a&&p(this,a,null,b);a.destroy(b);delete this.instances[a.id];this.fire("instanceDestroyed",a)},destroyAll:function(a,b){var c,d,e=this.instances;if(b&&!a){d=b.find(".cke_widget_wrapper");for(var e=d.count(),f=0;f<e;++f)(c=this.getByElement(d.getItem(f),!0))&&this.destroy(c)}else for(d in e)c=e[d],this.destroy(c,
a)},finalizeCreation:function(a){(a=a.getFirst())&&g.isDomWidgetWrapper(a)&&(this.editor.insertElement(a),a=this.getByElement(a),a.ready=!0,a.fire("ready"),a.focus())},getByElement:function(){function a(a){return a.is(b)&&a.data("cke-widget-id")}var b={div:1,span:1};return function(b,d){if(!b)return null;var e=a(b);if(!d&&!e){var f=this.editor.editable();do b=b.getParent();while(b&&!b.equals(f)&&!(e=a(b)))}return this.instances[e]||null}}(),initOn:function(a,b,c){b?"string"==typeof b&&(b=this.registered[b]):
b=this.registered[a.data("widget")];if(!b)return null;var d=this.wrapElement(a,b.name);return d?d.hasClass("cke_widget_new")?(a=new g(this,this._.nextId++,a,b,c),a.isInited()?this.instances[a.id]=a:null):this.getByElement(a):null},initOnAll:function(a){a=(a||this.editor.editable()).find(".cke_widget_new");for(var b=[],c,d=a.count();d--;)(c=this.initOn(a.getItem(d).getFirst(g.isDomWidgetElement)))&&b.push(c);return b},onWidget:function(a){var b=Array.prototype.slice.call(arguments);b.shift();for(var c in this.instances){var d=
this.instances[c];d.name==a&&d.on.apply(d,b)}this.on("instanceCreated",function(c){c=c.data;c.name==a&&c.on.apply(c,b)})},parseElementClasses:function(a){if(!a)return null;a=CKEDITOR.tools.trim(a).split(/\s+/);for(var b,c={},d=0;b=a.pop();)-1==b.indexOf("cke_")&&(c[b]=d=1);return d?c:null},wrapElement:function(a,b){var c=null,d,e;if(a instanceof CKEDITOR.dom.element){b=b||a.data("widget");d=this.registered[b];if(!d)return null;if((c=a.getParent())&&c.type==CKEDITOR.NODE_ELEMENT&&c.data("cke-widget-wrapper"))return c;
a.hasAttribute("data-cke-widget-keep-attr")||a.data("cke-widget-keep-attr",a.data("widget")?1:0);a.data("widget",b);(e=E(d,a.getName()))&&y(a);c=new CKEDITOR.dom.element(e?"span":"div",a.getDocument());c.setAttributes(C(e,b));c.data("cke-display-name",d.pathName?d.pathName:a.getName());a.getParent(!0)&&c.replace(a);a.appendTo(c)}else if(a instanceof CKEDITOR.htmlParser.element){b=b||a.attributes["data-widget"];d=this.registered[b];if(!d)return null;if((c=a.parent)&&c.type==CKEDITOR.NODE_ELEMENT&&
c.attributes["data-cke-widget-wrapper"])return c;"data-cke-widget-keep-attr"in a.attributes||(a.attributes["data-cke-widget-keep-attr"]=a.attributes["data-widget"]?1:0);b&&(a.attributes["data-widget"]=b);(e=E(d,a.name))&&y(a);c=new CKEDITOR.htmlParser.element(e?"span":"div",C(e,b));c.attributes["data-cke-display-name"]=d.pathName?d.pathName:a.name;d=a.parent;var f;d&&(f=a.getIndex(),a.remove());c.add(a);d&&D(d,f,c)}return c},_tests_createEditableFilter:B};CKEDITOR.event.implementOn(q.prototype);g.prototype=
{addClass:function(a){this.element.addClass(a);this.wrapper.addClass(g.WRAPPER_CLASS_PREFIX+a)},applyStyle:function(a){I(this,a,1)},checkStyleActive:function(a){a=J(a);var b;if(!a)return!1;for(;b=a.pop();)if(!this.hasClass(b))return!1;return!0},destroy:function(a){this.fire("destroy");if(this.editables)for(var b in this.editables)this.destroyEditable(b,a);a||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data",
"data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper));this.wrapper=null},destroyEditable:function(a,b){var c=this.editables[a],d=!0;c.removeListener("focus",M);c.removeListener("blur",L);this.editor.focusManager.remove(c);if(c.filter){for(var e in this.repository.instances){var f=this.repository.instances[e];f.editables&&(f=f.editables[a])&&f!==c&&c.filter===f.filter&&(d=!1)}d&&(c.filter.destroy(),(d=this.repository._.filters[this.name])&&
delete d[a])}b||(this.repository.destroyAll(!1,c),c.removeClass("cke_widget_editable"),c.removeClass("cke_widget_editable_focused"),c.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"]));delete this.editables[a]},edit:function(){var a={dialog:this.dialog},b=this;if(!1===this.fire("edit",a)||!a.dialog)return!1;this.editor.openDialog(a.dialog,function(a){var d,e;!1!==b.fire("dialog",a)&&(d=a.on("show",function(){a.setupContent(b)}),e=a.on("ok",function(){var d,e=b.on("data",
function(a){d=1;a.cancel()},null,null,0);b.editor.fire("saveSnapshot");a.commitContent(b);e.removeListener();d&&(b.fire("data",b.data),b.editor.fire("saveSnapshot"))}),a.once("hide",function(){d.removeListener();e.removeListener()}))},b);return!0},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},getClipboardHtml:function(){var a=this.editor.createRange();a.setStartBefore(this.wrapper);a.setEndAfter(this.wrapper);return this.editor.editable().getHtmlFromRange(a).getHtml()},
hasClass:function(a){return this.element.hasClass(a)},initEditable:function(a,b){var c=this._findOneNotNested(b.selector);return c&&c.is(CKEDITOR.dtd.$editable)?(c=new t(this.editor,c,{filter:B.call(this.repository,this.name,a,b)}),this.editables[a]=c,c.setAttributes({contenteditable:"true","data-cke-widget-editable":a,"data-cke-enter-mode":c.enterMode}),c.filter&&c.data("cke-filter",c.filter.id),c.addClass("cke_widget_editable"),c.removeClass("cke_widget_editable_focused"),b.pathName&&c.data("cke-display-name",
b.pathName),this.editor.focusManager.add(c),c.on("focus",M,this),CKEDITOR.env.ie&&c.on("blur",L,this),c._.initialSetData=!0,c.setData(c.getHtml()),!0):!1},_findOneNotNested:function(a){a=this.wrapper.find(a);for(var b,c,d=0;d<a.count();d++)if(b=a.getItem(d),c=b.getAscendant(g.isDomWidgetWrapper),this.wrapper.equals(c))return b;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var a=this.editor.getSelection();
if(a){var b=this.editor.checkDirty();a.fake(this.wrapper);!b&&this.editor.resetDirty()}this.editor.focus()},refreshMask:function(){O(this)},refreshParts:function(a){N(this,"undefined"!==typeof a?a:!0)},removeClass:function(a){this.element.removeClass(a);this.wrapper.removeClass(g.WRAPPER_CLASS_PREFIX+a)},removeStyle:function(a){I(this,a,0)},setData:function(a,b){var c=this.data,d=0;if("string"==typeof a)c[a]!==b&&(c[a]=b,d=1);else{var e=a;for(a in e)c[a]!==e[a]&&(d=1,c[a]=e[a])}d&&this.dataReady&&
(v(this),this.fire("data",c));return this},setFocused:function(a){this.wrapper[a?"addClass":"removeClass"]("cke_widget_focused");this.fire(a?"focus":"blur");return this},setSelected:function(a){this.wrapper[a?"addClass":"removeClass"]("cke_widget_selected");this.fire(a?"select":"deselect");return this},updateDragHandlerPosition:function(){var a=this.editor,b=this.element.$,c=this._.dragHandlerOffset,b={x:b.offsetLeft,y:b.offsetTop-15};c&&b.x==c.x&&b.y==c.y||(c=a.checkDirty(),a.fire("lockSnapshot"),
this.dragHandlerContainer.setStyles({top:b.y+"px",left:b.x+"px"}),this.dragHandlerContainer.removeStyle("display"),a.fire("unlockSnapshot"),!c&&a.resetDirty(),this._.dragHandlerOffset=b)}};CKEDITOR.event.implementOn(g.prototype);g.getNestedEditable=function(a,b){return!b||b.equals(a)?null:g.isDomNestedEditable(b)?b:g.getNestedEditable(a,b.getParent())};g.isDomDragHandler=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-drag-handler")};g.isDomDragHandlerContainer=function(a){return a.type==
CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_widget_drag_handler_container")};g.isDomNestedEditable=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-editable")};g.isDomWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-widget")};g.isDomWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-wrapper")};g.isDomWidget=function(a){return a?this.isDomWidgetWrapper(a)||this.isDomWidgetElement(a):!1};g.isParserWidgetElement=
function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes["data-widget"]};g.isParserWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes["data-cke-widget-wrapper"]};g.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_";t.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(a){this._.initialSetData||this.editor.widgets.destroyAll(!1,this);this._.initialSetData=!1;a=this.editor.dataProcessor.toHtml(a,{context:this.getName(),
filter:this.filter,enterMode:this.enterMode});this.setHtml(a);this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var fa=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,
P={37:1,38:1,39:1,40:1,8:1,46:1};P[CKEDITOR.SHIFT+121]=1;var u=CKEDITOR.tools.createClass({$:function(a,b){this._.createCopyBin(a,b);this._.createListeners(b)},_:{createCopyBin:function(a){var b=a.document,c=CKEDITOR.env.edge&&16<=CKEDITOR.env.version,d=!a.blockless&&!CKEDITOR.env.ie||c?"div":"span",c=b.createElement(d),b=b.createElement(d);b.setAttributes({id:"cke_copybin","data-cke-temp":"1"});c.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"});c.setStyle("ltr"==a.config.contentsLangDirection?
"left":"right","-5000px");this.editor=a;this.copyBin=c;this.container=b},createListeners:function(a){a&&(a.beforeDestroy&&(this.beforeDestroy=a.beforeDestroy),a.afterDestroy&&(this.afterDestroy=a.afterDestroy))}},proto:{handle:function(a){var b=this.copyBin,c=this.editor,d=this.container,e=CKEDITOR.env.ie&&9>CKEDITOR.env.version,f=c.document.getDocumentElement().$,h=c.createRange(),g=this,k=CKEDITOR.env.mac&&CKEDITOR.env.webkit,n=k?100:0,m=window.requestAnimationFrame&&!k?requestAnimationFrame:setTimeout,
p,r,q;b.setHtml('\x3cspan data-cke-copybin-start\x3d"1"\x3e​\x3c/span\x3e'+a+'\x3cspan data-cke-copybin-end\x3d"1"\x3e​\x3c/span\x3e');c.fire("lockSnapshot");d.append(b);c.editable().append(d);p=c.on("selectionChange",K,null,null,0);r=c.widgets.on("checkSelection",K,null,null,0);e&&(q=f.scrollTop);h.selectNodeContents(b);h.select();e&&(f.scrollTop=q);return new CKEDITOR.tools.promise(function(a){m(function(){g.beforeDestroy&&g.beforeDestroy();d.remove();p.removeListener();r.removeListener();c.fire("unlockSnapshot");
g.afterDestroy&&g.afterDestroy();a()},n)})}},statics:{hasCopyBin:function(a){return!!u.getCopyBin(a)},getCopyBin:function(a){return a.document.getById("cke_copybin")}}});CKEDITOR.plugins.widget=g;g.repository=q;g.nestedEditable=t})();(function(){function e(a,b,c){this.editor=a;this.notification=null;this._message=new CKEDITOR.template(b);this._singularMessage=c?new CKEDITOR.template(c):null;this._tasks=[];this._doneTasks=this._doneWeights=this._totalWeights=0}function d(a){this._weight=a||1;this._doneWeight=0;this._isCanceled=!1}CKEDITOR.plugins.add("notificationaggregator",{requires:"notification"});e.prototype={createTask:function(a){a=a||{};var b=!this.notification,c;b&&(this.notification=this._createNotification());c=this._addTask(a);
c.on("updated",this._onTaskUpdate,this);c.on("done",this._onTaskDone,this);c.on("canceled",function(){this._removeTask(c)},this);this.update();b&&this.notification.show();return c},update:function(){this._updateNotification();this.isFinished()&&this.fire("finished")},getPercentage:function(){return 0===this.getTaskCount()?1:this._doneWeights/this._totalWeights},isFinished:function(){return this.getDoneTaskCount()===this.getTaskCount()},getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},
_updateNotification:function(){this.notification.update({message:this._getNotificationMessage(),progress:this.getPercentage()})},_getNotificationMessage:function(){var a=this.getTaskCount(),b={current:this.getDoneTaskCount(),max:a,percentage:Math.round(100*this.getPercentage())};return(1==a&&this._singularMessage?this._singularMessage:this._message).output(b)},_createNotification:function(){return new CKEDITOR.plugins.notification(this.editor,{type:"progress"})},_addTask:function(a){a=new d(a.weight);
this._tasks.push(a);this._totalWeights+=a._weight;return a},_removeTask:function(a){var b=CKEDITOR.tools.indexOf(this._tasks,a);-1!==b&&(a._doneWeight&&(this._doneWeights-=a._doneWeight),this._totalWeights-=a._weight,this._tasks.splice(b,1),this.update())},_onTaskUpdate:function(a){this._doneWeights+=a.data;this.update()},_onTaskDone:function(){this._doneTasks+=1;this.update()}};CKEDITOR.event.implementOn(e.prototype);d.prototype={done:function(){this.update(this._weight)},update:function(a){if(!this.isDone()&&
!this.isCanceled()){a=Math.min(this._weight,a);var b=a-this._doneWeight;this._doneWeight=a;this.fire("updated",b);this.isDone()&&this.fire("done")}},cancel:function(){this.isDone()||this.isCanceled()||(this._isCanceled=!0,this.fire("canceled"))},isDone:function(){return this._weight===this._doneWeight},isCanceled:function(){return this._isCanceled}};CKEDITOR.event.implementOn(d.prototype);CKEDITOR.plugins.notificationAggregator=e;CKEDITOR.plugins.notificationAggregator.task=d})();(function(){CKEDITOR.plugins.add("uploadwidget",{requires:"widget,clipboard,filetools,notificationaggregator",init:function(a){a.filter.allow("*[!data-widget,!data-cke-upload-id]")},isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported}});CKEDITOR.fileTools||(CKEDITOR.fileTools={});CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(a,c,f){var h=CKEDITOR.fileTools,b=a.uploadRepository,m=f.supportedTypes?10:20;if(f.fileToElement)a.on("paste",function(d){d=
d.data;var l=a.widgets.registered[c],k=d.dataTransfer,f=k.getFilesCount(),g=l.loadMethod||"loadAndUpload",e,n;if(!d.dataValue&&f)for(n=0;n<f;n++)if(e=k.getFile(n),!l.supportedTypes||h.isTypeSupported(e,l.supportedTypes)){var m=l.fileToElement(e);e=b.create(e,void 0,l.loaderType);m&&(e[g](l.uploadUrl,l.additionalRequestParameters),CKEDITOR.fileTools.markElement(m,c,e.id),"loadAndUpload"!=g&&"upload"!=g||l.skipNotifications||CKEDITOR.fileTools.bindNotifications(a,e),d.dataValue+=m.getOuterHtml())}},
null,null,m);CKEDITOR.tools.extend(f,{downcast:function(){return new CKEDITOR.htmlParser.text("")},init:function(){var d=this,c=this.wrapper.findOne("[data-cke-upload-id]").data("cke-upload-id"),k=b.loaders[c],f=CKEDITOR.tools.capitalize,g,e;k.on("update",function(b){if("abort"===k.status&&"function"===typeof d.onAbort)d.onAbort(k);if(d.wrapper&&d.wrapper.getParent()){a.fire("lockSnapshot");b="on"+f(k.status);if("abort"===k.status||"function"!==typeof d[b]||!1!==d[b](k))e="cke_upload_"+k.status,d.wrapper&&
e!=g&&(g&&d.wrapper.removeClass(g),d.wrapper.addClass(e),g=e),"error"!=k.status&&"abort"!=k.status||a.widgets.del(d);a.fire("unlockSnapshot")}else CKEDITOR.instances[a.name]&&a.editable().find('[data-cke-upload-id\x3d"'+c+'"]').count()||k.abort(),b.removeListener()});k.update()},replaceWith:function(d,c){if(""===d.trim())a.widgets.del(this);else{var b=this==a.widgets.focused,f=a.editable(),g=a.createRange(),e,h;b||(h=a.getSelection().createBookmarks());g.setStartBefore(this.wrapper);g.setEndAfter(this.wrapper);
b&&(e=g.createBookmark());f.insertHtmlIntoRange(d,g,c);a.widgets.checkWidgets({initOnlyNew:!0});a.widgets.destroy(this,!0);b?(g.moveToBookmark(e),g.select()):a.getSelection().selectBookmarks(h)}},_getLoader:function(){var a=this.wrapper.findOne("[data-cke-upload-id]");return a?this.editor.uploadRepository.loaders[a.data("cke-upload-id")]:null}});a.widgets.add(c,f)},markElement:function(a,c,f){a.setAttributes({"data-cke-upload-id":f,"data-widget":c})},bindNotifications:function(a,c){function f(){h=
a._.uploadWidgetNotificaionAggregator;if(!h||h.isFinished())h=a._.uploadWidgetNotificaionAggregator=new CKEDITOR.plugins.notificationAggregator(a,a.lang.uploadwidget.uploadMany,a.lang.uploadwidget.uploadOne),h.once("finished",function(){var b=h.getTaskCount();0===b?h.notification.hide():h.notification.update({message:1==b?a.lang.uploadwidget.doneOne:a.lang.uploadwidget.doneMany.replace("%1",b),type:"success",important:1})})}var h,b=null;c.on("update",function(){!b&&c.uploadTotal&&(f(),b=h.createTask({weight:c.uploadTotal}));
b&&"uploading"==c.status&&b.update(c.uploaded)});c.on("uploaded",function(){b&&b.done()});c.on("error",function(){b&&b.cancel();a.showNotification(c.message,"warning")});c.on("abort",function(){b&&b.cancel();CKEDITOR.instances[a.name]&&a.showNotification(a.lang.uploadwidget.abort,"info")})}})})();(function(){function l(c){9>=c&&(c="0"+c);return String(c)}function n(c){var a=new Date,a=[a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()];e+=1;return"image-"+CKEDITOR.tools.array.map(a,l).join("")+"-"+e+"."+c}var e=0;CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported},init:function(c){if(this.isSupportedEnvironment()){var a=
CKEDITOR.fileTools,e=a.getUploadUrl(c.config,"image");e&&(a.addUploadWidget(c,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:e,fileToElement:function(){var b=new CKEDITOR.dom.element("img");b.setAttribute("src","data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs\x3d");return b},parts:{img:"img"},onUploading:function(b){this.parts.img.setAttribute("src",b.data)},onUploaded:function(b){var a=this.parts.img.$;this.replaceWith('\x3cimg src\x3d"'+
b.url+'" width\x3d"'+(b.responseData.width||a.naturalWidth)+'" height\x3d"'+(b.responseData.height||a.naturalHeight)+'"\x3e')}}),c.on("paste",function(b){if(b.data.dataValue.match(/<img[\s\S]+data:/i)){b=b.data;var f=document.implementation.createHTMLDocument(""),f=new CKEDITOR.dom.element(f.body),m,g,k;f.data("cke-editable",1);f.appendHtml(b.dataValue);m=f.find("img");for(k=0;k<m.count();k++){g=m.getItem(k);var d=g.getAttribute("src"),h=d&&"data:"==d.substring(0,5),l=null===g.data("cke-realelement");
h&&l&&!g.data("cke-upload-id")&&!g.isReadOnly(1)&&(h=(h=d.match(/image\/([a-z]+?);/i))&&h[1]||"jpg",d=c.uploadRepository.create(d,n(h)),d.upload(e),a.markElement(g,"uploadimage",d.id),a.bindNotifications(c,d))}b.dataValue=f.getHtml()}}))}}})})();CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(a){a.config.wsc_onFinish="function"===typeof a.config.wsc_onFinish?a.config.wsc_onFinish:function(){};a.config.wsc_onClose="function"===typeof a.config.wsc_onClose?a.config.wsc_onClose:function(){}},parseConfig:function(a){a.config.wsc_customerId=a.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk";a.config.wsc_customDictionaryIds=a.config.wsc_customDictionaryIds||
CKEDITOR.config.wsc_customDictionaryIds||"";a.config.wsc_userDictionaryName=a.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"";a.config.wsc_customLoaderScript=a.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript;a.config.wsc_interfaceLang=a.config.wsc_interfaceLang;CKEDITOR.config.wsc_cmd=a.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell";CKEDITOR.config.wsc_version="v4.3.0-master-d769233";CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(a){"moono-lisa"==
(CKEDITOR.skinName||a.config.skin)&&CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"skins/"+CKEDITOR.skin.name+"/wsc.css"))},init:function(a){var b=CKEDITOR.env;this.parseConfig(a);this.parseApi(a);a.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!CKEDITOR.env.opera&&!CKEDITOR.env.air&&document.domain==window.location.hostname&&!(b.ie&&(8>b.version||b.quirks))};"undefined"==typeof a.plugins.scayt&&a.ui.addButton&&a.ui.addButton("SpellChecker",{label:a.lang.wsc.toolbar,
click:function(a){var b=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(b=b.replace(/\s/g,""))?a.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"});CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&7>=CKEDITOR.env.version?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}});CKEDITOR.config.plugins='dialogui,dialog,about,a11yhelp,dialogadvtab,basicstyles,bidi,blockquote,notification,button,toolbar,clipboard,panelbutton,panel,floatpanel,colorbutton,colordialog,templates,menu,contextmenu,copyformatting,div,resize,elementspath,enterkey,entities,popup,filetools,filebrowser,find,fakeobjects,flash,floatingspace,listblock,richcombo,font,forms,format,horizontalrule,htmlwriter,iframe,wysiwygarea,image,indent,indentblock,indentlist,smiley,justify,menubutton,language,link,list,liststyle,magicline,maximize,newpage,pagebreak,pastetext,pastetools,pastefromgdocs,pastefromword,preview,print,removeformat,save,selectall,showblocks,showborders,sourcearea,specialchar,scayt,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,notificationaggregator,uploadwidget,uploadimage,wsc';CKEDITOR.config.skin='moono-lisa';(function() {var setIcons = function(icons, strip) {var path = CKEDITOR.getUrl( 'plugins/' + strip );icons = icons.split( ',' );for ( var i = 0; i < icons.length; i++ )CKEDITOR.skin.icons[ icons[ i ] ] = { path: path, offset: -icons[ ++i ], bgsize : icons[ ++i ] };};if (CKEDITOR.env.hidpi) setIcons('about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,bgcolor,384,,textcolor,408,,templates-rtl,432,,templates,456,,copyformatting,480,,creatediv,504,,find-rtl,528,,find,552,,replace,576,,flash,600,,button,624,,checkbox,648,,form,672,,hiddenfield,696,,imagebutton,720,,radio,744,,select-rtl,768,,select,792,,textarea-rtl,816,,textarea,840,,textfield-rtl,864,,textfield,888,,horizontalrule,912,,iframe,936,,image,960,,indent-rtl,984,,indent,1008,,outdent-rtl,1032,,outdent,1056,,smiley,1080,,justifyblock,1104,,justifycenter,1128,,justifyleft,1152,,justifyright,1176,,language,1200,,anchor-rtl,1224,,anchor,1248,,link,1272,,unlink,1296,,bulletedlist-rtl,1320,,bulletedlist,1344,,numberedlist-rtl,1368,,numberedlist,1392,,maximize,1416,,newpage-rtl,1440,,newpage,1464,,pagebreak-rtl,1488,,pagebreak,1512,,pastetext-rtl,1536,,pastetext,1560,,pastefromword-rtl,1584,,pastefromword,1608,,preview-rtl,1632,,preview,1656,,print,1680,,removeformat,1704,,save,1728,,selectall,1752,,showblocks-rtl,1776,,showblocks,1800,,source-rtl,1824,,source,1848,,specialchar,1872,,scayt,1896,,table,1920,,redo-rtl,1944,,redo,1968,,undo-rtl,1992,,undo,2016,,spellchecker,2040,','icons_hidpi.png');else setIcons('about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,bgcolor,384,auto,textcolor,408,auto,templates-rtl,432,auto,templates,456,auto,copyformatting,480,auto,creatediv,504,auto,find-rtl,528,auto,find,552,auto,replace,576,auto,flash,600,auto,button,624,auto,checkbox,648,auto,form,672,auto,hiddenfield,696,auto,imagebutton,720,auto,radio,744,auto,select-rtl,768,auto,select,792,auto,textarea-rtl,816,auto,textarea,840,auto,textfield-rtl,864,auto,textfield,888,auto,horizontalrule,912,auto,iframe,936,auto,image,960,auto,indent-rtl,984,auto,indent,1008,auto,outdent-rtl,1032,auto,outdent,1056,auto,smiley,1080,auto,justifyblock,1104,auto,justifycenter,1128,auto,justifyleft,1152,auto,justifyright,1176,auto,language,1200,auto,anchor-rtl,1224,auto,anchor,1248,auto,link,1272,auto,unlink,1296,auto,bulletedlist-rtl,1320,auto,bulletedlist,1344,auto,numberedlist-rtl,1368,auto,numberedlist,1392,auto,maximize,1416,auto,newpage-rtl,1440,auto,newpage,1464,auto,pagebreak-rtl,1488,auto,pagebreak,1512,auto,pastetext-rtl,1536,auto,pastetext,1560,auto,pastefromword-rtl,1584,auto,pastefromword,1608,auto,preview-rtl,1632,auto,preview,1656,auto,print,1680,auto,removeformat,1704,auto,save,1728,auto,selectall,1752,auto,showblocks-rtl,1776,auto,showblocks,1800,auto,source-rtl,1824,auto,source,1848,auto,specialchar,1872,auto,scayt,1896,auto,table,1920,auto,redo-rtl,1944,auto,redo,1968,auto,undo-rtl,1992,auto,undo,2016,auto,spellchecker,2040,auto','icons.png');})();CKEDITOR.lang.languages={"af":1,"sq":1,"ar":1,"az":1,"eu":1,"bn":1,"bs":1,"bg":1,"ca":1,"zh-cn":1,"zh":1,"hr":1,"cs":1,"da":1,"nl":1,"en":1,"en-au":1,"en-ca":1,"en-gb":1,"eo":1,"et":1,"fo":1,"fi":1,"fr":1,"fr-ca":1,"gl":1,"ka":1,"de":1,"de-ch":1,"el":1,"gu":1,"he":1,"hi":1,"hu":1,"is":1,"id":1,"it":1,"ja":1,"km":1,"ko":1,"ku":1,"lv":1,"lt":1,"mk":1,"ms":1,"mn":1,"no":1,"nb":1,"oc":1,"fa":1,"pl":1,"pt-br":1,"pt":1,"ro":1,"ru":1,"sr":1,"sr-latn":1,"si":1,"sk":1,"sl":1,"es":1,"es-mx":1,"sv":1,"tt":1,"th":1,"tr":1,"ug":1,"uk":1,"vi":1,"cy":1};}());/*!
 * cleave.js - 1.5.10
 * https://github.com/nosir/cleave.js
 * Apache License Version 2.0
 *
 * Copyright (C) 2012-2020 Max Huang https://github.com/nosir/
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Cleave=t():e.Cleave=t()}(this,function(){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){(function(t){"use strict";var i=function(e,t){var r=this,n=!1;if("string"==typeof e?(r.element=document.querySelector(e),n=document.querySelectorAll(e).length>1):"undefined"!=typeof e.length&&e.length>0?(r.element=e[0],n=e.length>1):r.element=e,!r.element)throw new Error("[cleave.js] Please check the element");if(n)try{console.warn("[cleave.js] Multiple input fields matched, cleave.js will only take the first one.")}catch(a){}t.initValue=r.element.value,r.properties=i.DefaultProperties.assign({},t),r.init()};i.prototype={init:function(){var e=this,t=e.properties;return t.numeral||t.phone||t.creditCard||t.time||t.date||0!==t.blocksLength||t.prefix?(t.maxLength=i.Util.getMaxLength(t.blocks),e.isAndroid=i.Util.isAndroid(),e.lastInputValue="",e.onChangeListener=e.onChange.bind(e),e.onKeyDownListener=e.onKeyDown.bind(e),e.onFocusListener=e.onFocus.bind(e),e.onCutListener=e.onCut.bind(e),e.onCopyListener=e.onCopy.bind(e),e.initSwapHiddenInput(),e.element.addEventListener("input",e.onChangeListener),e.element.addEventListener("keydown",e.onKeyDownListener),e.element.addEventListener("focus",e.onFocusListener),e.element.addEventListener("cut",e.onCutListener),e.element.addEventListener("copy",e.onCopyListener),e.initPhoneFormatter(),e.initDateFormatter(),e.initTimeFormatter(),e.initNumeralFormatter(),void((t.initValue||t.prefix&&!t.noImmediatePrefix)&&e.onInput(t.initValue))):void e.onInput(t.initValue)},initSwapHiddenInput:function(){var e=this,t=e.properties;if(t.swapHiddenInput){var r=e.element.cloneNode(!0);e.element.parentNode.insertBefore(r,e.element),e.elementSwapHidden=e.element,e.elementSwapHidden.type="hidden",e.element=r,e.element.id=""}},initNumeralFormatter:function(){var e=this,t=e.properties;t.numeral&&(t.numeralFormatter=new i.NumeralFormatter(t.numeralDecimalMark,t.numeralIntegerScale,t.numeralDecimalScale,t.numeralThousandsGroupStyle,t.numeralPositiveOnly,t.stripLeadingZeroes,t.prefix,t.signBeforePrefix,t.tailPrefix,t.delimiter))},initTimeFormatter:function(){var e=this,t=e.properties;t.time&&(t.timeFormatter=new i.TimeFormatter(t.timePattern,t.timeFormat),t.blocks=t.timeFormatter.getBlocks(),t.blocksLength=t.blocks.length,t.maxLength=i.Util.getMaxLength(t.blocks))},initDateFormatter:function(){var e=this,t=e.properties;t.date&&(t.dateFormatter=new i.DateFormatter(t.datePattern,t.dateMin,t.dateMax),t.blocks=t.dateFormatter.getBlocks(),t.blocksLength=t.blocks.length,t.maxLength=i.Util.getMaxLength(t.blocks))},initPhoneFormatter:function(){var e=this,t=e.properties;if(t.phone)try{t.phoneFormatter=new i.PhoneFormatter(new t.root.Cleave.AsYouTypeFormatter(t.phoneRegionCode),t.delimiter)}catch(r){throw new Error("[cleave.js] Please include phone-type-formatter.{country}.js lib")}},onKeyDown:function(e){var t=this,r=t.properties,n=e.which||e.keyCode,a=i.Util,o=t.element.value;t.hasBackspaceSupport=t.hasBackspaceSupport||8===n,!t.hasBackspaceSupport&&a.isAndroidBackspaceKeydown(t.lastInputValue,o)&&(n=8),t.lastInputValue=o;var l=a.getPostDelimiter(o,r.delimiter,r.delimiters);8===n&&l?r.postDelimiterBackspace=l:r.postDelimiterBackspace=!1},onChange:function(){this.onInput(this.element.value)},onFocus:function(){var e=this,t=e.properties;t.prefix&&t.noImmediatePrefix&&!e.element.value&&this.onInput(t.prefix),i.Util.fixPrefixCursor(e.element,t.prefix,t.delimiter,t.delimiters)},onCut:function(e){i.Util.checkFullSelection(this.element.value)&&(this.copyClipboardData(e),this.onInput(""))},onCopy:function(e){i.Util.checkFullSelection(this.element.value)&&this.copyClipboardData(e)},copyClipboardData:function(e){var t=this,r=t.properties,n=i.Util,a=t.element.value,o="";o=r.copyDelimiter?a:n.stripDelimiters(a,r.delimiter,r.delimiters);try{e.clipboardData?e.clipboardData.setData("Text",o):window.clipboardData.setData("Text",o),e.preventDefault()}catch(l){}},onInput:function(e){var t=this,r=t.properties,n=i.Util,a=n.getPostDelimiter(e,r.delimiter,r.delimiters);return r.numeral||!r.postDelimiterBackspace||a||(e=n.headStr(e,e.length-r.postDelimiterBackspace.length)),r.phone?(!r.prefix||r.noImmediatePrefix&&!e.length?r.result=r.phoneFormatter.format(e):r.result=r.prefix+r.phoneFormatter.format(e).slice(r.prefix.length),void t.updateValueState()):r.numeral?(r.prefix&&r.noImmediatePrefix&&0===e.length?r.result="":r.result=r.numeralFormatter.format(e),void t.updateValueState()):(r.date&&(e=r.dateFormatter.getValidatedDate(e)),r.time&&(e=r.timeFormatter.getValidatedTime(e)),e=n.stripDelimiters(e,r.delimiter,r.delimiters),e=n.getPrefixStrippedValue(e,r.prefix,r.prefixLength,r.result,r.delimiter,r.delimiters,r.noImmediatePrefix,r.tailPrefix,r.signBeforePrefix),e=r.numericOnly?n.strip(e,/[^\d]/g):e,e=r.uppercase?e.toUpperCase():e,e=r.lowercase?e.toLowerCase():e,!r.prefix||r.noImmediatePrefix&&!e.length||(r.tailPrefix?e+=r.prefix:e=r.prefix+e,0!==r.blocksLength)?(r.creditCard&&t.updateCreditCardPropsByValue(e),e=n.headStr(e,r.maxLength),r.result=n.getFormattedValue(e,r.blocks,r.blocksLength,r.delimiter,r.delimiters,r.delimiterLazyShow),void t.updateValueState()):(r.result=e,void t.updateValueState()))},updateCreditCardPropsByValue:function(e){var t,r=this,n=r.properties,a=i.Util;a.headStr(n.result,4)!==a.headStr(e,4)&&(t=i.CreditCardDetector.getInfo(e,n.creditCardStrictMode),n.blocks=t.blocks,n.blocksLength=n.blocks.length,n.maxLength=a.getMaxLength(n.blocks),n.creditCardType!==t.type&&(n.creditCardType=t.type,n.onCreditCardTypeChanged.call(r,n.creditCardType)))},updateValueState:function(){var e=this,t=i.Util,r=e.properties;if(e.element){var n=e.element.selectionEnd,a=e.element.value,o=r.result;if(n=t.getNextCursorPosition(n,a,o,r.delimiter,r.delimiters),e.isAndroid)return void window.setTimeout(function(){e.element.value=o,t.setSelection(e.element,n,r.document,!1),e.callOnValueChanged()},1);e.element.value=o,r.swapHiddenInput&&(e.elementSwapHidden.value=e.getRawValue()),t.setSelection(e.element,n,r.document,!1),e.callOnValueChanged()}},callOnValueChanged:function(){var e=this,t=e.properties;t.onValueChanged.call(e,{target:{name:e.element.name,value:t.result,rawValue:e.getRawValue()}})},setPhoneRegionCode:function(e){var t=this,r=t.properties;r.phoneRegionCode=e,t.initPhoneFormatter(),t.onChange()},setRawValue:function(e){var t=this,r=t.properties;e=void 0!==e&&null!==e?e.toString():"",r.numeral&&(e=e.replace(".",r.numeralDecimalMark)),r.postDelimiterBackspace=!1,t.element.value=e,t.onInput(e)},getRawValue:function(){var e=this,t=e.properties,r=i.Util,n=e.element.value;return t.rawValueTrimPrefix&&(n=r.getPrefixStrippedValue(n,t.prefix,t.prefixLength,t.result,t.delimiter,t.delimiters,t.noImmediatePrefix,t.tailPrefix,t.signBeforePrefix)),n=t.numeral?t.numeralFormatter.getRawValue(n):r.stripDelimiters(n,t.delimiter,t.delimiters)},getISOFormatDate:function(){var e=this,t=e.properties;return t.date?t.dateFormatter.getISOFormatDate():""},getISOFormatTime:function(){var e=this,t=e.properties;return t.time?t.timeFormatter.getISOFormatTime():""},getFormattedValue:function(){return this.element.value},destroy:function(){var e=this;e.element.removeEventListener("input",e.onChangeListener),e.element.removeEventListener("keydown",e.onKeyDownListener),e.element.removeEventListener("focus",e.onFocusListener),e.element.removeEventListener("cut",e.onCutListener),e.element.removeEventListener("copy",e.onCopyListener)},toString:function(){return"[Cleave Object]"}},i.NumeralFormatter=r(1),i.DateFormatter=r(2),i.TimeFormatter=r(3),i.PhoneFormatter=r(4),i.CreditCardDetector=r(5),i.Util=r(6),i.DefaultProperties=r(7),("object"==typeof t&&t?t:window).Cleave=i,e.exports=i}).call(t,function(){return this}())},function(e,t){"use strict";var r=function(e,t,i,n,a,o,l,s,c,u){var d=this;d.numeralDecimalMark=e||".",d.numeralIntegerScale=t>0?t:0,d.numeralDecimalScale=i>=0?i:2,d.numeralThousandsGroupStyle=n||r.groupStyle.thousand,d.numeralPositiveOnly=!!a,d.stripLeadingZeroes=o!==!1,d.prefix=l||""===l?l:"",d.signBeforePrefix=!!s,d.tailPrefix=!!c,d.delimiter=u||""===u?u:",",d.delimiterRE=u?new RegExp("\\"+u,"g"):""};r.groupStyle={thousand:"thousand",lakh:"lakh",wan:"wan",none:"none"},r.prototype={getRawValue:function(e){return e.replace(this.delimiterRE,"").replace(this.numeralDecimalMark,".")},format:function(e){var t,i,n,a,o=this,l="";switch(e=e.replace(/[A-Za-z]/g,"").replace(o.numeralDecimalMark,"M").replace(/[^\dM-]/g,"").replace(/^\-/,"N").replace(/\-/g,"").replace("N",o.numeralPositiveOnly?"":"-").replace("M",o.numeralDecimalMark),o.stripLeadingZeroes&&(e=e.replace(/^(-)?0+(?=\d)/,"$1")),i="-"===e.slice(0,1)?"-":"",n="undefined"!=typeof o.prefix?o.signBeforePrefix?i+o.prefix:o.prefix+i:i,a=e,e.indexOf(o.numeralDecimalMark)>=0&&(t=e.split(o.numeralDecimalMark),a=t[0],l=o.numeralDecimalMark+t[1].slice(0,o.numeralDecimalScale)),"-"===i&&(a=a.slice(1)),o.numeralIntegerScale>0&&(a=a.slice(0,o.numeralIntegerScale)),o.numeralThousandsGroupStyle){case r.groupStyle.lakh:a=a.replace(/(\d)(?=(\d\d)+\d$)/g,"$1"+o.delimiter);break;case r.groupStyle.wan:a=a.replace(/(\d)(?=(\d{4})+$)/g,"$1"+o.delimiter);break;case r.groupStyle.thousand:a=a.replace(/(\d)(?=(\d{3})+$)/g,"$1"+o.delimiter)}return o.tailPrefix?i+a.toString()+(o.numeralDecimalScale>0?l.toString():"")+o.prefix:n+a.toString()+(o.numeralDecimalScale>0?l.toString():"")}},e.exports=r},function(e,t){"use strict";var r=function(e,t,r){var i=this;i.date=[],i.blocks=[],i.datePattern=e,i.dateMin=t.split("-").reverse().map(function(e){return parseInt(e,10)}),2===i.dateMin.length&&i.dateMin.unshift(0),i.dateMax=r.split("-").reverse().map(function(e){return parseInt(e,10)}),2===i.dateMax.length&&i.dateMax.unshift(0),i.initBlocks()};r.prototype={initBlocks:function(){var e=this;e.datePattern.forEach(function(t){"Y"===t?e.blocks.push(4):e.blocks.push(2)})},getISOFormatDate:function(){var e=this,t=e.date;return t[2]?t[2]+"-"+e.addLeadingZero(t[1])+"-"+e.addLeadingZero(t[0]):""},getBlocks:function(){return this.blocks},getValidatedDate:function(e){var t=this,r="";return e=e.replace(/[^\d]/g,""),t.blocks.forEach(function(i,n){if(e.length>0){var a=e.slice(0,i),o=a.slice(0,1),l=e.slice(i);switch(t.datePattern[n]){case"d":"00"===a?a="01":parseInt(o,10)>3?a="0"+o:parseInt(a,10)>31&&(a="31");break;case"m":"00"===a?a="01":parseInt(o,10)>1?a="0"+o:parseInt(a,10)>12&&(a="12")}r+=a,e=l}}),this.getFixedDateString(r)},getFixedDateString:function(e){var t,r,i,n=this,a=n.datePattern,o=[],l=0,s=0,c=0,u=0,d=0,m=0,p=!1;4===e.length&&"y"!==a[0].toLowerCase()&&"y"!==a[1].toLowerCase()&&(u="d"===a[0]?0:2,d=2-u,t=parseInt(e.slice(u,u+2),10),r=parseInt(e.slice(d,d+2),10),o=this.getFixedDate(t,r,0)),8===e.length&&(a.forEach(function(e,t){switch(e){case"d":l=t;break;case"m":s=t;break;default:c=t}}),m=2*c,u=l<=c?2*l:2*l+2,d=s<=c?2*s:2*s+2,t=parseInt(e.slice(u,u+2),10),r=parseInt(e.slice(d,d+2),10),i=parseInt(e.slice(m,m+4),10),p=4===e.slice(m,m+4).length,o=this.getFixedDate(t,r,i)),4!==e.length||"y"!==a[0]&&"y"!==a[1]||(d="m"===a[0]?0:2,m=2-d,r=parseInt(e.slice(d,d+2),10),i=parseInt(e.slice(m,m+2),10),p=2===e.slice(m,m+2).length,o=[0,r,i]),6!==e.length||"Y"!==a[0]&&"Y"!==a[1]||(d="m"===a[0]?0:4,m=2-.5*d,r=parseInt(e.slice(d,d+2),10),i=parseInt(e.slice(m,m+4),10),p=4===e.slice(m,m+4).length,o=[0,r,i]),o=n.getRangeFixedDate(o),n.date=o;var h=0===o.length?e:a.reduce(function(e,t){switch(t){case"d":return e+(0===o[0]?"":n.addLeadingZero(o[0]));case"m":return e+(0===o[1]?"":n.addLeadingZero(o[1]));case"y":return e+(p?n.addLeadingZeroForYear(o[2],!1):"");case"Y":return e+(p?n.addLeadingZeroForYear(o[2],!0):"")}},"");return h},getRangeFixedDate:function(e){var t=this,r=t.datePattern,i=t.dateMin||[],n=t.dateMax||[];return!e.length||i.length<3&&n.length<3?e:r.find(function(e){return"y"===e.toLowerCase()})&&0===e[2]?e:n.length&&(n[2]<e[2]||n[2]===e[2]&&(n[1]<e[1]||n[1]===e[1]&&n[0]<e[0]))?n:i.length&&(i[2]>e[2]||i[2]===e[2]&&(i[1]>e[1]||i[1]===e[1]&&i[0]>e[0]))?i:e},getFixedDate:function(e,t,r){return e=Math.min(e,31),t=Math.min(t,12),r=parseInt(r||0,10),(t<7&&t%2===0||t>8&&t%2===1)&&(e=Math.min(e,2===t?this.isLeapYear(r)?29:28:30)),[e,t,r]},isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},addLeadingZero:function(e){return(e<10?"0":"")+e},addLeadingZeroForYear:function(e,t){return t?(e<10?"000":e<100?"00":e<1e3?"0":"")+e:(e<10?"0":"")+e}},e.exports=r},function(e,t){"use strict";var r=function(e,t){var r=this;r.time=[],r.blocks=[],r.timePattern=e,r.timeFormat=t,r.initBlocks()};r.prototype={initBlocks:function(){var e=this;e.timePattern.forEach(function(){e.blocks.push(2)})},getISOFormatTime:function(){var e=this,t=e.time;return t[2]?e.addLeadingZero(t[0])+":"+e.addLeadingZero(t[1])+":"+e.addLeadingZero(t[2]):""},getBlocks:function(){return this.blocks},getTimeFormatOptions:function(){var e=this;return"12"===String(e.timeFormat)?{maxHourFirstDigit:1,maxHours:12,maxMinutesFirstDigit:5,maxMinutes:60}:{maxHourFirstDigit:2,maxHours:23,maxMinutesFirstDigit:5,maxMinutes:60}},getValidatedTime:function(e){var t=this,r="";e=e.replace(/[^\d]/g,"");var i=t.getTimeFormatOptions();return t.blocks.forEach(function(n,a){if(e.length>0){var o=e.slice(0,n),l=o.slice(0,1),s=e.slice(n);switch(t.timePattern[a]){case"h":parseInt(l,10)>i.maxHourFirstDigit?o="0"+l:parseInt(o,10)>i.maxHours&&(o=i.maxHours+"");break;case"m":case"s":parseInt(l,10)>i.maxMinutesFirstDigit?o="0"+l:parseInt(o,10)>i.maxMinutes&&(o=i.maxMinutes+"")}r+=o,e=s}}),this.getFixedTimeString(r)},getFixedTimeString:function(e){var t,r,i,n=this,a=n.timePattern,o=[],l=0,s=0,c=0,u=0,d=0,m=0;return 6===e.length&&(a.forEach(function(e,t){switch(e){case"s":l=2*t;break;case"m":s=2*t;break;case"h":c=2*t}}),m=c,d=s,u=l,t=parseInt(e.slice(u,u+2),10),r=parseInt(e.slice(d,d+2),10),i=parseInt(e.slice(m,m+2),10),o=this.getFixedTime(i,r,t)),4===e.length&&n.timePattern.indexOf("s")<0&&(a.forEach(function(e,t){switch(e){case"m":s=2*t;break;case"h":c=2*t}}),m=c,d=s,t=0,r=parseInt(e.slice(d,d+2),10),i=parseInt(e.slice(m,m+2),10),o=this.getFixedTime(i,r,t)),n.time=o,0===o.length?e:a.reduce(function(e,t){switch(t){case"s":return e+n.addLeadingZero(o[2]);case"m":return e+n.addLeadingZero(o[1]);case"h":return e+n.addLeadingZero(o[0])}},"")},getFixedTime:function(e,t,r){return r=Math.min(parseInt(r||0,10),60),t=Math.min(t,60),e=Math.min(e,60),[e,t,r]},addLeadingZero:function(e){return(e<10?"0":"")+e}},e.exports=r},function(e,t){"use strict";var r=function(e,t){var r=this;r.delimiter=t||""===t?t:" ",r.delimiterRE=t?new RegExp("\\"+t,"g"):"",r.formatter=e};r.prototype={setFormatter:function(e){this.formatter=e},format:function(e){var t=this;t.formatter.clear(),e=e.replace(/[^\d+]/g,""),e=e.replace(/^\+/,"B").replace(/\+/g,"").replace("B","+"),e=e.replace(t.delimiterRE,"");for(var r,i="",n=!1,a=0,o=e.length;a<o;a++)r=t.formatter.inputDigit(e.charAt(a)),/[\s()-]/g.test(r)?(i=r,n=!0):n||(i=r);return i=i.replace(/[()]/g,""),i=i.replace(/[\s-]/g,t.delimiter)}},e.exports=r},function(e,t){"use strict";var r={blocks:{uatp:[4,5,6],amex:[4,6,5],diners:[4,6,4],discover:[4,4,4,4],mastercard:[4,4,4,4],dankort:[4,4,4,4],instapayment:[4,4,4,4],jcb15:[4,6,5],jcb:[4,4,4,4],maestro:[4,4,4,4],visa:[4,4,4,4],mir:[4,4,4,4],unionPay:[4,4,4,4],general:[4,4,4,4]},re:{uatp:/^(?!1800)1\d{0,14}/,amex:/^3[47]\d{0,13}/,discover:/^(?:6011|65\d{0,2}|64[4-9]\d?)\d{0,12}/,diners:/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/,mastercard:/^(5[1-5]\d{0,2}|22[2-9]\d{0,1}|2[3-7]\d{0,2})\d{0,12}/,dankort:/^(5019|4175|4571)\d{0,12}/,instapayment:/^63[7-9]\d{0,13}/,jcb15:/^(?:2131|1800)\d{0,11}/,jcb:/^(?:35\d{0,2})\d{0,12}/,maestro:/^(?:5[0678]\d{0,2}|6304|67\d{0,2})\d{0,12}/,mir:/^220[0-4]\d{0,12}/,visa:/^4\d{0,15}/,unionPay:/^(62|81)\d{0,14}/},getStrictBlocks:function(e){var t=e.reduce(function(e,t){return e+t},0);return e.concat(19-t)},getInfo:function(e,t){var i=r.blocks,n=r.re;t=!!t;for(var a in n)if(n[a].test(e)){var o=i[a];return{type:a,blocks:t?this.getStrictBlocks(o):o}}return{type:"unknown",blocks:t?this.getStrictBlocks(i.general):i.general}}};e.exports=r},function(e,t){"use strict";var r={noop:function(){},strip:function(e,t){return e.replace(t,"")},getPostDelimiter:function(e,t,r){if(0===r.length)return e.slice(-t.length)===t?t:"";var i="";return r.forEach(function(t){e.slice(-t.length)===t&&(i=t)}),i},getDelimiterREByDelimiter:function(e){return new RegExp(e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g")},getNextCursorPosition:function(e,t,r,i,n){return t.length===e?r.length:e+this.getPositionOffset(e,t,r,i,n)},getPositionOffset:function(e,t,r,i,n){var a,o,l;return a=this.stripDelimiters(t.slice(0,e),i,n),o=this.stripDelimiters(r.slice(0,e),i,n),l=a.length-o.length,0!==l?l/Math.abs(l):0},stripDelimiters:function(e,t,r){var i=this;if(0===r.length){var n=t?i.getDelimiterREByDelimiter(t):"";return e.replace(n,"")}return r.forEach(function(t){t.split("").forEach(function(t){e=e.replace(i.getDelimiterREByDelimiter(t),"")})}),e},headStr:function(e,t){return e.slice(0,t)},getMaxLength:function(e){return e.reduce(function(e,t){return e+t},0)},getPrefixStrippedValue:function(e,t,r,i,n,a,o,l,s){if(0===r)return e;if(s&&"-"==e.slice(0,1)){var c="-"==i.slice(0,1)?i.slice(1):i;return"-"+this.getPrefixStrippedValue(e.slice(1),t,r,c,n,a,o,l,s)}if(i.slice(0,r)!==t&&!l)return o&&!i&&e?e:"";if(i.slice(-r)!==t&&l)return o&&!i&&e?e:"";var u=this.stripDelimiters(i,n,a);return e.slice(0,r)===t||l?e.slice(-r)!==t&&l?u.slice(0,-r-1):l?e.slice(0,-r):e.slice(r):u.slice(r)},getFirstDiffIndex:function(e,t){for(var r=0;e.charAt(r)===t.charAt(r);)if(""===e.charAt(r++))return-1;return r},getFormattedValue:function(e,t,r,i,n,a){var o,l="",s=n.length>0;return 0===r?e:(t.forEach(function(t,c){if(e.length>0){var u=e.slice(0,t),d=e.slice(t);o=s?n[a?c-1:c]||o:i,a?(c>0&&(l+=o),l+=u):(l+=u,u.length===t&&c<r-1&&(l+=o)),e=d}}),l)},fixPrefixCursor:function(e,t,r,i){if(e){var n=e.value,a=r||i[0]||" ";if(e.setSelectionRange&&t&&!(t.length+a.length<=n.length)){var o=2*n.length;setTimeout(function(){e.setSelectionRange(o,o)},1)}}},checkFullSelection:function(e){try{var t=window.getSelection()||document.getSelection()||{};return t.toString().length===e.length}catch(r){}return!1},setSelection:function(e,t,r){if(e===this.getActiveElement(r)&&!(e&&e.value.length<=t))if(e.createTextRange){var i=e.createTextRange();i.move("character",t),i.select()}else try{e.setSelectionRange(t,t)}catch(n){console.warn("The input element type does not support selection")}},getActiveElement:function(e){var t=e.activeElement;return t&&t.shadowRoot?this.getActiveElement(t.shadowRoot):t},isAndroid:function(){return navigator&&/android/i.test(navigator.userAgent)},isAndroidBackspaceKeydown:function(e,t){return!!(this.isAndroid()&&e&&t)&&t===e.slice(0,-1)}};e.exports=r},function(e,t){(function(t){"use strict";var r={assign:function(e,r){return e=e||{},r=r||{},e.creditCard=!!r.creditCard,e.creditCardStrictMode=!!r.creditCardStrictMode,e.creditCardType="",e.onCreditCardTypeChanged=r.onCreditCardTypeChanged||function(){},e.phone=!!r.phone,e.phoneRegionCode=r.phoneRegionCode||"AU",e.phoneFormatter={},e.time=!!r.time,e.timePattern=r.timePattern||["h","m","s"],e.timeFormat=r.timeFormat||"24",e.timeFormatter={},e.date=!!r.date,e.datePattern=r.datePattern||["d","m","Y"],e.dateMin=r.dateMin||"",e.dateMax=r.dateMax||"",e.dateFormatter={},e.numeral=!!r.numeral,e.numeralIntegerScale=r.numeralIntegerScale>0?r.numeralIntegerScale:0,e.numeralDecimalScale=r.numeralDecimalScale>=0?r.numeralDecimalScale:2,e.numeralDecimalMark=r.numeralDecimalMark||".",e.numeralThousandsGroupStyle=r.numeralThousandsGroupStyle||"thousand",e.numeralPositiveOnly=!!r.numeralPositiveOnly,e.stripLeadingZeroes=r.stripLeadingZeroes!==!1,e.signBeforePrefix=!!r.signBeforePrefix,e.tailPrefix=!!r.tailPrefix,e.swapHiddenInput=!!r.swapHiddenInput,e.numericOnly=e.creditCard||e.date||!!r.numericOnly,e.uppercase=!!r.uppercase,e.lowercase=!!r.lowercase,e.prefix=e.creditCard||e.date?"":r.prefix||"",e.noImmediatePrefix=!!r.noImmediatePrefix,e.prefixLength=e.prefix.length,e.rawValueTrimPrefix=!!r.rawValueTrimPrefix,e.copyDelimiter=!!r.copyDelimiter,e.initValue=void 0!==r.initValue&&null!==r.initValue?r.initValue.toString():"",e.delimiter=r.delimiter||""===r.delimiter?r.delimiter:r.date?"/":r.time?":":r.numeral?",":(r.phone," "),e.delimiterLength=e.delimiter.length,e.delimiterLazyShow=!!r.delimiterLazyShow,e.delimiters=r.delimiters||[],e.blocks=r.blocks||[],e.blocksLength=e.blocks.length,e.root="object"==typeof t&&t?t:window,e.document=r.document||e.root.document,e.maxLength=0,e.backspace=!1,e.result="",e.onValueChanged=r.onValueChanged||function(){},e}};e.exports=r}).call(t,function(){return this}())}])});var mangso = ['không','một','hai','ba','bốn','năm','sáu','bảy','tám','chín'];
function dochangchuc(so,daydu)
{
 var chuoi = "";
 chuc = Math.floor(so/10);
 donvi = so%10;
 if (chuc>1) {
  chuoi = " " + mangso[chuc] + " mươi";
  if (donvi==1) {
   chuoi += " mốt";
  }
 } else if (chuc==1) {
  chuoi = " mười";
  if (donvi==1) {
   chuoi += " một";
  }
 } else if (daydu && donvi>0) {
  chuoi = " lẻ";
 }
 if (donvi==5 && chuc>1) {
  chuoi += " lăm";
 } else if (donvi>1||(donvi==1&&chuc==0)) {
  chuoi += " " + mangso[ donvi ];
 }
 return chuoi;
}
function docblock(so,daydu)
{
 var chuoi = "";
 tram = Math.floor(so/100);
 so = so%100;
 if (daydu || tram>0) {
  chuoi = " " + mangso[tram] + " trăm";
  chuoi += dochangchuc(so,true);
 } else {
  chuoi = dochangchuc(so,false);
 }
 return chuoi;
}
function dochangtrieu(so,daydu)
{
 var chuoi = "";
 trieu = Math.floor(so/1000000);
 so = so%1000000;
 if (trieu>0) {
  chuoi = docblock(trieu,daydu) + " triệu";
  daydu = true;
 }
 nghin = Math.floor(so/1000);
 so = so%1000;
 if (nghin>0) {
  chuoi += docblock(nghin,daydu) + " nghìn";
  daydu = true;
 }
 if (so>0) {
  chuoi += docblock(so,daydu);
 }
 return chuoi;
}
function docso(so)
{
        if (so==0) return mangso[0];
 var chuoi = "", hauto = "";
 do {
  ty = so%1000000000;
  so = Math.floor(so/1000000000);
  if (so>0) {
   chuoi = dochangtrieu(ty,true) + hauto + chuoi;
  } else {
   chuoi = dochangtrieu(ty,false) + hauto + chuoi;
  }
  hauto = " tỷ";
 } while (so>0);
 return chuoi;
};/*
 * International Telephone Input v16.0.0
 * https://github.com/jackocnr/intl-tel-input.git
 * Licensed under the MIT license
 */

!function(a){var b=function(a,b,c){"use strict";return function(){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}for(var g=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1",5,["684"]],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1",6,["264"]],["Antigua and Barbuda","ag","1",7,["268"]],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1",8,["242"]],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1",9,["246"]],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1",10,["441"]],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1",11,["284"]],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1,["3","4","7"]],["Cayman Islands","ky","1",12,["345"]],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1",13,["767"]],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1",14,["473"]],["Guadeloupe","gp","590",0],["Guam","gu","1",15,["671"]],["Guatemala","gt","502"],["Guernsey","gg","44",1,["1481","7781","7839","7911"]],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2,["1624","74576","7524","7924","7624"]],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan (日本)","jp","81"],["Jersey","je","44",3,["1534","7509","7700","7797","7829","7937"]],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1,["33","7"]],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1,["269","639"]],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1",16,["664"]],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1",17,["670"]],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1",18,["869"]],["Saint Lucia","lc","1",19,["758"]],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1",20,["784"]],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1",21,["721"]],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1,["79"]],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1",22,["868"]],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1",23,["649"]],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1",24,["340"]],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1,["06698"]],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1,["5288","5289"]],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1,["18"]]],h=0;h<g.length;h++){var i=g[h];g[h]={name:i[0],iso2:i[1],dialCode:i[2],priority:i[3]||0,areaCodes:i[4]||null}}a.intlTelInputGlobals={getInstance:function(b){var c=b.getAttribute("data-intl-tel-input-id");return a.intlTelInputGlobals.instances[c]},instances:{}};var j=0,k={allowDropdown:!0,autoHideDialCode:!0,autoPlaceholder:"polite",customContainer:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,utilsScript:""},l=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"];a.addEventListener("load",function(){a.intlTelInputGlobals.windowLoaded=!0});var m=function(a,b){for(var c=Object.keys(a),d=0;d<c.length;d++)b(c[d],a[c[d]])},n=function(b){m(a.intlTelInputGlobals.instances,function(c){a.intlTelInputGlobals.instances[c][b]()})},o=function(){function e(a,b){var c=this;d(this,e),this.id=j++,this.a=a,this.b=null,this.c=null;var f=b||{};this.d={},m(k,function(a,b){c.d[a]=f.hasOwnProperty(a)?f[a]:b}),this.e=Boolean(a.getAttribute("placeholder"))}return f(e,[{key:"_init",value:function(){var a=this;if(this.d.nationalMode&&(this.d.autoHideDialCode=!1),this.d.separateDialCode&&(this.d.autoHideDialCode=this.d.nationalMode=!1),this.g=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.g&&(b.body.classList.add("iti-mobile"),this.d.dropdownContainer||(this.d.dropdownContainer=b.body)),"undefined"!=typeof Promise){var c=new Promise(function(b,c){a.h=b,a.i=c}),d=new Promise(function(b,c){a.i0=b,a.i1=c});this.promise=Promise.all([c,d])}else this.h=this.i=function(){},this.i0=this.i1=function(){};this.s={},this._b(),this._f(),this._h(),this._i(),this._i3()}},{key:"_b",value:function(){this._d(),this._d2(),this._e(),this.d.localizedCountries&&this._d0(),(this.d.onlyCountries.length||this.d.localizedCountries)&&this.p.sort(this._d1)}},{key:"_c",value:function(a,b,d){b.length>this.dialCodeMaxLen&&(this.dialCodeMaxLen=b.length),this.q.hasOwnProperty(b)||(this.q[b]=[]);for(var e=0;e<this.q[b].length;e++)if(this.q[b][e]===a)return;var f=d!==c?d:this.q[b].length;this.q[b][f]=a}},{key:"_d",value:function(){if(this.d.onlyCountries.length){var a=this.d.onlyCountries.map(function(a){return a.toLowerCase()});this.p=g.filter(function(b){return a.indexOf(b.iso2)>-1})}else if(this.d.excludeCountries.length){var b=this.d.excludeCountries.map(function(a){return a.toLowerCase()});this.p=g.filter(function(a){return-1===b.indexOf(a.iso2)})}else this.p=g}},{key:"_d0",value:function(){for(var a=0;a<this.p.length;a++){var b=this.p[a].iso2.toLowerCase();this.d.localizedCountries.hasOwnProperty(b)&&(this.p[a].name=this.d.localizedCountries[b])}}},{key:"_d1",value:function(a,b){return a.name.localeCompare(b.name)}},{key:"_d2",value:function(){this.dialCodeMaxLen=0,this.q={};for(var a=0;a<this.p.length;a++){var b=this.p[a];this._c(b.iso2,b.dialCode,b.priority)}for(var c=0;c<this.p.length;c++){var d=this.p[c];if(d.areaCodes)for(var e=this.q[d.dialCode][0],f=0;f<d.areaCodes.length;f++){for(var g=d.areaCodes[f],h=1;h<g.length;h++){var i=d.dialCode+g.substr(0,h);this._c(e,i),this._c(d.iso2,i)}this._c(d.iso2,d.dialCode+g)}}}},{key:"_e",value:function(){this.preferredCountries=[];for(var a=0;a<this.d.preferredCountries.length;a++){var b=this.d.preferredCountries[a].toLowerCase(),c=this._y(b,!1,!0);c&&this.preferredCountries.push(c)}}},{key:"_e2",value:function(a,c,d){var e=b.createElement(a);return c&&m(c,function(a,b){return e.setAttribute(a,b)}),d&&d.appendChild(e),e}},{key:"_f",value:function(){this.a.setAttribute("autocomplete","off");var a="iti";this.d.allowDropdown&&(a+=" iti--allow-dropdown"),this.d.separateDialCode&&(a+=" iti--separate-dial-code"),this.d.customContainer&&(a+=" ",a+=this.d.customContainer);var b=this._e2("div",{"class":a});if(this.a.parentNode.insertBefore(b,this.a),this.k=this._e2("div",{"class":"iti__flag-container"},b),b.appendChild(this.a),this.selectedFlag=this._e2("div",{"class":"iti__selected-flag",role:"combobox","aria-owns":"country-listbox"},this.k),this.l=this._e2("div",{"class":"iti__flag"},this.selectedFlag),this.d.separateDialCode&&(this.t=this._e2("div",{"class":"iti__selected-dial-code"},this.selectedFlag)),this.d.allowDropdown&&(this.selectedFlag.setAttribute("tabindex","0"),this.u=this._e2("div",{"class":"iti__arrow"},this.selectedFlag),this.m=this._e2("ul",{"class":"iti__country-list iti__hide",id:"country-listbox","aria-expanded":"false",role:"listbox"}),this.preferredCountries.length&&(this._g(this.preferredCountries,"iti__preferred"),this._e2("li",{"class":"iti__divider",role:"separator","aria-disabled":"true"},this.m)),this._g(this.p,"iti__standard"),this.d.dropdownContainer?(this.dropdown=this._e2("div",{"class":"iti iti--container"}),this.dropdown.appendChild(this.m)):this.k.appendChild(this.m)),this.d.hiddenInput){var c=this.d.hiddenInput,d=this.a.getAttribute("name");if(d){var e=d.lastIndexOf("[");-1!==e&&(c="".concat(d.substr(0,e),"[").concat(c,"]"))}this.hiddenInput=this._e2("input",{type:"hidden",name:c}),b.appendChild(this.hiddenInput)}}},{key:"_g",value:function(a,b){for(var c="",d=0;d<a.length;d++){var e=a[d];c+="<li class='iti__country ".concat(b,"' tabIndex='-1' id='iti-item-").concat(e.iso2,"' role='option' data-dial-code='").concat(e.dialCode,"' data-country-code='").concat(e.iso2,"'>"),c+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(e.iso2,"'></div></div>"),c+="<span class='iti__country-name'>".concat(e.name,"</span>"),c+="<span class='iti__dial-code'>+".concat(e.dialCode,"</span>"),c+="</li>"}this.m.insertAdjacentHTML("beforeend",c)}},{key:"_h",value:function(){var a=this.a.value,b=this._5(a),c=this._w(a),d=this.d,e=d.initialCountry,f=d.nationalMode,g=d.autoHideDialCode,h=d.separateDialCode;b&&!c?this._v(a):"auto"!==e&&(e?this._z(e.toLowerCase()):b&&c?this._z("us"):(this.j=this.preferredCountries.length?this.preferredCountries[0].iso2:this.p[0].iso2,a||this._z(this.j)),a||f||g||h||(this.a.value="+".concat(this.s.dialCode))),a&&this._u(a)}},{key:"_i",value:function(){this._j(),this.d.autoHideDialCode&&this._l(),this.d.allowDropdown&&this._i2(),this.hiddenInput&&this._i0()}},{key:"_i0",value:function(){var a=this;this._a14=function(){a.hiddenInput.value=a.getNumber()},this.a.form&&this.a.form.addEventListener("submit",this._a14)}},{key:"_i1",value:function(){for(var a=this.a;a&&"LABEL"!==a.tagName;)a=a.parentNode;return a}},{key:"_i2",value:function(){var a=this;this._a9=function(b){a.m.classList.contains("iti__hide")?a.a.focus():b.preventDefault()};var b=this._i1();b&&b.addEventListener("click",this._a9),this._a10=function(){!a.m.classList.contains("iti__hide")||a.a.disabled||a.a.readOnly||a._n()},this.selectedFlag.addEventListener("click",this._a10),this._a11=function(b){a.m.classList.contains("iti__hide")&&-1!==["ArrowUp","ArrowDown"," ","Enter"].indexOf(b.key)&&(b.preventDefault(),b.stopPropagation(),a._n()),"Tab"===b.key&&a._2()},this.k.addEventListener("keydown",this._a11)}},{key:"_i3",value:function(){var b=this;this.d.utilsScript&&!a.intlTelInputUtils?a.intlTelInputGlobals.windowLoaded?a.intlTelInputGlobals.loadUtils(this.d.utilsScript):a.addEventListener("load",function(){a.intlTelInputGlobals.loadUtils(b.d.utilsScript)}):this.i0(),"auto"===this.d.initialCountry?this._i4():this.h()}},{key:"_i4",value:function(){a.intlTelInputGlobals.autoCountry?this.handleAutoCountry():a.intlTelInputGlobals.startedLoadingAutoCountry||(a.intlTelInputGlobals.startedLoadingAutoCountry=!0,"function"==typeof this.d.geoIpLookup&&this.d.geoIpLookup(function(b){a.intlTelInputGlobals.autoCountry=b.toLowerCase(),setTimeout(function(){return n("handleAutoCountry")})},function(){return n("rejectAutoCountryPromise")}))}},{key:"_j",value:function(){var a=this;this._a12=function(){a._v(a.a.value)&&a._8()},this.a.addEventListener("keyup",this._a12),this._a13=function(){setTimeout(a._a12)},this.a.addEventListener("cut",this._a13),this.a.addEventListener("paste",this._a13)}},{key:"_j2",value:function(a){var b=this.a.getAttribute("maxlength");return b&&a.length>b?a.substr(0,b):a}},{key:"_l",value:function(){var a=this;this._a8=function(){a._l2()},this.a.form&&this.a.form.addEventListener("submit",this._a8),this.a.addEventListener("blur",this._a8)}},{key:"_l2",value:function(){if("+"===this.a.value.charAt(0)){var a=this._m(this.a.value);a&&this.s.dialCode!==a||(this.a.value="")}}},{key:"_m",value:function(a){return a.replace(/\D/g,"")}},{key:"_m2",value:function(a){var c=b.createEvent("Event");c.initEvent(a,!0,!0),this.a.dispatchEvent(c)}},{key:"_n",value:function(){this.m.classList.remove("iti__hide"),this.m.setAttribute("aria-expanded","true"),this._o(),this.b&&(this._x(this.b,!1),this._3(this.b,!0)),this._p(),this.u.classList.add("iti__arrow--up"),this._m2("open:countrydropdown")}},{key:"_n2",value:function(a,b,c){c&&!a.classList.contains(b)?a.classList.add(b):!c&&a.classList.contains(b)&&a.classList.remove(b)}},{key:"_o",value:function(){var c=this;if(this.d.dropdownContainer&&this.d.dropdownContainer.appendChild(this.dropdown),!this.g){var d=this.a.getBoundingClientRect(),e=a.pageYOffset||b.documentElement.scrollTop,f=d.top+e,g=this.m.offsetHeight,h=f+this.a.offsetHeight+g<e+a.innerHeight,i=f-g>e;if(this._n2(this.m,"iti__country-list--dropup",!h&&i),this.d.dropdownContainer){var j=!h&&i?0:this.a.offsetHeight;this.dropdown.style.top="".concat(f+j,"px"),this.dropdown.style.left="".concat(d.left+b.body.scrollLeft,"px"),this._a4=function(){return c._2()},a.addEventListener("scroll",this._a4)}}}},{key:"_o2",value:function(a){for(var b=a;b&&b!==this.m&&!b.classList.contains("iti__country");)b=b.parentNode;return b===this.m?null:b}},{key:"_p",value:function(){var a=this;this._a0=function(b){var c=a._o2(b.target);c&&a._x(c,!1)},this.m.addEventListener("mouseover",this._a0),this._a1=function(b){var c=a._o2(b.target);c&&a._1(c)},this.m.addEventListener("click",this._a1);var c=!0;this._a2=function(){c||a._2(),c=!1},b.documentElement.addEventListener("click",this._a2);var d="",e=null;this._a3=function(b){b.preventDefault(),"ArrowUp"===b.key||"ArrowDown"===b.key?a._q(b.key):"Enter"===b.key?a._r():"Escape"===b.key?a._2():/^[a-zA-ZÀ-ÿ ]$/.test(b.key)&&(e&&clearTimeout(e),d+=b.key.toLowerCase(),a._s(d),e=setTimeout(function(){d=""},1e3))},b.addEventListener("keydown",this._a3)}},{key:"_q",value:function(a){var b="ArrowUp"===a?this.c.previousElementSibling:this.c.nextElementSibling;b&&(b.classList.contains("iti__divider")&&(b="ArrowUp"===a?b.previousElementSibling:b.nextElementSibling),this._x(b,!0))}},{key:"_r",value:function(){this.c&&this._1(this.c)}},{key:"_s",value:function(a){for(var b=0;b<this.p.length;b++)if(this._t(this.p[b].name,a)){var c=this.m.querySelector("#iti-item-".concat(this.p[b].iso2));this._x(c,!1),this._3(c,!0);break}}},{key:"_t",value:function(a,b){return a.substr(0,b.length).toLowerCase()===b}},{key:"_u",value:function(b){var c=b;if(this.d.formatOnDisplay&&a.intlTelInputUtils&&this.s){var d=!this.d.separateDialCode&&(this.d.nationalMode||"+"!==c.charAt(0)),e=intlTelInputUtils.numberFormat,f=e.NATIONAL,g=e.INTERNATIONAL,h=d?f:g;c=intlTelInputUtils.formatNumber(c,this.s.iso2,h)}c=this._7(c),this.a.value=c}},{key:"_v",value:function(a){var b=a,c=this.s.dialCode,d="1"===c;b&&this.d.nationalMode&&d&&"+"!==b.charAt(0)&&("1"!==b.charAt(0)&&(b="1".concat(b)),b="+".concat(b)),this.d.separateDialCode&&c&&"+"!==b.charAt(0)&&(b="+".concat(c).concat(b));var e=this._5(b),f=this._m(b),g=null;if(e){var h=this.q[this._m(e)],i=-1!==h.indexOf(this.s.iso2)&&f.length<=e.length-1;if(!("1"===c&&this._w(f))&&!i)for(var j=0;j<h.length;j++)if(h[j]){g=h[j];break}}else"+"===b.charAt(0)&&f.length?g="":b&&"+"!==b||(g=this.j);return null!==g&&this._z(g)}},{key:"_w",value:function(a){var b=this._m(a);if("1"===b.charAt(0)){var c=b.substr(1,3);return-1!==l.indexOf(c)}return!1}},{key:"_x",value:function(a,b){var c=this.c;c&&c.classList.remove("iti__highlight"),this.c=a,this.c.classList.add("iti__highlight"),b&&this.c.focus()}},{key:"_y",value:function(a,b,c){for(var d=b?g:this.p,e=0;e<d.length;e++)if(d[e].iso2===a)return d[e];if(c)return null;throw new Error("No country data for '".concat(a,"'"))}},{key:"_z",value:function(a){var b=this.s.iso2?this.s:{};this.s=a?this._y(a,!1,!1):{},this.s.iso2&&(this.j=this.s.iso2),this.l.setAttribute("class","iti__flag iti__".concat(a));var c=a?"".concat(this.s.name,": +").concat(this.s.dialCode):"Unknown";if(this.selectedFlag.setAttribute("title",c),this.d.separateDialCode){var d=this.s.dialCode?"+".concat(this.s.dialCode):"";this.t.innerHTML=d;var e=this.selectedFlag.offsetWidth||this._getHiddenSelectedFlagWidth();this.a.style.paddingLeft="".concat(e+6,"px")}if(this._0(),this.d.allowDropdown){var f=this.b;if(f&&(f.classList.remove("iti__active"),f.setAttribute("aria-selected","false")),a){var g=this.m.querySelector("#iti-item-".concat(a));g.setAttribute("aria-selected","true"),g.classList.add("iti__active"),this.b=g,this.m.setAttribute("aria-activedescendant",g.getAttribute("id"))}}return b.iso2!==a}},{key:"_getHiddenSelectedFlagWidth",value:function(){var a=this.a.parentNode.cloneNode();a.style.visibility="hidden",b.body.appendChild(a);var c=this.selectedFlag.cloneNode(!0);a.appendChild(c);var d=c.offsetWidth;return a.remove(),d}},{key:"_0",value:function(){var b="aggressive"===this.d.autoPlaceholder||!this.e&&"polite"===this.d.autoPlaceholder;if(a.intlTelInputUtils&&b){var c=intlTelInputUtils.numberType[this.d.placeholderNumberType],d=this.s.iso2?intlTelInputUtils.getExampleNumber(this.s.iso2,this.d.nationalMode,c):"";d=this._7(d),"function"==typeof this.d.customPlaceholder&&(d=this.d.customPlaceholder(d,this.s)),this.a.setAttribute("placeholder",d)}}},{key:"_1",value:function(a){var b=this._z(a.getAttribute("data-country-code"));this._2(),this._4(a.getAttribute("data-dial-code"),!0),this.a.focus();var c=this.a.value.length;this.a.setSelectionRange(c,c),b&&this._8()}},{key:"_2",value:function(){this.m.classList.add("iti__hide"),this.m.setAttribute("aria-expanded","false"),this.u.classList.remove("iti__arrow--up"),b.removeEventListener("keydown",this._a3),b.documentElement.removeEventListener("click",this._a2),this.m.removeEventListener("mouseover",this._a0),this.m.removeEventListener("click",this._a1),this.d.dropdownContainer&&(this.g||a.removeEventListener("scroll",this._a4),this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown)),this._m2("close:countrydropdown")}},{key:"_3",value:function(c,d){var e=this.m,f=a.pageYOffset||b.documentElement.scrollTop,g=e.offsetHeight,h=e.getBoundingClientRect().top+f,i=h+g,j=c.offsetHeight,k=c.getBoundingClientRect().top+f,l=k+j,m=k-h+e.scrollTop,n=g/2-j/2;if(k<h)d&&(m-=n),e.scrollTop=m;else if(l>i){d&&(m+=n);var o=g-j;e.scrollTop=m-o}}},{key:"_4",value:function(a,b){var c,d=this.a.value,e="+".concat(a);if("+"===d.charAt(0)){var f=this._5(d);c=f?d.replace(f,e):e}else{if(this.d.nationalMode||this.d.separateDialCode)return;if(d)c=e+d;else{if(!b&&this.d.autoHideDialCode)return;c=e}}this.a.value=c}},{key:"_5",value:function(a){var b="";if("+"===a.charAt(0))for(var c="",d=0;d<a.length;d++){var e=a.charAt(d);if(!isNaN(parseInt(e,10))&&(c+=e,this.q[c]&&(b=a.substr(0,d+1)),c.length===this.dialCodeMaxLen))break}return b}},{key:"_6",value:function(){var a=this.a.value.trim(),b=this.s.dialCode,c=this._m(a);return(this.d.separateDialCode&&"+"!==a.charAt(0)&&b&&c?"+".concat(b):"")+a}},{key:"_7",value:function(a){var b=a;if(this.d.separateDialCode){var c=this._5(b);if(c){c="+".concat(this.s.dialCode);var d=" "===b[c.length]||"-"===b[c.length]?c.length+1:c.length;b=b.substr(d)}}return this._j2(b)}},{key:"_8",value:function(){this._m2("countrychange")}},{key:"handleAutoCountry",value:function(){"auto"===this.d.initialCountry&&(this.j=a.intlTelInputGlobals.autoCountry,this.a.value||this.setCountry(this.j),this.h())}},{key:"handleUtils",value:function(){a.intlTelInputUtils&&(this.a.value&&this._u(this.a.value),this._0()),this.i0()}},{key:"destroy",value:function(){var b=this.a.form;if(this.d.allowDropdown){this._2(),this.selectedFlag.removeEventListener("click",this._a10),this.k.removeEventListener("keydown",this._a11);var c=this._i1();c&&c.removeEventListener("click",this._a9)}this.hiddenInput&&b&&b.removeEventListener("submit",this._a14),this.d.autoHideDialCode&&(b&&b.removeEventListener("submit",this._a8),this.a.removeEventListener("blur",this._a8)),this.a.removeEventListener("keyup",this._a12),this.a.removeEventListener("cut",this._a13),this.a.removeEventListener("paste",this._a13),this.a.removeAttribute("data-intl-tel-input-id");var d=this.a.parentNode;d.parentNode.insertBefore(this.a,d),d.parentNode.removeChild(d),delete a.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function(){return a.intlTelInputUtils?intlTelInputUtils.getExtension(this._6(),this.s.iso2):""}},{key:"getNumber",value:function(b){if(a.intlTelInputUtils){var c=this.s.iso2;return intlTelInputUtils.formatNumber(this._6(),c,b)}return""}},{key:"getNumberType",value:function(){return a.intlTelInputUtils?intlTelInputUtils.getNumberType(this._6(),this.s.iso2):-99}},{key:"getSelectedCountryData",value:function(){return this.s}},{key:"getValidationError",value:function(){if(a.intlTelInputUtils){var b=this.s.iso2;return intlTelInputUtils.getValidationError(this._6(),b)}return-99}},{key:"isValidNumber",value:function(){var b=this._6().trim(),c=this.d.nationalMode?this.s.iso2:"";return a.intlTelInputUtils?intlTelInputUtils.isValidNumber(b,c):null}},{key:"setCountry",value:function(a){var b=a.toLowerCase();this.l.classList.contains("iti__".concat(b))||(this._z(b),this._4(this.s.dialCode,!1),this._8())}},{key:"setNumber",value:function(a){var b=this._v(a);this._u(a),b&&this._8()}},{key:"setPlaceholderNumberType",value:function(a){this.d.placeholderNumberType=a,this._0()}}]),e}()
;a.intlTelInputGlobals.getCountryData=function(){return g};var p=function(a,c,d){var e=b.createElement("script");e.onload=function(){n("handleUtils"),c&&c()},e.onerror=function(){n("rejectUtilsScriptPromise"),d&&d()},e.className="iti-load-utils",e.async=!0,e.src=a,b.body.appendChild(e)};return a.intlTelInputGlobals.loadUtils=function(b){if(!a.intlTelInputUtils&&!a.intlTelInputGlobals.startedLoadingUtilsScript){if(a.intlTelInputGlobals.startedLoadingUtilsScript=!0,"undefined"!=typeof Promise)return new Promise(function(a,c){return p(b,a,c)});p(b)}return null},a.intlTelInputGlobals.defaults=k,a.intlTelInputGlobals.version="16.0.0",function(b,c){var d=new o(b,c);return d._init(),b.setAttribute("data-intl-tel-input-id",d.id),a.intlTelInputGlobals.instances[d.id]=d,d}}()}(window,document);"object"==typeof module&&module.exports?module.exports=b:window.intlTelInput=b}();(function(){var aa=this;function k(a){return"string"==typeof a}function m(a,b){a=a.split(".");var c=aa;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b}
function n(a,b){function c(){}c.prototype=b.prototype;a.o=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.aa=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var p=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(k(a))return k(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function q(a,b){a.sort(b||ba)}function ba(a,b){return a>b?1:a<b?-1:0};function ca(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};function da(a,b){this.a=a;this.h=!!b.i;this.c=b.b;this.m=b.type;this.l=!1;switch(this.c){case ea:case fa:case ha:case ia:case ja:case ka:case la:this.l=!0}this.g=b.defaultValue}var la=1,ka=2,ea=3,fa=4,ha=6,ia=16,ja=18;function ma(a,b){this.c=a;this.a={};for(a=0;a<b.length;a++){var c=b[a];this.a[c.a]=c}}function na(a){a=ca(a.a);q(a,function(a,c){return a.a-c.a});return a};function r(){this.a={};this.g=this.f().a;this.c=this.h=null}r.prototype.has=function(a){return null!=this.a[a.a]};r.prototype.get=function(a,b){return t(this,a.a,b)};r.prototype.set=function(a,b){u(this,a.a,b)};r.prototype.add=function(a,b){v(this,a.a,b)};
function oa(a,b){for(var c=na(a.f()),d=0;d<c.length;d++){var e=c[d],f=e.a;if(null!=b.a[f]){a.c&&delete a.c[e.a];var g=11==e.c||10==e.c;if(e.h){e=w(b,f);for(var h=0;h<e.length;h++)v(a,f,g?e[h].clone():e[h])}else e=x(b,f),g?(g=x(a,f))?oa(g,e):u(a,f,e.clone()):u(a,f,e)}}}r.prototype.clone=function(){var a=new this.constructor;a!=this&&(a.a={},a.c&&(a.c={}),oa(a,this));return a};
function x(a,b){var c=a.a[b];if(null==c)return null;if(a.h){if(!(b in a.c)){var d=a.h,e=a.g[b];if(null!=c)if(e.h){for(var f=[],g=0;g<c.length;g++)f[g]=d.c(e,c[g]);c=f}else c=d.c(e,c);return a.c[b]=c}return a.c[b]}return c}function t(a,b,c){var d=x(a,b);return a.g[b].h?d[c||0]:d}function y(a,b){if(null!=a.a[b])a=t(a,b,void 0);else a:{a=a.g[b];if(void 0===a.g)if(b=a.m,b===Boolean)a.g=!1;else if(b===Number)a.g=0;else if(b===String)a.g=a.l?"0":"";else{a=new b;break a}a=a.g}return a}
function w(a,b){return x(a,b)||[]}function A(a,b){return a.g[b].h?null!=a.a[b]?a.a[b].length:0:null!=a.a[b]?1:0}function u(a,b,c){a.a[b]=c;a.c&&(a.c[b]=c)}function v(a,b,c){a.a[b]||(a.a[b]=[]);a.a[b].push(c);a.c&&delete a.c[b]}function B(a,b){var c=[],d;for(d in b)0!=d&&c.push(new da(d,b[d]));return new ma(a,c)};function C(){}C.prototype.a=function(a){new a.c;throw Error("Unimplemented");};C.prototype.c=function(a,b){if(11==a.c||10==a.c)return b instanceof r?b:this.a(a.m.prototype.f(),b);if(14==a.c)return k(b)&&pa.test(b)&&(a=Number(b),0<a)?a:b;if(!a.l)return b;a=a.m;if(a===String){if("number"==typeof b)return String(b)}else if(a===Number&&k(b)&&("Infinity"===b||"-Infinity"===b||"NaN"===b||pa.test(b)))return Number(b);return b};var pa=/^-?[0-9]+$/;function D(){}n(D,C);D.prototype.a=function(a,b){a=new a.c;a.h=this;a.a=b;a.c={};return a};function E(){}n(E,D);E.prototype.c=function(a,b){return 8==a.c?!!b:C.prototype.c.apply(this,arguments)};E.prototype.a=function(a,b){return E.o.a.call(this,a,b)};function F(a,b){null!=a&&this.a.apply(this,arguments)}F.prototype.c="";F.prototype.set=function(a){this.c=""+a};F.prototype.a=function(a,b,c){this.c+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.c+=arguments[d];return this};F.prototype.toString=function(){return this.c};/*

 Protocol Buffer 2 Copyright 2008 Google Inc.
 All other code copyright its respective owners.
 Copyright (C) 2010 The Libphonenumber Authors

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function G(){r.call(this)}n(G,r);var qa=null;function H(){r.call(this)}n(H,r);var ra=null;function I(){r.call(this)}n(I,r);var sa=null;
G.prototype.f=function(){var a=qa;a||(qa=a=B(G,{0:{name:"NumberFormat",j:"i18n.phonenumbers.NumberFormat"},1:{name:"pattern",required:!0,b:9,type:String},2:{name:"format",required:!0,b:9,type:String},3:{name:"leading_digits_pattern",i:!0,b:9,type:String},4:{name:"national_prefix_formatting_rule",b:9,type:String},6:{name:"national_prefix_optional_when_formatting",b:8,defaultValue:!1,type:Boolean},5:{name:"domestic_carrier_code_formatting_rule",b:9,type:String}}));return a};G.f=G.prototype.f;
H.prototype.f=function(){var a=ra;a||(ra=a=B(H,{0:{name:"PhoneNumberDesc",j:"i18n.phonenumbers.PhoneNumberDesc"},2:{name:"national_number_pattern",b:9,type:String},9:{name:"possible_length",i:!0,b:5,type:Number},10:{name:"possible_length_local_only",i:!0,b:5,type:Number},6:{name:"example_number",b:9,type:String}}));return a};H.f=H.prototype.f;
I.prototype.f=function(){var a=sa;a||(sa=a=B(I,{0:{name:"PhoneMetadata",j:"i18n.phonenumbers.PhoneMetadata"},1:{name:"general_desc",b:11,type:H},2:{name:"fixed_line",b:11,type:H},3:{name:"mobile",b:11,type:H},4:{name:"toll_free",b:11,type:H},5:{name:"premium_rate",b:11,type:H},6:{name:"shared_cost",b:11,type:H},7:{name:"personal_number",b:11,type:H},8:{name:"voip",b:11,type:H},21:{name:"pager",b:11,type:H},25:{name:"uan",b:11,type:H},27:{name:"emergency",b:11,type:H},28:{name:"voicemail",b:11,type:H},
29:{name:"short_code",b:11,type:H},30:{name:"standard_rate",b:11,type:H},31:{name:"carrier_specific",b:11,type:H},33:{name:"sms_services",b:11,type:H},24:{name:"no_international_dialling",b:11,type:H},9:{name:"id",required:!0,b:9,type:String},10:{name:"country_code",b:5,type:Number},11:{name:"international_prefix",b:9,type:String},17:{name:"preferred_international_prefix",b:9,type:String},12:{name:"national_prefix",b:9,type:String},13:{name:"preferred_extn_prefix",b:9,type:String},15:{name:"national_prefix_for_parsing",
b:9,type:String},16:{name:"national_prefix_transform_rule",b:9,type:String},18:{name:"same_mobile_and_fixed_line_pattern",b:8,defaultValue:!1,type:Boolean},19:{name:"number_format",i:!0,b:11,type:G},20:{name:"intl_number_format",i:!0,b:11,type:G},22:{name:"main_country_for_code",b:8,defaultValue:!1,type:Boolean},23:{name:"leading_digits",b:9,type:String},26:{name:"leading_zero_possible",b:8,defaultValue:!1,type:Boolean}}));return a};I.f=I.prototype.f;function J(){r.call(this)}n(J,r);var ta=null,ua={$:0,w:1,v:5,u:10,s:20};
J.prototype.f=function(){var a=ta;a||(ta=a=B(J,{0:{name:"PhoneNumber",j:"i18n.phonenumbers.PhoneNumber"},1:{name:"country_code",required:!0,b:5,type:Number},2:{name:"national_number",required:!0,b:4,type:Number},3:{name:"extension",b:9,type:String},4:{name:"italian_leading_zero",b:8,type:Boolean},8:{name:"number_of_leading_zeros",b:5,defaultValue:1,type:Number},5:{name:"raw_input",b:9,type:String},6:{name:"country_code_source",b:14,defaultValue:0,type:ua},7:{name:"preferred_domestic_carrier_code",
b:9,type:String}}));return a};J.ctor=J;J.ctor.f=J.prototype.f;/*

 Copyright (C) 2010 The Libphonenumber Authors

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var K={1:"US AG AI AS BB BM BS CA DM DO GD GU JM KN KY LC MP MS PR SX TC TT VC VG VI".split(" "),7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],
86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],
253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],
386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],
691:["FM"],692:["MH"],800:["001"],808:["001"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],870:["001"],878:["001"],880:["BD"],881:["001"],882:["001"],883:["001"],886:["TW"],888:["001"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],979:["001"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},wa={AC:[,[,,"(?:[01589]\\d|[46])\\d{4}",
,,,,,,[5,6]],[,,"6[2-467]\\d{3}",,,,"62889",,,[5]],[,,"4\\d{4}",,,,"40123",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AC",247,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"[01589]\\d{5}",,,,"542011",,,[6]],,,[,,,,,,,,,[-1]]],AD:[,[,,"(?:1|6\\d)\\d{7}|[136-9]\\d{5}",,,,,,,[6,8,9]],[,,"[78]\\d{5}",,,,"712345",,,[6]],[,,"690\\d{6}|[36]\\d{5}",,,,"312345",,,[6,9]],[,,"180[02]\\d{4}",,,,"18001234",,,[8]],[,,"[19]\\d{5}",,,,"912345",,,[6]],[,,,,,,,,,[-1]],
[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AD",376,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1 $2",["[136-9]"]],[,"(\\d{4})(\\d{4})","$1 $2",["1"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],,[,,,,,,,,,[-1]],,,[,,"1800\\d{4}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AE:[,[,,"(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",,,,,,,[5,6,7,8,9,10,11,12]],[,,"[2-4679][2-8]\\d{6}",,,,"22345678",,,[8],[7]],[,,"5[024-68]\\d{7}",,,,"501234567",,,[9]],[,,"400\\d{6}|800\\d{2,9}",,,,"800123456"],[,,"900[02]\\d{5}",
,,,"900234567",,,[9]],[,,"700[05]\\d{5}",,,,"700012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AE",971,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],[,"(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"600[25]\\d{5}",,,,"600212345",,,[9]],,,[,,,,,,,,,[-1]]],AF:[,[,,"[2-7]\\d{8}",,,,,,,[9],[7]],[,,"(?:[25][0-8]|[34][0-4]|6[0-5])[2-9]\\d{6}",
,,,"234567890",,,,[7]],[,,"7(?:[014-9]\\d|2[89]|3[01])\\d{6}",,,,"701234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AF",93,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-9]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AG:[,[,,"(?:268|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"268(?:4(?:6[0-38]|84)|56[0-2])\\d{4}",
,,,"2684601234",,,,[7]],[,,"268(?:464|7(?:1[3-9]|2\\d|3[246]|64|[78][0-689]))\\d{4}",,,,"2684641234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,"26848[01]\\d{4}",,,,"2684801234",,,,[7]],"AG",1,"011","1",,,"1|([457]\\d{6})$","268$1",,,,,[,,"26840[69]\\d{4}",,,,"2684061234",,,,[7]],,"268",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AI:[,[,,"(?:264|[58]\\d\\d|900)\\d{7}",
,,,,,,[10],[7]],[,,"2644(?:6[12]|9[78])\\d{4}",,,,"2644612345",,,,[7]],[,,"264(?:235|476|5(?:3[6-9]|8[1-4])|7(?:29|72))\\d{4}",,,,"2642351234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"AI",1,"011","1",,,"1|([2457]\\d{6})$","264$1",,,,,[,,,,,,,,,[-1]],,"264",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AL:[,[,,"(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",
,,,,,,[6,7,8,9],[5]],[,,"(?:[2358](?:[16-9]\\d[2-9]|[2-5][2-9]\\d)|4(?:[2-57-9][2-9]|6\\d)\\d)\\d{4}",,,,"22345678",,,[8],[5,6,7]],[,,"6(?:[689][2-9]|7[2-6])\\d{6}",,,,"662123456",,,[9]],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,"900[1-9]\\d\\d",,,,"900123",,,[6]],[,,"808[1-9]\\d\\d",,,,"808123",,,[6]],[,,"700[2-9]\\d{4}",,,,"70021234",,,[8]],[,,,,,,,,,[-1]],"AL",355,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})",
"$1 $2 $3",["[2358][2-5]|4"],"0$1"],[,"(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AM:[,[,,"(?:[1-489]\\d|55|60|77)\\d{6}",,,,,,,[8],[5,6]],[,,"(?:(?:1[0-2]|47)\\d|2(?:2[2-46]|3[1-8]|4[2-69]|5[2-7]|6[1-9]|8[1-7])|3[12]2)\\d{5}",,,,"10123456",,,,[5,6]],[,,"(?:4[1349]|55|77|88|9[13-9])\\d{6}",,,,"77123456"],[,,"800\\d{5}",,,,"80012345"],[,,"90[016]\\d{5}",,,,"90012345"],[,,"80[1-4]\\d{5}",
,,,"80112345"],[,,,,,,,,,[-1]],[,,"60(?:2[78]|3[5-9]|4[02-9]|5[0-46-9]|[6-8]\\d|90)\\d{4}",,,,"60271234"],"AM",374,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],[,"(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],[,"(\\d{3})(\\d{5})","$1 $2",["[23]"],"(0$1)"],[,"(\\d{2})(\\d{6})","$1 $2",["[4-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AO:[,[,,"[29]\\d{8}",,,,,,,[9]],[,,"2\\d(?:[0134][25-9]|[25-9]\\d)\\d{5}",,,,"222123456"],[,,"9[1-49]\\d{7}",
,,,"923123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AO",244,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AR:[,[,,"11\\d{8}|(?:[2368]|9\\d)\\d{9}",,,,,,,[10,11],[6,7,8]],[,,"(?:2(?:646[0-46-9]|9(?:45[02-69]|54[2-8]))|3(?:4(?:3(?:5[0-7]|6[1-69])|5(?:4[0-4679]|[56][024-6]))|585[013-7]|7(?:(?:1[15]|81)[46]|77[2-8])|8(?:(?:21|4[16]|9[12])[46]|35[124-6]|5(?:5[0-46-9]|6[0-246-9])|6(?:5[2-8]|9[46])|86[0-68])))\\d{5}|(?:2(?:284|657|9(?:20|66))|3(?:4(?:8[27]|92)|755|878))[2-7]\\d{5}|(?:2(?:2(?:2[59]|44|52)|3(?:26|4[24])|473|9(?:[07]2|2[26]|34|46))|3327)[45]\\d{5}|(?:2(?:(?:26|62)2|3(?:02|2[03])|477|9(?:42|83))|3(?:4(?:[47]6|62|89)|5(?:41|64)|873))[2-6]\\d{5}|(?:(?:11[2-7]|670)\\d|2(?:2(?:0[45]|1[2-6]|3[3-6])|3(?:[06]4|7[45])|494|6(?:04|1[2-7]|[346][45])|80[45]|9(?:[17][4-6]|44|8[45]|9[3-6]))|3(?:364|4(?:1[2-7]|2[4-6]|[38]4)|5(?:1[2-8]|3[4-6]|8[46])|6(?:2[45]|44)|7[069][45]|8(?:0[45]|1[2-6]|34|5[34]|7[24-6]|8[3-5])))\\d{6}|2(?:2(?:21|4[23]|6[145]|7[1-4]|8[356]|9[267])|3(?:16|3[13-8]|43|5[346-8]|9[3-5])|475|6(?:2[46]|4[78]|5[1568])|9(?:03|2[1457-9]|3[1356]|4[08]|[56][23]|82))4\\d{5}|(?:2(?:2(?:57|81)|3(?:24|46|92)|9(?:01|23|64))|3(?:329|4(?:42|71)|5(?:25|37|4[347]|71)|7(?:18|5[17])|888))[3-6]\\d{5}|(?:2(?:2(?:02|2[3467]|4[156]|5[45]|6[6-8]|91)|3(?:1[47]|[24]5|5[25]|96)|47[48]|625|932)|3(?:38[2578]|4(?:0[0-24-9]|3[78]|4[457]|58|6[03-9]|72|83|9[136-8])|5(?:2[124]|[368][23]|4[2689]|7[2-6])|7(?:16|2[15]|3[145]|4[13]|5[468]|7[2-5]|8[26])|8(?:2[5-7]|3[278]|4[3-5]|5[78]|6[1-378]|[78]7|94)))[4-6]\\d{5}",
,,,"1123456789",,,[10],[6,7,8]],[,,"9(?:2(?:646[0-46-9]|9(?:45[02-69]|54[2-8]))|3(?:4(?:3(?:5[0-7]|6[1-69])|5(?:4[0-4679]|[56][024-6]))|585[013-7]|7(?:(?:1[15]|81)[46]|77[2-8])|8(?:(?:21|4[16]|9[12])[46]|35[124-6]|5(?:5[0-46-9]|6[0-246-9])|6(?:5[2-8]|9[46])|86[0-68])))\\d{5}|9(?:2(?:284|657|9(?:20|66))|3(?:4(?:8[27]|92)|755|878))[2-7]\\d{5}|9(?:2(?:2(?:2[59]|44|52)|3(?:26|4[24])|473|9(?:[07]2|2[26]|34|46))|3327)[45]\\d{5}|9(?:2(?:(?:26|62)2|3(?:02|2[03])|477|9(?:42|83))|3(?:4(?:[47]6|62|89)|5(?:41|64)|873))[2-6]\\d{5}|(?:675\\d|9(?:11[2-7]\\d|2(?:2(?:0[45]|1[2-6]|3[3-6])|3(?:[06]4|7[45])|494|6(?:04|1[2-7]|[346][45])|80[45]|9(?:[17][4-6]|44|8[45]|9[3-6]))|3(?:364|4(?:1[2-7]|2[4-6]|[38]4)|5(?:1[2-8]|3[4-6]|8[46])|6(?:2[45]|44)|7[069][45]|8(?:0[45]|1[2-6]|34|5[34]|7[24-6]|8[3-5]))))\\d{6}|92(?:2(?:21|4[23]|6[145]|7[1-4]|8[356]|9[267])|3(?:16|3[13-8]|43|5[346-8]|9[3-5])|475|6(?:2[46]|4[78]|5[1568])|9(?:03|2[1457-9]|3[1356]|4[08]|[56][23]|82))4\\d{5}|9(?:2(?:2(?:57|81)|3(?:24|46|92)|9(?:01|23|64))|3(?:329|4(?:42|71)|5(?:25|37|4[347]|71)|7(?:18|5[17])|888))[3-6]\\d{5}|9(?:2(?:2(?:02|2[3467]|4[156]|5[45]|6[6-8]|91)|3(?:1[47]|[24]5|5[25]|96)|47[48]|625|932)|3(?:38[2578]|4(?:0[0-24-9]|3[78]|4[457]|58|6[03-9]|72|83|9[136-8])|5(?:2[124]|[368][23]|4[2689]|7[2-6])|7(?:16|2[15]|3[145]|4[13]|5[468]|7[2-5]|8[26])|8(?:2[5-7]|3[278]|4[3-5]|5[78]|6[1-378]|[78]7|94)))[4-6]\\d{5}",
,,,"91123456789",,,,[6,7,8]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"60[04579]\\d{7}",,,,"6001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AR",54,"00","0",,,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?",
"9$1",,,[[,"(\\d{3})","$1",["[09]|1(?:[02]|1[02-5])"]],[,"(\\d{2})(\\d{4})","$1-$2",["[2-7]|8[0-7]"]],[,"(\\d{3})(\\d{4})","$1-$2",["[2-7]|8[013-8]"]],[,"(\\d{4})(\\d{4})","$1-$2",["2[0-8]|[3-7]"]],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)",
"2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5(?:[24-6]|3[2-5]))|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],
"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],[,"(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)",
"9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5(?:[24-6]|3[2-5]))|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],
"0$1"],[,"(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1"],[,"(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1"]],[[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]",
"2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5(?:[24-6]|3[2-5]))|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",,
1],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],[,"(\\d)(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]",
"9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5(?:[24-6]|3[2-5]))|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"]],[,"(\\d)(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3-$4",["91"]],[,"(\\d)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3-$4",["9"]]],
[,,,,,,,,,[-1]],,,[,,"810\\d{7}",,,,,,,[10]],[,,"810\\d{7}",,,,"8101234567",,,[10]],,,[,,,,,,,,,[-1]]],AS:[,[,,"(?:[58]\\d\\d|684|900)\\d{7}",,,,,,,[10],[7]],[,,"6846(?:22|33|44|55|77|88|9[19])\\d{4}",,,,"6846221234",,,,[7]],[,,"684(?:2(?:5[2468]|72)|7(?:3[13]|70))\\d{4}",,,,"6847331234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"AS",1,"011","1",
,,"1|([267]\\d{6})$","684$1",,,,,[,,,,,,,,,[-1]],,"684",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AT:[,[,,"1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",,,,,,,[4,5,6,7,8,9,10,11,12,13],[3]],[,,"1(?:11\\d|[2-9]\\d{3,11})|(?:316|463|(?:51|66|73)2)\\d{3,10}|(?:2(?:1[467]|2[13-8]|5[2357]|6[1-46-8]|7[1-8]|8[124-7]|9[1458])|3(?:1[1-578]|3[23568]|4[5-7]|5[1378]|6[1-38]|8[3-68])|4(?:2[1-8]|35|7[1368]|8[2457])|5(?:2[1-8]|3[357]|4[147]|5[12578]|6[37])|6(?:13|2[1-47]|4[135-8]|5[468])|7(?:2[1-8]|35|4[13478]|5[68]|6[16-8]|7[1-6]|9[45]))\\d{4,10}",
,,,"1234567890",,,,[3]],[,,"6(?:5[0-3579]|6[013-9]|[7-9]\\d)\\d{4,10}",,,,"664123456",,,[7,8,9,10,11,12,13]],[,,"800\\d{6,10}",,,,"800123456",,,[9,10,11,12,13]],[,,"9(?:0[01]|3[019])\\d{6,10}",,,,"900123456",,,[9,10,11,12,13]],[,,"8(?:10|2[018])\\d{6,10}|828\\d{5}",,,,"810123456",,,[8,9,10,11,12,13]],[,,,,,,,,,[-1]],[,,"5(?:0[1-9]|17|[79]\\d)\\d{2,10}|7[28]0\\d{6,10}",,,,"780123456",,,[5,6,7,8,9,10,11,12,13]],"AT",43,"00","0",,,"0",,,,[[,"(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],[,"(\\d{3})(\\d{2})",
"$1 $2",["517"],"0$1"],[,"(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],[,"(\\d{6})","$1",["1"]],[,"(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],[,"(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],[[,"(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],[,"(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],[,"(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],
"0$1"],[,"(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],[,"(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AU:[,[,,"1\\d{4,9}|(?:[2-478]\\d\\d|550)\\d{6}",,,,,,,[5,6,7,8,9,10]],[,,"(?:[237]\\d{5}|8(?:51(?:0(?:0[03-9]|[1247]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-6])|1(?:1[69]|[23]\\d|4[0-4]))|(?:[6-8]\\d{3}|9(?:[02-9]\\d\\d|1(?:[0-57-9]\\d|6[0135-9])))\\d))\\d{3}",
,,,"212345678",,,[9],[8]],[,,"4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[0-2457-9]|9[017-9])\\d{6}",,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"190[0-26]\\d{6}",,,,"1900123456",,,[10]],[,,"13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",,,,"1300123456",,,[6,8,10]],[,,,,,,,,,[-1]],[,,"1471\\d{5}|(?:145|550)\\d{6}",,,,"550123456",,,[9]],"AU",61,"001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","0",,,"0",,"0011",,[[,"(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})",
"$1 $2 $3",["13"]],[,"(\\d{3})(\\d{3})","$1 $2",["19"]],[,"(\\d{3})(\\d{4})","$1 $2",["180","1802"]],[,"(\\d{4})(\\d{3,4})","$1 $2",["19"]],[,"(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|[45]"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],[[,"(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})",
"$1 $2 $3",["14|[45]"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],[,,"16\\d{3,7}",,,,"1612345",,,[5,6,7,8,9]],1,,[,,"1[38]00\\d{6}|1(?:345[0-4]|802)\\d{3}|13\\d{4}",,,,,,,[6,7,8,10]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AW:[,[,,"(?:[25-79]\\d\\d|800)\\d{4}",,,,,,,[7]],[,,"5(?:2\\d|8[1-9])\\d{4}",,,,"5212345"],[,,"(?:290|5[69]\\d|6(?:[03]0|22|4[0-2]|[69]\\d)|7(?:[34]\\d|7[07])|9(?:6[45]|9[4-8]))\\d{4}",,,,"5601234"],[,,"800\\d{4}",
,,,"8001234"],[,,"900\\d{4}",,,,"9001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:28\\d|501)\\d{4}",,,,"5011234"],"AW",297,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],AX:[,[,,"2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|(?:[147]\\d|3[0-46-9]|50)\\d{4,8}",,,,,,,[5,6,7,8,9,10]],[,,"18[1-8]\\d{3,6}",,,,"181234567",,,[6,7,8,9]],[,,"(?:4[0-8]|50)\\d{4,8}",,,,"412345678",,,[6,7,8,9,10]],[,,"800\\d{4,6}",,,,"800123456",,,
[7,8,9]],[,,"[67]00\\d{5,6}",,,,"600123456",,,[8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AX",358,"00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","0",,,"0",,"00",,,,[,,,,,,,,,[-1]],,"18",[,,,,,,,,,[-1]],[,,"(?:10|[23][09])\\d{4,8}|60(?:[12]\\d{5,6}|6\\d{7})|7(?:(?:1|3\\d)\\d{7}|5[03-9]\\d{3,7})|20[2-59]\\d\\d",,,,"10112345"],,,[,,,,,,,,,[-1]]],AZ:[,[,,"(?:365\\d{3}|900200)\\d{3}|(?:[12457]\\d|60|88)\\d{7}",,,,,,,[9],[7]],[,,"365(?:[0-46-9]\\d|5[0-35-9])\\d{4}|(?:1[28]\\d|2(?:[045]2|1[24]|2[2-4]|33|6[23]))\\d{6}",
,,,"123123456",,,,[7]],[,,"36554\\d{4}|(?:4[04]|5[015]|60|7[07])\\d{7}",,,,"401234567"],[,,"88\\d{7}",,,,"881234567"],[,,"900200\\d{3}",,,,"900200123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"AZ",994,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[1-9]"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[12]|365","[12]|365","[12]|365(?:[0-46-9]|5[0-35-9])"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",
["[3-8]"],"0$1"]],[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[12]|365","[12]|365","[12]|365(?:[0-46-9]|5[0-35-9])"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[3-8]"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BA:[,[,,"6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",,,,,,,[8,9],[6]],[,,"(?:3(?:[05-79][2-9]|1[4579]|[23][24-9]|4[2-4689]|8[2457-9])|49[2-579]|5(?:0[2-49]|[13][2-9]|[268][2-4679]|4[4689]|5[2-79]|7[2-69]|9[2-4689]))\\d{5}",
,,,"30212345",,,[8],[6]],[,,"6(?:0(?:3\\d|40)|[1-356]\\d|44[0-6]|71[137])\\d{5}",,,,"61123456"],[,,"8[08]\\d{6}",,,,"80123456",,,[8]],[,,"9[0246]\\d{6}",,,,"90123456",,,[8]],[,,"8[12]\\d{6}",,,,"82123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BA",387,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})","$1-$2",["[2-9]"]],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-356]|[7-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],[[,
"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-356]|[7-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"70(?:3[0146]|[56]0)\\d{4}",,,,"70341234",,,[8]],,,[,,,,,,,,,[-1]]],BB:[,[,,"(?:246|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"246(?:2(?:2[78]|7[0-4])|4(?:1[024-6]|2\\d|3[2-9])|5(?:20|[34]\\d|54|7[1-3])|6(?:2\\d|38)|7[35]7|9(?:1[89]|63))\\d{4}",,,,"2464123456",,,,[7]],[,,"246(?:2(?:[356]\\d|4[0-57-9]|8[0-79])|45\\d|69[5-7]|8(?:[2-5]\\d|83))\\d{4}",
,,,"2462501234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"(?:246976|900[2-9]\\d\\d)\\d{4}",,,,"9002123456",,,,[7]],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,"24631\\d{5}",,,,"2463101234",,,,[7]],"BB",1,"011","1",,,"1|([2-9]\\d{6})$","246$1",,,,,[,,,,,,,,,[-1]],,"246",[,,,,,,,,,[-1]],[,,"246(?:292|367|4(?:1[7-9]|3[01]|44|67)|7(?:36|53))\\d{4}",,,,"2464301234",,,,[7]],,,[,,,,,,,,,[-1]]],BD:[,[,,"[13469]\\d{9}|8[0-79]\\d{7,8}|[2-7]\\d{8}|[2-9]\\d{7}|[3-689]\\d{6}|[57-9]\\d{5}",
,,,,,,[6,7,8,9,10]],[,,"(?:3(?:03[56]|224)|4(?:22[25]|653))\\d{3,4}|(?:4(?:31\\d\\d|[46]23)|5(?:222|32[37]))\\d{3}(?:\\d{2})?|(?:3(?:42[47]|529|823)|4(?:027|525|658)|(?:56|73)2|6257|9[35]1)\\d{3}|(?:3(?:02[348]|22[35]|324|422)|4(?:22[67]|32[236-9]|6(?:2[46]|5[57])|953)|5526|6(?:024|6655)|81)\\d{4,5}|(?:2(?:7(?:1[0-267]|2[0-289]|3[0-29]|4[01]|5[1-3]|6[013]|7[0178]|91)|8(?:0[125]|[13][1-6]|2[0157-9]|41|6[1-35]|7[1-5]|8[1-8]|9[0-6])|9(?:0[0-2]|1[0-4]|2[568]|3[3-6]|5[5-7]|6[01367]|7[15]|8[0146-9]))|3(?:0(?:2[025-79]|3[2-4])|22[12]|32[2356]|824)|4(?:02[09]|22[348]|32[045]|523|6(?:27|54))|666(?:22|53)|8(?:4[12]|[5-7]2)|9(?:[024]2|81))\\d{4}|(?:2[45]\\d\\d|3(?:1(?:2[5-7]|[5-7])|425|822)|4(?:033|1\\d|[257]1|332|4(?:2[246]|5[25])|6(?:25|56|62)|8(?:23|54)|92[2-5])|5(?:02[03489]|22[457]|32[569]|42[46]|6(?:[18]|53)|724|826)|6(?:023|2(?:2[2-5]|5[3-5]|8)|32[3478]|42[34]|52[47]|6(?:[18]|6(?:2[34]|5[24]))|[78]2[2-5]|92[2-6])|7(?:02|21\\d|[3-589]1|6[12]|72[24])|8(?:0|217|3[12]|[5-7]1)|9[24]1)\\d{5}|(?:(?:3[2-8]|5[2-57-9]|6[03-589])1|4[4689][18])\\d{5}|[59]1\\d{5}",
,,,"27111234"],[,,"(?:1[13-9]\\d|644)\\d{7}|(?:3[78]|44|66)[02-9]\\d{7}",,,,"1812345678",,,[10]],[,,"80[03]\\d{7}",,,,"8001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"96(?:0[469]|1[0-47]|3[389]|6[69]|7[78])\\d{6}",,,,"9604123456",,,[10]],"BD",880,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{4,6})","$1-$2",["31[5-7]|[459]1"],"0$1"],[,"(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:28|4[14]|5)|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],
"0$1"],[,"(\\d{4})(\\d{3,6})","$1-$2",["[13-9]"],"0$1"],[,"(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BE:[,[,,"4\\d{8}|[1-9]\\d{7}",,,,,,,[8,9]],[,,"80[2-8]\\d{5}|(?:1[0-69]|[23][2-8]|4[23]|5\\d|6[013-57-9]|71|8[1-79]|9[2-4])\\d{6}",,,,"12345678",,,[8]],[,,"4(?:5[56]|6[0135-8]|[79]\\d|8[3-9])\\d{6}",,,,"470123456",,,[9]],[,,"800[1-9]\\d{4}",,,,"80012345",,,[8]],[,,"(?:70(?:2[0-57]|3[0457]|44|69|7[0579])|90(?:0[0-35-8]|1[36]|2[0-3568]|3[0135689]|4[2-68]|5[1-68]|6[0-378]|7[23568]|9[34679]))\\d{4}",
,,,"90012345",,,[8]],[,,"7879\\d{4}",,,,"78791234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BE",32,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"78(?:0[57]|1[0458]|2[25]|3[5-8]|48|[56]0|7[078])\\d{4}",,,,"78102345",,,[8]],,,
[,,,,,,,,,[-1]]],BF:[,[,,"[25-7]\\d{7}",,,,,,,[8]],[,,"2(?:0(?:49|5[23]|6[56]|9[016-9])|4(?:4[569]|5[4-6]|6[56]|7[0179])|5(?:[34]\\d|50|6[5-7]))\\d{4}",,,,"20491234"],[,,"(?:5[124-8]|[67]\\d)\\d{6}",,,,"70123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BF",226,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[25-7]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BG:[,[,,"[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",,,,,,,
[6,7,8,9],[4,5]],[,,"2\\d{5,7}|(?:43[1-6]|70[1-9])\\d{4,5}|(?:[36]\\d|4[124-7]|[57][1-9]|8[1-6]|9[1-7])\\d{5,6}",,,,"2123456",,,[6,7,8],[4,5]],[,,"43[07-9]\\d{5}|(?:48|8[7-9]\\d|9(?:8\\d|9[69]))\\d{6}",,,,"48123456",,,[8,9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"90\\d{6}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,"700\\d{5}",,,,"70012345",,,[8]],[,,,,,,,,,[-1]],"BG",359,"00","0",,,"0",,,,[[,"(\\d{6})","$1",["1"]],[,"(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",
["43[1-6]|70[1-9]"],"0$1"],[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],[[,"(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],
"0$1"],[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BH:[,[,,"[136-9]\\d{7}",,,,,,,[8]],[,,"(?:1(?:3[1356]|6[0156]|7\\d)\\d|6(?:1[16]\\d|500|6(?:0\\d|3[12]|44|7[7-9])|9[69][69])|7(?:1(?:11|78)|7\\d\\d))\\d{4}",
,,,"17001234"],[,,"(?:3(?:[1-4679]\\d|5[013-69]|8[0-47-9])\\d|6(?:3(?:00|33|6[16])|6(?:3[03-9]|[69]\\d|7[0-6])))\\d{4}",,,,"36001234"],[,,"80\\d{6}",,,,"80123456"],[,,"(?:87|9[014578])\\d{6}",,,,"90123456"],[,,"84\\d{6}",,,,"84123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BH",973,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[13679]|8[047]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BI:[,[,,"(?:[267]\\d|31)\\d{6}",,,,,,,[8]],[,,"22\\d{6}",,,,"22201234"],[,,"(?:29|31|6[189]|7[125-9])\\d{6}",
,,,"79561234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BI",257,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BJ:[,[,,"[2689]\\d{7}",,,,,,,[8]],[,,"2(?:02|1[037]|2[45]|3[68])\\d{5}",,,,"20211234"],[,,"(?:6\\d|9[03-9])\\d{6}",,,,"90011234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"857[58]\\d{4}",,,,"85751234"],"BJ",229,"00",,,,,,,,[[,
"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"81\\d{6}",,,,"81123456"],,,[,,,,,,,,,[-1]]],BL:[,[,,"(?:590|69\\d)\\d{6}",,,,,,,[9]],[,,"590(?:2[7-9]|5[12]|87)\\d{4}",,,,"590271234"],[,,"69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BL",590,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BM:[,[,,"(?:441|[58]\\d\\d|900)\\d{7}",
,,,,,,[10],[7]],[,,"441(?:2(?:02|23|[3479]\\d|61)|[46]\\d\\d|5(?:4\\d|60|89)|824)\\d{4}",,,,"4412345678",,,,[7]],[,,"441(?:[37]\\d|5[0-39])\\d{5}",,,,"4413701234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"BM",1,"011","1",,,"1|([2-8]\\d{6})$","441$1",,,,,[,,,,,,,,,[-1]],,"441",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BN:[,[,,"[2-578]\\d{6}",
,,,,,,[7]],[,,"22[0-7]\\d{4}|(?:2[013-9]|[3-5]\\d)\\d{5}",,,,"2345678"],[,,"(?:22[89]|[78]\\d\\d)\\d{4}",,,,"7123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BN",673,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BO:[,[,,"(?:[2-467]\\d{3}|80017)\\d{4}",,,,,,,[8,9],[7]],[,,"(?:2(?:2\\d\\d|5(?:11|[258]\\d|9[67])|6(?:12|2\\d|9[34])|8(?:2[34]|39|62))|3(?:3\\d\\d|4(?:6\\d|8[24])|8(?:25|42|5[257]|86|9[25])|9(?:[27]\\d|3[2-4]|4[248]|5[24]|6[2-6]))|4(?:4\\d\\d|6(?:11|[24689]\\d|72)))\\d{4}",
,,,"22123456",,,[8],[7]],[,,"[67]\\d{7}",,,,"71234567",,,[8]],[,,"80017\\d{4}",,,,"800171234",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BO",591,"00(?:1\\d)?","0",,,"0(1\\d)?",,,,[[,"(\\d)(\\d{7})","$1 $2",["[23]|4[46]"],,"0$CC $1"],[,"(\\d{8})","$1",["[67]"],,"0$CC $1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"],,"0$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BQ:[,[,,"(?:[34]1|7\\d)\\d{5}",,,,,,,[7]],[,,"(?:318[023]|41(?:6[023]|70)|7(?:1[578]|50)\\d)\\d{3}",
,,,"7151234"],[,,"(?:31(?:8[14-8]|9[14578])|416[14-9]|7(?:0[01]|7[07]|8\\d|9[056])\\d)\\d{3}",,,,"3181234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BQ",599,"00",,,,,,,,,,[,,,,,,,,,[-1]],,"[347]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BR:[,[,,"(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-24679]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",,,,,,,[8,9,10,11]],[,,"(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-5]\\d{7}",,,,"1123456789",,,[10],[8]],
[,,"(?:[189][1-9]|2[12478])(?:7|9\\d)\\d{7}|(?:3[1-578]|[46][1-9]|5[13-5]|7[13-579])(?:[6-8]\\d{7}|9\\d{7,8})",,,,"11961234567",,,[10,11],[8,9]],[,,"800\\d{6,7}",,,,"800123456",,,[9,10]],[,,"300\\d{6}|[59]00\\d{6,7}",,,,"300123456",,,[9,10]],[,,"300\\d{7}|[34]00\\d{5}|4(?:02|37)0\\d{4}",,,,"40041234",,,[8,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BR",55,"00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","0",,,"0(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2",,,[[,"(\\d{3,5})","$1",["1(?:1[25-8]|2[357-9]|3[02-68]|4[12568]|5|6[0-8]|8[015]|9[0-47-9])"]],
[,"(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],[,"(\\d{4})(\\d{4})","$1-$2",["[2-9]","[235-9]|4(?:[0-24-9]|3(?:[0-689]|7[1-9]))"]],[,"(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],[,"(\\d{5})(\\d{4})","$1-$2",["9"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[189][1-9]|2[12478])[2-57]|[3-7]"],"($1)","0 $CC ($1)"],[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["1[1-9]|[2-9]"],"($1)","0 $CC ($1)"]],[[,"(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],
[,"(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[189][1-9]|2[12478])[2-57]|[3-7]"],"($1)","0 $CC ($1)"],[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["1[1-9]|[2-9]"],"($1)","0 $CC ($1)"]],[,,,,,,,,,[-1]],,,[,,"4020\\d{4}|[34]00\\d{5}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BS:[,[,,"(?:242|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"242(?:3(?:02|[236][1-9]|4[0-24-9]|5[0-68]|7[347]|8[0-4]|9[2-467])|461|502|6(?:0[1-4]|12|2[013]|[45]0|7[67]|8[78]|9[89])|7(?:02|88))\\d{4}",
,,,"2423456789",,,,[7]],[,,"242(?:3(?:5[79]|7[56]|95)|4(?:[23][1-9]|4[1-35-9]|5[1-8]|6[2-8]|7\\d|81)|5(?:2[45]|3[35]|44|5[1-46-9]|65|77)|6[34]6|7(?:27|38)|8(?:0[1-9]|1[02-9]|2\\d|[89]9))\\d{4}",,,,"2423591234",,,,[7]],[,,"242300\\d{4}|8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456",,,,[7]],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"BS",1,"011","1",,,"1|([3-8]\\d{6})$","242$1",,,,,[,,,,,,,,,[-1]],,"242",
[,,,,,,,,,[-1]],[,,"242225[0-46-9]\\d{3}",,,,"2422250123"],,,[,,,,,,,,,[-1]]],BT:[,[,,"[17]\\d{7}|[2-8]\\d{6}",,,,,,,[7,8],[6]],[,,"(?:2[3-6]|[34][5-7]|5[236]|6[2-46]|7[246]|8[2-4])\\d{5}",,,,"2345678",,,[7],[6]],[,,"(?:1[67]|77)\\d{6}",,,,"17123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BT",975,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1 $2",["[2-7]"]],[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",
["1[67]|7"]]],[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BW:[,[,,"90\\d{5}|(?:[2-6]|7\\d)\\d{6}",,,,,,,[7,8]],[,,"(?:2(?:4[0-48]|6[0-24]|9[0578])|3(?:1[0-35-9]|55|[69]\\d|7[01])|4(?:6[03]|7[1267]|9[0-5])|5(?:3[0389]|4[0489]|7[1-47]|88|9[0-49])|6(?:2[1-35]|5[149]|8[067]))\\d{4}",,,,"2401234",,,[7]],[,,"77200\\d{3}|7(?:[1-6]\\d|7[014-8])\\d{5}",,,,"71123456",
,,[8]],[,,,,,,,,,[-1]],[,,"90\\d{5}",,,,"9012345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"79(?:1(?:[01]\\d|20)|2[0-2]\\d)\\d{3}",,,,"79101234",,,[8]],"BW",267,"00",,,,,,,,[[,"(\\d{2})(\\d{5})","$1 $2",["90"]],[,"(\\d{3})(\\d{4})","$1 $2",["[2-6]"]],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["7"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BY:[,[,,"(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",
,,,,,,[6,7,8,9,10,11],[5]],[,,"(?:1(?:5(?:1[1-5]|[24]\\d|6[2-4]|9[1-7])|6(?:[235]\\d|4[1-7])|7\\d\\d)|2(?:1(?:[246]\\d|3[0-35-9]|5[1-9])|2(?:[235]\\d|4[0-8])|3(?:[26]\\d|3[02-79]|4[024-7]|5[03-7])))\\d{5}",,,,"152450911",,,[9],[5,6,7]],[,,"(?:2(?:5[5-79]|9[1-9])|(?:33|44)\\d)\\d{6}",,,,"294911911",,,[9]],[,,"800\\d{3,7}|8(?:0[13]|20\\d)\\d{7}",,,,"8011234567"],[,,"(?:810|902)\\d{7}",,,,"9021234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"249\\d{6}",,,,"249123456",,,[9]],"BY",375,"810","8",,,"0|80?",
,"8~10",,[[,"(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],[,"(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],[,"(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],[,"(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",
["[89]"],"8 $1"]],,[,,,,,,,,,[-1]],,,[,,"800\\d{3,7}|(?:8(?:0[13]|10|20\\d)|902)\\d{7}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],BZ:[,[,,"(?:0800\\d|[2-8])\\d{6}",,,,,,,[7,11]],[,,"(?:236|732)\\d{4}|[2-578][02]\\d{5}",,,,"2221234",,,[7]],[,,"6[0-35-7]\\d{5}",,,,"6221234",,,[7]],[,,"0800\\d{7}",,,,"08001234123",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"BZ",501,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],[,"(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]],,[,,
,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CA:[,[,,"(?:[2-8]\\d|90)\\d{8}",,,,,,,[10],[7]],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:04|13|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",,,,"5062345678",,,,[7]],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:04|13|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",,,,"5062345678",,,,[7]],
[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"(?:5(?:00|2[12]|33|44|66|77|88)|622)[2-9]\\d{6}",,,,"5002345678"],[,,"600[2-9]\\d{6}",,,,"6002012345"],"CA",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CC:[,[,,"1\\d{5,9}|(?:[48]\\d\\d|550)\\d{6}",,,,,,,[6,7,8,9,10]],[,,"8(?:51(?:0(?:02|31|60)|118)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",
,,,"891621234",,,[9],[8]],[,,"4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[0-2457-9]|9[017-9])\\d{6}",,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"190[0-26]\\d{6}",,,,"1900123456",,,[10]],[,,"13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",,,,"1300123456",,,[6,8,10]],[,,,,,,,,,[-1]],[,,"1471\\d{5}|(?:145|550)\\d{6}",,,,"550123456",,,[9]],"CC",61,"001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","0",,,"0|([59]\\d{7})$","8$1","0011",,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],
[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CD:[,[,,"[189]\\d{8}|[1-68]\\d{6}",,,,,,,[7,9]],[,,"12\\d{7}|[1-6]\\d{6}",,,,"1234567"],[,,"88\\d{5}|(?:8[0-2459]|9[017-9])\\d{7}",,,,"991234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CD",243,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],[,"(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],,
[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CF:[,[,,"(?:[27]\\d{3}|8776)\\d{4}",,,,,,,[8]],[,,"2[12]\\d{6}",,,,"21612345"],[,,"7[0257]\\d{6}",,,,"70012345"],[,,,,,,,,,[-1]],[,,"8776\\d{4}",,,,"87761234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CF",236,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CG:[,[,,"222\\d{6}|(?:0\\d|80)\\d{7}",,,,,,,[9]],[,,"222[1-589]\\d{5}",
,,,"222123456"],[,,"0[14-6]\\d{7}",,,,"061234567"],[,,,,,,,,,[-1]],[,,"80(?:0\\d\\d|11[0-4])\\d{4}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CG",242,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["801"]],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CH:[,[,,"8\\d{11}|[2-9]\\d{8}",,,,,,,[9,12]],[,,"(?:2[12467]|3[1-4]|4[134]|5[256]|6[12]|[7-9]1)\\d{7}",
,,,"212345678",,,[9]],[,,"7[35-9]\\d{7}",,,,"781234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"90[016]\\d{6}",,,,"900123456",,,[9]],[,,"84[0248]\\d{6}",,,,"840123456",,,[9]],[,,"878\\d{6}",,,,"878123456",,,[9]],[,,,,,,,,,[-1]],"CH",41,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],,[,,"74[0248]\\d{6}",,,,"740123456",
,,[9]],,,[,,,,,,,,,[-1]],[,,"5[18]\\d{7}",,,,"581234567",,,[9]],,,[,,"860\\d{9}",,,,"860123456789",,,[12]]],CI:[,[,,"[02-8]\\d{7}",,,,,,,[8]],[,,"(?:2(?:0[023]|1[02357]|[23][045]|4[03-5])|3(?:0[06]|1[069]|[2-4][07]|5[09]|6[08]))\\d{5}",,,,"21234567"],[,,"(?:[07][1-9]|[45]\\d|6[014-9]|8[4-9])\\d{6}",,,,"01234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CI",225,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[02-8]"]]],,[,,,,,,,,,[-1]],,,[,
,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CK:[,[,,"[2-8]\\d{4}",,,,,,,[5]],[,,"(?:2\\d|3[13-7]|4[1-5])\\d{3}",,,,"21234"],[,,"[5-8]\\d{4}",,,,"71234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CK",682,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1 $2",["[2-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CL:[,[,,"1230\\d{7}|6\\d{9,10}|[2-9]\\d{8}",,,,,,,[9,10,11]],[,,"21962\\d{4}|(?:232[0-46-8]|80[1-9]\\d)\\d{5}|(?:22|3[2-5]|[47][1-35]|5[1-3578]|6[13-57]|8[1-9]|9[2-9])\\d{7}",
,,,"221234567",,,[9]],[,,"21962\\d{4}|(?:232[0-46-8]|80[1-9]\\d)\\d{5}|(?:22|3[2-5]|[47][1-35]|5[1-3578]|6[13-57]|8[1-9]|9[2-9])\\d{7}",,,,"221234567",,,[9]],[,,"(?:1230\\d|800)\\d{6}",,,,"800123456",,,[9,11]],[,,,,,,,,,[-1]],[,,"600\\d{7,8}",,,,"6001234567",,,[10,11]],[,,,,,,,,,[-1]],[,,"44\\d{7}",,,,"441234567",,,[9]],"CL",56,"(?:0|1(?:1[0-69]|2[0-57]|5[13-58]|69|7[0167]|8[018]))0",,,,,,,1,[[,"(\\d{4})","$1",["1(?:[03-589]|21)|[29]0|78"]],[,"(\\d{5})(\\d{4})","$1 $2",["21"],"($1)"],[,"(\\d{2})(\\d{3})(\\d{4})",
"$1 $2 $3",["44"]],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[23]"],"($1)"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]],[[,"(\\d{5})(\\d{4})","$1 $2",["21"],"($1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],[,"(\\d)(\\d{4})(\\d{4})",
"$1 $2 $3",["2[23]"],"($1)"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]],[,,,,,,,,,[-1]],,,[,,"600\\d{7,8}",,,,,,,[10,11]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CM:[,[,,"(?:[26]\\d\\d|88)\\d{6}",,,,,,,[8,9]],[,,"2(?:22|33|4[23])\\d{6}",,,,
"222123456",,,[9]],[,,"6[5-9]\\d{7}",,,,"671234567",,,[9]],[,,"88\\d{6}",,,,"88012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CM",237,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],[,"(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CN:[,[,,"1[1279]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-68]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",
,,,,,,[7,8,9,10,11,12],[5,6]],[,,"(?:10(?:[02-79]\\d\\d|[18](?:0[1-9]|[1-9]\\d))|21(?:[18](?:0[1-9]|[1-9]\\d)|[2-79]\\d\\d))\\d{5}|(?:43[35]|754|851)\\d{7,8}|(?:10|(?:2|85)1|43[35]|754)(?:100\\d\\d|95\\d{3,4})|(?:2[02-57-9]|3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1\\d|2[37]|3[12]|51|7[13-79]|9[15])|7(?:[39]1|5[57]|6[09])|8(?:71|98))(?:[02-8]\\d{7}|1(?:0(?:0\\d\\d(?:\\d{3})?|[1-9]\\d{5})|[1-9]\\d{6})|9(?:[0-46-9]\\d{6}|5\\d{3}(?:\\d(?:\\d{2})?)?))|(?:3(?:1[02-9]|35|49|5\\d|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|3[46-9]|5[2-9]|6[47-9]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[17]\\d|2[248]|3[04-9]|4[3-6]|5[0-3689]|6[2368]|9[02-9])|8(?:078|1[236-8]|2[5-7]|3\\d|5[2-9]|7[02-9]|8[36-8]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:[02-8]\\d{6}|1(?:0(?:0\\d\\d(?:\\d{2})?|[1-9]\\d{4})|[1-9]\\d{5})|9(?:[0-46-9]\\d{5}|5\\d{3,5}))",
,,,"1012345678",,,[7,8,9,10,11],[5,6]],[,,"1740[0-5]\\d{6}|1(?:[38]\\d|4[57]|5[0-35-9]|6[25-7]|7[0-35-8]|9[189])\\d{8}",,,,"13123456789",,,[11]],[,,"(?:(?:10|21)8|8)00\\d{7}",,,,"8001234567",,,[10,12]],[,,"16[08]\\d{5}",,,,"16812345",,,[8]],[,,"400\\d{7}|950\\d{7,8}|(?:10|2[0-57-9]|3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))96\\d{3,4}",
,,,"4001234567",,,[7,8,9,10,11],[5,6]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CN",86,"00|1(?:[12]\\d|79|9[0-7])\\d\\d00","0",,,"0|(1(?:[12]\\d|79|9[0-7])\\d\\d)",,"00",,[[,"(\\d{5,6})","$1",["96"]],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","(?:10|2[0-57-9])(?:100|9[56])"],"0$1","$CC $1"],[,"(\\d{3})(\\d{4})","$1 $2",["[1-9]","1[1-9]|26|[3-9]|(?:10|2[0-57-9])(?:[0-8]|9[0-47-9])","1[1-9]|26|[3-9]|(?:10|2[0-57-9])(?:[02-8]|1(?:0[1-9]|[1-9])|9[0-47-9])"]],[,"(\\d{4})(\\d{4})",
"$1 $2",["16[08]"]],[,"(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]",
"85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],
"0$1","$CC $1"],[,"(\\d{4})(\\d{4})","$1 $2",["[1-9]","1[1-9]|26|[3-9]|(?:10|2[0-57-9])(?:[0-8]|9[0-47-9])","26|3(?:[0268]|9[079])|4(?:[049]|2[02-68]|[35]0|6[0-356]|8[014-9])|5(?:0|2[0-24-689]|4[0-2457-9]|6[057-9]|90)|6(?:[0-24578]|6[14-79]|9[03-9])|7(?:0[02-9]|2[0135-79]|3[23]|4[0-27-9]|6[1457]|8)|8(?:[046]|1[01459]|2[0-489]|50|8[0-2459]|9[09])|9(?:0[0457]|1[08]|[268]|4[024-9])|(?:34|85[23])[0-8]|(?:1|58)[1-9]|(?:63|95)[06-9]|(?:33|85[23]9)[0-46-9]|(?:10|2[0-57-9]|3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:[0-8]|9[0-47-9])",
"26|3(?:[0268]|3[0-46-9]|4[0-8]|9[079])|4(?:[049]|2[02-68]|[35]0|6[0-356]|8[014-9])|5(?:0|2[0-24-689]|4[0-2457-9]|6[057-9]|90)|6(?:[0-24578]|3[06-9]|6[14-79]|9[03-9])|7(?:0[02-9]|2[0135-79]|3[23]|4[0-27-9]|6[1457]|8)|8(?:[046]|1[01459]|2[0-489]|5(?:0|[23](?:[02-8]|1[1-9]|9[0-46-9]))|8[0-2459]|9[09])|9(?:0[0457]|1[08]|[268]|4[024-9]|5[06-9])|(?:1|58|85[23]10)[1-9]|(?:10|2[0-57-9])(?:[0-8]|9[0-47-9])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:[02-8]|1(?:0[1-9]|[1-9])|9[0-47-9])"]],
[,"(\\d{4})(\\d{5,6})","$1 $2",["807","8078","8078[19]","8078(?:10|95)","8078(?:100|95)"],"0$1","$CC $1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],
"0$1","$CC $1",1],[,"(\\d{3})(\\d{7,8})","$1 $2",["9"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"],,"$CC $1"],[,"(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",,1]],[[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","(?:10|2[0-57-9])(?:100|9[56])"],"0$1","$CC $1"],[,"(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]",
"(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])",
"85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1","$CC $1"],[,"(\\d{4})(\\d{5,6})","$1 $2",["807","8078","8078[19]","8078(?:10|95)","8078(?:100|95)"],"0$1","$CC $1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],
[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{7,8})","$1 $2",["9"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",
["80"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"],,"$CC $1"],[,"(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",,1]],[,,,,,,,,,[-1]],,,[,,"(?:(?:10|21)8|[48])00\\d{7}|950\\d{7,8}",,,,,,,[10,11,12]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CO:[,[,,"(?:1\\d|3)\\d{9}|[124-8]\\d{7}",,,,,,,[8,10,11],[7]],[,,"[124-8][2-9]\\d{6}",,,,"12345678",,,[8],[7]],[,,"3(?:0[0-5]|1\\d|2[0-3]|5[01])\\d{7}",,,,"3211234567",
,,[10]],[,,"1800\\d{7}",,,,"18001234567",,,[11]],[,,"19(?:0[01]|4[78])\\d{7}",,,,"19001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CO",57,"00(?:4(?:[14]4|56)|[579])","0",,,"0([3579]|4(?:[14]4|56))?",,,,[[,"(\\d)(\\d{7})","$1 $2",["1[2-79]|[25-8]|(?:18|4)[2-9]"],"($1)","0$CC $1"],[,"(\\d{3})(\\d{7})","$1 $2",["3"],,"0$CC $1"],[,"(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1(?:80|9)","1(?:800|9)"],"0$1"]],[[,"(\\d)(\\d{7})","$1 $2",["1[2-79]|[25-8]|(?:18|4)[2-9]"],"($1)","0$CC $1"],[,"(\\d{3})(\\d{7})",
"$1 $2",["3"],,"0$CC $1"],[,"(\\d)(\\d{3})(\\d{7})","$1 $2 $3",["1(?:80|9)","1(?:800|9)"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CR:[,[,,"(?:8\\d|90)\\d{8}|[24-8]\\d{7}",,,,,,,[8,10]],[,,"210[7-9]\\d{4}|2(?:[024-7]\\d|1[1-9])\\d{5}",,,,"22123456",,,[8]],[,,"6500[01]\\d{3}|5(?:0[01]|7[0-3])\\d{5}|(?:6[0-4]|7[0-3]|8[3-9])\\d{6}",,,,"83123456",,,[8]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"90[059]\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:210[0-6]|4\\d{3}|5100)\\d{4}",
,,,"40001234",,,[8]],"CR",506,"00",,,,"(19(?:0[0-2468]|1[09]|20|66|77|99))",,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[24-7]|8[3-9]"],,"$CC $1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CU:[,[,,"[27]\\d{6,7}|[34]\\d{5,7}|5\\d{7}",,,,,,,[6,7,8],[4,5]],[,,"(?:3[23]|4[78])\\d{4,6}|(?:31|4[36])\\d{6}|(?:2[1-4]|4[125]|7\\d)\\d{5,6}",,,,"71234567",,,,[4,5]],[,,"5\\d{7}",,,,"51234567",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],
[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"CU",53,"119","0",,,"0",,,,[[,"(\\d{2})(\\d{4,6})","$1 $2",["[2-4]"],"(0$1)"],[,"(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],[,"(\\d)(\\d{7})","$1 $2",["5"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CV:[,[,,"[2-59]\\d{6}",,,,,,,[7]],[,,"2(?:2[1-7]|3[0-8]|4[12]|5[1256]|6\\d|7[1-3]|8[1-5])\\d{4}",,,,"2211234"],[,,"(?:[34][36]|5[1-389]|9\\d)\\d{5}",,,,"9911234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],
[,,,,,,,,,[-1]],"CV",238,"0",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-59]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CW:[,[,,"(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",,,,,,,[7,8]],[,,"9(?:4(?:3[0-5]|4[14]|6\\d)|50\\d|7(?:2[014]|3[02-9]|4[4-9]|6[357]|77|8[7-9])|8(?:3[39]|[46]\\d|7[01]|8[57-9]))\\d{4}",,,,"94351234"],[,,"953[01]\\d{4}|9(?:5[12467]|6[5-9])\\d{5}",,,,"95181234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"60[0-2]\\d{4}",,,,"6001234",,,[7]],[,,,,,,,,,[-1]],
[,,,,,,,,,[-1]],"CW",599,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[3467]"]],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],,[,,"955\\d{5}",,,,"95581234",,,[8]],1,"[69]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CX:[,[,,"1\\d{5,9}|(?:[48]\\d\\d|550)\\d{6}",,,,,,,[6,7,8,9,10]],[,,"8(?:51(?:0(?:01|30|59)|117)|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",,,,"891641234",,,[9],[8]],[,,"4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[6-9]|7[02-9]|8[0-2457-9]|9[017-9])\\d{6}",
,,,"412345678",,,[9]],[,,"180(?:0\\d{3}|2)\\d{3}",,,,"1800123456",,,[7,10]],[,,"190[0-26]\\d{6}",,,,"1900123456",,,[10]],[,,"13(?:00\\d{3}|45[0-4])\\d{3}|13\\d{4}",,,,"1300123456",,,[6,8,10]],[,,,,,,,,,[-1]],[,,"1471\\d{5}|(?:145|550)\\d{6}",,,,"550123456",,,[9]],"CX",61,"001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","0",,,"0|([59]\\d{7})$","8$1","0011",,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],CY:[,[,,"(?:[279]\\d|[58]0)\\d{6}",,,,,,,[8]],[,,"2[2-6]\\d{6}",,,
,"22345678"],[,,"9[4-79]\\d{6}",,,,"96123456"],[,,"800\\d{5}",,,,"80001234"],[,,"90[09]\\d{5}",,,,"90012345"],[,,"80[1-9]\\d{5}",,,,"80112345"],[,,"700\\d{5}",,,,"70012345"],[,,,,,,,,,[-1]],"CY",357,"00",,,,,,,,[[,"(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:50|77)\\d{6}",,,,"77123456"],,,[,,,,,,,,,[-1]]],CZ:[,[,,"(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",,,,,,,[9,10,11,12]],[,,"(?:2\\d|3[1257-9]|4[16-9]|5[13-9])\\d{7}",,,,"212345678",,,[9]],[,,"(?:60[1-8]|7(?:0[2-5]|[2379]\\d))\\d{6}",
,,,"601123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"9(?:0[05689]|76)\\d{6}",,,,"900123456",,,[9]],[,,"8[134]\\d{7}",,,,"811234567",,,[9]],[,,"70[01]\\d{6}",,,,"700123456",,,[9]],[,,"9[17]0\\d{6}",,,,"910123456",,,[9]],"CZ",420,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],[,"(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"9(?:5\\d|7[2-4])\\d{6}",,,,"972123456",
,,[9]],,,[,,"9(?:3\\d{9}|6\\d{7,10})",,,,"93123456789"]],DE:[,[,,"[2579]\\d{5,14}|49[67]0\\d{1,4}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|7[89]|9\\d)\\d{1,3}|49(?:[12]\\d|3[1-689]|7[1-7])\\d{1,8}|49(?:[05]\\d|[46][1-8])\\d{1,9}|(?:1|[368]\\d|4[0-8])\\d{3,13}",,,,,,,[4,5,6,7,8,9,10,11,12,13,14,15],[3]],[,,"(?:2(?:0[1-689]|[1-3569]\\d|4[0-8]|7[1-7]|8[0-7])|5(?:0[2-8]|[124-6]\\d|[38][0-8]|[79][0-7])|6(?:0[02-9]|[1-3589]\\d|[47][0-8]|6[1-9])|7(?:0[2-8]|1[1-9]|[27][0-7]|3\\d|[4-6][0-8]|8[0-5]|9[013-7])|8(?:0[2-9]|1[0-79]|[29]\\d|3[0-46-9]|4[0-6]|5[013-9]|6[1-8]|7[0-8]|8[0-24-6])|9(?:0[6-9]|[1-4]\\d|[589][0-7]|6[0-8]|7[0-467]))\\d{4,12}|3(?:(?:[03569]\\d|4[0-79]|7[1-7]|8[1-8])\\d{4,12}|2\\d{9})|4(?:(?:[02-48]\\d|1[02-9]|5[0-6]|6[0-8]|7[0-79])\\d{4,12}|9(?:[0-37]\\d{4,9}|[4-6]\\d{4,10}))|(?:2(?:0[1-389]|1[124]|2[18]|3[14]|[4-9]1)|[57][1-9]1|9(?:06|[1-9]1))\\d{3}|3(?:0\\d{3,4}|(?:[35-9][15]|4[015])\\d{3})|4(?:0\\d{3,4}|[2-9]1\\d{3})|[68](?:[1-8]1\\d{3}|9\\d{3,4})",
,,,"30123456",,,[5,6,7,8,9,10,11,12,13,14,15],[3,4]],[,,"15[0-25-9]\\d{8}|1(?:6[023]|7\\d)\\d{7,8}",,,,"15123456789",,,[10,11]],[,,"800\\d{7,12}",,,,"8001234567890",,,[10,11,12,13,14,15]],[,,"(?:137[7-9]|900(?:[135]|9\\d))\\d{6}",,,,"9001234567",,,[10,11]],[,,"180\\d{5,11}|13(?:7[1-6]\\d\\d|8)\\d{4}",,,,"18012345",,,[7,8,9,10,11,12,13,14]],[,,"700\\d{8}",,,,"70012345678",,,[11]],[,,,,,,,,,[-1]],"DE",49,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],[,"(\\d{3})(\\d{3,12})",
"$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],[,"(\\d{4})(\\d{3,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],
"0$1"],[,"(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],[,"(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],[,"(\\d{5})(\\d{3,10})","$1 $2",["3"],"0$1"],[,"(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],[,"(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],[,"(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],[,"(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],[,"(\\d{5})(\\d{6})","$1 $2",["15[0568]"],"0$1"],[,"(\\d{4})(\\d{7})","$1 $2",["15[1279]"],
"0$1"],[,"(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],[,"(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],,[,,"16(?:4\\d{1,10}|[89]\\d{1,11})",,,,"16412345",,,[4,5,6,7,8,9,10,11,12,13,14]],,,[,,,,,,,,,[-1]],[,,"18(?:1\\d{5,11}|[2-9]\\d{8})",,,,"18500123456",,,[8,9,10,11,12,13,14]],,,[,,"1(?:6(?:013|255|399)|7(?:(?:[015]1|[69]3)3|[2-4]55|[78]99))\\d{7,8}|15(?:(?:[03-68]00|113)\\d|2\\d55|7\\d99|9\\d33)\\d{7}",
,,,"177991234567",,,[12,13]]],DJ:[,[,,"(?:2\\d|77)\\d{6}",,,,,,,[8]],[,,"2(?:1[2-5]|7[45])\\d{5}",,,,"21360003"],[,,"77\\d{6}",,,,"77831001"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"DJ",253,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DK:[,[,,"[2-9]\\d{7}",,,,,,,[8]],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}",,,,"32123456"],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}",
,,,"32123456"],[,,"80\\d{6}",,,,"80123456"],[,,"90\\d{6}",,,,"90123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"DK",45,"00",,,,,,,1,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DM:[,[,,"(?:[58]\\d\\d|767|900)\\d{7}",,,,,,,[10],[7]],[,,"767(?:2(?:55|66)|4(?:2[01]|4[0-25-9])|50[0-4]|70[1-3])\\d{4}",,,,"7674201234",,,,[7]],[,,"767(?:2(?:[2-4689]5|7[5-7])|31[5-7]|61[1-7])\\d{4}",,,,"7672251234",,,,[7]],
[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"DM",1,"011","1",,,"1|([2-7]\\d{6})$","767$1",,,,,[,,,,,,,,,[-1]],,"767",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DO:[,[,,"(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"8(?:[04]9[2-9]\\d\\d|29(?:2(?:[0-59]\\d|6[04-9]|7[0-27]|8[0237-9])|3(?:[0-35-9]\\d|4[7-9])|[45]\\d\\d|6(?:[0-27-9]\\d|[3-5][1-9]|6[0135-8])|7(?:0[013-9]|[1-37]\\d|4[1-35689]|5[1-4689]|6[1-57-9]|8[1-79]|9[1-8])|8(?:0[146-9]|1[0-48]|[248]\\d|3[1-79]|5[01589]|6[013-68]|7[124-8]|9[0-8])|9(?:[0-24]\\d|3[02-46-9]|5[0-79]|60|7[0169]|8[57-9]|9[02-9])))\\d{4}",
,,,"8092345678",,,,[7]],[,,"8[024]9[2-9]\\d{6}",,,,"8092345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"DO",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"8[024]9",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],DZ:[,[,,"(?:[1-4]|[5-79]\\d|80)\\d{7}",,,,,,,[8,9]],[,,"9619\\d{5}|(?:1\\d|2[013-79]|3[0-8]|4[0135689])\\d{6}",,,,"12345678"],[,,"67[0-6]\\d{6}|(?:5[4-6]|6[569]|7[7-9])\\d{7}",
,,,"551234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"80[3-689]1\\d{5}",,,,"808123456",,,[9]],[,,"80[12]1\\d{5}",,,,"801123456",,,[9]],[,,,,,,,,,[-1]],[,,"98[23]\\d{6}",,,,"983123456",,,[9]],"DZ",213,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EC:[,
[,,"1800\\d{6,7}|(?:[2-7]|9\\d)\\d{7}",,,,,,,[8,9,10,11],[7]],[,,"[2-7][2-7]\\d{6}",,,,"22123456",,,[8],[7]],[,,"9630\\d{5}|9(?:39|[57][89]|6[0-27-9]|[89]\\d)\\d{6}",,,,"991234567",,,[9]],[,,"1800\\d{6,7}",,,,"18001234567",,,[10,11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"[2-7]890\\d{4}",,,,"28901234",,,[8]],"EC",593,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-7]"]],[,"(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],[,
"(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],[[,"(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-7]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EE:[,[,,"8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d\\d|900)\\d{4}",,,,,,,[7,8,10]],[,,"(?:3[23589]|4[3-8]|6\\d|7[1-9]|88)\\d{5}",,,,"3212345",,,[7]],[,,"(?:5\\d|8[1-4])\\d{6}|5(?:(?:[02]\\d|5[0-478])\\d|1(?:[0-8]\\d|95)|6(?:4[0-4]|5[1-589]))\\d{3}",
,,,"51234567",,,[7,8]],[,,"800(?:(?:0\\d\\d|1)\\d|[2-9])\\d{3}",,,,"80012345"],[,,"(?:40\\d\\d|900)\\d{4}",,,,"9001234",,,[7,8]],[,,,,,,,,,[-1]],[,,"70[0-2]\\d{5}",,,,"70012345",,,[8]],[,,,,,,,,,[-1]],"EE",372,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]"]],[,"(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-4])","[45]|8(?:00[1-9]|[1-4])"]],[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],
[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["80"]]],,[,,,,,,,,,[-1]],,,[,,"800[2-9]\\d{3}",,,,,,,[7]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EG:[,[,,"[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",,,,,,,[8,9,10],[6,7]],[,,"(?:15\\d|57[23])\\d{5,6}|(?:13[23]|(?:2[2-4]|3)\\d|4(?:0[2-5]|[578][23]|64)|5(?:0[2-7]|5\\d)|6[24-689]3|8(?:2[2-57]|4[26]|6[237]|8[2-4])|9(?:2[27]|3[24]|52|6[2356]|7[2-4]))\\d{6}",,,,"234567890",,,[8,9],[6,7]],[,,"1[0-25]\\d{8}",,,,"1001234567",,,[10]],[,,"800\\d{7}",,,,"8001234567",,,[10]],
[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"EG",20,"00","0",,,"0",,,,[[,"(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],[,"(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[189]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],EH:[,[,,"[5-8]\\d{8}",,,,,,,[9]],[,,"528[89]\\d{5}",,,,"528812345"],[,,"(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0[067]|6[1267]|7[017]))\\d{6}",,,,"650123456"],
[,,"80\\d{7}",,,,"801234567"],[,,"89\\d{7}",,,,"891234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5924[01]\\d{4}",,,,"592401234"],"EH",212,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,"528[89]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ER:[,[,,"[178]\\d{6}",,,,,,,[7],[6]],[,,"(?:1(?:1[12568]|[24]0|55|6[146])|8\\d\\d)\\d{4}",,,,"8370362",,,,[6]],[,,"(?:17[1-3]|7\\d\\d)\\d{4}",,,,"7123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ER",291,"00","0",,,"0",,,,[[,
"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ES:[,[,,"(?:51|[6-9]\\d)\\d{7}",,,,,,,[9]],[,,"96906(?:0[0-8]|1[1-9]|[2-9]\\d)\\d\\d|9(?:69(?:0[0-57-9]|[1-9]\\d)|73(?:[0-8]\\d|9[1-9]))\\d{4}|(?:8(?:[1356]\\d|[28][0-8]|[47][1-9])|9(?:[135]\\d|[268][0-8]|4[1-9]|7[124-9]))\\d{6}",,,,"810123456"],[,,"9(?:6906(?:09|10)|7390\\d\\d)\\d\\d|(?:6\\d|7[1-48])\\d{7}",,,,"612345678"],[,,"[89]00\\d{6}",,,,"800123456"],[,,"80[367]\\d{6}",
,,,"803123456"],[,,"90[12]\\d{6}",,,,"901123456"],[,,"70\\d{7}",,,,"701234567"],[,,,,,,,,,[-1]],"ES",34,"00",,,,,,,,[[,"(\\d{4})","$1",["905"]],[,"(\\d{6})","$1",["[79]9"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]],[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"51\\d{7}",,,,"511234567"],,,[,,,,,,,,,[-1]]],ET:[,[,,"(?:11|[2-59]\\d)\\d{7}",
,,,,,,[9],[7]],[,,"(?:11(?:1(?:1[124]|2[2-57]|3[1-5]|5[5-8]|8[6-8])|2(?:13|3[6-8]|5[89]|7[05-9]|8[2-6])|3(?:2[01]|3[0-289]|4[1289]|7[1-4]|87)|4(?:1[69]|3[2-49]|4[0-3]|6[5-8])|5(?:1[578]|44|5[0-4])|6(?:18|2[69]|39|4[5-7]|5[1-5]|6[0-59]|8[015-8]))|2(?:2(?:11[1-9]|22[0-7]|33\\d|44[1467]|66[1-68])|5(?:11[124-6]|33[2-8]|44[1467]|55[14]|66[1-3679]|77[124-79]|880))|3(?:3(?:11[0-46-8]|(?:22|55)[0-6]|33[0134689]|44[04]|66[01467])|4(?:44[0-8]|55[0-69]|66[0-3]|77[1-5]))|4(?:6(?:22[0-24-7]|33[1-5]|44[13-69]|55[14-689]|660|88[1-4])|7(?:(?:11|22)[1-9]|33[13-7]|44[13-6]|55[1-689]))|5(?:7(?:227|55[05]|(?:66|77)[14-8])|8(?:11[149]|22[013-79]|33[0-68]|44[013-8]|550|66[1-5]|77\\d)))\\d{4}",
,,,"111112345",,,,[7]],[,,"9\\d{8}",,,,"911234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ET",251,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-59]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FI:[,[,,"(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}|[1-35689]\\d{4}",,,,,,,[5,6,7,8,9,10]],[,,"(?:1[3-79][1-8]|[235689][1-8]\\d)\\d{2,6}",,,,"131234567",,,[5,6,7,8,9]],[,,"(?:4[0-8]|50)\\d{4,8}",,,,"412345678",
,,[6,7,8,9,10]],[,,"800\\d{4,6}",,,,"800123456",,,[7,8,9]],[,,"[67]00\\d{5,6}",,,,"600123456",,,[8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FI",358,"00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","0",,,"0",,"00",,[[,"(\\d{5})","$1",["75[12]"],"0$1"],[,"(\\d)(\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],[,"(\\d{6})","$1",["11"]],[,"(\\d{3})(\\d{3,7})","$1 $2",["(?:[12]0|7)0|[368]"],"0$1"],[,"(\\d{2})(\\d{4,8})","$1 $2",["[12457]"],"0$1"]],[[,"(\\d)(\\d{4,9})","$1 $2",
["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],[,"(\\d{3})(\\d{3,7})","$1 $2",["(?:[12]0|7)0|[368]"],"0$1"],[,"(\\d{2})(\\d{4,8})","$1 $2",["[12457]"],"0$1"]],[,,,,,,,,,[-1]],1,"1[03-79]|[2-9]",[,,"20(?:2[023]|9[89])\\d{1,6}|60[12]\\d{5,6}|(?:606|7(?:1|3\\d))\\d{7}|(?:[1-3]00|75[03-9])\\d{3,7}"],[,,"(?:10|[23][09])\\d{4,8}|60(?:[12]\\d{5,6}|6\\d{7})|7(?:(?:1|3\\d)\\d{7}|5[03-9]\\d{3,7})|20[2-59]\\d\\d",,,,"10112345"],,,[,,,,,,,,,[-1]]],FJ:[,[,,"45\\d{5}|(?:0800\\d|[235-9])\\d{6}",,,,,,,[7,11]],[,,"603\\d{4}|(?:3[0-5]|6[25-7]|8[58])\\d{5}",
,,,"3212345",,,[7]],[,,"(?:[279]\\d|45|5[01568]|8[034679])\\d{5}",,,,"7012345",,,[7]],[,,"0800\\d{7}",,,,"08001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FJ",679,"0(?:0|52)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FK:[,[,,"[2-7]\\d{4}",,,,,,,[5]],[,,"[2-47]\\d{4}",,,,"31234"],[,,"[56]\\d{4}",,,,"51234"],[,,,,,,,,,[-1]],[,,,,,,
,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FK",500,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FM:[,[,,"[39]\\d{6}",,,,,,,[7]],[,,"(?:3[2357]0[1-9]|9[2-6]\\d\\d)\\d{3}",,,,"3201234"],[,,"(?:3[2357]0[1-9]|9[2-7]\\d\\d)\\d{3}",,,,"3501234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"FM",691,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[39]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],
FO:[,[,,"(?:[2-8]\\d|90)\\d{4}",,,,,,,[6]],[,,"(?:20|[34]\\d|8[19])\\d{4}",,,,"201234"],[,,"(?:[27][1-9]|5\\d)\\d{4}",,,,"211234"],[,,"80[257-9]\\d{3}",,,,"802123"],[,,"90(?:[13-5][15-7]|2[125-7]|99)\\d\\d",,,,"901123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:6[0-36]|88)\\d{4}",,,,"601234"],"FO",298,"00",,,,"(10(?:01|[12]0|88))",,,,[[,"(\\d{6})","$1",["[2-9]"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],FR:[,[,,"[1-9]\\d{8}",,,,,,,[9]],[,,"[1-5]\\d{8}",,,,"123456789"],
[,,"700\\d{6}|(?:6\\d|7[3-9])\\d{7}",,,,"612345678"],[,,"80[0-5]\\d{6}",,,,"801234567"],[,,"8[129]\\d{7}",,,,"891123456"],[,,"884\\d{6}",,,,"884012345"],[,,,,,,,,,[-1]],[,,"9\\d{8}",,,,"912345678"],"FR",33,"00","0",,,"0",,,,[[,"(\\d{4})","$1",["10"]],[,"(\\d{3})(\\d{3})","$1 $2",["1"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],[,"(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],[,"(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})",
"$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"80[6-9]\\d{6}",,,,"806123456"],,,[,,,,,,,,,[-1]]],GA:[,[,,"(?:0\\d|[2-7])\\d{6}",,,,,,,[7,8]],[,,"01\\d{6}",,,,"01441234",,,[8]],[,,"(?:0[2-7]|[2-7])\\d{6}",,,,"06031234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GA",241,"00",,,,,,,,[[,"(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,
[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GB:[,[,,"[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",,,,,,,[7,9,10],[4,5,6,8]],[,,"(?:1(?:1(?:3[0-58]|4[0-5]|5[0-26-9]|6[0-4]|[78][0-49])|2(?:0[024-9]|1[0-7]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)|3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))|2(?:0[01378]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d)\\d{6}|1(?:(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d|7(?:(?:26(?:6[13-9]|7[0-7])|442\\d|50(?:2[0-3]|[3-68]2|76))\\d|6888[2-46-8]))\\d\\d",
,,,"1212345678",,,[9,10],[4,5,6,7,8]],[,,"7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",,,,"7400123456",,,[10]],[,,"80[08]\\d{7}|800\\d{6}|8001111",,,,"8001234567"],[,,"(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",,,,"9012345678",,,[7,10]],[,,,,,,,,,[-1]],[,,"70\\d{8}",,,,"7012345678",,,[10]],[,,"56\\d{8}",,,,"5612345678",
,,[10]],"GB",44,"00","0"," x",,"0",,,,[[,"(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],[,"(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],[,"(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],[,"(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[024-9])",
"[25]|7(?:0|6(?:[04-9]|2[356]))"],"0$1"],[,"(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],,[,,"76(?:0[0-2]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}",,,,"7640123456",,,[10]],1,,[,,,,,,,,,[-1]],[,,"(?:3[0347]|55)\\d{8}",,,,"5512345678",,,[10]],,,[,,,,,,,,,[-1]]],GD:[,[,,"(?:473|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"473(?:2(?:3[0-2]|69)|3(?:2[89]|86)|4(?:[06]8|3[5-9]|4[0-49]|5[5-79]|73|90)|63[68]|7(?:58|84)|800|938)\\d{4}",,,,"4732691234",
,,,[7]],[,,"473(?:4(?:0[2-79]|1[04-9]|2[0-5]|58)|5(?:2[01]|3[3-8])|901)\\d{4}",,,,"4734031234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"GD",1,"011","1",,,"1|([2-9]\\d{6})$","473$1",,,,,[,,,,,,,,,[-1]],,"473",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GE:[,[,,"(?:[3-57]\\d\\d|800)\\d{6}",,,,,,,[9],[6]],[,,"(?:3(?:[256]\\d|4[124-9]|7[0-4])|4(?:1\\d|2[2-7]|3[1-79]|4[2-8]|7[239]|9[1-7]))\\d{6}",
,,,"322123456",,,,[6]],[,,"(?:5(?:[14]4|5[0157-9]|68|7[0147-9]|9[1-35-9])|790)\\d{6}",,,,"555123456"],[,,"800\\d{6}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"706\\d{6}",,,,"706123456"],"GE",995,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"706\\d{6}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GF:[,[,
,"[56]94\\d{6}",,,,,,,[9]],[,,"594(?:[023]\\d|1[01]|4[03-9]|5[6-9]|6[0-3]|80|9[014])\\d{4}",,,,"594101234"],[,,"694(?:[0-249]\\d|3[0-48])\\d{4}",,,,"694201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GF",594,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[56]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GG:[,[,,"(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",,,,,,,[7,9,10],[6]],[,,"1481[25-9]\\d{5}",
,,,"1481256789",,,[10],[6]],[,,"7(?:(?:781|839)\\d|911[17])\\d{5}",,,,"7781123456",,,[10]],[,,"80[08]\\d{7}|800\\d{6}|8001111",,,,"8001234567"],[,,"(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",,,,"9012345678",,,[7,10]],[,,,,,,,,,[-1]],[,,"70\\d{8}",,,,"7012345678",,,[10]],[,,"56\\d{8}",,,,"5612345678",,,[10]],"GG",44,"00","0",,,"0|([25-9]\\d{5})$","1481$1",,,,,[,,"76(?:0[0-2]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}",,,,"7640123456",,,[10]],,,[,,,,,,,,,[-1]],[,,"(?:3[0347]|55)\\d{8}",
,,,"5512345678",,,[10]],,,[,,,,,,,,,[-1]]],GH:[,[,,"(?:[235]\\d{3}|800)\\d{5}",,,,,,,[8,9],[7]],[,,"3(?:[167]2[0-6]|22[0-5]|32[0-3]|4(?:2[013-9]|3[01])|52[0-7]|82[0-2])\\d{5}|3(?:[0-8]8|9[28])0\\d{5}|3(?:0[237]|[1-9]7)\\d{6}",,,,"302345678",,,[9],[7]],[,,"56[01]\\d{6}|(?:2[0346-8]|5[0457])\\d{7}",,,,"231234567",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GH",233,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[237]|80"]],[,"(\\d{3})(\\d{5})",
"$1 $2",["8"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],[[,"(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],[,,,,,,,,,[-1]],,,[,,"800\\d{5}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GI:[,[,,"(?:[25]\\d\\d|629)\\d{5}",,,,,,,[8]],[,,"2190[0-2]\\d{3}|2(?:00\\d|16[24-7]|2(?:2[2457]|50))\\d{4}",,,,"20012345"],[,,"(?:5[46-8]\\d|629)\\d{5}",,,,"57123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,
,[-1]],"GI",350,"00",,,,,,,,[[,"(\\d{3})(\\d{5})","$1 $2",["2"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GL:[,[,,"(?:19|[2-689]\\d)\\d{4}",,,,,,,[6]],[,,"(?:19|3[1-7]|6[14689]|8[14-79]|9\\d)\\d{4}",,,,"321000"],[,,"(?:[25][1-9]|4[2-9])\\d{4}",,,,"221234"],[,,"80\\d{4}",,,,"801234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3[89]\\d{4}",,,,"381234"],"GL",299,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-689]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],
[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GM:[,[,,"[2-9]\\d{6}",,,,,,,[7]],[,,"(?:4(?:[23]\\d\\d|4(?:1[024679]|[6-9]\\d))|5(?:54[0-7]|6[67]\\d|7(?:1[04]|2[035]|3[58]|48))|8\\d{3})\\d{3}",,,,"5661234"],[,,"(?:[23679]\\d|5[01])\\d{5}",,,,"3012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GM",220,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GN:[,[,,"(?:30|6\\d\\d|722)\\d{6}",,,,,,,[8,9]],
[,,"30(?:24|3[12]|4[1-35-7]|5[13]|6[189]|[78]1|9[1478])\\d{4}",,,,"30241234",,,[8]],[,,"6[02356]\\d{7}",,,,"601123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"722\\d{6}",,,,"722123456",,,[9]],"GN",224,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GP:[,[,,"(?:590|69\\d)\\d{6}",,,,,,,[9]],[,,"590(?:0[1-68]|1[0-2]|2[0-68]|3[1289]|4[0-24-9]|5[3-579]|6[0189]|7[08]|8[0-689]|9\\d)\\d{4}",
,,,"590201234"],[,,"69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GP",590,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[56]"],"0$1"]],,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GQ:[,[,,"222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",,,,,,,[9]],[,,"33[0-24-9]\\d[46]\\d{4}|3(?:33|5\\d)\\d[7-9]\\d{4}",,,,"333091234"],[,,"(?:222|55[015])\\d{6}",,,,"222123456"],[,,"80\\d[1-9]\\d{5}",
,,,"800123456"],[,,"90\\d[1-9]\\d{5}",,,,"900123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GQ",240,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],[,"(\\d{3})(\\d{6})","$1 $2",["[89]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GR:[,[,,"(?:[268]\\d|[79]0)\\d{8}",,,,,,,[10]],[,,"2(?:1\\d\\d|2(?:2[1-46-9]|[36][1-8]|4[1-7]|5[1-4]|7[1-5]|[89][1-9])|3(?:1\\d|2[1-57]|[35][1-3]|4[13]|7[1-7]|8[124-6]|9[1-79])|4(?:1\\d|2[1-8]|3[1-4]|4[13-5]|6[1-578]|9[1-5])|5(?:1\\d|[29][1-4]|3[1-5]|4[124]|5[1-6])|6(?:1\\d|[269][1-6]|3[1245]|4[1-7]|5[13-9]|7[14]|8[1-5])|7(?:1\\d|2[1-5]|3[1-6]|4[1-7]|5[1-57]|6[135]|9[125-7])|8(?:1\\d|2[1-5]|[34][1-4]|9[1-57]))\\d{6}",
,,,"2123456789"],[,,"6(?:8[57-9]|9\\d)\\d{7}",,,,"6912345678"],[,,"800\\d{7}",,,,"8001234567"],[,,"90[19]\\d{7}",,,,"9091234567"],[,,"8(?:0[16]|12|25)\\d{7}",,,,"8011234567"],[,,"70\\d{8}",,,,"7012345678"],[,,,,,,,,,[-1]],"GR",30,"00",,,,,,,,[[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],[,"(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],
GT:[,[,,"(?:1\\d{3}|[2-7])\\d{7}",,,,,,,[8,11]],[,,"[267][2-9]\\d{6}",,,,"22456789",,,[8]],[,,"[3-5]\\d{7}",,,,"51234567",,,[8]],[,,"18[01]\\d{8}",,,,"18001112222",,,[11]],[,,"19\\d{9}",,,,"19001112222",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GT",502,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GU:[,[,,"(?:[58]\\d\\d|671|900)\\d{7}",,,,,,,[10],[7]],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[0479]7|2[0167]|3[45]|8[7-9])|8(?:[2-57-9]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))\\d{4}",
,,,"6713001234",,,,[7]],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[0479]7|2[0167]|3[45]|8[7-9])|8(?:[2-57-9]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))\\d{4}",,,,"6713001234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"GU",1,"011","1",,,"1|([3-9]\\d{6})$",
"671$1",,1,,,[,,,,,,,,,[-1]],,"671",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GW:[,[,,"[49]\\d{8}|4\\d{6}",,,,,,,[7,9]],[,,"443\\d{6}",,,,"443201234",,,[9]],[,,"9(?:5\\d|6[569]|77)\\d{6}",,,,"955012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"40\\d{5}",,,,"4012345",,,[7]],"GW",245,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["40"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],GY:[,
[,,"(?:862\\d|9008)\\d{3}|(?:[2-46]\\d|77)\\d{5}",,,,,,,[7]],[,,"(?:2(?:1[6-9]|2[0-35-9]|3[1-4]|5[3-9]|6\\d|7[0-24-79])|3(?:2[25-9]|3\\d)|4(?:4[0-24]|5[56])|77[1-57])\\d{4}",,,,"2201234"],[,,"6\\d{6}",,,,"6091234"],[,,"(?:289|862)\\d{4}",,,,"2891234"],[,,"9008\\d{3}",,,,"9008123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"GY",592,"001",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-46-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],HK:[,[,,"8[0-46-9]\\d{6,7}|9\\d{4}(?:\\d(?:\\d(?:\\d{4})?)?)?|(?:[235-79]\\d|46)\\d{6}",
,,,,,,[5,6,7,8,9,11]],[,,"(?:384[04]|58(?:0[1-8]|1[2-9]))\\d{4}|(?:2(?:[13-8]\\d|2[013-9]|9[0-24-9])|3(?:[1569][0-24-9]|4[0-246-9]|7[0-24-69]|89))\\d{5}",,,,"21234567",,,[8]],[,,"(?:46(?:0[0-6]|1[0-2]|4[0-57-9])|5730|(?:626|848)[01]|707[1-5]|929[03-9])\\d{4}|(?:5(?:[1-59][0-46-9]|6[0-4689]|7[0-2469])|6(?:0[1-9]|[13-59]\\d|[268][0-57-9]|7[0-79])|9(?:0[1-9]|1[02-9]|[2358][0-8]|[467]\\d))\\d{5}",,,,"51234567",,,[8]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"900(?:[0-24-9]\\d{7}|3\\d{1,4})",,,,"90012345678",
,,[5,6,7,8,11]],[,,,,,,,,,[-1]],[,,"8(?:1[0-4679]\\d|2(?:[0-36]\\d|7[0-4])|3(?:[034]\\d|2[09]|70))\\d{4}",,,,"81123456",,,[8]],[,,,,,,,,,[-1]],"HK",852,"00(?:30|5[09]|[126-9]?)",,,,,,"00",,[[,"(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],,[,,"7(?:1(?:0[0-38]|1[0-3679]|3[013]|69|9[136])|2(?:[02389]\\d|1[18]|7[27-9])|3(?:[0-38]\\d|7[0-369]|9[2357-9])|47\\d|5(?:[178]\\d|5[0-5])|6(?:0[0-7]|2[236-9]|[35]\\d)|7(?:[27]\\d|8[7-9])|8(?:[23689]\\d|7[1-9])|9(?:[025]\\d|6[0-246-8]|7[0-36-9]|8[238]))\\d{4}",
,,,"71123456",,,[8]],,,[,,,,,,,,,[-1]],[,,"30(?:0[1-9]|[15-7]\\d|2[047]|89)\\d{4}",,,,"30161234",,,[8]],,,[,,,,,,,,,[-1]]],HN:[,[,,"[237-9]\\d{7}",,,,,,,[8]],[,,"2(?:2(?:0[019]|1[1-36]|[23]\\d|4[04-6]|5[57]|6[24]|7[0135689]|8[01346-9]|9[0-2])|4(?:07|2[3-59]|3[13-689]|4[0-68]|5[1-35])|5(?:08|16|4[03-5]|5\\d|6[4-6]|74|80)|6(?:[056]\\d|17|3[04]|4[0-378]|[78][0-8]|9[01])|7(?:6[46-9]|7[02-9]|8[034])|8(?:79|8[0-357-9]|9[1-57-9]))\\d{4}",,,,"22123456"],[,,"[37-9]\\d{7}",,,,"91234567"],[,,,,,,,,,[-1]],[,
,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"HN",504,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],HR:[,[,,"(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",,,,,,,[6,7,8,9]],[,,"1\\d{7}|(?:2[0-3]|3[1-5]|4[02-47-9]|5[1-3])\\d{6,7}",,,,"12345678",,,[8,9],[6,7]],[,,"9(?:751\\d{5}|8\\d{6,7})|9(?:01|[1259]\\d|7[0679])\\d{6}",,,,"921234567",,,[8,9]],[,,"80[01]\\d{4,6}",,,,"800123456",,,[7,8,
9]],[,,"6[01459]\\d{6}|6[01]\\d{4,5}",,,,"611234",,,[6,7,8]],[,,,,,,,,,[-1]],[,,"7[45]\\d{6}",,,,"74123456",,,[8]],[,,,,,,,,,[-1]],"HR",385,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],[,"(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})",
"$1 $2 $3",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"62\\d{6,7}|72\\d{6}",,,,"62123456",,,[8,9]],,,[,,,,,,,,,[-1]]],HT:[,[,,"[2-489]\\d{7}",,,,,,,[8]],[,,"2(?:2\\d|5[1-5]|81|9[149])\\d{5}",,,,"22453300"],[,,"[34]\\d{7}",,,,"34101234"],[,,"8\\d{7}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"9(?:[67][0-4]|8[0-3589]|9\\d)\\d{5}",,,,"98901234"],"HT",509,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-489]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],
,,[,,,,,,,,,[-1]]],HU:[,[,,"[2357]\\d{8}|[1-9]\\d{7}",,,,,,,[8,9],[6,7]],[,,"(?:1\\d|[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6[23689]|8[2-57-9]|9[2-69])\\d{6}",,,,"12345678",,,[8],[6,7]],[,,"(?:[257]0|3[01])\\d{7}",,,,"201234567",,,[9]],[,,"[48]0\\d{6}",,,,"80123456",,,[8]],[,,"9[01]\\d{6}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"21\\d{7}",,,,"211234567",,,[9]],"HU",36,"00","06",,,"06",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"($1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],
"($1)"]],,[,,,,,,,,,[-1]],,,[,,"[48]0\\d{6}",,,,,,,[8]],[,,"38\\d{7}",,,,"381234567",,,[9]],,,[,,,,,,,,,[-1]]],ID:[,[,,"(?:[1-36]|8\\d{5})\\d{6}|[1-9]\\d{8,10}|[2-9]\\d{7}",,,,,,,[7,8,9,10,11,12],[5,6]],[,,"2[124]\\d{7,8}|619\\d{8}|2(?:1(?:14|500)|2\\d{3})\\d{3}|61\\d{5,8}|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8\\d|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8\\d)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:[25]\\d|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36]\\d|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))\\d{5,8}",
,,,"218350123",,,[7,8,9,10,11],[5,6]],[,,"8[1-35-9]\\d{7,10}",,,,"812345678",,,[9,10,11,12]],[,,"(?:177\\d|800)\\d{5,7}",,,,"8001234567",,,[8,9,10,11]],[,,"809\\d{7}",,,,"8091234567",,,[10]],[,,"804\\d{7}",,,,"8041234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ID",62,"0(?:0[17-9]|10(?:00|1[67]))","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],[,"(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],[,"(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],[,"(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],
"(0$1)"],[,"(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],[,"(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],[,"(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],[,"(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"8071\\d{6}",,,,,,,[10]],[,,"(?:1500|8071\\d{3})\\d{3}",,,,"8071123456",,,[7,10]],,,[,,,,,,,,,[-1]]],IE:[,[,,"(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",,,,,,,[7,8,9,10],[5,6]],[,,
"(?:1\\d|21)\\d{6,7}|(?:2[24-9]|4(?:0[24]|5\\d|7)|5(?:0[45]|1\\d|8)|6(?:1\\d|[237-9])|9(?:1\\d|[35-9]))\\d{5}|(?:23|4(?:[1-469]|8[0-46-9])|5[23679]|6[4-6]|7[14]|9[04])\\d{7}",,,,"2212345",,,,[5,6]],[,,"8(?:22|[35-9]\\d)\\d{6}",,,,"850123456",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,"15(?:1[2-8]|[2-8]0|9[089])\\d{6}",,,,"1520123456",,,[10]],[,,"18[59]0\\d{6}",,,,"1850123456",,,[10]],[,,"700\\d{6}",,,,"700123456",,,[9]],[,,"76\\d{7}",,,,"761234567",,,[9]],"IE",353,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{5})",
"$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],[,"(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],[,"(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],[,"(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"],
[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"]],,[,,,,,,,,,[-1]],,,[,,"18[59]0\\d{6}",,,,,,,[10]],[,,"818\\d{6}",,,,"818123456",,,[9]],,,[,,"8[35-9]5\\d{7}",,,,"8551234567",,,[10]]],IL:[,[,,"1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",,,,,,,[7,8,9,10,11,12]],[,,"153\\d{8,9}|[2-489]\\d{7}",,,,"21234567",,,[8,11,12],[7]],[,,"5(?:(?:[0-489][2-9]|6\\d)\\d|5(?:01|2[2-5]|3[23]|4[45]|5[05689]|6[6-8]|7[0-267]|8[7-9]|9[1-9]))\\d{5}",,,,"502345678",,,[9]],[,,"1(?:255|80[019]\\d{3})\\d{3}",,,,"1800123456",
,,[7,10]],[,,"1212\\d{4}|1(?:200|9(?:0[01]|19))\\d{6}",,,,"1919123456",,,[8,10]],[,,"1700\\d{6}",,,,"1700123456",,,[10]],[,,,,,,,,,[-1]],[,,"78(?:33|55|77|81)\\d{5}|7(?:18|2[23]|3[237]|47|6[58]|7\\d|82|9[2357-9])\\d{6}",,,,"771234567",,,[9]],"IL",972,"0(?:0|1[2-9])","0",,,"0",,,,[[,"(\\d{4})(\\d{3})","$1-$2",["125"]],[,"(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],[,"(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})",
"$1-$2-$3",["12"]],[,"(\\d{4})(\\d{6})","$1-$2",["159"]],[,"(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],[,"(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],,[,,,,,,,,,[-1]],,,[,,"1700\\d{6}",,,,,,,[10]],[,,"1599\\d{6}",,,,"1599123456",,,[10]],,,[,,"151\\d{8,9}",,,,"15112340000",,,[11,12]]],IM:[,[,,"1624\\d{6}|(?:[3578]\\d|90)\\d{8}",,,,,,,[10],[6]],[,,"1624[5-8]\\d{5}",,,,"1624756789",,,,[6]],[,,"7(?:4576|[59]24\\d|624[0-4689])\\d{5}",,,,"7924123456"],[,,"808162\\d{4}",,,,"8081624567"],
[,,"8(?:440[49]06|72299\\d)\\d{3}|(?:8(?:45|70)|90[0167])624\\d{4}",,,,"9016247890"],[,,,,,,,,,[-1]],[,,"70\\d{8}",,,,"7012345678"],[,,"56\\d{8}",,,,"5612345678"],"IM",44,"00","0",,,"0|([5-8]\\d{5})$","1624$1",,,,,[,,,,,,,,,[-1]],,"74576|(?:16|7[56])24",[,,,,,,,,,[-1]],[,,"3440[49]06\\d{3}|(?:3(?:08162|3\\d{4}|45624|7(?:0624|2299))|55\\d{4})\\d{4}",,,,"5512345678"],,,[,,,,,,,,,[-1]]],IN:[,[,,"(?:00800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",,,,,,,[8,9,10,11,12,13],[6,7]],[,,"782[0-6][2-7]\\d{5}|(?:170[24]|2(?:80[13468]|90\\d)|380\\d|4(?:20[24]|72[2-8])|552[1-7])\\d{6}|(?:342|674|788)(?:[0189][2-7]|[2-7]\\d)\\d{5}|(?:11|2[02]|33|4[04]|79|80)[2-7]\\d{7}|(?:1(?:2[0-249]|3[0-25]|4[145]|[59][14]|6[014]|7[1257]|8[01346])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[13]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[014-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91))[2-7]\\d{6}|(?:1(?:2[35-8]|3[346-9]|4[236-9]|[59][0235-9]|6[235-9]|7[34689]|8[257-9])|2(?:1[134689]|3[24-8]|4[2-8]|5[25689]|6[2-4679]|7[13-79]|8[2-479]|9[235-9])|3(?:01|1[79]|2[1-5]|4[5-8]|5[125689]|6[235-7]|7[157-9]|8[2-46-8])|4(?:1[14578]|2[5689]|3[2-467]|5[4-7]|6[35]|73|8[2689]|9[2389])|5(?:[16][146-9]|2[14-8]|3[1346]|4[14-69]|5[46]|7[2-4]|8[2-8]|9[246])|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|2[0235-9]|3[2679]|4[1-35689]|5[2-46-9]|[67][02-9]|8[013-7]|9[0189])|8(?:1[1357-9]|2[235-8]|3[03-57-9]|4[0-24-9]|5\\d|6[2457-9]|7[1-6]|8[1256]|9[2-4]))\\d[2-7]\\d{5}",
,,,"7410410123",,,[10],[6,7,8]],[,,"(?:6(?:1279|350[0-6])|7(?:3(?:1(?:11|7[02-8])|411)|4[47](?:11|7[02-8])|5111|700[02-9]|88(?:11|7[02-9])|9(?:313|79[07-9]))|8(?:079[04-9]|(?:16|2[014]|3[126]|6[136]|7[78]|8[34]|91)7[02-8]))\\d{5}|7(?:28[6-8]|3(?:2[0-49]|9[2-5])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7])[089]\\d{5}|(?:6(?:0(?:0[0-3569]|26|33)|2(?:[06]\\d|3[02589]|8[0-479]|9[0-79])|3(?:0[0-79]|5[1-9]|6[0-4679]|7[0-24-9]|[89]\\d)|9(?:0[019]|13))|7(?:0\\d\\d|19[0-5]|2(?:[0235-79]\\d|[14][017-9]|8[0-59])|3(?:[05-8]\\d|1[089]|2[5-8]|3[017-9]|4[07-9]|9[016-9])|4(?:0\\d|1[015-9]|[29][89]|39|[47][089]|8[389])|5(?:[0346-8]\\d|1[07-9]|2[04-9]|5[017-9]|9[7-9])|6(?:0[0-47]|1[0-257-9]|2[0-4]|3[19]|5[4589]|[6-9]\\d)|7(?:0[289]|[1-9]\\d)|8(?:[0-79]\\d|8[089])|9(?:[089]\\d|7[02-8]))|8(?:0(?:[01589]\\d|6[67]|7[02-8])|1(?:[0-57-9]\\d|6[089])|2(?:[014][089]|[235-9]\\d)|3(?:[03-57-9]\\d|[126][089])|[45]\\d\\d|6(?:[02457-9]\\d|[136][089])|7(?:0[07-9]|[1-69]\\d|[78][089])|8(?:[0-25-9]\\d|3[089]|4[0489])|9(?:[02-9]\\d|1[0289]))|9\\d{3})\\d{6}",
,,,"8123456789",,,[10]],[,,"00800\\d{7}|1(?:600\\d{6}|80(?:0\\d{4,9}|3\\d{9}))",,,,"1800123456"],[,,"186[12]\\d{9}",,,,"1861123456789",,,[13]],[,,"1860\\d{7}",,,,"18603451234",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"IN",91,"00","0",,,"0",,,,[[,"(\\d{7})","$1",["575"]],[,"(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],,,1],[,"(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],,,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",
["140"],,,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]",
"1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:[2-4]1|5[17]|6[13]|7[14]|80)|7(?:12|(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|(?:55|61)2|7(?:31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|[2-4]1|5[17]|6[13]|7[14]|80)|7(?:12|(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:1(?:29|60|8[06])|261|552|788[01])[2-7]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])"],
"0$1",,1],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|[4-8])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|[4-8])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|[4-8])|7(?:1(?:[013-8]|9[6-9])|3179)|807(?:1|9[1-3])|(?:1552|7(?:28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],
"0$1",,1],[,"(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",,1],[,"(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],,,1],[,"(\\d{2})(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3 $4",["0"],"0$1",,1],[,"(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],,,1]],[[,"(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],,,1],[,"(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],,,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",
["140"],,,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]",
"1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:[2-4]1|5[17]|6[13]|7[14]|80)|7(?:12|(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|(?:55|61)2|7(?:31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|[2-4]1|5[17]|6[13]|7[14]|80)|7(?:12|(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:1(?:29|60|8[06])|261|552|788[01])[2-7]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])"],
"0$1",,1],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|[4-8])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|[4-8])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|[4-8])|7(?:1(?:[013-8]|9[6-9])|3179)|807(?:1|9[1-3])|(?:1552|7(?:28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],
"0$1",,1],[,"(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",,1],[,"(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],,,1],[,"(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],,,1]],[,,,,,,,,,[-1]],,,[,,"1(?:600\\d{6}|800\\d{4,9})|(?:00800|18(?:03\\d\\d|6(?:0|[12]\\d\\d)))\\d{7}"],[,,"140\\d{7}",,,,"1409305260",,,[10]],,,[,,,,,,,,,[-1]]],IO:[,[,,"3\\d{6}",,,,,,,[7]],[,,"37\\d{5}",,,,"3709100"],[,,"38\\d{5}",,,,"3801234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,
,,,[-1]],[,,,,,,,,,[-1]],"IO",246,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["3"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],IQ:[,[,,"(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",,,,,,,[8,9,10],[6,7]],[,,"1\\d{7}|(?:2[13-5]|3[02367]|4[023]|5[03]|6[026])\\d{6,7}",,,,"12345678",,,[8,9],[6,7]],[,,"7[3-9]\\d{8}",,,,"7912345678",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"IQ",964,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],
"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],IR:[,[,,"[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",,,,,,,[4,5,6,7,10],[8]],[,,"944111\\d{4}|94(?:(?:00|44)0|(?:11|2\\d)\\d|30[01])\\d{5}|(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])(?:[03-57]\\d{7}|[16]\\d{3}(?:\\d{4})?|[289]\\d{3}(?:\\d(?:\\d{3})?)?)",,,,"2123456789",,,[6,7,10],[4,5,8]],[,,"9(?:(?:0(?:[1-35]\\d|44)|(?:[13]\\d|2[0-2])\\d)\\d|9(?:(?:[0-2]\\d|44)\\d|510|8(?:1\\d|88)|9(?:0[013]|1[0134]|21|77|9[6-9])))\\d{5}",
,,,"9123456789",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"993\\d{7}",,,,"9932123456",,,[10]],"IR",98,"00","0",,,"0",,,,[[,"(\\d{4,5})","$1",["96"],"0$1"],[,"(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"96(?:0[12]|2[16-8]|3(?:08|[14]5|[23]|66)|4(?:0|80)|5[01]|6[89]|86|9[19])|94(?:11[1-7]|440)\\d{5}",
,,,,,,[4,5,10]],[,,"96(?:0[12]|2[16-8]|3(?:08|[14]5|[23]|66)|4(?:0|80)|5[01]|6[89]|86|9[19])",,,,"9601",,,[4,5]],,,[,,,,,,,,,[-1]]],IS:[,[,,"(?:38\\d|[4-9])\\d{6}",,,,,,,[7,9]],[,,"(?:4(?:1[0-24-69]|2[0-7]|[37][0-8]|4[0-245]|5[0-68]|6\\d|8[0-36-8])|5(?:05|[156]\\d|2[02578]|3[0-579]|4[03-7]|7[0-2578]|8[0-35-9]|9[013-689])|87[23])\\d{4}",,,,"4101234",,,[7]],[,,"(?:38[589]\\d\\d|6(?:1[1-8]|2[0-6]|3[027-9]|4[014679]|5[0159]|6[0-69]|70|8[06-8]|9\\d)|7(?:5[057]|[6-8]\\d|9[0-3])|8(?:2[0-59]|[3469]\\d|5[1-9]|8[28]))\\d{4}",
,,,"6111234"],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,"90\\d{5}",,,,"9011234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"49\\d{5}",,,,"4921234",,,[7]],"IS",354,"00|1(?:0(?:01|[12]0)|100)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"809\\d{4}",,,,"8091234",,,[7]],,,[,,"(?:689|8(?:7[0189]|80)|95[48])\\d{4}",,,,"6891234",,,[7]]],IT:[,[,,"0\\d{6,10}|55\\d{8}|[08]\\d{5}|(?:3[0-8]|8)\\d{7,9}|(?:1\\d|39)\\d{7,8}",
,,,,,,[6,7,8,9,10,11]],[,,"0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",,,,"0212345678"],[,,"33\\d{9}|3[1-9]\\d{8}|3[2-9]\\d{7}",
,,,"3123456789",,,[9,10,11]],[,,"80(?:0\\d{3}|3)\\d{3}",,,,"800123456",,,[6,9]],[,,"(?:0878\\d\\d|89(?:2|4[5-9]\\d))\\d{3}|89[45][0-4]\\d\\d|(?:1(?:44|6[346])|89(?:5[5-9]|9))\\d{6}",,,,"899123456",,,[6,8,9,10]],[,,"84(?:[08]\\d{3}|[17])\\d{3}",,,,"848123456",,,[6,9]],[,,"1(?:78\\d|99)\\d{6}",,,,"1781234567",,,[9,10]],[,,"55\\d{8}",,,,"5512345678",,,[10]],"IT",39,"00",,,,,,,,[[,"(\\d{4,5})","$1",["1(?:0|9[246])","1(?:0|9(?:2[2-9]|[46]))"]],[,"(\\d{6})","$1",["1(?:1|92)"]],[,"(\\d{2})(\\d{4,6})","$1 $2",
["0[26]"]],[,"(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],[,"(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],[,"(\\d{4})(\\d{4})","$1 $2",["894"]],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1[4679]|[38]"]],[,"(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3"]],[,"(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",
["0[26]"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],[[,"(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],[,"(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],[,"(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],[,"(\\d{4})(\\d{4})","$1 $2",["894"]],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1[4679]|[38]"]],[,"(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"]],
[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3"]],[,"(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],[,,,,,,,,,[-1]],1,,[,,"848\\d{6}",,,,,,,[9]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],JE:[,[,,"1534\\d{6}|(?:[3578]\\d|90)\\d{8}",,,,,,,[10],[6]],[,,"1534[0-24-8]\\d{5}",,,,"1534456789",,,,[6]],[,,"7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}",,,,"7797712345"],[,,"80(?:07(?:35|81)|8901)\\d{4}",,,,"8007354567"],[,,"(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}",
,,,"9018105678"],[,,,,,,,,,[-1]],[,,"701511\\d{4}",,,,"7015115678"],[,,"56\\d{8}",,,,"5612345678"],"JE",44,"00","0",,,"0|([0-24-8]\\d{5})$","1534$1",,,,,[,,"76(?:0[0-2]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}",,,,"7640123456"],,,[,,,,,,,,,[-1]],[,,"(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}",,,,"5512345678"],,,[,,,,,,,,,[-1]]],JM:[,[,,"(?:[58]\\d\\d|658|900)\\d{7}",,,,,,,[10],[7]],[,,"(?:658[2-9]\\d\\d|876(?:5(?:0[12]|1[0-468]|2[35]|63)|6(?:0[1-3579]|1[0237-9]|[23]\\d|40|5[06]|6[2-589]|7[05]|8[04]|9[4-9])|7(?:0[2-689]|[1-6]\\d|8[056]|9[45])|9(?:0[1-8]|1[02378]|[2-8]\\d|9[2-468])))\\d{4}",
,,,"8765230123",,,,[7]],[,,"876(?:(?:2[14-9]|[348]\\d)\\d|5(?:0[3-9]|17|[2-57-9]\\d|6[0-24-9])|7(?:0[07]|7\\d|8[1-47-9]|9[0-36-9])|9(?:[01]9|9[0579]))\\d{4}",,,,"8762101234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"JM",1,"011","1",,,"1",,,,,,[,,,,,,,,,[-1]],,"658|876",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],JO:[,[,,"900\\d{5}|(?:(?:[268]|7\\d)\\d|32|53)\\d{6}",
,,,,,,[8,9]],[,,"(?:2(?:6(?:2[0-35-9]|3[0-578]|4[24-7]|5[0-24-8]|[6-8][023]|9[0-3])|7(?:0[1-79]|10|2[014-7]|3[0-689]|4[019]|5[0-3578]))|32(?:0[1-69]|1[1-35-7]|2[024-7]|3\\d|4[0-3]|[57][023]|6[03])|53(?:0[0-3]|[13][023]|2[0-59]|49|5[0-35-9]|6[15]|7[45]|8[1-6]|9[0-36-9])|6(?:2(?:[05]0|22)|3(?:00|33)|4(?:0[0-25]|1[2-7]|2[0569]|[38][07-9]|4[025689]|6[0-589]|7\\d|9[0-2])|5(?:[01][056]|2[034]|3[0-57-9]|4[178]|5[0-69]|6[0-35-9]|7[1-379]|8[0-68]|9[0239]))|87(?:[029]0|7[08]))\\d{4}",,,,"62001234",,,[8]],[,
,"7(?:55[0-49]|(?:7[025-9]|[89][0-25-9])\\d)\\d{5}",,,,"790123456",,,[9]],[,,"80\\d{6}",,,,"80012345",,,[8]],[,,"900\\d{5}",,,,"90012345",,,[8]],[,,"85\\d{6}",,,,"85012345",,,[8]],[,,"70\\d{7}",,,,"700123456",,,[9]],[,,,,,,,,,[-1]],"JO",962,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],[,"(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],,[,,"74(?:66|77)\\d{5}",,,,"746612345",,
,[9]],,,[,,,,,,,,,[-1]],[,,"8(?:10|8\\d)\\d{5}",,,,"88101234",,,[8]],,,[,,,,,,,,,[-1]]],JP:[,[,,"00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",,,,,,,[8,9,10,11,12,13,14,15,16,17]],[,,"(?:1(?:1[235-8]|2[3-6]|3[3-9]|4[2-6]|[58][2-8]|6[2-7]|7[2-9]|9[1-9])|(?:2[2-9]|[36][1-9])\\d|4(?:[2-578]\\d|6[02-8]|9[2-59])|5(?:[2-589]\\d|6[1-9]|7[2-8])|7(?:[25-9]\\d|3[4-9]|4[02-9])|8(?:[2679]\\d|3[2-9]|4[5-9]|5[1-9]|8[03-9])|9(?:[2-58]\\d|[679][1-9]))\\d{6}",,,,"312345678",,,[9]],[,,"[7-9]0[1-9]\\d{7}",
,,,"9012345678",,,[10]],[,,"00(?:(?:37|66)\\d{6,13}|(?:777(?:[01]|(?:5|8\\d)\\d)|882[1245]\\d\\d)\\d\\d)|(?:120|800\\d)\\d{6}",,,,"120123456"],[,,"990\\d{6}",,,,"990123456",,,[9]],[,,,,,,,,,[-1]],[,,"60\\d{7}",,,,"601234567",,,[9]],[,,"50[1-9]\\d{7}",,,,"5012345678",,,[10]],"JP",81,"010","0",,,"0",,,,[[,"(\\d{4})(\\d{4})","$1-$2",["007","0077","00777","00777[01]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])",
"1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[78]|96)|477|51[24]|636)|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[78]|96[2457-9])|477|51[24]|636[2-57-9])|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:[34]7|[56]9|74|9[14-79])|82[0367]|993","2(?:[34]7|[56]9|74|9(?:1[02-689]|[4-79]))|82[0367]|993[0-25-9]",
"2(?:[34]7|59(?:[02-8]|1[0-689]|9[0-8])|69|74|9(?:1[02-689]|[4-79]))|82[0367]|993[0-25-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["2(?:2[12]|3[0-269]|4[59]|5[0-468]|62|7[1-35]|8[16]|9[0238])|4(?:2[1-57]|3[0-57]|[45]|6[28]|7[259]|8[1-9]|9[29])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|9(?:4[15]|9[12489])","2(?:2[12]|3[0-269]|4[59]|5(?:[04][01]|[1-3]|[68]1)|62|7[1-35]|8[16]|9(?:[028]|3[015-9]))|4(?:2(?:[13-57]|21)|3[0-57]|[45]|6[28]|7(?:2|[59][019])|8[1-9]|9[29])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|9(?:4[15]|9(?:[1289]|4[0178]))"],
"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|60|8(?:2[124589]|3[279]|49|6[0-24-689]|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|5[138]|6[1-3]|7[156]|8[189]|93)","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:3[014-9]|7)|5(?:5[0-69]|[68]0|7[015-9]|9)|78[0189]|8(?:3[0134]|9[0-5])|917)|4(?:2(?:20|6|8[014-6]|9[178])|64|7[347])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|60|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3[29]|49|6(?:[0-24]|5[0-3589]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|5[138]|6[1-3]|7[156]|8[189]|93[34])|(?:264|837)[016-9]|(?:59[89]|8(?:6[68]|9))[019]",
"1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:(?:2|91)7|5(?:5[0-69]|[68]0|7[015-9]|9)|64[016-9]|78[0189]|8(?:3[0134]|9[0-5]))|4(?:2(?:20|6|8[014-6])|64|7[347])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|60|8(?:2(?:[1258]|4[0-39]|9(?:[0169]|2[1-9]|4[1-3]))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|6(?:[0-24]|5(?:[0-389]|5[23])|6[01]|9[0145])|7[0-468]|8[68])|9(?:[23][1-9]|5[138]|6[1-3]|7[156]|8[189]|93(?:31|4[357]))|(?:42|866)9[178]|(?:223|8699)[014-9]|(?:59[89]|8(?:68|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:(?:2|91)7|5(?:5[0-69]|[68]0|7[015-9]|9)|64[016-9]|78[0189]|8(?:3[0134]|9[0-5]))|4(?:2(?:20|6|8[014-6])|64|7[347])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|60|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|6(?:[0-24]|5(?:[0-389]|5[23])|6[01]|9[0145])|7[0-468]|8[68])|9(?:5[138]|6[1-3]|7[156]|8[189]|93(?:31|4[357]))|(?:42|866)9[178]|(?:223|8699)[014-9]|(?:829(?:2|66)|9[23])[1-9]|(?:59[89]|8(?:68|9))[019]"],
"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2[09]|7(?:0[019]|1))"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[29][2-9]|5[3-9]|7[2-4679]|8(?:[246-9]|3[3-8]|5[2-9])","[14]|[29][2-9]|5[3-9]|7[2-4679]|8(?:[246-9]|3(?:[3-6][2-9]|7|8[2-5])|5[2-9])"],"0$1"],[,"(\\d{4})(\\d{2})(\\d{3,4})","$1-$2-$3",["007"]],[,"(\\d{4})(\\d{2})(\\d{4})","$1-$2-$3",["008"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]|80"],
"0$1"],[,"(\\d{4})(\\d{3})(\\d{3,4})","$1-$2-$3",["0"]],[,"(\\d{4})(\\d{4})(\\d{4,5})","$1-$2-$3",["0"]],[,"(\\d{4})(\\d{5})(\\d{5,6})","$1-$2-$3",["0"]],[,"(\\d{4})(\\d{6})(\\d{6,7})","$1-$2-$3",["0"]]],[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[78]|96)|477|51[24]|636)|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]",
"1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[78]|96[2457-9])|477|51[24]|636[2-57-9])|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:[34]7|[56]9|74|9[14-79])|82[0367]|993","2(?:[34]7|[56]9|74|9(?:1[02-689]|[4-79]))|82[0367]|993[0-25-9]","2(?:[34]7|59(?:[02-8]|1[0-689]|9[0-8])|69|74|9(?:1[02-689]|[4-79]))|82[0367]|993[0-25-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["2(?:2[12]|3[0-269]|4[59]|5[0-468]|62|7[1-35]|8[16]|9[0238])|4(?:2[1-57]|3[0-57]|[45]|6[28]|7[259]|8[1-9]|9[29])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|9(?:4[15]|9[12489])",
"2(?:2[12]|3[0-269]|4[59]|5(?:[04][01]|[1-3]|[68]1)|62|7[1-35]|8[16]|9(?:[028]|3[015-9]))|4(?:2(?:[13-57]|21)|3[0-57]|[45]|6[28]|7(?:2|[59][019])|8[1-9]|9[29])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|9(?:4[15]|9(?:[1289]|4[0178]))"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|60|8(?:2[124589]|3[279]|49|6[0-24-689]|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|5[138]|6[1-3]|7[156]|8[189]|93)",
"1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:3[014-9]|7)|5(?:5[0-69]|[68]0|7[015-9]|9)|78[0189]|8(?:3[0134]|9[0-5])|917)|4(?:2(?:20|6|8[014-6]|9[178])|64|7[347])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|60|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3[29]|49|6(?:[0-24]|5[0-3589]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|5[138]|6[1-3]|7[156]|8[189]|93[34])|(?:264|837)[016-9]|(?:59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:(?:2|91)7|5(?:5[0-69]|[68]0|7[015-9]|9)|64[016-9]|78[0189]|8(?:3[0134]|9[0-5]))|4(?:2(?:20|6|8[014-6])|64|7[347])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|60|8(?:2(?:[1258]|4[0-39]|9(?:[0169]|2[1-9]|4[1-3]))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|6(?:[0-24]|5(?:[0-389]|5[23])|6[01]|9[0145])|7[0-468]|8[68])|9(?:[23][1-9]|5[138]|6[1-3]|7[156]|8[189]|93(?:31|4[357]))|(?:42|866)9[178]|(?:223|8699)[014-9]|(?:59[89]|8(?:68|9))[019]",
"1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:(?:2|91)7|5(?:5[0-69]|[68]0|7[015-9]|9)|64[016-9]|78[0189]|8(?:3[0134]|9[0-5]))|4(?:2(?:20|6|8[014-6])|64|7[347])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|60|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|6(?:[0-24]|5(?:[0-389]|5[23])|6[01]|9[0145])|7[0-468]|8[68])|9(?:5[138]|6[1-3]|7[156]|8[189]|93(?:31|4[357]))|(?:42|866)9[178]|(?:223|8699)[014-9]|(?:829(?:2|66)|9[23])[1-9]|(?:59[89]|8(?:68|9))[019]"],
"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2[09]|7(?:0[019]|1))"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[29][2-9]|5[3-9]|7[2-4679]|8(?:[246-9]|3[3-8]|5[2-9])","[14]|[29][2-9]|5[3-9]|7[2-4679]|8(?:[246-9]|3(?:[3-6][2-9]|7|8[2-5])|5[2-9])"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]|80"],"0$1"]],[,,"20\\d{8}",,,,"2012345678",,,[10]],,,[,,"00(?:777(?:[01]|(?:5|8\\d)\\d)|882[1245]\\d\\d)\\d\\d|00(?:37|66)\\d{6,13}"],
[,,"570\\d{6}",,,,"570123456",,,[9]],,,[,,,,,,,,,[-1]]],KE:[,[,,"(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",,,,,,,[7,8,9,10]],[,,"(?:4[245]|5[1-79]|6[01457-9])\\d{5,7}|(?:4[136]|5[08]|62)\\d{7}|(?:[24]0|66)\\d{6,7}",,,,"202012345",,,[7,8,9]],[,,"[17]\\d{8}",,,,"712123456",,,[9]],[,,"800[24-8]\\d{5,6}",,,,"800223456",,,[9,10]],[,,"900[02-9]\\d{5}",,,,"900223456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KE",254,"000","0",,,"0",,,,[[,"(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],
"0$1"],[,"(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KG:[,[,,"(?:[235-7]\\d|99)\\d{7}|800\\d{6,7}",,,,,,,[9,10],[5,6]],[,,"(?:3(?:1(?:[256]\\d|3[1-9]|47)|2(?:22|3[0-479]|6[0-7])|4(?:22|5[6-9]|6\\d)|5(?:22|3[4-7]|59|6\\d)|6(?:22|5[35-7]|6\\d)|7(?:22|3[468]|4[1-9]|59|[67]\\d)|9(?:22|4[1-8]|6\\d))|6(?:09|12|2[2-4])\\d)\\d{5}",,,,"312123456",,,[9],[5,6]],[,,"(?:2(?:0[0-35]|2\\d)|5[0-24-7]\\d|7(?:[07]\\d|55)|99[69])\\d{6}",
,,,"700123456",,,[9]],[,,"800\\d{6,7}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KG",996,"00","0",,,"0",,,,[[,"(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KH:[,[,,"1\\d{9}|[1-9]\\d{7,8}",,,,,,,[8,9,10],[6,7]],[,,"23(?:4(?:[2-4]|[56]\\d)|[568]\\d\\d)\\d{4}|23[236-9]\\d{5}|(?:2[4-6]|3[2-6]|4[2-4]|[5-7][2-5])(?:(?:[237-9]|4[56]|5\\d)\\d{5}|6\\d{5,6})",
,,,"23756789",,,[8,9],[6,7]],[,,"(?:(?:1[28]|3[18]|9[67])\\d|6[016-9]|7(?:[07-9]|[16]\\d)|8(?:[013-79]|8\\d))\\d{6}|(?:1\\d|9[0-57-9])\\d{6}|(?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])48\\d{5}",,,,"91234567",,,[8,9]],[,,"1800(?:1\\d|2[019])\\d{4}",,,,"1800123456",,,[10]],[,,"1900(?:1\\d|2[09])\\d{4}",,,,"1900123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KH",855,"00[14-9]","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],
,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KI:[,[,,"(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",,,,,,,[5,8]],[,,"(?:[24]\\d|3[1-9]|50|65(?:02[12]|12[56]|22[89]|[3-5]00)|7(?:27\\d\\d|3100|5(?:02[12]|12[56]|22[89]|[34](?:00|81)|500))|8[0-5])\\d{3}",,,,"31234"],[,,"73140\\d{3}|(?:630[01]|730[0-5])\\d{4}|[67]200[01]\\d{3}",,,,"72001234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"30(?:0[01]\\d\\d|12(?:11|20))\\d\\d",,,,"30010000",,,[8]],
"KI",686,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KM:[,[,,"[3478]\\d{6}",,,,,,,[7]],[,,"7[4-7]\\d{5}",,,,"7712345"],[,,"[34]\\d{6}",,,,"3212345"],[,,,,,,,,,[-1]],[,,"8\\d{6}",,,,"8001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KM",269,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KN:[,[,,"(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"869(?:2(?:29|36)|302|4(?:6[015-9]|70))\\d{4}",
,,,"8692361234",,,,[7]],[,,"869(?:5(?:5[6-8]|6[5-7])|66\\d|76[02-7])\\d{4}",,,,"8697652917",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"KN",1,"011","1",,,"1|([2-7]\\d{6})$","869$1",,,,,[,,,,,,,,,[-1]],,"869",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KP:[,[,,"85\\d{6}|(?:19\\d|2)\\d{7}",,,,,,,[8,10],[6,7]],[,,"(?:2\\d|85)\\d{6}",,,,"21234567",
,,[8],[6,7]],[,,"19[1-3]\\d{7}",,,,"1921234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KP",850,"00|99","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"238[02-9]\\d{4}|2(?:[0-24-9]\\d|3[0-79])\\d{5}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KR:[,[,,"00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",
,,,,,,[5,6,8,9,10,11,12,13,14],[3,4,7]],[,,"(?:2|3[1-3]|[46][1-4]|5[1-5])[1-9]\\d{6,7}|(?:3[1-3]|[46][1-4]|5[1-5])1\\d{2,3}",,,,"22123456",,,[5,6,8,9,10],[3,4,7]],[,,"1[0-26-9]\\d{7,8}",,,,"1000000000",,,[9,10]],[,,"00(?:308\\d{6,7}|798\\d{7,9})|(?:00368|80)\\d{7}",,,,"801234567",,,[9,11,12,13,14]],[,,"60[2-9]\\d{6}",,,,"602345678",,,[9]],[,,,,,,,,,[-1]],[,,"50\\d{8,9}",,,,"5012345678",,,[10,11]],[,,"70\\d{8}",,,,"7012345678",,,[10]],"KR",82,"00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","0",
,,"0(8(?:[1-46-8]|5\\d\\d))?",,,,[[,"(\\d{5})","$1",["1[016-9]1","1[016-9]11","1[016-9]114"],"0$1"],[,"(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1","0$CC-$1"],[,"(\\d{4})(\\d{4})","$1-$2",["1"]],[,"(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1","0$CC-$1"],[,"(\\d{5})(\\d{3})(\\d{3})",
"$1 $2 $3",["003","0030"]],[,"(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1","0$CC-$1"],[,"(\\d{5})(\\d{3,4})(\\d{4})","$1 $2 $3",["0"]],[,"(\\d{5})(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["0"]]],[[,"(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1","0$CC-$1"],[,"(\\d{4})(\\d{4})","$1-$2",["1"]],[,"(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],
"0$1","0$CC-$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1","0$CC-$1"],[,"(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1","0$CC-$1"]],[,,"15\\d{7,8}",,,,"1523456789",,,[9,10]],,,[,,"00(?:3(?:08\\d{6,7}|68\\d{7})|798\\d{7,9})",,,,,,,[11,12,13,14]],[,,"1(?:5(?:22|44|66|77|88|99)|6(?:[07]0|44|6[16]|88)|8(?:00|33|55|77|99))\\d{4}",,,,"15441234",,,[8]],,,[,,,,,,,,,[-1]]],KW:[,[,,"(?:18|[2569]\\d\\d)\\d{5}",,,,,,,[7,8]],[,,"2(?:[23]\\d\\d|4(?:[1-35-9]\\d|44)|5(?:0[034]|[2-46]\\d|5[1-3]|7[1-7]))\\d{4}",
,,,"22345678",,,[8]],[,,"(?:52(?:22|5[25])|6(?:222|70[013-9]|93[039])|9(?:11[01]|702))\\d{4}|(?:5(?:[05]\\d|1[0-7]|6[56])|6(?:0[034679]|5[015-9]|6\\d|7[67]|9[069])|9(?:0[09]|22|4[01479]|55|6[0679]|7[1-9]|8[057-9]|9\\d))\\d{5}",,,,"50012345",,,[8]],[,,"18\\d{5}",,,,"1801234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"KW",965,"00",,,,,,,,[[,"(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],[,"(\\d{3})(\\d{5})","$1 $2",["[25]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,
,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KY:[,[,,"(?:345|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"345(?:2(?:22|44)|444|6(?:23|38|40)|7(?:4[35-79]|6[6-9]|77)|8(?:00|1[45]|25|[48]8)|9(?:14|4[035-9]))\\d{4}",,,,"3452221234",,,,[7]],[,,"345(?:32[1-9]|5(?:1[67]|2[5-79]|4[6-9]|50|76)|649|9(?:1[67]|2[2-9]|3[689]))\\d{4}",,,,"3453231234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"(?:345976|900[2-9]\\d\\d)\\d{4}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",
,,,"5002345678"],[,,,,,,,,,[-1]],"KY",1,"011","1",,,"1|([2-9]\\d{6})$","345$1",,,,,[,,"345849\\d{4}",,,,"3458491234"],,"345",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],KZ:[,[,,"33622\\d{5}|(?:7\\d|80)\\d{8}",,,,,,,[10],[5,6]],[,,"(?:33622|7(?:1(?:0(?:[23]\\d|4[0-3]|59|63)|1(?:[23]\\d|4[0-79]|59)|2(?:[23]\\d|59)|3(?:2\\d|3[0-79]|4[0-35-9]|59)|4(?:[24]\\d|3[013-9]|5[1-9])|5(?:2\\d|3[1-9]|4[0-7]|59)|6(?:[2-4]\\d|5[19]|61)|72\\d|8(?:[27]\\d|3[1-46-9]|4[0-5]))|2(?:1(?:[23]\\d|4[46-9]|5[3469])|2(?:2\\d|3[0679]|46|5[12679])|3(?:[2-4]\\d|5[139])|4(?:2\\d|3[1-35-9]|59)|5(?:[23]\\d|4[0-246-8]|59|61)|6(?:2\\d|3[1-9]|4[0-4]|59)|7(?:[2379]\\d|40|5[279])|8(?:[23]\\d|4[0-3]|59)|9(?:2\\d|3[124578]|59))))\\d{5}",
,,,"7123456789",,,,[5,6]],[,,"7(?:0[0-2578]|47|6[02-4]|7[15-8]|85)\\d{7}",,,,"7710009998"],[,,"800\\d{7}",,,,"8001234567"],[,,"809\\d{7}",,,,"8091234567"],[,,,,,,,,,[-1]],[,,"808\\d{7}",,,,"8081234567"],[,,"751\\d{7}",,,,"7511234567"],"KZ",7,"810","8",,,"8",,"8~10",,,,[,,,,,,,,,[-1]],,"33|7",[,,"751\\d{7}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LA:[,[,,"(?:2\\d|3)\\d{8}|(?:[235-8]\\d|41)\\d{6}",,,,,,,[8,9,10],[6]],[,,"(?:2[13]|[35-7][14]|41|8[1468])\\d{6}",,,,"21212862",,,[8],[6]],[,,"20(?:[29]\\d|5[24-689]|7[6-8])\\d{6}",
,,,"2023123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LA",856,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"30\\d{7}",,,,"301234567",,,[9]],,,[,,,,,,,,,[-1]]],LB:[,[,,"[7-9]\\d{7}|[13-9]\\d{6}",,,,,,,[7,8]],[,,"(?:(?:[14-69]\\d|8[02-9])\\d|7(?:[2-57]\\d|62|8[0-7]|9[04-9]))\\d{4}",
,,,"1123456",,,[7]],[,,"(?:(?:3|81)\\d|7(?:[01]\\d|6[013-9]|8[89]|9[1-3]))\\d{5}",,,,"71123456"],[,,,,,,,,,[-1]],[,,"9[01]\\d{6}",,,,"90123456",,,[8]],[,,"80\\d{6}",,,,"80123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LB",961,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LC:[,[,,"(?:[58]\\d\\d|758|900)\\d{7}",
,,,,,,[10],[7]],[,,"758(?:4(?:30|5\\d|6[2-9]|8[0-2])|57[0-2]|638)\\d{4}",,,,"7584305678",,,,[7]],[,,"758(?:28[4-7]|384|4(?:6[01]|8[4-9])|5(?:1[89]|20|84)|7(?:1[2-9]|2\\d|3[01]))\\d{4}",,,,"7582845678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"LC",1,"011","1",,,"1|([2-7]\\d{6})$","758$1",,,,,[,,,,,,,,,[-1]],,"758",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],
,,[,,,,,,,,,[-1]]],LI:[,[,,"90\\d{5}|(?:[2378]|6\\d\\d)\\d{6}",,,,,,,[7,9]],[,,"(?:2(?:01|1[27]|22|3\\d|6[02-578]|96)|3(?:33|40|7[0135-7]|8[048]|9[0269]))\\d{4}",,,,"2345678",,,[7]],[,,"756\\d{4}|(?:6(?:499|5[0-3]\\d|6(?:0[0-7]|10|2[06-9]|39))|7[37-9])\\d{5}",,,,"660234567"],[,,"80(?:02[28]|9\\d\\d)\\d\\d",,,,"8002222",,,[7]],[,,"90(?:02[258]|1(?:23|3[14])|66[136])\\d\\d",,,,"9002222",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LI",423,"00","0",,,"0|(10(?:01|20|66))",,,,[[,"(\\d{3})(\\d{2})(\\d{2})",
"$1 $2 $3",["[237-9]"],,"$CC $1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"],,"$CC $1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"870(?:28|87)\\d\\d",,,,"8702812",,,[7]],,,[,,"697(?:56|[78]\\d)\\d{4}",,,,"697861234",,,[9]]],LK:[,[,,"(?:[1-7]\\d|[89]1)\\d{7}",,,,,,,[9],[7]],[,,"(?:[189]1|2[13-7]|3[1-8]|4[157]|5[12457]|6[35-7])[2-57]\\d{6}",,,,"112345678",,,,[7]],[,,"7[0-25-8]\\d{7}",,,,"712345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,
,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LK",94,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"1973\\d{5}",,,,"197312345"],,,[,,,,,,,,,[-1]]],LR:[,[,,"(?:2|33|5\\d|77|88)\\d{7}|[45]\\d{6}",,,,,,,[7,8,9]],[,,"(?:2\\d{3}|33333)\\d{4}",,,,"21234567",,,[8,9]],[,,"(?:(?:330|555|(?:77|88)\\d)\\d|4[67])\\d{5}|5\\d{6}",,,,"770123456",,,[7,9]],[,,,,,,,,,[-1]],[,,"332(?:02|[34]\\d)\\d{4}",
,,,"332021234",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LR",231,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[45]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3578]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LS:[,[,,"(?:[256]\\d\\d|800)\\d{5}",,,,,,,[8]],[,,"2\\d{7}",,,,"22123456"],[,,"[56]\\d{7}",,,,"50123456"],[,,"800[256]\\d{4}",,,,"80021234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],
[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LS",266,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2568]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LT:[,[,,"(?:[3469]\\d|52|[78]0)\\d{6}",,,,,,,[8]],[,,"(?:3[1478]|4[124-6]|52)\\d{6}",,,,"31234567"],[,,"6\\d{7}",,,,"61234567"],[,,"800\\d{5}",,,,"80012345"],[,,"9(?:0[0239]|10)\\d{5}",,,,"90012345"],[,,"808\\d{5}",,,,"80812345"],[,,"700\\d{5}",,,,"70012345"],[,,,,,,,,,[-1]],"LT",370,"00","8",,,"[08]",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",
["52[0-79]"],"(8-$1)",,1],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",,1],[,"(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",,1],[,"(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(8-$1)",,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"70[67]\\d{5}",,,,"70712345"],,,[,,,,,,,,,[-1]]],LU:[,[,,"35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",,,,,,,[4,5,6,7,8,9,10,11]],[,,"(?:35[013-9]|80[2-9]|90[89])\\d{1,8}|(?:2[2-9]|3[0-46-9]|[457]\\d|8[13-9]|9[2-579])\\d{2,9}",,,,
"27123456"],[,,"6(?:[269][18]|5[158]|7[189]|81)\\d{6}",,,,"628123456",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"90[015]\\d{5}",,,,"90012345",,,[8]],[,,"801\\d{5}",,,,"80112345",,,[8]],[,,,,,,,,,[-1]],[,,"20(?:1\\d{5}|[2-689]\\d{1,7})",,,,"20201234",,,[4,5,6,7,8,9,10]],"LU",352,"00",,,,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)",,,,[[,"(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"],
,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"],,"$CC $1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"],,"$CC $1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"],,"$CC $1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",
["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"],,"$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],LV:[,[,,"(?:[268]\\d|90)\\d{6}",,,,,,,[8]],[,,"6\\d{7}",,,,"63123456"],[,,"2\\d{7}",,,,"21234567"],[,,"80\\d{6}",,,,"80123456"],[,,"90\\d{6}",,,,"90123456"],[,,"81\\d{6}",,,,"81123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LV",371,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],
LY:[,[,,"(?:[2569]\\d|71)\\d{7}",,,,,,,[9],[7]],[,,"(?:2[13-5]|5[1347]|6[1-479]|71)\\d{7}",,,,"212345678",,,,[7]],[,,"9[1-6]\\d{7}",,,,"912345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"LY",218,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{7})","$1-$2",["[25-79]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MA:[,[,,"[5-8]\\d{8}",,,,,,,[9]],[,,"5(?:2(?:[015-79]\\d|2[02-9]|3[2-57]|4[2-8]|8[235-7])|3(?:[0-48]\\d|[57][2-9]|6[2-8]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}",
,,,"520123456"],[,,"(?:6(?:[0-79]\\d|8[0-247-9])|7(?:0[067]|6[1267]|7[017]))\\d{6}",,,,"650123456"],[,,"80\\d{7}",,,,"801234567"],[,,"89\\d{7}",,,,"891234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5924[01]\\d{4}",,,,"592401234"],"MA",212,"00","0",,,"0",,,,[[,"(\\d{5})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],[,"(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|9)|892"],"0$1"],[,"(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],
[,"(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],,[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MC:[,[,,"870\\d{5}|(?:[349]|6\\d)\\d{7}",,,,,,,[8,9]],[,,"(?:870|9[2-47-9]\\d)\\d{5}",,,,"99123456",,,[8]],[,,"4(?:4\\d|5[1-9])\\d{5}|(?:3|6\\d)\\d{7}",,,,"612345678"],[,,"90\\d{6}",,,,"90123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MC",377,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["8"]],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],
"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[39]"]],[,"(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[39]"]],[,"(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],[,,,,,,,,,[-1]],,,[,,"870\\d{5}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MD:[,[,,"(?:[235-7]\\d|[89]0)\\d{6}",,,,,,,[8]],[,,"(?:(?:2[1-9]|3[1-79])\\d|5(?:33|5[257]))\\d{5}",
,,,"22212345"],[,,"(?:562|6\\d\\d|7(?:[189]\\d|6[07]|7[457-9]))\\d{5}",,,,"62112345"],[,,"800\\d{5}",,,,"80012345"],[,,"90[056]\\d{5}",,,,"90012345"],[,,"808\\d{5}",,,,"80812345"],[,,,,,,,,,[-1]],[,,"3[08]\\d{6}",,,,"30123456"],"MD",373,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"803\\d{5}",,,,"80312345"],,,[,,,,,,,,,[-1]]],ME:[,
[,,"(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",,,,,,,[8,9],[6]],[,,"(?:20[2-8]|3(?:[0-2][2-7]|3[24-7])|4(?:0[2-467]|1[2467])|5(?:[01][2467]|2[2-467]))\\d{5}",,,,"30234567",,,[8],[6]],[,,"6(?:00|3[024]|6[0-25]|[7-9]\\d)\\d{5}",,,,"67622901",,,[8]],[,,"80(?:[0-2578]|9\\d)\\d{5}",,,,"80080002"],[,,"9(?:4[1568]|5[178])\\d{5}",,,,"94515151",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"78[1-49]\\d{5}",,,,"78108780",,,[8]],"ME",382,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],,[,
,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"77[1-9]\\d{5}",,,,"77273012",,,[8]],,,[,,,,,,,,,[-1]]],MF:[,[,,"(?:590|69\\d)\\d{6}",,,,,,,[9]],[,,"590(?:0[079]|[14]3|[27][79]|30|5[0-268]|87)\\d{4}",,,,"590271234"],[,,"69(?:0\\d\\d|1(?:2[29]|3[0-5]))\\d{4}",,,,"690001234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MF",590,"00","0",,,"0",,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MG:[,[,,"[23]\\d{8}",,,,,,,[9],[7]],[,,"2072[29]\\d{4}|20(?:2\\d|4[47]|5[3467]|6[279]|7[35]|8[268]|9[245])\\d{5}",
,,,"202123456",,,,[7]],[,,"3[2-49]\\d{7}",,,,"321234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"22\\d{7}",,,,"221234567"],"MG",261,"00","0",,,"0|([24-9]\\d{6})$","20$1",,,[[,"(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MH:[,[,,"329\\d{4}|(?:[256]\\d|45)\\d{5}",,,,,,,[7]],[,,"(?:247|528|625)\\d{4}",,,,"2471234"],[,,"(?:(?:23|54)5|329|45[56])\\d{4}",,,,"2351234"],[,,,,,,,,,[-1]],
[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"635\\d{4}",,,,"6351234"],"MH",692,"011","1",,,"1",,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MK:[,[,,"[2-578]\\d{7}",,,,,,,[8],[6,7]],[,,"(?:2(?:[23]\\d|5[0-24578]|6[01]|82)|3(?:1[3-68]|[23][2-68]|4[23568])|4(?:[23][2-68]|4[3-68]|5[2568]|6[25-8]|7[24-68]|8[4-68]))\\d{5}",,,,"22012345",,,,[6,7]],[,,"7(?:(?:[0-25-8]\\d|3[2-4]|9[23])\\d|421)\\d{4}",,,,"72345678"],[,,"800\\d{5}",
,,,"80012345"],[,,"5[02-9]\\d{6}",,,,"50012345"],[,,"8(?:0[1-9]|[1-9]\\d)\\d{5}",,,,"80123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MK",389,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],[,"(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ML:[,[,,"(?:[246-9]\\d|50)\\d{6}",,,,,,,[8]],[,,"2(?:07[0-8]|12[67])\\d{4}|(?:2(?:02|1[4-689])|4(?:0[0-4]|4[1-39]))\\d{5}",
,,,"20212345"],[,,"2(?:079|17\\d)\\d{4}|(?:50|[679]\\d|8[239])\\d{6}",,,,"65012345"],[,,"80\\d{6}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"ML",223,"00",,,,,,,,[[,"(\\d{4})","$1",["67[057-9]|74[045]","67(?:0[09]|[59]9|77|8[89])|74(?:0[02]|44|55)"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]],[,,,,,,,,,[-1]],,,[,,"80\\d{6}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MM:[,[,,"1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",
,,,,,,[6,7,8,9,10],[5]],[,,"(?:1(?:(?:2\\d|3[56]|[89][0-6])\\d|4(?:2[2-469]|39|6[25]|7[01])|6)|2(?:2(?:00|8[34])|4(?:0\\d|2[246]|39|62|7[01])|51\\d\\d)|4(?:2(?:2\\d\\d|480)|[34]20\\d)|6(?:0(?:[23]|88\\d)|(?:124|320|42[04]|[56]2\\d)\\d|7(?:(?:3\\d|8[01459])\\d|4(?:39|[67]0)))|8[1-35]2\\d\\d)\\d{4}|5(?:22\\d{5,6}|(?:3[2-68]|42(?:1|86)|(?:522|[89]20)\\d|6[2-4]|7(?:20\\d|480))\\d{4})|7(?:120\\d{4,5}|(?:425\\d|5(?:202|96\\d))\\d{4})|(?:(?:1[2-6]\\d|4(?:2[24-8]|356|[46][2-6]|5[35])|5(?:2[235-8]|4[25-8]|5[23]|7[2-8]|8[25-7]|9[235-7])|6(?:[19]20|42[03-6]|(?:52|7[45])\\d)|7(?:[04][25-8]|[15][235-7]|22|3[2-4]))\\d|8(?:[135]2\\d\\d|2(?:2\\d\\d|320)))\\d{3}|25\\d{5,6}|(?:2[2-9]|43[235-7]|6(?:1[2356]|[24][2-6]|3[256]|5[2-4]|6[2-8]|7[235-7]|8[245]|9[24])|8(?:1[235689]|2[2-8]|32|4[24-7]|5[245]|6[23]))\\d{4}|(?:4[35]|5[2489]|63|7[0145]|8[13])4(?:[0-689]\\d{3}|7(?:0\\d\\d(?:\\d{2})?|[1-9]\\d\\d))",
,,,"1234567",,,[6,7,8,9],[5]],[,,"(?:17[01]|9(?:2(?:[0-4]|[56]\\d\\d)|(?:3(?:[0-36]|4\\d)|(?:6[89]|89)\\d|7(?:3|5[0-2]|[6-9]\\d))\\d|4(?:(?:[0245]\\d|[1379])\\d|88)|5[0-6]|9(?:[089]|[5-7]\\d\\d))\\d)\\d{4}|9[69]1\\d{6}|9[68]\\d{6}",,,,"92123456",,,[7,8,9,10]],[,,"80080(?:[01][1-9]|2\\d)\\d{3}",,,,"8008001234",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"1333\\d{4}|[12]468\\d{4}",,,,"13331234",,,[8]],"MM",95,"00","0",,,"0",,,,[[,"(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{3})",
"$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],[,"(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],[,"(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],[,"(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],,[,,,
,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MN:[,[,,"[12]\\d{7,9}|[57-9]\\d{7}",,,,,,,[8,9,10],[4,5,6]],[,,"[12]2[1-3]\\d{5,6}|(?:[12](?:1|27)|5[0568])\\d{6}|[12](?:3[2-8]|4[2-68]|5[1-4689])\\d{6,7}",,,,"50123456",,,,[4,5,6]],[,,"83[01]\\d{5}|(?:8[05689]|9[013-9])\\d{6}",,,,"88123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"7[05-8]\\d{6}",,,,"75123456",,,[8]],"MN",976,"001","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],
[,"(\\d{4})(\\d{4})","$1 $2",["[57-9]"]],[,"(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],[,"(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],[,"(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MO:[,[,,"(?:28|[68]\\d)\\d{6}",,,,,,,[8]],[,,"(?:28[2-57-9]|8(?:11|[2-57-9]\\d))\\d{5}",,,,"28212345"],[,,"6(?:[2356]\\d\\d|8(?:[02][5-9]|[1478]\\d|[356][0-4]))\\d{4}",
,,,"66123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MO",853,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[268]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MP:[,[,,"[58]\\d{9}|(?:67|90)0\\d{7}",,,,,,,[10],[7]],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1-38]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[3589]|8[3-9]8|989)\\d{4}",,,,"6702345678",,,,[7]],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1-38]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[3589]|8[3-9]8|989)\\d{4}",
,,,"6702345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"MP",1,"011","1",,,"1|([2-9]\\d{6})$","670$1",,1,,,[,,,,,,,,,[-1]],,"670",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MQ:[,[,,"(?:596|69\\d)\\d{6}",,,,,,,[9]],[,,"596(?:0[0-7]|10|2[7-9]|3[05-9]|4[0-46-8]|[5-7]\\d|8[09]|9[4-8])\\d{4}",,,,"596301234"],[,,"69(?:6(?:[0-47-9]\\d|5[0-6]|6[0-4])|727)\\d{4}",
,,,"696201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MQ",596,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[56]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MR:[,[,,"(?:[2-4]\\d\\d|800)\\d{5}",,,,,,,[8]],[,,"(?:25[08]|35\\d|45[1-7])\\d{5}",,,,"35123456"],[,,"[2-4][0-46-9]\\d{6}",,,,"22123456"],[,,"800\\d{5}",,,,"80012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MR",222,
"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MS:[,[,,"66449\\d{5}|(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"664491\\d{4}",,,,"6644912345",,,,[7]],[,,"66449[2-6]\\d{4}",,,,"6644923456",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"MS",1,"011",
"1",,,"1|(4\\d{6})$","664$1",,,,,[,,,,,,,,,[-1]],,"664",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MT:[,[,,"3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",,,,,,,[8]],[,,"203[1-4]\\d{4}|2(?:0[169]|[1-357]\\d)\\d{5}",,,,"21001234"],[,,"(?:7(?:210|[79]\\d\\d)|9(?:2(?:1[01]|31)|69[67]|8(?:1[1-3]|89|97)|9\\d\\d))\\d{4}",,,,"96961234"],[,,"800[3467]\\d{4}",,,,"80071234"],[,,"5(?:0(?:0(?:37|43)|(?:6\\d|70|9[0168])\\d)|[12]\\d0[1-5])\\d{3}",,,,"50037123"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3550\\d{4}",,
,,"35501234"],"MT",356,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]],,[,,"7117\\d{4}",,,,"71171234"],,,[,,,,,,,,,[-1]],[,,"501\\d{5}",,,,"50112345"],,,[,,,,,,,,,[-1]]],MU:[,[,,"(?:[2-468]|5\\d)\\d{6}",,,,,,,[7,8]],[,,"(?:2(?:[03478]\\d|1[0-7]|6[0-79])|4(?:[013568]\\d|2[4-7])|54(?:4\\d|71)|6\\d\\d|8(?:14|3[129]))\\d{4}",,,,"54480123"],[,,"5(?:4(?:2[1-389]|7[1-9])|87[15-8])\\d{4}|5(?:2[589]|4[489]|7\\d|8[0-689]|9[0-8])\\d{5}",,,,"52512345",,,[8]],[,,"80[0-2]\\d{4}",,,,"8001234",,,[7]],[,
,"30\\d{5}",,,,"3012345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3(?:20|9\\d)\\d{4}",,,,"3201234",,,[7]],"MU",230,"0(?:0|[24-7]0|3[03])",,,,,,"020",,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],[,"(\\d{4})(\\d{4})","$1 $2",["5"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MV:[,[,,"(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",,,,,,,[7,10]],[,,"(?:3(?:0[0-3]|3[0-59])|6(?:[57][02468]|6[024-68]|8[024689]))\\d{4}",,,,"6701234",,,[7]],[,,"46[46]\\d{4}|(?:7[2-9]|9[14-9])\\d{5}",
,,,"7712345",,,[7]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MV",960,"0(?:0|19)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1-$2",["[3467]|9[14-9]"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"4[05]0\\d{4}",,,,"4001234",,,[7]],,,[,,,,,,,,,[-1]]],MW:[,[,,"1\\d{6}(?:\\d{2})?|(?:[23]1|77|88|99)\\d{7}",,,,,,,[7,9]],[,,"(?:1[2-9]|21\\d\\d)\\d{5}",,,,"1234567"],[,,"111\\d{6}|(?:77|88|99)\\d{7}",
,,,"991234567",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"31\\d{7}",,,,"310123456",,,[9]],"MW",265,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[17-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MX:[,[,,"(?:1\\d|[2-9])\\d{9}",,,,,,,[10,11],[7,8]],
[,,"(?:2(?:0[01]|2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-7][1-9]|3[1-8]|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1-467][1-9]|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7}",,,,"2221234567",,,[10],[7,8]],[,,"1(?:2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-7][1-9]|3[1-8]|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1-467][1-9]|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7}",
,,,"12221234567",,,[11]],[,,"8(?:00|88)\\d{7}",,,,"8001234567",,,[10]],[,,"900\\d{7}",,,,"9001234567",,,[10]],[,,"300\\d{7}",,,,"3001234567",,,[10]],[,,"500\\d{7}",,,,"5001234567",,,[10]],[,,,,,,,,,[-1]],"MX",52,"0[09]","01",,,"0[12]|04[45]([2-9]\\d{9})$","1$1","00",,[[,"(\\d{5})","$1",["53"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],"01 $1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],"01 $1",,1],[,"(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],"044 $1"],
[,"(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],"044 $1"]],[[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],"01 $1",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],"01 $1",,1],[,"(\\d)(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3 $4",["1(?:33|5[56]|81)"]],[,"(\\d)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MY:[,[,,"1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",,,,,,,[8,9,10],[6,7]],[,,"(?:3(?:2[0-36-9]|3[0-368]|4[0-278]|5[0-24-8]|6[0-467]|7[1246-9]|8\\d|9[0-57])\\d|4(?:2[0-689]|[3-79]\\d|8[1-35689])|5(?:2[0-589]|[3468]\\d|5[0-489]|7[1-9]|9[23])|6(?:2[2-9]|3[1357-9]|[46]\\d|5[0-6]|7[0-35-9]|85|9[015-8])|7(?:[2579]\\d|3[03-68]|4[0-8]|6[5-9]|8[0-35-9])|8(?:[24][2-8]|3[2-5]|5[2-7]|6[2-589]|7[2-578]|[89][2-9])|9(?:0[57]|13|[25-7]\\d|[3489][0-8]))\\d{5}",
,,,"323856789",,,[8,9],[6,7]],[,,"1(?:4400|8(?:47|8[27])[0-4])\\d{4}|1(?:0(?:[23568]\\d|4[0-6]|7[016-9]|9[0-8])|1(?:[1-5]\\d\\d|6(?:0[5-9]|[1-9]\\d))|(?:[23679][2-9]|4[235-9]|59\\d)\\d|8(?:1[23]|[236]\\d|4[06]|5[7-9]|7[016-9]|8[01]|9[0-8]))\\d{5}",,,,"123456789",,,[9,10]],[,,"1[378]00\\d{6}",,,,"1300123456",,,[10]],[,,"1600\\d{6}",,,,"1600123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"154(?:6(?:0\\d|1[0-3])|8(?:[25]1|4[0189]|7[0-4679]))\\d{4}",,,,"1546012345",,,[10]],"MY",60,"00","0",,,"0",,
,,[[,"(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[0249]|[367][2-9]|8[1-9])|8"],"0$1"],[,"(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],[,"(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],MZ:[,[,,"(?:2|8\\d)\\d{7}",,,,,,,[8,9]],[,,"2(?:[1346]\\d|5[0-2]|[78][12]|93)\\d{5}",
,,,"21123456",,,[8]],[,,"8[2-7]\\d{7}",,,,"821234567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"MZ",258,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-7]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NA:[,[,,"[68]\\d{7,8}",,,,,,,[8,9]],[,,"6(?:1(?:[02-4]\\d\\d|17)|2(?:17|54\\d|69|70)|3(?:17|2[0237]\\d|34|6[289]|7[01]|81)|4(?:17|(?:27|41|5[25])\\d|69|7[01])|5(?:17|2[236-8]\\d|69|7[01])|6(?:17|26\\d|38|42|69|7[01])|7(?:17|(?:2[2-4]|30)\\d|6[89]|7[01]))\\d{4}|6(?:1(?:2[2-7]|3[01378]|4[0-4]|69|7[014])|25[0-46-8]|32\\d|4(?:2[0-27]|4[016]|5[0-357])|52[02-9]|62[56]|7(?:2[2-69]|3[013]))\\d{4}",
,,,"61221234"],[,,"(?:60|8[1245])\\d{7}",,,,"811234567",,,[9]],[,,"80\\d{7}",,,,"800123456",,,[9]],[,,"8701\\d{5}",,,,"870123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"8(?:3\\d\\d|86)\\d{5}",,,,"88612345"],"NA",264,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,
[-1]],,,[,,,,,,,,,[-1]]],NC:[,[,,"[2-57-9]\\d{5}",,,,,,,[6]],[,,"(?:2[03-9]|3[0-5]|4[1-7]|88)\\d{4}",,,,"201234"],[,,"(?:5[0-4]|[79]\\d|8[0-79])\\d{4}",,,,"751234"],[,,,,,,,,,[-1]],[,,"36\\d{4}",,,,"366711"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NC",687,"00",,,,,,,,[[,"(\\d{3})","$1",["5[6-8]"]],[,"(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-57-9]"]]],[[,"(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-57-9]"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NE:[,[,,"[0289]\\d{7}",
,,,,,,[8]],[,,"2(?:0(?:20|3[1-7]|4[13-5]|5[14]|6[14578]|7[1-578])|1(?:4[145]|5[14]|6[14-68]|7[169]|88))\\d{4}",,,,"20201234"],[,,"(?:8[04589]|9\\d)\\d{6}",,,,"93123456"],[,,"08\\d{6}",,,,"08123456"],[,,"09\\d{6}",,,,"09123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NE",227,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[01]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NF:[,[,,"[13]\\d{5}",
,,,,,,[6],[5]],[,,"(?:1(?:06|17|28|39)|3[0-2]\\d)\\d{3}",,,,"106609",,,,[5]],[,,"3[58]\\d{4}",,,,"381234",,,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NF",672,"00",,,,"([0-258]\\d{4})$","3$1",,,[[,"(\\d{2})(\\d{4})","$1 $2",["1"]],[,"(\\d)(\\d{5})","$1 $2",["3"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NG:[,[,,"(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",,,,,,,[7,8,10,11,12,13,14],[5,6]],[,,"(?:(?:[1-356]\\d|4[02-8]|7[0-79]|8[2-9])\\d|9(?:0[3-9]|[1-9]\\d))\\d{5}|(?:[12]\\d|4[147]|5[14579]|6[1578]|7[0-3578])\\d{5}",
,,,"18040123",,,[7,8],[5,6]],[,,"(?:707[0-3]|8(?:01|19)[01])\\d{6}|(?:70[1-689]|8(?:0[2-9]|1[0-8])|90[235-9])\\d{7}",,,,"8021234567",,,[10]],[,,"800\\d{7,11}",,,,"80017591759",,,[10,11,12,13,14]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NG",234,"009","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-7]|8[2-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})",
"$1 $2 $3",["[7-9]"],"0$1"],[,"(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],[,"(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"700\\d{7,11}",,,,"7001234567",,,[10,11,12,13,14]],,,[,,,,,,,,,[-1]]],NI:[,[,,"(?:1800|[25-8]\\d{3})\\d{4}",,,,,,,[8]],[,,"2\\d{7}",,,,"21234567"],[,,"(?:5(?:5[0-7]|[78]\\d)|6(?:20|3[035]|4[045]|5[05]|77|8[1-9]|9[059])|(?:7[5-8]|8\\d)\\d)\\d{5}",,,,"81234567"],[,,"1800\\d{4}",,,,"18001234"],[,,,,,,,,,[-1]],[,,,,,,,,,
[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NI",505,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NL:[,[,,"(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|[89]\\d{6,9}|1\\d{4,5}",,,,,,,[5,6,7,8,9,10]],[,,"(?:1(?:[035]\\d|1[13-578]|6[124-8]|7[24]|8[0-467])|2(?:[0346]\\d|2[2-46-9]|5[125]|9[479])|3(?:[03568]\\d|1[3-8]|2[01]|4[1-8])|4(?:[0356]\\d|1[1-368]|7[58]|8[15-8]|9[23579])|5(?:[0358]\\d|[19][1-9]|2[1-57-9]|4[13-8]|6[126]|7[0-3578])|7\\d\\d)\\d{6}",
,,,"101234567",,,[9]],[,,"6[1-58]\\d{7}",,,,"612345678",,,[9]],[,,"800\\d{4,7}",,,,"8001234",,,[7,8,9,10]],[,,"90[069]\\d{4,7}",,,,"9061234",,,[7,8,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:85|91)\\d{7}",,,,"851234567",,,[9]],"NL",31,"00","0",,,"0",,,,[[,"(\\d{4})","$1",["1[238]|[34]"]],[,"(\\d{2})(\\d{3,4})","$1 $2",["14"]],[,"(\\d{6})","$1",["1"]],[,"(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],[,"(\\d)(\\d{8})","$1 $2",["6"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})",
"$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-57-9]"],"0$1"]],[[,"(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],[,"(\\d)(\\d{8})","$1 $2",["6"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-57-9]"],"0$1"]],[,,"66\\d{7}",,,,"662345678",,,[9]],,,[,,"140(?:1[035]|2[0346]|3[03568]|4[0356]|5[0358]|8[458])|140(?:1[16-8]|2[259]|3[124]|4[17-9]|5[124679]|7)\\d",
,,,,,,[5,6]],[,,"140(?:1[035]|2[0346]|3[03568]|4[0356]|5[0358]|8[458])|(?:140(?:1[16-8]|2[259]|3[124]|4[17-9]|5[124679]|7)|8[478]\\d{6})\\d",,,,"14020",,,[5,6,9]],,,[,,,,,,,,,[-1]]],NO:[,[,,"(?:0|[2-9]\\d{3})\\d{4}",,,,,,,[5,8]],[,,"(?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])\\d{6}",,,,"21234567",,,[8]],[,,"(?:4[015-8]|5[89]|9\\d)\\d{6}",,,,"40612345",,,[8]],[,,"80[01]\\d{5}",,,,"80012345",,,[8]],[,,"82[09]\\d{5}",,,,"82012345",,,[8]],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}",,,,"81021234",,,[8]],[,,
"880\\d{5}",,,,"88012345",,,[8]],[,,"85[0-5]\\d{5}",,,,"85012345",,,[8]],"NO",47,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[489]"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],,[,,,,,,,,,[-1]],1,"[02-689]|7[0-8]",[,,,,,,,,,[-1]],[,,"8100[7-9]\\d{3}|(?:0|81(?:01|5\\d))\\d{4}",,,,"01234"],,,[,,"81[23]\\d{5}",,,,"81212345",,,[8]]],NP:[,[,,"9\\d{9}|[1-9]\\d{7}",,,,,,,[8,10],[6,7]],[,,"1[0-6]\\d{6}|(?:2[13-79]|3[135-8]|4[146-9]|5[135-7]|6[13-9]|7[15-9]|8[1-46-9]|9[1-79])[2-6]\\d{5}",
,,,"14567890",,,[8],[6,7]],[,,"9(?:6[0-3]|7[245]|8[0-24-68])\\d{7}",,,,"9841234567",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NP",977,"00","0",,,"0",,,,[[,"(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],[,"(\\d{2})(\\d{6})","$1-$2",["[1-8]|9(?:[1-579]|6[2-6])"],"0$1"],[,"(\\d{3})(\\d{7})","$1-$2",["9"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NR:[,[,,"(?:444|55\\d|888)\\d{4}",,,,,,,[7]],[,,"(?:444|888)\\d{4}",,,,"4441234"],[,
,"55[4-9]\\d{4}",,,,"5551234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NR",674,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[458]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NU:[,[,,"(?:[47]|888\\d)\\d{3}",,,,,,,[4,7]],[,,"[47]\\d{3}",,,,"7012",,,[4]],[,,"888[4-9]\\d{3}",,,,"8884012",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"NU",683,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["8"]]],
,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],NZ:[,[,,"[28]\\d{7,9}|[346]\\d{7}|(?:508|[79]\\d)\\d{6,7}",,,,,,,[8,9,10],[7]],[,,"24099\\d{3}|(?:3[2-79]|[49][2-9]|6[235-9]|7[2-57-9])\\d{6}",,,,"32345678",,,[8],[7]],[,,"2[0-28]\\d{8}|2[0-27-9]\\d{7}|21\\d{6}",,,,"211234567"],[,,"508\\d{6,7}|80\\d{6,8}",,,,"800123456"],[,,"90\\d{6,7}",,,,"900123456",,,[8,9]],[,,,,,,,,,[-1]],[,,"70\\d{7}",,,,"701234567",,,[9]],[,,,,,,,,,[-1]],"NZ",64,"0(?:0|161)","0",,,"0",,"00",,[[,"(\\d{3})(\\d{2})(\\d{3})",
"$1 $2 $3",["[89]0"],"0$1"],[,"(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[59]|80"],"0$1"],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["2[028]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7|86"],"0$1"]],,[,,"[28]6\\d{6,7}",,,,"26123456",,,[8,9]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],OM:[,[,,"(?:[279]\\d{3}|500)\\d{4}|8007\\d{4,5}",,,,,,,[7,8,9]],[,,"2[2-6]\\d{6}",,,,"23123456",
,,[8]],[,,"90[1-9]\\d{5}|(?:7[129]|9[1-9])\\d{6}",,,,"92123456",,,[8]],[,,"500\\d{4}|8007\\d{4,5}",,,,"80071234"],[,,"900\\d{5}",,,,"90012345",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"OM",968,"00",,,,,,,,[[,"(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],[,"(\\d{2})(\\d{6})","$1 $2",["2"]],[,"(\\d{4})(\\d{4})","$1 $2",["[79]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PA:[,[,,"(?:[1-57-9]|6\\d)\\d{6}",,,,,,,[7,8]],[,,"(?:1(?:0\\d|1[479]|2[37]|3[0137]|4[17]|5[05]|[68][58]|7[0167]|9[39])|2(?:[0235-79]\\d|1[0-7]|4[013-9]|8[026-9])|3(?:[089]\\d|1[014-7]|2[0-35]|33|4[0-579]|55|6[068]|7[06-8])|4(?:00|3[0-579]|4\\d|7[0-57-9])|5(?:[01]\\d|2[0-7]|[56]0|79)|7(?:0[09]|2[0-26-8]|3[03]|4[04]|5[05-9]|6[05]|7[0-24-9]|8[7-9]|90)|8(?:09|2[89]|3\\d|4[0-24-689]|5[014]|8[02])|9(?:0[5-9]|1[0135-8]|2[036-9]|3[35-79]|40|5[0457-9]|6[05-9]|7[04-9]|8[35-8]|9\\d))\\d{4}",
,,,"2001234",,,[7]],[,,"(?:1[16]1|21[89]|6(?:[02-9]\\d|1[0-6])\\d|8(?:1[01]|7[23]))\\d{4}",,,,"61234567"],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,"(?:8(?:22|55|60|7[78]|86)|9(?:00|81))\\d{4}",,,,"8601234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PA",507,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],[,"(\\d{4})(\\d{4})","$1-$2",["6"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PE:[,[,,"(?:[14-8]|9\\d)\\d{7}",,,,,,,[8,9],[6,7]],[,,"(?:1\\d|4[1-4]|5[1-46]|6[1-7]|7[2-46]|8[2-4])\\d{6}",
,,,"11234567",,,[8],[6,7]],[,,"9\\d{8}",,,,"912345678",,,[9]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"805\\d{5}",,,,"80512345",,,[8]],[,,"801\\d{5}",,,,"80112345",,,[8]],[,,"80[24]\\d{5}",,,,"80212345",,,[8]],[,,,,,,,,,[-1]],"PE",51,"19(?:1[124]|77|90)00","0"," Anexo ",,"0",,,,[[,"(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],[,"(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],[,"(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,
,,,,,[-1]],,,[,,,,,,,,,[-1]]],PF:[,[,,"[48]\\d{7}|4\\d{5}",,,,,,,[6,8]],[,,"4(?:[09][4-689]\\d|4)\\d{4}",,,,"40412345"],[,,"8[79]\\d{6}",,,,"87123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PF",689,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[48]"]]],,[,,,,,,,,,[-1]],,,[,,"44\\d{4}",,,,,,,[6]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PG:[,[,,"(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",
,,,,,,[7,8]],[,,"(?:64[1-9]|7730|85[02-46-9])\\d{4}|(?:3[0-2]|4[257]|5[34]|77[0-24]|9[78])\\d{5}",,,,"3123456"],[,,"775\\d{5}|(?:7[0-689]|81)\\d{6}",,,,"70123456",,,[8]],[,,"180\\d{4}",,,,"1801234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"2(?:0[0-47]|7[568])\\d{4}",,,,"2751234",,,[7]],"PG",675,"00|140[1-3]",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],[,"(\\d{4})(\\d{4})","$1 $2",["[78]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PH:[,
[,,"(?:1800|8)\\d{7,9}|2\\d{5}(?:\\d{2})?|(?:[3-7]|9\\d)\\d{8}",,,,,,,[6,8,9,10,11,12,13],[4,5,7]],[,,"2\\d{5}(?:\\d{2})?|88(?:22\\d\\d|42)\\d{4}|88\\d{7}|(?:3[2-68]|4[2-9]|5[2-6]|6[2-58]|7[24578]|8[2-7])\\d{7}",,,,"21234567",,,[6,8,9,10],[4,5,7]],[,,"(?:81[37]|9(?:0[5-9]|1[024-9]|2[0-35-9]|3[02-9]|4[235-9]|5[056]|6[5-7]|7[3-79]|89|9[4-9]))\\d{7}",,,,"9051234567",,,[10]],[,,"1800\\d{7,9}",,,,"180012345678",,,[11,12,13]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PH",63,"00",
"0",,,"0",,,,[[,"(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],[,"(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],[,"(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{4})",
"$1 $2 $3",["[89]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],[,"(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PK:[,[,,"122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[025-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",,,,,,,[8,9,10,11,12],[5,6,7]],[,,"(?:(?:21|42)[2-9]|58[126])\\d{7}|(?:2[25]|4[0146-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]\\d{6}|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8]))[2-9]\\d{5,6}",
,,,"2123456789",,,[9,10],[5,6,7,8]],[,,"3(?:[014]\\d|2[0-5]|3[0-7]|55|64)\\d{7}",,,,"3012345678",,,[10]],[,,"800\\d{5}",,,,"80012345",,,[8]],[,,"900\\d{5}",,,,"90012345",,,[8]],[,,,,,,,,,[-1]],[,,"122\\d{6}",,,,"122044444",,,[9]],[,,,,,,,,,[-1]],"PK",92,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["[89]0"],"0$1"],[,"(\\d{4})(\\d{5})","$1 $2",["1"]],[,"(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],[,"(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])",
"9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],[,"(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],[,"(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:2(?:[125]|3[2358]|4[2-4]|9[2-8])|4(?:[0-246-9]|5[3479])|5(?:[1-35-7]|4[2-467])|6(?:0[468]|[1-8])|7(?:[14]|2[236])|8(?:[16]|2[2-689]|3[23578]|4[3478]|5[2356])|9(?:1|22|3[27-9]|4[2-6]|6[3569]|9[2-7]))111\\d{6}",
,,,"21111825888",,,[11,12]],,,[,,,,,,,,,[-1]]],PL:[,[,,"[1-57-9]\\d{6}(?:\\d{2})?|6\\d{5,8}",,,,,,,[6,7,8,9]],[,,"(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])(?:[02-9]\\d{6}|1(?:[0-8]\\d{5}|9\\d{3}(?:\\d{2})?))",,,,"123456789",,,[7,9]],[,,"(?:45|5[0137]|6[069]|7[2389]|88)\\d{7}",,,,"512345678",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"70[01346-8]\\d{6}",,,,"701234567",,,[9]],[,,"801\\d{6}",,,,"801234567",,,[9]],[,,,,,,,,,[-1]],[,,"39\\d{7}",,,,"391234567",,,
[9]],"PL",48,"00",,,,,,,,[[,"(\\d{5})","$1",["19"]],[,"(\\d{3})(\\d{3})","$1 $2",["11|64"]],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["39|45|5[0137]|6[0469]|7[02389]|8[08]"]],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-8]|9[145]"]]],
,[,,"64\\d{4,7}",,,,"641234567"],,,[,,,,,,,,,[-1]],[,,"804\\d{6}",,,,"804123456",,,[9]],,,[,,,,,,,,,[-1]]],PM:[,[,,"[45]\\d{5}",,,,,,,[6]],[,,"(?:4[1-3]|50)\\d{4}",,,,"430123"],[,,"(?:4[02-4]|5[05])\\d{4}",,,,"551234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PM",508,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PR:[,[,,"(?:[589]\\d\\d|787)\\d{7}",,,,,,,[10],
[7]],[,,"(?:787|939)[2-9]\\d{6}",,,,"7872345678",,,,[7]],[,,"(?:787|939)[2-9]\\d{6}",,,,"7872345678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"PR",1,"011","1",,,"1",,,1,,,[,,,,,,,,,[-1]],,"787|939",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PS:[,[,,"[2489]2\\d{6}|(?:1\\d|5)\\d{8}",,,,,,,[8,9,10],[7]],[,,"(?:22[2-47-9]|42[45]|82[01458]|92[369])\\d{5}",
,,,"22234567",,,[8],[7]],[,,"5[69]\\d{7}",,,,"599123456",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,,,,,,,,[-1]],[,,"1700\\d{6}",,,,"1700123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PS",970,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PT:[,[,,"(?:[26-9]\\d|30)\\d{7}",,,,,,,[9]],[,,"2(?:[12]\\d|[35][1-689]|4[1-59]|6[1-35689]|7[1-9]|8[1-69]|9[1256])\\d{6}",
,,,"212345678"],[,,"9(?:[1-36]\\d\\d|480)\\d{5}",,,,"912345678"],[,,"80[02]\\d{6}",,,,"800123456"],[,,"(?:6(?:0[178]|4[68])\\d|76(?:0[1-57]|1[2-47]|2[237]))\\d{5}",,,,"760123456"],[,,"80(?:8\\d|9[1579])\\d{5}",,,,"808123456"],[,,"884[0-4689]\\d{5}",,,,"884123456"],[,,"30\\d{7}",,,,"301234567"],"PT",351,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"70(?:7\\d|8[17])\\d{5}",,,,"707123456"],
,,[,,"600\\d{6}",,,,"600110000"]],PW:[,[,,"(?:[25-8]\\d\\d|345|488|900)\\d{4}",,,,,,,[7]],[,,"(?:2(?:55|77)|345|488|5(?:35|44|87)|6(?:22|54|79)|7(?:33|47)|8(?:24|55|76)|900)\\d{4}",,,,"2771234"],[,,"(?:6[2-4689]0|77\\d|88[0-4])\\d{4}",,,,"6201234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"PW",680,"01[12]",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],PY:[,[,,"59\\d{4,6}|(?:[2-46-9]\\d|5[0-8])\\d{4,7}",
,,,,,,[6,7,8,9],[5]],[,,"(?:[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36])\\d{5,7}|(?:2(?:2[4-68]|7[15]|9[1-5])|3(?:18|3[167]|4[2357]|51)|4(?:3[12]|5[13]|9[1-47])|5(?:[1-4]\\d|5[02-4])|6(?:3[1-3]|44|7[1-46-8])|7(?:4[0-4]|6[1-578]|75|8[0-8])|858)\\d{5,6}",,,,"212345678",,,[7,8,9],[5,6]],[,,"9(?:51|6[129]|[78][1-6]|9[1-5])\\d{6}",,,,"961456789",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"8700[0-4]\\d{4}",,,,"870012345",,,[9]],"PY",595,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3,6})",
"$1 $2",["[2-9]0"],"0$1"],[,"(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],[,"(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6[347]|7[46-8]|85"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],[,"(\\d{3})(\\d{6})","$1 $2",["9"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"[2-9]0\\d{4,7}",,,,"201234567"],
,,[,,,,,,,,,[-1]]],QA:[,[,,"800\\d{4}|(?:2|[3-7]\\d)\\d{6}",,,,,,,[7,8]],[,,"4[04]\\d{6}",,,,"44123456",,,[8]],[,,"[35-7]\\d{7}",,,,"33123456",,,[8]],[,,"800\\d{4}",,,,"8001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"QA",974,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["2[126]|8"]],[,"(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]],,[,,"2(?:[12]\\d|61)\\d{4}",,,,"2123456",,,[7]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RE:[,[,,"(?:26|[68]\\d)\\d{7}",,,,,,,[9]],[,,
"262\\d{6}",,,,"262161234"],[,,"69(?:2\\d\\d|3(?:0[0-46]|1[013]|2[0-2]|3[0-39]|4\\d|5[05]|6[0-26]|7[0-27]|8[0-38]|9[0-479]))\\d{4}",,,,"692123456"],[,,"80\\d{7}",,,,"801234567"],[,,"89[1-37-9]\\d{6}",,,,"891123456"],[,,"8(?:1[019]|2[0156]|84|90)\\d{6}",,,,"810123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RE",262,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[268]"],"0$1"]],,[,,,,,,,,,[-1]],1,"262|69|8",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RO:[,[,,"(?:[237]\\d|[89]0)\\d{7}|[23]\\d{5}",
,,,,,,[6,9]],[,,"[23][13-6]\\d{7}|(?:2(?:19\\d|[3-6]\\d9)|31\\d\\d)\\d\\d",,,,"211234567"],[,,"7120\\d{5}|7(?:[02-7]\\d|1[01]|8[03-8]|99)\\d{6}",,,,"712034567",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"90[036]\\d{6}",,,,"900123456",,,[9]],[,,"801\\d{6}",,,,"801123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RO",40,"00","0"," int ",,"0",,,,[[,"(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],[,"(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],
"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[237-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"37\\d{7}",,,,"372123456",,,[9]],,,[,,,,,,,,,[-1]]],RS:[,[,,"38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",,,,,,,[6,7,8,9,10,11,12],[4,5]],[,,"(?:11[1-9]\\d|(?:2[389]|39)(?:0[2-9]|[2-9]\\d))\\d{3,8}|(?:1[02-9]|2[0-24-7]|3[0-8])[2-9]\\d{4,9}",,,,"10234567",,,[7,8,9,10,11,12],[4,5,6]],[,,"6(?:[0-689]|7\\d)\\d{6,7}",,,,"601234567",,,[8,9,10]],
[,,"800\\d{3,9}",,,,"80012345"],[,,"(?:78\\d|90[0169])\\d{3,7}",,,,"90012345",,,[6,7,8,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RS",381,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],[,"(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"7[06]\\d{4,10}",,,,"700123456"],,,[,,,,,,,,,[-1]]],RU:[,[,,"[347-9]\\d{9}",,,,,,,[10],[7]],[,,"(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9]))\\d{7}",
,,,"3011234567",,,,[7]],[,,"9\\d{9}",,,,"9123456789"],[,,"80[04]\\d{7}",,,,"8001234567"],[,,"80[39]\\d{7}",,,,"8091234567"],[,,,,,,,,,[-1]],[,,"808\\d{7}",,,,"8081234567"],[,,,,,,,,,[-1]],"RU",7,"810","8",,,"8",,"8~10",,[[,"(\\d{3})(\\d{2})(\\d{2})","$1-$2-$3",["[0-79]"]],[,"(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-6]2|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-6]2|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",,1],[,"(\\d{5})(\\d)(\\d{2})(\\d{2})",
"$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"],"8 ($1)",,1]],[[,"(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",
["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-6]2|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-6]2|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",,1],[,"(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",,1],[,"(\\d{3})(\\d{3})(\\d{4})",
"$1 $2 $3",["7"],"8 ($1)",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[3489]"],"8 ($1)",,1]],[,,,,,,,,,[-1]],1,"3[04-689]|[489]",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],RW:[,[,,"(?:06|[27]\\d\\d|[89]00)\\d{6}",,,,,,,[8,9]],[,,"(?:06|2[258]\\d)\\d{6}",,,,"250123456"],[,,"7[238]\\d{7}",,,,"720123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"900\\d{6}",,,,"900123456",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"RW",250,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})",
"$1 $2 $3 $4",["0"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SA:[,[,,"92\\d{7}|(?:[15]|8\\d)\\d{8}",,,,,,,[9,10],[7]],[,,"1(?:1\\d|2[24-8]|3[35-8]|4[3-68]|6[2-5]|7[235-7])\\d{6}",,,,"112345678",,,[9],[7]],[,,"5(?:[013-689]\\d|7[0-36-8])\\d{6}",,,,"512345678",,,[9]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"925\\d{6}",,,,"925012345",,,[9]],[,,"920\\d{6}",,,,"920012345",
,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SA",966,"00","0",,,"0",,,,[[,"(\\d{4})(\\d{5})","$1 $2",["9"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"811\\d{7}",,,,"8110123456",,,[10]],,,[,,,,,,,,,[-1]]],SB:[,[,,"(?:[1-6]|[7-9]\\d\\d)\\d{4}",,,,,,,[5,7]],[,,"(?:1[4-79]|[23]\\d|4[0-2]|5[03]|6[0-37])\\d{3}",
,,,"40123",,,[5]],[,,"48\\d{3}|(?:(?:7[1-9]|8[4-9])\\d|9(?:1[2-9]|2[013-9]|3[0-2]|[46]\\d|5[0-46-9]|7[0-689]|8[0-79]|9[0-8]))\\d{4}",,,,"7421234"],[,,"1[38]\\d{3}",,,,"18123",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5[12]\\d{3}",,,,"51123",,,[5]],"SB",677,"0[01]",,,,,,,,[[,"(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SC:[,[,,"8000\\d{3}|(?:[249]\\d|64)\\d{5}",,,,,,,[7]],[,,"4[2-46]\\d{5}",,,,"4217123"],
[,,"2[5-8]\\d{5}",,,,"2510123"],[,,"8000\\d{3}",,,,"8000000"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"971\\d{4}|(?:64|95)\\d{5}",,,,"6412345"],"SC",248,"010|0[0-2]",,,,,,"00",,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SD:[,[,,"[19]\\d{8}",,,,,,,[9]],[,,"1(?:5[3-7]|8[35-7])\\d{6}",,,,"153123456"],[,,"(?:1[0-2]|9[0-3569])\\d{7}",,,,"911231234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,
,,,,,,,,[-1]],"SD",249,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SE:[,[,,"(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",,,,,,,[6,7,8,9,10,12]],[,,"10[1-8]\\d{6}|90[1-9]\\d{4,6}|(?:[12][136]|3[356]|4[0246]|6[03]|8\\d)\\d{5,7}|(?:1(?:2[0-35]|4[0-4]|5[0-25-9]|7[13-6]|[89]\\d)|2(?:2[0-7]|4[0136-8]|5[0138]|7[018]|8[01]|9[0-57])|3(?:0[0-4]|1\\d|2[0-25]|4[056]|7[0-2]|8[0-3]|9[023])|4(?:1[013-8]|3[0135]|5[14-79]|7[0-246-9]|8[0156]|9[0-689])|5(?:0[0-6]|[15][0-5]|2[0-68]|3[0-4]|4\\d|6[03-5]|7[013]|8[0-79]|9[01])|6(?:1[1-3]|2[0-4]|4[02-57]|5[0-37]|6[0-3]|7[0-2]|8[0247]|9[0-356])|9(?:1[0-68]|2\\d|3[02-5]|4[0-3]|5[0-4]|[68][01]|7[0135-8]))\\d{5,6}",
,,,"8123456",,,[7,8,9]],[,,"7[02369]\\d{7}",,,,"701234567",,,[9]],[,,"20\\d{4,7}",,,,"20123456",,,[6,7,8,9]],[,,"649\\d{6}|9(?:00|39|44)[1-8]\\d{3,6}",,,,"9001234567",,,[7,8,9,10]],[,,"77[0-7]\\d{6}",,,,"771234567",,,[9]],[,,"75[1-8]\\d{6}",,,,"751234567",,,[9]],[,,,,,,,,,[-1]],"SE",46,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1"],[,"(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44)"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1"],
[,"(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1"],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1"],[,"(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1"],[,"(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["7"],"0$1"],[,"(\\d)(\\d{3})(\\d{3})(\\d{2})",
"$1-$2 $3 $4",["8"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1"],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1"]],[[,"(\\d{2})(\\d{2,3})(\\d{2})","$1 $2 $3",["20"]],[,"(\\d{3})(\\d{4})","$1 $2",["9(?:00|39|44)"]],[,"(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"]],[,"(\\d)(\\d{2,3})(\\d{2})(\\d{2})",
"$1 $2 $3 $4",["8"]],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1 $2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"]],[,"(\\d{3})(\\d{2,3})(\\d{3})","$1 $2 $3",["9(?:00|39|44)"]],[,"(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"]],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7"]],[,"(\\d)(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["8"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})",
"$1 $2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["9"]],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]"]]],[,,"74[02-9]\\d{6}",,,,"740123456",,,[9]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"(?:25[245]|67[3-68])\\d{9}",,,,"254123456789",,,[12]]],SG:[,[,,"(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",,,,,,,[8,10,11]],[,,"6[1-9]\\d{6}",,,,"61234567",,,[8]],[,,"(?:8[1-8]|9[0-8])\\d{6}",
,,,"81234567",,,[8]],[,,"(?:18|8)00\\d{7}",,,,"18001234567",,,[10,11]],[,,"1900\\d{7}",,,,"19001234567",,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"3[12]\\d{6}",,,,"31234567",,,[8]],"SG",65,"0[0-3]\\d",,,,,,,,[[,"(\\d{4,5})","$1",["1[0135-7]|77"]],[,"(\\d{4})(\\d{4})","$1 $2",["[369]|8[1-8]"]],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],[,"(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],[[,"(\\d{4})(\\d{4})","$1 $2",["[369]|8[1-8]"]],[,"(\\d{3})(\\d{3})(\\d{4})",
"$1 $2 $3",["8"]],[,"(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"7000\\d{7}",,,,"70001234567",,,[11]],,,[,,,,,,,,,[-1]]],SH:[,[,,"(?:[256]\\d|8)\\d{3}",,,,,,,[4,5]],[,,"2(?:[0-57-9]\\d|6[4-9])\\d\\d",,,,"22158"],[,,"[56]\\d{4}",,,,"51234",,,[5]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"262\\d\\d",,,,"26212",,,[5]],"SH",290,"00",,,,,,,,,,[,,,,,,,,,[-1]],1,"[256]",[,,,,,,,,,[-1]],[,,,,,,
,,,[-1]],,,[,,,,,,,,,[-1]]],SI:[,[,,"[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",,,,,,,[5,6,7,8]],[,,"(?:[1-357][2-8]|4[24-8])\\d{6}",,,,"12345678",,,[8],[7]],[,,"6(?:5(?:1\\d|55|[67]0)|9(?:10|[69]\\d))\\d{4}|(?:[37][01]|4[0139]|51|6[48])\\d{6}",,,,"31234567",,,[8]],[,,"80\\d{4,6}",,,,"80123456",,,[6,7,8]],[,,"89[1-3]\\d{2,5}|90\\d{4,6}",,,,"90123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"(?:59\\d\\d|8(?:1(?:[67]\\d|8[01389])|2(?:0\\d|2[0378]|8[0-2489])|3[389]\\d))\\d{4}",,,,"59012345",,,[8]],"SI",386,"00|10(?:22|66|88|99)",
"0",,,"0",,"00",,[[,"(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],[,"(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SJ:[,[,,"0\\d{4}|(?:[4589]\\d|79)\\d{6}",,,,,,,[5,8]],[,,"79\\d{6}",,,,"79123456",,,[8]],[,,"(?:4[015-8]|5[89]|9\\d)\\d{6}",,,,"41234567",,,[8]],[,,"80[01]\\d{5}",,,,"80012345",
,,[8]],[,,"82[09]\\d{5}",,,,"82012345",,,[8]],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}",,,,"81021234",,,[8]],[,,"880\\d{5}",,,,"88012345",,,[8]],[,,"85[0-5]\\d{5}",,,,"85012345",,,[8]],"SJ",47,"00",,,,,,,,,,[,,,,,,,,,[-1]],,"79",[,,,,,,,,,[-1]],[,,"8100[7-9]\\d{3}|(?:0|81(?:01|5\\d))\\d{4}",,,,"01234"],,,[,,"81[23]\\d{5}",,,,"81212345",,,[8]]],SK:[,[,,"[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",,,,,,,[6,7,9]],[,,"(?:2(?:16|[2-9]\\d{3})|[3-5][1-8]\\d{3})\\d{4}|(?:2|[3-5][1-8])1[67]\\d{3}|[3-5][1-8]16\\d\\d",
,,,"221234567"],[,,"909[1-9]\\d{5}|9(?:0[1-8]|1[0-24-9]|[45]\\d)\\d{6}",,,,"912123456",,,[9]],[,,"800\\d{6}",,,,"800123456",,,[9]],[,,"9(?:00|[78]\\d)\\d{6}",,,,"900123456",,,[9]],[,,"8[5-9]\\d{7}",,,,"850123456",,,[9]],[,,,,,,,,,[-1]],[,,"6(?:02|5[0-4]|9[0-6])\\d{6}",,,,"690123456",,,[9]],"SK",421,"00","0",,,"0",,,,[[,"(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],[,"(\\d{4})(\\d{3})","$1 $2",["909","9090"],"0$1"],
[,"(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],[[,"(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],[,"(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],[,"(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],
"0$1"]],[,,"9090\\d{3}",,,,"9090123",,,[7]],,,[,,"9090\\d{3}|(?:602|8(?:00|[5-9]\\d)|9(?:00|[78]\\d))\\d{6}",,,,,,,[7,9]],[,,"96\\d{7}",,,,"961234567",,,[9]],,,[,,,,,,,,,[-1]]],SL:[,[,,"(?:[2-578]\\d|66|99)\\d{6}",,,,,,,[8],[6]],[,,"[235]2[2-4][2-9]\\d{4}",,,,"22221234",,,,[6]],[,,"(?:2[15]|3[013-5]|4[04]|5[05]|66|7[5-9]|8[08]|99)\\d{6}",,,,"25123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SL",232,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",["[2-9]"],
"(0$1)"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SM:[,[,,"(?:0549|[5-7]\\d)\\d{6}",,,,,,,[8,10],[6]],[,,"0549(?:8[0157-9]|9\\d)\\d{4}",,,,"0549886377",,,[10],[6]],[,,"6[16]\\d{6}",,,,"66661212",,,[8]],[,,,,,,,,,[-1]],[,,"7[178]\\d{6}",,,,"71123456",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"5[158]\\d{6}",,,,"58001110",,,[8]],"SM",378,"00",,,,"([89]\\d{5})$","0549$1",,,[[,"(\\d{6})","$1",["[89]"]],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],[,"(\\d{4})(\\d{6})",
"$1 $2",["0"]]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],[,"(\\d{4})(\\d{6})","$1 $2",["0"]]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SN:[,[,,"(?:[378]\\d{4}|93330)\\d{4}",,,,,,,[9]],[,,"3(?:0(?:1[0-2]|80)|282|3(?:8[1-9]|9[3-9])|611)\\d{5}",,,,"301012345"],[,,"7(?:[06-8]\\d|21|90)\\d{6}",,,,"701234567"],[,,"800\\d{6}",,,,"800123456"],[,,"88[4689]\\d{6}",,,,"884123456"],[,,"81[02468]\\d{6}",,,,"810123456"],[,,,,,,,,,[-1]],[,,"93330\\d{4}|3(?:392|9[01]\\d)\\d{5}",
,,,"933301234"],"SN",221,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SO:[,[,,"[346-9]\\d{8}|[12679]\\d{7}|(?:[1-4]\\d|59)\\d{5}|[1348]\\d{5}",,,,,,,[6,7,8,9]],[,,"(?:1\\d|2[0-79]|3[0-46-8]|4[0-7]|59)\\d{5}|(?:[134]\\d|8[125])\\d{4}",,,,"4012345",,,[6,7]],[,,"28\\d{5}|(?:6[1-9]|79)\\d{6,7}|(?:15|24|(?:3[59]|4[89]|8[08])\\d|60|7[1-8]|9(?:0[67]|[2-9]))\\d{6}",
,,,"71123456",,,[7,8,9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SO",252,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{4})","$1 $2",["8[125]"]],[,"(\\d{6})","$1",["[134]"]],[,"(\\d)(\\d{6})","$1 $2",["1|2[0-79]|3[0-46-8]|4[0-7]|59"]],[,"(\\d)(\\d{7})","$1 $2",["24|[67]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79[0-8]|90"]],[,"(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[1-35-9]|799|9[2-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],
SR:[,[,,"(?:[2-5]|68|[78]\\d)\\d{5}",,,,,,,[6,7]],[,,"(?:2[1-3]|3[0-7]|(?:4|68)\\d|5[2-58])\\d{4}",,,,"211234"],[,,"(?:7[124-7]|8[125-9])\\d{5}",,,,"7412345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"56\\d{4}",,,,"561234",,,[6]],"SR",597,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],[,"(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],[,"(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SS:[,[,,"[19]\\d{8}",
,,,,,,[9]],[,,"18\\d{7}",,,,"181234567"],[,,"(?:12|9[1257])\\d{7}",,,,"977123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SS",211,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ST:[,[,,"(?:22|9\\d)\\d{5}",,,,,,,[7]],[,,"22\\d{5}",,,,"2221234"],[,,"900[5-9]\\d{3}|9(?:0[1-9]|[89]\\d)\\d{4}",,,,"9812345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,
,,[-1]],[,,,,,,,,,[-1]],"ST",239,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[29]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SV:[,[,,"[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",,,,,,,[7,8,11]],[,,"2[1-6]\\d{6}",,,,"21234567",,,[8]],[,,"[67]\\d{7}",,,,"70123456",,,[8]],[,,"800\\d{4}(?:\\d{4})?",,,,"8001234",,,[7,11]],[,,"900\\d{4}(?:\\d{4})?",,,,"9001234",,,[7,11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SV",503,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[89]"]],
[,"(\\d{4})(\\d{4})","$1 $2",["[267]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SX:[,[,,"7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"7215(?:4[2-8]|8[239]|9[056])\\d{4}",,,,"7215425678",,,,[7]],[,,"7215(?:1[02]|2\\d|5[034679]|8[014-8])\\d{4}",,,,"7215205678",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002123456"],[,,"900[2-9]\\d{6}",,,,"9002123456"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",
,,,"5002345678"],[,,,,,,,,,[-1]],"SX",1,"011","1",,,"1|(5\\d{6})$","721$1",,,,,[,,,,,,,,,[-1]],,"721",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SY:[,[,,"[1-39]\\d{8}|[1-5]\\d{7}",,,,,,,[8,9],[6,7]],[,,"[12]1\\d{6,7}|(?:1(?:[2356]|4\\d)|2[235]|3(?:[13]\\d|4)|4[13]|5[1-3])\\d{6}",,,,"112345678",,,,[6,7]],[,,"9(?:22|[3-589]\\d|6[024-9])\\d{6}",,,,"944567890",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"SY",963,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})",
"$1 $2 $3",["[1-5]"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],SZ:[,[,,"0800\\d{4}|(?:[237]\\d|900)\\d{6}",,,,,,,[8,9]],[,,"[23][2-5]\\d{6}",,,,"22171234",,,[8]],[,,"7[6-9]\\d{6}",,,,"76123456",,,[8]],[,,"0800\\d{4}",,,,"08001234",,,[8]],[,,"900\\d{6}",,,,"900012345",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"70\\d{6}",,,,"70012345",,,[8]],"SZ",268,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[0237]"]],[,
"(\\d{5})(\\d{4})","$1 $2",["9"]]],,[,,,,,,,,,[-1]],,,[,,"0800\\d{4}",,,,,,,[8]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TA:[,[,,"8\\d{3}",,,,,,,[4]],[,,"8\\d{3}",,,,"8999"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TA",290,"00",,,,,,,,,,[,,,,,,,,,[-1]],,"8",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TC:[,[,,"(?:[58]\\d\\d|649|900)\\d{7}",,,,,,,[10],[7]],[,,"649(?:712|9(?:4\\d|50))\\d{4}",,,,"6497121234",,,,[7]],[,,"649(?:2(?:3[129]|4[1-7])|3(?:3[1-389]|4[1-8])|4[34][1-3])\\d{4}",
,,,"6492311234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,"64971[01]\\d{4}",,,,"6497101234",,,,[7]],"TC",1,"011","1",,,"1|([2-479]\\d{6})$","649$1",,,,,[,,,,,,,,,[-1]],,"649",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TD:[,[,,"(?:22|[69]\\d|77)\\d{6}",,,,,,,[8]],[,,"22(?:[37-9]0|5[0-5]|6[89])\\d{4}",,,,"22501234"],[,,"(?:6[023568]|77|9\\d)\\d{6}",,
,,"63012345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TD",235,"00|16",,,,,,"00",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TG:[,[,,"[279]\\d{7}",,,,,,,[8]],[,,"2(?:2[2-7]|3[23]|4[45]|55|6[67]|77)\\d{5}",,,,"22212345"],[,,"(?:7[09]|9[0-36-9])\\d{6}",,,,"90112345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TG",228,"00",,,,,,,,[[,
"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TH:[,[,,"1\\d{8,9}|(?:[2-57]|[689]\\d)\\d{7}",,,,,,,[8,9,10]],[,,"(?:2\\d|3[2-9]|4[2-5]|5[2-6]|7[3-7])\\d{6}",,,,"21234567",,,[8]],[,,"(?:14|6[1-6]|[89]\\d)\\d{7}",,,,"812345678",,,[9]],[,,"1800\\d{6}",,,,"1800123456",,,[10]],[,,"1900\\d{6}",,,,"1900123456",,,[10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"6[08]\\d{7}",,,,"601234567",,,[9]],"TH",66,"00[1-9]","0",,,"0",,,,[[,
"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["14|[3-9]"],"0$1"],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TJ:[,[,,"(?:[3-59]\\d|77|88)\\d{7}",,,,,,,[9],[3,5,6,7]],[,,"(?:3(?:1[3-5]|2[245]|3[12]|4[24-7]|5[25]|72)|4(?:46|74|87))\\d{6}",,,,"372123456",,,,[3,5,6,7]],[,,"41[18]\\d{6}|(?:5[05]|77|88|9[0-35-9])\\d{7}",,,,"917123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,
,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TJ",992,"810","8",,,"8",,"8~10",,[[,"(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"],,,1],[,"(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"],,,1],[,"(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3"],,,1],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[457-9]"],,,1]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TK:[,[,,"[2-47]\\d{3,6}",,,,,,,[4,5,6,7]],[,,"(?:2[2-4]|[34]\\d)\\d{2,5}",,,,"3101"],[,,"7[2-4]\\d{2,5}",,,,"7290"],[,,,,,,,,,[-1]],[,,,,,,,,
,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TK",690,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TL:[,[,,"7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",,,,,,,[7,8]],[,,"(?:2[1-5]|3[1-9]|4[1-4])\\d{5}",,,,"2112345",,,[7]],[,,"7[3-8]\\d{6}",,,,"77212345",,,[8]],[,,"80\\d{5}",,,,"8012345",,,[7]],[,,"90\\d{5}",,,,"9012345",,,[7]],[,,,,,,,,,[-1]],[,,"70\\d{5}",,,,"7012345",,,[7]],[,,,,,,,,,[-1]],"TL",670,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],[,
"(\\d{4})(\\d{4})","$1 $2",["7"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TM:[,[,,"[1-6]\\d{7}",,,,,,,[8]],[,,"(?:1(?:2\\d|3[1-9])|2(?:22|4[0-35-8])|3(?:22|4[03-9])|4(?:22|3[128]|4\\d|6[15])|5(?:22|5[7-9]|6[014-689]))\\d{5}",,,,"12345678"],[,,"6[1-9]\\d{6}",,,,"66123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TM",993,"810","8",,,"8",,"8~10",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],[,"(\\d{3})(\\d)(\\d{2})(\\d{2})",
"$1 $2-$3-$4",["[1-5]"],"(8 $1)"],[,"(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TN:[,[,,"[2-57-9]\\d{7}",,,,,,,[8]],[,,"81200\\d{3}|(?:3[0-2]|7\\d)\\d{6}",,,,"30010123"],[,,"3(?:001|[12]40)\\d{4}|(?:(?:[259]\\d|4[0-6])\\d|3(?:1[1-35]|6[0-4]|91))\\d{5}",,,,"20123456"],[,,"8010\\d{4}",,,,"80101234"],[,,"88\\d{6}",,,,"88123456"],[,,"8[12]10\\d{4}",,,,"81101234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TN",216,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3})",
"$1 $2 $3",["[2-57-9]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TO:[,[,,"[78]\\d{6}|[2-478]\\d{4}|(?:080|[56])0\\d{3}",,,,,,,[5,7]],[,,"(?:2\\d|3[1-8]|4[1-4]|[56]0|7[0149]|8[05])\\d{3}",,,,"20123",,,[5]],[,,"(?:7[578]|8[46-9])\\d{5}",,,,"7715123",,,[7]],[,,"0800\\d{3}",,,,"0800222",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TO",676,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1-$2",["[2-6]|7[014]|8[05]"]],[,"(\\d{4})(\\d{3})","$1 $2",["0"]],[,"(\\d{3})(\\d{4})",
"$1 $2",["7[578]|8"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TR:[,[,,"(?:[2-58]\\d\\d|900)\\d{7}|4\\d{6}",,,,,,,[7,10]],[,,"(?:2(?:[13][26]|[28][2468]|[45][268]|[67][246])|3(?:[13][28]|[24-6][2468]|[78][02468]|92)|4(?:[16][246]|[23578][2468]|4[26]))\\d{7}",,,,"2123456789",,,[10]],[,,"56161\\d{5}|5(?:0[15-7]|1[06]|24|[34]\\d|5[1-59]|9[46])\\d{7}",,,,"5012345678",,,[10]],[,,"800\\d{7}",,,,"8001234567",,,[10]],[,,"(?:8[89]8|900)\\d{7}",,,,"9001234567",,,[10]],[,,,,,,,
,,[-1]],[,,"592(?:21[12]|461)\\d{4}",,,,"5922121234",,,[10]],[,,,,,,,,,[-1]],"TR",90,"00","0",,,"0",,,,[[,"(\\d{3})(\\d)(\\d{3})","$1 $2 $3",["444"],,,1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[0589]|90"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|616)","5(?:[0-59]|6161)"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",,1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[0589]|90"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})",
"$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|616)","5(?:[0-59]|6161)"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",,1]],[,,"512\\d{7}",,,,"5123456789",,,[10]],,,[,,"444\\d{4}",,,,,,,[7]],[,,"(?:444|850\\d{3})\\d{4}",,,,"4441444"],,,[,,,,,,,,,[-1]]],TT:[,[,,"(?:[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"868(?:2(?:01|1[89]|[23]\\d)|6(?:0[7-9]|1[02-8]|2[1-9]|[3-69]\\d|7[0-79])|82[124])\\d{4}",,,,"8682211234",,,,[7]],[,,"868(?:2(?:6[6-9]|[7-9]\\d)|[37](?:0[1-9]|1[02-9]|[2-9]\\d)|4[6-9]\\d|6(?:20|78|8\\d))\\d{4}",
,,,"8682911234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"TT",1,"011","1",,,"1|([2-46-8]\\d{6})$","868$1",,,,,[,,,,,,,,,[-1]],,"868",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"868619\\d{4}",,,,"8686191234",,,,[7]]],TV:[,[,,"(?:2|7\\d\\d|90)\\d{4}",,,,,,,[5,6,7]],[,,"2[02-9]\\d{3}",,,,"20123",,,[5]],[,,"(?:7[01]\\d|90)\\d{4}",,,,"901234",,,[6,7]],[,
,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"TV",688,"00",,,,,,,,,,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],TW:[,[,,"(?:[24589]|7\\d)\\d{8}|[2-8]\\d{7}|2\\d{6}",,,,,,,[7,8,9,10]],[,,"24\\d{6,7}|82(?:3\\d|66)\\d{4}|(?:2[235-8]\\d|3[2-9]|4(?:[239]\\d|[78])|5[2-8]|6[235-79]|7[1-9]|8[7-9])\\d{6}",,,,"221234567",,,[8,9]],[,,"9[0-8]\\d{7}",,,,"912345678",,,[9]],[,,"80[0-79]\\d{6}",,,,"800123456",,,[9]],[,,"20(?:[013-9]\\d\\d|2)\\d{4}",,,,"203123456",
,,[7,9]],[,,,,,,,,,[-1]],[,,"99\\d{7}",,,,"990123456",,,[9]],[,,"70\\d{8}",,,,"7012345678",,,[10]],"TW",886,"0(?:0[25-79]|19)","0","#",,"0",,,,[[,"(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],[,"(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[25][2-8]|[346]|7[1-9]|8[27-9]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[258]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"50[0-46-9]\\d{6}",,,,
"500123456",,,[9]],,,[,,,,,,,,,[-1]]],TZ:[,[,,"(?:[26-8]\\d|41|90)\\d{7}",,,,,,,[9]],[,,"2[2-8]\\d{7}",,,,"222345678"],[,,"(?:6[2-9]|7[13-9])\\d{7}",,,,"621234567"],[,,"80[08]\\d{6}",,,,"800123456"],[,,"90\\d{7}",,,,"900123456"],[,,"8(?:40|6[01])\\d{6}",,,,"840123456"],[,,,,,,,,,[-1]],[,,"41\\d{7}",,,,"412345678"],"TZ",255,"00[056]","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",
["[67]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,"(?:8(?:[04]0|6[01])|90\\d)\\d{6}"],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UA:[,[,,"[3-9]\\d{8}",,,,,,,[9],[5,6,7]],[,,"(?:3[1-8]|4[13-8]|5[1-7]|6[12459])\\d{7}",,,,"311234567",,,,[5,6,7]],[,,"(?:39|50|6[36-8]|7[1-3]|9[1-9])\\d{7}",,,,"391234567"],[,,"800\\d{6}",,,,"800123456"],[,,"900[2-49]\\d{5}",,,,"900212345"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"89[1-579]\\d{6}",,,,"891234567"],"UA",380,"00","0",,,"0",,"0~0",,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|[89]0|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]",
"6[12][29]|[89]0|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],[,"(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UG:[,[,,"800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",,,,,,,
[9],[5,6,7]],[,,"20(?:(?:240|30[0-4])\\d|6(?:00[0-2]|30[0-4]))\\d{3}|(?:20(?:[0147]\\d|[26][5-9]|3[2367]|5[0-4]|8[0-2])|[34]\\d{3})\\d{5}",,,,"312345678",,,,[5,6,7]],[,,"7260\\d{5}|7(?:[0157-9]\\d|2[03]|30|4[0-4])\\d{6}",,,,"712345678"],[,,"800[1-3]\\d{5}",,,,"800123456"],[,,"90[1-3]\\d{6}",,,,"901123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UG",256,"00[057]","0",,,"0",,,,[[,"(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],[,"(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],
[,"(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],US:[,[,,"[2-9]\\d{9}",,,,,,,[10],[7]],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[017]|6[0-279]|78|8[0-2])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-28]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[0179]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}",
,,,"2015550123",,,,[7]],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[017]|6[0-279]|78|8[0-2])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-28]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[0179]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}",
,,,"2015550123",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"US",1,"011","1",,,"1",,,1,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-9]"]],[,"(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],,,1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[2-9]"]]],[,,,,,,,,,[-1]],1,,[,,,,,,,,,[-1]],[,,"710[2-9]\\d{6}",,,,"7102123456"],,,[,,,,,,,,,[-1]]],UY:[,[,,"(?:[249]\\d\\d|80)\\d{5}|9\\d{6}",
,,,,,,[7,8]],[,,"(?:2\\d|4[2-7])\\d{6}",,,,"21231234",,,[8],[7]],[,,"9[1-9]\\d{6}",,,,"94231234",,,[8]],[,,"80[05]\\d{4}",,,,"8001234",,,[7]],[,,"90[0-8]\\d{4}",,,,"9001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UY",598,"0(?:0|1[3-9]\\d)","0"," int. ",,"0",,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["8|90"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],[,"(\\d{4})(\\d{4})","$1 $2",["[24]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],UZ:[,[,,"[679]\\d{8}",
,,,,,,[9]],[,,"(?:6(?:1(?:22|3[124]|4[1-4]|5[1-3578]|64)|2(?:22|3[0-57-9]|41)|5(?:22|3[3-7]|5[024-8])|6\\d\\d|7(?:[23]\\d|7[69])|9(?:22|4[1-8]|6[135]))|7(?:0(?:5[4-9]|6[0146]|7[124-6]|9[135-8])|1[12]\\d|2(?:22|3[13-57-9]|4[1-3579]|5[14])|3(?:2\\d|3[1578]|4[1-35-7]|5[1-57]|61)|4(?:2\\d|3[1-579]|7[1-79])|5(?:22|5[1-9]|6[1457])|6(?:22|3[12457]|4[13-8])|9(?:22|5[1-9])))\\d{5}",,,,"669050123"],[,,"(?:6(?:1(?:2(?:2[01]|98)|35[0-4]|50\\d|61[23]|7(?:[01][017]|4\\d|55|9[5-9]))|2(?:(?:11|7\\d)\\d|2(?:[12]1|9[01379])|5(?:[126]\\d|3[0-4]))|5(?:19[01]|2(?:27|9[26])|(?:30|59|7\\d)\\d)|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|(?:3[79]|9[0-3])\\d|4(?:56|83)|7(?:[07]\\d|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79]))|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0\\d|[39][07])|9(?:0\\d|7[079]))|9(?:2(?:1[1267]|3[01]|5\\d|7[0-4])|(?:5[67]|7\\d)\\d|6(?:2[0-26]|8\\d)))|7(?:0\\d{3}|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98\\d)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57\\d|7(?:0\\d|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|(?:33|9[4-6])\\d|5(?:0[0-4]|5[579]|9\\d)|7(?:[0-3579]\\d|4[0467]|6[67]|8[078]))|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8\\d|9[5-9])|7(?:0\\d|1[024589]|2[0-27]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89]\\d))|5(?:112|2(?:0\\d|2[29]|[49]4)|3[1568]\\d|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7]\\d|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39\\d|41[179]|5(?:[349]\\d|5[0-2])|7(?:0[017]|[13]\\d|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7\\d)|57[02569]|7(?:2[05-9]|3[37]|4\\d|60|7[2579]|87|9[07])))|9[0-57-9]\\d{3})\\d{4}",
,,,"912345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"UZ",998,"810","8",,,"8",,"8~10",,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[679]"],"8 $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VA:[,[,,"0\\d{6,10}|55\\d{8}|[08]\\d{5}|(?:3[0-8]|8)\\d{7,9}|(?:1\\d|39)\\d{7,8}",,,,,,,[6,7,8,9,10,11]],[,,"06698\\d{1,6}",,,,"0669812345"],[,,"33\\d{9}|3[1-9]\\d{8}|3[2-9]\\d{7}",,,,"3123456789",,,[9,10,11]],[,,"80(?:0\\d{3}|3)\\d{3}",
,,,"800123456",,,[6,9]],[,,"(?:0878\\d\\d|89(?:2|4[5-9]\\d))\\d{3}|89[45][0-4]\\d\\d|(?:1(?:44|6[346])|89(?:5[5-9]|9))\\d{6}",,,,"899123456",,,[6,8,9,10]],[,,"84(?:[08]\\d{3}|[17])\\d{3}",,,,"848123456",,,[6,9]],[,,"1(?:78\\d|99)\\d{6}",,,,"1781234567",,,[9,10]],[,,"55\\d{8}",,,,"5512345678",,,[10]],"VA",39,"00",,,,,,,,,,[,,,,,,,,,[-1]],,"06698",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VC:[,[,,"(?:[58]\\d\\d|784|900)\\d{7}",,,,,,,[10],[7]],[,,"784(?:266|3(?:6[6-9]|7\\d|8[0-24-6])|4(?:38|5[0-36-8]|8[0-8])|5(?:55|7[0-2]|93)|638|784)\\d{4}",
,,,"7842661234",,,,[7]],[,,"784(?:4(?:3[0-5]|5[45]|89|9[0-8])|5(?:2[6-9]|3[0-4]))\\d{4}",,,,"7844301234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VC",1,"011","1",,,"1|([2-7]\\d{6})$","784$1",,,,,[,,,,,,,,,[-1]],,"784",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VE:[,[,,"[89]00\\d{7}|(?:[24]\\d|50)\\d{8}",,,,,,,[10],[7]],[,,"(?:2(?:12|3[457-9]|[467]\\d|[58][1-9]|9[1-6])|50[01])\\d{7}",
,,,"2121234567",,,,[7]],[,,"4(?:1[24-8]|2[46])\\d{7}",,,,"4121234567"],[,,"800\\d{7}",,,,"8001234567"],[,,"900\\d{7}",,,,"9001234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"VE",58,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{7})","$1-$2",["[24589]"],"0$1","$CC $1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VG:[,[,,"(?:284|[58]\\d\\d|900)\\d{7}",,,,,,,[10],[7]],[,,"284496[0-5]\\d{3}|284(?:229|4(?:22|9[45])|774|8(?:52|6[459]))\\d{4}",,,,"2842291234",,,,[7]],[,,"284496[6-9]\\d{3}|284(?:3(?:0[0-3]|4[0-7]|68|9[34])|4(?:4[0-6]|68|99)|54[0-57])\\d{4}",
,,,"2843001234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VG",1,"011","1",,,"1|([2-578]\\d{6})$","284$1",,,,,[,,,,,,,,,[-1]],,"284",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VI:[,[,,"[58]\\d{9}|(?:34|90)0\\d{7}",,,,,,,[10],[7]],[,,"340(?:2(?:01|2[06-8]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-57-9]|27|7\\d)|884|998)\\d{4}",
,,,"3406421234",,,,[7]],[,,"340(?:2(?:01|2[06-8]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-57-9]|27|7\\d)|884|998)\\d{4}",,,,"3406421234",,,,[7]],[,,"8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",,,,"8002345678"],[,,"900[2-9]\\d{6}",,,,"9002345678"],[,,,,,,,,,[-1]],[,,"5(?:00|2[12]|33|44|66|77|88)[2-9]\\d{6}",,,,"5002345678"],[,,,,,,,,,[-1]],"VI",1,"011","1",,,"1|([2-9]\\d{6})$","340$1",,1,,,[,,,,,,,,,[-1]],,"340",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],VN:[,
[,,"[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",,,,,,,[7,8,9,10]],[,,"2(?:0[3-9]|1[0-689]|2[0-25-9]|3[2-9]|4[2-8]|5[124-9]|6[0-39]|7[0-7]|8[2-7]|9[0-4679])\\d{7}",,,,"2101234567",,,[10]],[,,"(?:(?:3\\d|7[06-9])\\d|5(?:2[238]|[689]\\d)|8(?:[1-58]\\d|6[5-9]|79|9[689])|9(?:[0-8]\\d|9[013-9]))\\d{6}",,,,"912345678",,,[9]],[,,"1800\\d{4,6}",,,,"1800123456",,,[8,9,10]],[,,"1900\\d{4,6}",,,,"1900123456",,,[8,9,10]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"672\\d{6}",,,,"672012345",,,[9]],"VN",84,"00","0",
,,"0",,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[17]99"],"0$1",,1],[,"(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",,1],[,"(\\d{3})(\\d{4,5})","$1 $2",["69"],"0$1",,1],[,"(\\d{4})(\\d{4,6})","$1 $2",["1"],,,1],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[69]"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3578]"],"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",,1],[,"(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",,1]],[[,"(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",,1],[,"(\\d{4})(\\d{4,6})",
"$1 $2",["1"],,,1],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[69]"],"0$1",,1],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3578]"],"0$1",,1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",,1],[,"(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",,1]],[,,,,,,,,,[-1]],,,[,,"[17]99\\d{4}|69\\d{5,6}",,,,,,,[7,8]],[,,"(?:[17]99|80\\d)\\d{4}|69\\d{5,6}",,,,"1992000",,,[7,8]],,,[,,,,,,,,,[-1]]],VU:[,[,,"(?:[23]\\d|[48]8)\\d{3}|(?:[57]\\d|90)\\d{5}",,,,,,,[5,7]],[,,"(?:38[0-8]|48[4-9])\\d\\d|(?:2[02-9]|3[4-7]|88)\\d{3}",
,,,"22123",,,[5]],[,,"57[2-5]\\d{4}|(?:5[0-689]|7[013-7])\\d{5}",,,,"5912345",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"90[1-9]\\d{4}",,,,"9010123",,,[7]],"VU",678,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[579]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"(?:3[03]|900\\d)\\d{3}",,,,"30123"],,,[,,,,,,,,,[-1]]],WF:[,[,,"(?:[45]0|68|72|8\\d)\\d{4}",,,,,,,[6]],[,,"(?:50|68|72)\\d{4}",,,,"501234"],[,,"(?:50|68|72|8[23])\\d{4}",,,,"501234"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],
[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"WF",681,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[4-8]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"[48]0\\d{4}",,,,"401234"]],WS:[,[,,"[2-6]\\d{4}|8\\d{5}(?:\\d{4})?|[78]\\d{6}",,,,,,,[5,6,7,10]],[,,"(?:[2-5]\\d|6[1-9])\\d{3}",,,,"22123",,,[5]],[,,"(?:7[25-7]|8(?:[3-7]|9\\d{3}))\\d{5}",,,,"7212345",,,[7,10]],[,,"800\\d{3}",,,,"800123",,,[6]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"WS",685,"0",
,,,,,,,[[,"(\\d{5})","$1",["[2-6]"]],[,"(\\d{3})(\\d{3,7})","$1 $2",["8"]],[,"(\\d{2})(\\d{5})","$1 $2",["7"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],XK:[,[,,"[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",,,,,,,[8,9]],[,,"(?:2[89]|39)0\\d{6}|[23][89]\\d{6}",,,,"28012345"],[,,"4[3-79]\\d{6}",,,,"43201234",,,[8]],[,,"800\\d{5}",,,,"80001234",,,[8]],[,,"900\\d{5}",,,,"90001234",,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"XK",383,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{5})",
"$1 $2",["[89]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],YE:[,[,,"(?:1|7\\d)\\d{7}|[1-7]\\d{6}",,,,,,,[7,8,9],[6]],[,,"17\\d{6}|(?:[12][2-68]|3[2358]|4[2-58]|5[2-6]|6[3-58]|7[24-68])\\d{5}",,,,"1234567",,,[7,8],[6]],[,,"7[0137]\\d{7}",,,,"712345678",,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"YE",967,"00",
"0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],YT:[,[,,"80\\d{7}|(?:26|63)9\\d{6}",,,,,,,[9]],[,,"269(?:0[67]|5[01]|6\\d|[78]0)\\d{4}",,,,"269601234"],[,,"639(?:0[0-79]|1[019]|[267]\\d|3[09]|[45]0|9[04-79])\\d{4}",,,,"639012345"],[,,"80\\d{7}",,,,"801234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"YT",262,"00","0",,,"0",
,,,,,[,,,,,,,,,[-1]],,"269|63",[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ZA:[,[,,"[1-9]\\d{8}|8\\d{4,7}",,,,,,,[5,6,7,8,9]],[,,"(?:1[0-8]|2[1-378]|3[1-69]|4\\d|5[1346-8])\\d{7}",,,,"101234567",,,[9]],[,,"8[1-4]\\d{3,7}|(?:6\\d|7[0-46-9]|85)\\d{7}",,,,"711234567"],[,,"80\\d{7}",,,,"801234567",,,[9]],[,,"(?:86[2-9]|9[0-2]\\d)\\d{6}",,,,"862345678",,,[9]],[,,"860\\d{6}",,,,"860123456",,,[9]],[,,,,,,,,,[-1]],[,,"87\\d{7}",,,,"871234567",,,[9]],"ZA",27,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3,4})",
"$1 $2",["8[1-4]"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"861\\d{6}",,,,"861123456",,,[9]],,,[,,,,,,,,,[-1]]],ZM:[,[,,"800\\d{6}|(?:21|76|9\\d)\\d{7}",,,,,,,[9],[6]],[,,"21[1-8]\\d{6}",,,,"211234567",,,,[6]],[,,"(?:76|9[5-8])\\d{7}",,,,"955123456"],[,,"800\\d{6}",,,,"800123456"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,
,[-1]],[,,,,,,,,,[-1]],"ZM",260,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})","$1 $2",["[1-9]"]],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],ZW:[,[,,"2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",,,,,,,[5,
6,7,8,9,10],[3,4]],[,,"(?:1(?:(?:3\\d|9)\\d|[4-8])|2(?:(?:(?:0(?:2[014]|5)|(?:2[0157]|31|84|9)\\d\\d|[56](?:[14]\\d\\d|20)|7(?:[089]|2[03]|[35]\\d\\d))\\d|4(?:2\\d\\d|8))\\d|1(?:2|[39]\\d{4}))|3(?:(?:123|(?:29\\d|92)\\d)\\d\\d|7(?:[19]|[56]\\d))|5(?:0|1[2-478]|26|[37]2|4(?:2\\d{3}|83)|5(?:25\\d\\d|[78])|[689]\\d)|6(?:(?:[16-8]21|28|52[013])\\d\\d|[39])|8(?:[1349]28|523)\\d\\d)\\d{3}|(?:4\\d\\d|9[2-9])\\d{4,5}|(?:(?:2(?:(?:(?:0|8[146])\\d|7[1-7])\\d|2(?:[278]\\d|92)|58(?:2\\d|3))|3(?:[26]|9\\d{3})|5(?:4\\d|5)\\d\\d)\\d|6(?:(?:(?:[0-246]|[78]\\d)\\d|37)\\d|5[2-8]))\\d\\d|(?:2(?:[569]\\d|8[2-57-9])|3(?:[013-59]\\d|8[37])|6[89]8)\\d{3}",
,,,"1312345",,,,[3,4]],[,,"(?:7(?:1\\d|3[2-9]|7[1-9]|8[2-5])|8644)\\d{6}",,,,"712345678",,,[9,10]],[,,"80(?:[01]\\d|20|8[0-8])\\d{3}",,,,"8001234",,,[7]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"86(?:1[12]|30|55|77|8[368])\\d{6}",,,,"8686123456",,,[10]],"ZW",263,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],[,"(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],[,"(\\d{3})(\\d{4})","$1 $2",
["80"],"0$1"],[,"(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],[,"(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],[,"(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],
"0$1"],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],[,"(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],800:[,[,,"\\d{8}",,,,,,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"\\d{8}",,,,"12345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",800,,,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],808:[,[,,"\\d{8}",
,,,,,,[8]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"\\d{8}",,,,"12345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",808,,,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],870:[,[,,"[35-7]\\d{8}",,,,,,,[9]],[,,,,,,,,,[-1]],[,,"(?:[356]\\d|7[6-8])\\d{7}",,,,"301234567"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",870,,,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],
,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],878:[,[,,"10\\d{10}",,,,,,,[12]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"10\\d{10}",,,,"101234567890"],"001",878,,,,,,,,1,[[,"(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],881:[,[,,"[67]\\d{8}",,,,,,,[9]],[,,,,,,,,,[-1]],[,,"[67]\\d{8}",,,,"612345678"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,
,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",881,,,,,,,,,[[,"(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[67]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],882:[,[,,"1\\d{6,11}|3\\d{6}(?:\\d{2,5})?",,,,,,,[7,8,9,10,11,12]],[,,,,,,,,,[-1]],[,,"3(?:37\\d\\d|42)\\d{4}|3(?:2|47|7\\d{3})\\d{7}",,,,"3421234",,,[7,9,10,12]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|3(?:45|9\\d{3})\\d{7}",
,,,"390123456789"],"001",882,,,,,,,,,[[,"(\\d{2})(\\d{5})","$1 $2",["16|342"]],[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1"]],[,"(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1"]],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"]],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],[,"(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[13]"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,"348[57]\\d{7}",,,,"34851234567",,,[11]]],883:[,[,,"51\\d{7}(?:\\d{3})?",
,,,,,,[9,12]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"51[013]0\\d{8}|5100\\d{5}",,,,"510012345"],"001",883,,,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["510"]],[,"(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["5"]]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]],888:[,[,,"\\d{11}",,,,,,,[11]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,
,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",888,,,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,"\\d{11}",,,,"12345678901"],,,[,,,,,,,,,[-1]]],979:[,[,,"\\d{9}",,,,,,,[9]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,"\\d{9}",,,,"123456789"],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],"001",979,,,,,,,,1,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3"]],,[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]],[,,,,,,,,,[-1]],,,[,,,,,,,,,[-1]]]};/*

 Copyright (C) 2010 The Libphonenumber Authors.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function M(){this.a={}}M.c=void 0;M.a=function(){return M.c?M.c:M.c=new M};
var xa={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9"},ya={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",
7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9",A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",
Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"},N=/^[+\uff0b]+/,za=/([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9])/,Aa=/[+\uff0b0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]/,Ba=/[\\\/] *x/,Ca=/[^0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9A-Za-z#]+$/,Da=/(?:.*?[A-Za-z]){3}.*/,Ea=/(?:;ext=([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})|[ \u00a0\t,]*(?:e?xt(?:ensi(?:o\u0301?|\u00f3))?n?|\uff45?\uff58\uff54\uff4e?|\u0434\u043e\u0431|[;,x\uff58#\uff03~\uff5e]|int|anexo|\uff49\uff4e\uff54)[:\.\uff0e]?[ \u00a0\t,-]*([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})#?|[- ]+([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,5})#)$/i,
Fa=/^[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{2}$|^[+\uff0b]*(?:[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\[\]/~\u2053\u223c\uff5e*]*[0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]){3,}[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\[\]/~\u2053\u223c\uff5e*A-Za-z0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]*(?:;ext=([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})|[ \u00a0\t,]*(?:e?xt(?:ensi(?:o\u0301?|\u00f3))?n?|\uff45?\uff58\uff54\uff4e?|\u0434\u043e\u0431|[;,x\uff58#\uff03~\uff5e]|int|anexo|\uff49\uff4e\uff54)[:\.\uff0e]?[ \u00a0\t,-]*([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,7})#?|[- ]+([0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9]{1,5})#)?$/i,
Ga=/(\$\d)/;function Ha(a){var b=a.search(Aa);0<=b?(a=a.substring(b),a=a.replace(Ca,""),b=a.search(Ba),0<=b&&(a=a.substring(0,b))):a="";return a}function Ia(a){return 2>a.length?!1:O(Fa,a)}function Ja(a){return O(Da,a)?P(a,ya):P(a,xa)}function Ka(a){var b=Ja(a.toString());a.c="";a.a(b)}function La(a){return null!=a&&(1!=A(a,9)||-1!=w(a,9)[0])}function P(a,b){for(var c=new F,d,e=a.length,f=0;f<e;++f)d=a.charAt(f),d=b[d.toUpperCase()],null!=d&&c.a(d);return c.toString()}
function Q(a){return null!=a&&isNaN(a)&&a.toUpperCase()in wa}
function Ma(a,b,c){if(0==t(b,2)&&null!=b.a[5]){var d=y(b,5);if(0<d.length)return d}d=y(b,1);var e=R(b);if(0==c)return Na(d,0,e,"");if(!(d in K))return e;a=S(a,d,T(d));b=null!=b.a[3]&&0!=t(b,3).length?3==c?";ext="+t(b,3):null!=a.a[13]?t(a,13)+y(b,3):" ext. "+y(b,3):"";a:{a=0==w(a,20).length||2==c?w(a,19):w(a,20);for(var f,g=a.length,h=0;h<g;++h){f=a[h];var l=A(f,3);if(0==l||0==e.search(t(f,3,l-1)))if(l=new RegExp(t(f,1)),O(l,e)){a=f;break a}}a=null}null!=a&&(g=a,a=y(g,2),f=new RegExp(t(g,1)),y(g,5),
g=y(g,4),e=2==c&&null!=g&&0<g.length?e.replace(f,a.replace(Ga,g)):e.replace(f,a),3==c&&(e=e.replace(/^[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\[\]/~\u2053\u223c\uff5e]+/,""),e=e.replace(/[-x\u2010-\u2015\u2212\u30fc\uff0d-\uff0f \u00a0\u00ad\u200b\u2060\u3000()\uff08\uff09\uff3b\uff3d.\[\]/~\u2053\u223c\uff5e]+/g,"-")));return Na(d,c,e,b)}function S(a,b,c){return"001"==c?U(a,""+b):U(a,c)}
function R(a){if(null==a.a[2])return"";var b=""+t(a,2);return null!=a.a[4]&&t(a,4)&&0<y(a,8)?Array(y(a,8)+1).join("0")+b:b}function Na(a,b,c,d){switch(b){case 0:return"+"+a+c+d;case 1:return"+"+a+" "+c+d;case 3:return"tel:+"+a+"-"+c+d;default:return c+d}}
function V(a,b){switch(b){case 4:return t(a,5);case 3:return t(a,4);case 1:return t(a,3);case 0:case 2:return t(a,2);case 5:return t(a,6);case 6:return t(a,8);case 7:return t(a,7);case 8:return t(a,21);case 9:return t(a,25);case 10:return t(a,28);default:return t(a,1)}}function W(a,b){return X(a,t(b,1))?X(a,t(b,5))?4:X(a,t(b,4))?3:X(a,t(b,6))?5:X(a,t(b,8))?6:X(a,t(b,7))?7:X(a,t(b,21))?8:X(a,t(b,25))?9:X(a,t(b,28))?10:X(a,t(b,2))?t(b,18)||X(a,t(b,3))?2:0:!t(b,18)&&X(a,t(b,3))?1:-1:-1}
function U(a,b){if(null==b)return null;b=b.toUpperCase();var c=a.a[b];if(null==c){c=wa[b];if(null==c)return null;c=(new E).a(I.f(),c);a.a[b]=c}return c}function X(a,b){var c=a.length;return 0<A(b,9)&&-1==p(w(b,9),c)?!1:O(y(b,2),a)}
function Oa(a,b){if(null==b)return null;var c=y(b,1);c=K[c];if(null==c)a=null;else if(1==c.length)a=c[0];else a:{b=R(b);for(var d,e=c.length,f=0;f<e;f++){d=c[f];var g=U(a,d);if(null!=g.a[23]){if(0==b.search(t(g,23))){a=d;break a}}else if(-1!=W(b,g)){a=d;break a}}a=null}return a}function T(a){a=K[a];return null==a?"ZZ":a[0]}
function Y(a,b,c,d){var e=V(c,d),f=0==A(e,9)?w(t(c,1),9):w(e,9);e=w(e,10);if(2==d)if(La(V(c,0)))a=V(c,1),La(a)&&(f=f.concat(0==A(a,9)?w(t(c,1),9):w(a,9)),q(f),0==e.length?e=w(a,10):(e=e.concat(w(a,10)),q(e)));else return Y(a,b,c,1);if(-1==f[0])return 5;b=b.length;if(-1<p(e,b))return 4;c=f[0];return c==b?0:c>b?2:f[f.length-1]<b?3:-1<p(f,b,1)?0:5}function Pa(a,b){var c=R(b);b=y(b,1);if(!(b in K))return 1;b=S(a,b,T(b));return Y(a,c,b,-1)}
function Qa(a,b,c,d,e,f){if(0==b.length)return 0;b=new F(b);var g;null!=c&&(g=t(c,11));null==g&&(g="NonMatch");var h=b.toString();if(0==h.length)g=20;else if(N.test(h))h=h.replace(N,""),b.c="",b.a(Ja(h)),g=1;else{h=new RegExp(g);Ka(b);g=b.toString();if(0==g.search(h)){h=g.match(h)[0].length;var l=g.substring(h).match(za);l&&null!=l[1]&&0<l[1].length&&"0"==P(l[1],xa)?g=!1:(b.c="",b.a(g.substring(h)),g=!0)}else g=!1;g=g?5:20}e&&u(f,6,g);if(20!=g){if(2>=b.c.length)throw Error("Phone number too short after IDD");
a:{a=b.toString();if(0!=a.length&&"0"!=a.charAt(0))for(e=a.length,b=1;3>=b&&b<=e;++b)if(c=parseInt(a.substring(0,b),10),c in K){d.a(a.substring(b));d=c;break a}d=0}if(0!=d)return u(f,1,d),d;throw Error("Invalid country calling code");}if(null!=c&&(g=y(c,10),h=""+g,l=b.toString(),0==l.lastIndexOf(h,0)&&(h=new F(l.substring(h.length)),l=t(c,1),l=new RegExp(y(l,2)),Ra(h,c,null),h=h.toString(),!O(l,b.toString())&&O(l,h)||3==Y(a,b.toString(),c,-1))))return d.a(h),e&&u(f,6,10),u(f,1,g),g;u(f,1,0);return 0}
function Ra(a,b,c){var d=a.toString(),e=d.length,f=t(b,15);if(0!=e&&null!=f&&0!=f.length){var g=new RegExp("^(?:"+f+")");if(e=g.exec(d)){f=new RegExp(y(t(b,1),2));var h=O(f,d),l=e.length-1;b=t(b,16);if(null==b||0==b.length||null==e[l]||0==e[l].length){if(!h||O(f,d.substring(e[0].length)))null!=c&&0<l&&null!=e[l]&&c.a(e[1]),a.set(d.substring(e[0].length))}else if(d=d.replace(g,b),!h||O(f,d))null!=c&&0<l&&c.a(e[1]),a.set(d)}}}
function Z(a,b,c){if(!Q(c)&&0<b.length&&"+"!=b.charAt(0))throw Error("Invalid country calling code");return Sa(a,b,c,!0)}
function Sa(a,b,c,d){if(null==b)throw Error("The string supplied did not seem to be a phone number");if(250<b.length)throw Error("The string supplied is too long to be a phone number");var e=new F,f=b.indexOf(";phone-context=");if(0<=f){var g=f+15;if("+"==b.charAt(g)){var h=b.indexOf(";",g);0<h?e.a(b.substring(g,h)):e.a(b.substring(g))}g=b.indexOf("tel:");e.a(b.substring(0<=g?g+4:0,f))}else e.a(Ha(b));f=e.toString();g=f.indexOf(";isub=");0<g&&(e.c="",e.a(f.substring(0,g)));if(!Ia(e.toString()))throw Error("The string supplied did not seem to be a phone number");
f=e.toString();if(!(Q(c)||null!=f&&0<f.length&&N.test(f)))throw Error("Invalid country calling code");f=new J;d&&u(f,5,b);a:{b=e.toString();g=b.search(Ea);if(0<=g&&Ia(b.substring(0,g))){h=b.match(Ea);for(var l=h.length,z=1;z<l;++z)if(null!=h[z]&&0<h[z].length){e.c="";e.a(b.substring(0,g));b=h[z];break a}}b=""}0<b.length&&u(f,3,b);g=U(a,c);b=new F;h=0;l=e.toString();try{h=Qa(a,l,g,b,d,f)}catch(L){if("Invalid country calling code"==L.message&&N.test(l)){if(l=l.replace(N,""),h=Qa(a,l,g,b,d,f),0==h)throw L;
}else throw L;}0!=h?(e=T(h),e!=c&&(g=S(a,h,e))):(Ka(e),b.a(e.toString()),null!=c?(h=y(g,10),u(f,1,h)):d&&(delete f.a[6],f.c&&delete f.c[6]));if(2>b.c.length)throw Error("The string supplied is too short to be a phone number");null!=g&&(c=new F,e=new F(b.toString()),Ra(e,g,c),a=Y(a,e.toString(),g,-1),2!=a&&4!=a&&5!=a&&(b=e,d&&0<c.toString().length&&u(f,7,c.toString())));d=b.toString();a=d.length;if(2>a)throw Error("The string supplied is too short to be a phone number");if(17<a)throw Error("The string supplied is too long to be a phone number");
if(1<d.length&&"0"==d.charAt(0)){u(f,4,!0);for(a=1;a<d.length-1&&"0"==d.charAt(a);)a++;1!=a&&u(f,8,a)}u(f,2,parseInt(d,10));return f}function O(a,b){return(a="string"==typeof a?b.match("^(?:"+a+")$"):b.match(a))&&a[0].length==b.length?!0:!1};m("intlTelInputUtils",{});m("intlTelInputUtils.formatNumber",function(a,b,c){try{var d=M.a(),e=Z(d,a,b),f=Pa(d,e);return 0==f||4==f?Ma(d,e,"undefined"==typeof c?0:c):a}catch(g){return a}});m("intlTelInputUtils.getExampleNumber",function(a,b,c){try{var d=M.a();a:{if(Q(a)){var e=V(U(d,a),c);try{if(null!=e.a[6]){var f=t(e,6);var g=Sa(d,f,a,!1);break a}}catch(h){}}g=null}return Ma(d,g,b?2:1)}catch(h){return""}});m("intlTelInputUtils.getExtension",function(a,b){try{return t(Z(M.a(),a,b),3)}catch(c){return""}});
m("intlTelInputUtils.getNumberType",function(a,b){try{var c=M.a();var d=Z(c,a,b),e=Oa(c,d),f=S(c,y(d,1),e);if(null==f)var g=-1;else{var h=R(d);g=W(h,f)}return g}catch(l){return-99}});
m("intlTelInputUtils.getValidationError",function(a,b){try{var c=M.a(),d=Z(c,a,b);return Pa(c,d)}catch(e){return"Invalid country calling code"==e.message?1:"The string supplied did not seem to be a phone number"==e.message?4:"Phone number too short after IDD"==e.message||"The string supplied is too short to be a phone number"==e?2:"The string supplied is too long to be a phone number"==e.message?3:-99}});
m("intlTelInputUtils.isValidNumber",function(a,b){try{var c=M.a(),d=Z(c,a,b);var e=Oa(c,d),f=y(d,1),g=S(c,f,e),h;if(!(h=null==g)){var l;if(l="001"!=e){var z=U(c,e);if(null==z)throw Error("Invalid region code: "+e);var L=y(z,10);l=f!=L}h=l}if(h)var va=!1;else{var Ta=R(d);va=-1!=W(Ta,g)}return va}catch(Ua){return!1}});m("intlTelInputUtils.numberFormat",{E164:0,INTERNATIONAL:1,NATIONAL:2,RFC3966:3});
m("intlTelInputUtils.numberType",{FIXED_LINE:0,MOBILE:1,FIXED_LINE_OR_MOBILE:2,TOLL_FREE:3,PREMIUM_RATE:4,SHARED_COST:5,VOIP:6,PERSONAL_NUMBER:7,PAGER:8,UAN:9,VOICEMAIL:10,UNKNOWN:-1});m("intlTelInputUtils.validationError",{IS_POSSIBLE:0,INVALID_COUNTRY_CODE:1,TOO_SHORT:2,TOO_LONG:3,NOT_A_NUMBER:4});})();
/*! jQuery v3.5.0 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.5.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(D),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(D).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var j,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||j,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,j=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t=Object.create(null),V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Ee(){return!1}function Se(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)ke(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ee;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Ae(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,Ce)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=Te.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=Te.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click",Ce),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Ae(this,e,Se),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return ke(this,e,t,n,r)},one:function(e,t,n,r){return ke(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each(function(){S.event.remove(this,e,n,t)})}});var Ne=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Oe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function Pe(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&De.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Pe(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),Le)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,He),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(je,""),u,l))}return n}function Re(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Oe(o[r],a[r]);else Oe(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qe(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Pe(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ie=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},We=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Fe=new RegExp(ne.join("|"),"i");function Be(e,t,n){var r,i,o,a,s=e.style;return(n=n||Ie(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Me.test(a)&&Fe.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=3<parseInt(r.height),re.removeChild(e)),a}}))}();var _e=["Webkit","Moz","ms"],ze=E.createElement("div").style,Ue={};function Xe(e){var t=S.cssProps[e]||Ue[e];return t||(e in ze?e:Ue[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=_e.length;while(n--)if((e=_e[n]+t)in ze)return e}(e)||e)}var Ve=/^(none|table(?!-c[ea]).+)/,Ge=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var r=Ie(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Me.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Ge.test(t),l=e.style;if(u||(t=Xe(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Ge.test(t)||(t=Xe(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Be(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ve.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):We(e,Ye,function(){return Ze(e,u,n)})},set:function(e,t,n){var r,i=Ie(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Ke(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Je(0,t,s)}}}),S.cssHooks.marginLeft=$e(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Je)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Ie(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=et.prototype.init,S.fx.step={};var tt,nt,rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,S.fx.interval),S.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=tt||ut(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=ft.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ct,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ct(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=ft(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&at.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),tt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,st())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},rt=E.createElement("input"),it=E.createElement("select").appendChild(E.createElement("option")),rt.type="checkbox",y.checkOn=""!==rt.value,y.optSelected=it.selected,(rt=E.createElement("input")).value="t",rt.type="radio",y.radioValue="t"===rt.value;var pt,dt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||S.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(P)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,yt(this)))});if((e=mt(t)).length)while(n=this[u++])if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,yt(this)))});if(!arguments.length)return this.attr("class","");if((e=mt(t)).length)while(n=this[u++])if(i=yt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,yt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=mt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=yt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+vt(yt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:vt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!bt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,wt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var St=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function Dt(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||St.test(n)?i(n,t):Dt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)Dt(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)Dt(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Nt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var jt=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=E.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Bt(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function $t(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Wt.href=Tt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$t($t(e,S.ajaxSettings),t):$t(S.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Ht.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Bt(Rt,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ot.test(v.type),f=v.url.replace(qt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(jt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Et.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Lt,"$1"),o=(Et.test(f)?"&":"?")+"_="+Ct.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+It+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Bt(Mt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=S.ajaxSettings.xhr();y.cors=!!zt&&"withCredentials"in zt,y.ajax=zt=!!zt,S.ajaxTransport(function(i){var o,a;if(y.cors||zt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ut,Xt=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((Ut=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=vt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),c.css(f))}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=$e(y.pixelPosition,function(e,t){if(t)return t=Be(e,n),Me.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Gt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Yt=C.jQuery,Qt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Qt),e&&C.jQuery===S&&(C.jQuery=Yt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
